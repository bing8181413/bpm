/*! jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery.min.map
*/

/*
 AngularJS v1.5.7
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/

/**
 * State-based routing for AngularJS
 * @version v0.4.2
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

/**
 * angular-drag-and-drop-lists v1.4.0
 *
 * Copyright (c) 2014 Marcel Juenemann marcel@juenemann.cc
 * Copyright (c) 2014-2016 Google Inc.
 * https://github.com/marceljuenemann/angular-drag-and-drop-lists
 *
 * License: MIT
 */

/*! Copyright (c) 2014 Hidenari Nozaki and contributors | Licensed under the MIT license */

/*
 AngularJS v1.5.8
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/

/*!
 * Simditor v2.3.6
 * http://simditor.tower.im/
 * 2015-12-21
 */

/*! perfect-scrollbar - v0.5.9
* http://noraesae.github.com/perfect-scrollbar/
* Copyright (c) 2015 Hyunje Alex Jun; Licensed MIT */

/*! 
 * angular-loading-bar v0.9.0
 * https://chieffancypants.github.io/angular-loading-bar
 * Copyright (c) 2016 Wes Cruver
 * License: MIT
 */

!function(e,t){function M(e){var t=e.length,n=x.type(e);return!x.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}function F(e){var t=O[e]={};return x.each(e.match(T)||[],function(e,n){t[n]=!0}),t}function R(e,n,r,i){if(x.acceptData(e)){var o,a,s=x.expando,l=e.nodeType,u=l?x.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(i||u[c].data)||r!==t||"string"!=typeof n)return c||(c=l?e[s]=p.pop()||x.guid++:s),u[c]||(u[c]=l?{}:{toJSON:x.noop}),("object"==typeof n||"function"==typeof n)&&(i?u[c]=x.extend(u[c],n):u[c].data=x.extend(u[c].data,n)),a=u[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[x.camelCase(n)]=r),"string"==typeof n?null==(o=a[n])&&(o=a[x.camelCase(n)]):o=a,o}}function W(e,t,n){if(x.acceptData(e)){var r,i,o=e.nodeType,a=o?x.cache:e,s=o?e[x.expando]:x.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){x.isArray(t)?t=t.concat(x.map(t,x.camelCase)):t in r?t=[t]:(t=x.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!I(r):!x.isEmptyObject(r))return}(n||(delete a[s].data,I(a[s])))&&(o?x.cleanData([e],!0):x.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function $(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(P,"-$1").toLowerCase();if("string"==typeof(r=e.getAttribute(i))){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:B.test(r)?x.parseJSON(r):r)}catch(o){}x.data(e,n,r)}else r=t}return r}function I(e){var t;for(t in e)if(("data"!==t||!x.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function it(){return!0}function ot(){return!1}function at(){try{return a.activeElement}catch(e){}}function pt(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function ft(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(st.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return x.inArray(e,t)>=0!==n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function Lt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Ht(e){return e.type=(null!==x.find.attr(e,"type"))+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _t(e,t){for(var n,r=0;null!=(n=e[r]);r++)x._data(n,"globalEval",!t||x._data(t[r],"globalEval"))}function Mt(e,t){if(1===t.nodeType&&x.hasData(e)){var n,r,i,o=x._data(e),a=x._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)x.event.add(t,n,s[n][r])}a.data&&(a.data=x.extend({},a.data))}}function Ot(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!x.support.noCloneEvent&&t[x.expando]){i=x._data(t);for(r in i.events)x.removeEvent(t,r,i.handle);t.removeAttribute(x.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),x.support.html5Clone&&e.innerHTML&&!x.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ct.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function Ft(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||x.nodeName(o,n)?s.push(o):x.merge(s,Ft(o,n));return n===t||n&&x.nodeName(e,n)?x.merge([e],s):s}function Bt(e){Ct.test(e.type)&&(e.defaultChecked=e.checked)}function tn(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;i--;)if((t=en[i]+n)in e)return t;return r}function nn(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function rn(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=x._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=x._data(r,"olddisplay",ln(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&x._data(r,"olddisplay",i?n:x.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=x.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=x.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=x.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=x.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=x.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function ln(e){var t=a,n=Gt[e];return n||(n=un(e,t),"none"!==n&&n||(Pt=(Pt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=un(e,t),Pt.detach()),Gt[e]=n),n}function un(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}function gn(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==x.type(t))r(e,t);else for(i in t)gn(e+"["+i+"]",t[i],n,r)}function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(T)||[];if(x.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){function s(l){var u;return o[l]=!0,x.each(e[l]||[],function(e,l){var c=l(n,r,i);return"string"!=typeof c||a||o[c]?a?!(u=c):t:(n.dataTypes.unshift(c),s(c),!1)}),u}var o={},a=e===jn;return s(n.dataTypes[0])||!o["*"]&&s("*")}function _n(e,n){var r,i,o=x.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&x.extend(!0,e,r),e}function Mn(e,n,r){for(var i,o,a,s,l=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){u.unshift(s);break}if(u[0]in r)a=u[0];else{for(s in r){if(!u[0]||e.converters[s+" "+u[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==u[0]&&u.unshift(a),r[a]):t}function On(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Kn(){return setTimeout(function(){Xn=t}),Xn=x.now()}function Zn(e,t,n){for(var r,i=(Qn[t]||[]).concat(Qn["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function er(e,t,n){var r,i,o=0,a=Gn.length,s=x.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=Xn||Kn(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(tr(c,u.opts.specialEasing);a>o;o++)if(r=Gn[o].call(u,e,c,u.opts))return r;return x.map(c,Zn,u),x.isFunction(u.opts.start)&&u.opts.start.call(e,u),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function tr(e,t){var n,r,i,o,a;for(n in e)if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=x.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function nr(e,t,n){var r,i,o,a,s,l,u=this,c={},p=e.style,f=e.nodeType&&nn(e),d=x._data(e,"fxshow");n.queue||(s=x._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(x.support.inlineBlockNeedsLayout&&"inline"!==ln(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",x.support.shrinkWrapBlocks||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Vn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show"))continue;c[r]=d&&d[r]||x.style(e,r)}if(!x.isEmptyObject(c)){d?"hidden"in d&&(f=d.hidden):d=x._data(e,"fxshow",{}),o&&(d.hidden=!f),f?x(e).show():u.done(function(){x(e).hide()}),u.done(function(){var t;x._removeData(e,"fxshow");for(t in c)x.style(e,t,c[t])});for(r in c)a=Zn(f?d[r]:0,r,u),r in d||(d[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function or(e){return x.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var n,r,i=typeof t,o=e.location,a=e.document,s=a.documentElement,l=e.jQuery,u=e.$,c={},p=[],f="1.10.2",d=p.concat,h=p.push,g=p.slice,m=p.indexOf,y=c.toString,v=c.hasOwnProperty,b=f.trim,x=function(e,t){return new x.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^[\],:{}\s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,L=/-([\da-z])/gi,H=function(e,t){return t.toUpperCase()},q=function(e){(a.addEventListener||"load"===e.type||"complete"===a.readyState)&&(_(),x.ready())},_=function(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",q,!1),e.removeEventListener("load",q,!1)):(a.detachEvent("onreadystatechange",q),e.detachEvent("onload",q))};x.fn=x.prototype={jquery:f,constructor:x,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e))||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof x?n[0]:n,x.merge(this,x.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&&x.isPlainObject(n))for(i in n)x.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if((o=a.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||x.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(o=arguments[l]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(x.isPlainObject(r)||(n=x.isArray(r)))?(n?(n=!1,a=e&&x.isArray(e)?e:[]):a=e&&x.isPlainObject(e)?e:{},s[i]=x.extend(c,a,r)):r!==t&&(s[i]=r));return s},x.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=l),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){if(!0===e?!--x.readyWait:!x.isReady){if(!a.body)return setTimeout(x.ready);x.isReady=!0,!0!==e&&--x.readyWait>0||(n.resolveWith(a,[x]),x.fn.trigger&&x(a).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray||function(e){return"array"===x.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[y.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(x.support.ownLast)for(n in e)return v.call(e,n);for(n in e);return n===t||v.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=k.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=x.trim(n))&&E.test(n.replace(A,"@").replace(j,"]").replace(S,""))?Function("return "+n)():(x.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&x.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(D,"ms-").replace(L,H)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,o=e.length,a=M(e);if(n){if(a)for(;o>i&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(a)for(;o>i&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:b&&!b.call("\ufeff ")?function(e){return null==e?"":b.call(e)}:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)null!=(r=t(e[i],i,n))&&(s[s.length]=r);else for(i in e)null!=(r=t(e[i],i,n))&&(s[s.length]=r);return d.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),x.isFunction(e)?(r=g.call(arguments,2),i=function(){return e.apply(n||this,r.concat(g.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===x.type(r)){o=!0;for(l in r)x.access(e,n,l,r[l],!0,a,s)}else if(i!==t&&(o=!0,x.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(x(e),n)})),n))for(;u>l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),x.ready.promise=function(t){if(!n)if(n=x.Deferred(),"complete"===a.readyState)setTimeout(x.ready);else if(a.addEventListener)a.addEventListener("DOMContentLoaded",q,!1),e.addEventListener("load",q,!1);else{a.attachEvent("onreadystatechange",q),e.attachEvent("onload",q);var r=!1;try{r=null==e.frameElement&&a.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!x.isReady){try{r.doScroll("left")}catch(e){return setTimeout(o,50)}_(),x.ready()}}()}return n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()}),r=x(a),function(e,t){function at(e,t,n,i){var o,a,s,l,u,c,d,m,y,x;if((t?t.ownerDocument||t:w)!==f&&p(t),t=t||f,n=n||[],!e||"string"!=typeof e)return n;if(1!==(l=t.nodeType)&&9!==l)return[];if(h&&!i){if(o=Z.exec(e))if(s=o[1]){if(9===l){if(!(a=t.getElementById(s))||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&v(t,a)&&a.id===s)return n.push(a),n}else{if(o[2])return M.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&r.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(s)),n}if(r.qsa&&(!g||!g.test(e))){if(m=d=b,y=t,x=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){for(c=mt(e),(d=t.getAttribute("id"))?m=d.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",u=c.length;u--;)c[u]=m+yt(c[u]);y=V.test(e)&&t.parentNode||t,x=c.join(",")}if(x)try{return M.apply(n,y.querySelectorAll(x)),n}catch(T){}finally{d||t.removeAttribute("id")}}}return kt(e.replace(z,"$1"),t,n,i)}function st(){function t(n,r){return e.push(n+=" ")>o.cacheLength&&delete t[e.shift()],t[n]=r}var e=[];return t}function lt(e){return e[b]=!0,e}function ut(e){var t=f.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ct(e,t){for(var n=e.split("|"),r=e.length;r--;)o.attrHandle[n[r]]=t}function pt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ht(e){return lt(function(t){return t=+t,lt(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function gt(){}function mt(e,t){var n,r,i,a,s,l,u,c=k[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=o.preFilter;s;){(!n||(r=X.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length));for(a in o.filter)!(r=Q[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?at.error(e):k(e,l).slice(0)}function yt(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function vt(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=C++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,s){var l,u,c,p=T+" "+a;if(s){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if(c=t[b]||(t[b]={}),(u=c[r])&&u[0]===p){if(!0===(l=u[1])||l===i)return!0===l}else if(u=c[r]=[p],u[1]=e(t,n,s)||i,!0===u[1])return!0}}function bt(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xt(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function wt(e,t,n,r,i,o){return r&&!r[b]&&(r=wt(r)),i&&!i[b]&&(i=wt(i,o)),lt(function(o,a,s,l){var u,c,p,f=[],d=[],h=a.length,g=o||Nt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:xt(g,f,e,s,l),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,l),r)for(u=xt(y,d),r(u,[],s,l),c=u.length;c--;)(p=u[c])&&(y[d[c]]=!(m[d[c]]=p));if(o){if(i||e){if(i){for(u=[],c=y.length;c--;)(p=y[c])&&u.push(m[c]=p);i(null,y=[],u,l)}for(c=y.length;c--;)(p=y[c])&&(u=i?F.call(o,p):f[c])>-1&&(o[u]=!(a[u]=p))}}else y=xt(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):M.apply(a,y)})}function Tt(e){for(var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,c=vt(function(e){return e===t},s,!0),p=vt(function(e){return F.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];i>l;l++)if(n=o.relative[e[l].type])f=[vt(bt(f),n)];else{if(n=o.filter[e[l].type].apply(null,e[l].matches),n[b]){for(r=++l;i>r&&!o.relative[e[r].type];r++);return wt(l>1&&bt(f),l>1&&yt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&Tt(e.slice(l,r)),i>r&&Tt(e=e.slice(r)),i>r&&yt(e))}f.push(n)}return bt(f)}function Ct(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(s,l,c,p,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,C=u,N=s||a&&o.find.TAG("*",d&&l.parentNode||l),k=T+=null==C?1:Math.random()||.1;for(w&&(u=l!==f&&l,i=n);null!=(h=N[b]);b++){if(a&&h){for(g=0;m=e[g++];)if(m(h,l,c)){p.push(h);break}w&&(T=k,i=++n)}r&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,r&&b!==v){for(g=0;m=t[g++];)m(x,y,l,c);if(s){if(v>0)for(;b--;)x[b]||y[b]||(y[b]=q.call(p));y=xt(y)}M.apply(p,y),w&&!s&&y.length>0&&v+t.length>1&&at.uniqueSort(p)}return w&&(T=k,u=C),x};return r?lt(s):s}function Nt(e,t,n){for(var r=0,i=t.length;i>r;r++)at(e,t[r],n);return n}function kt(e,t,n,i){var a,s,u,c,p,f=mt(e);if(!i&&1===f.length){if(s=f[0]=f[0].slice(0),s.length>2&&"ID"===(u=s[0]).type&&r.getById&&9===t.nodeType&&h&&o.relative[s[1].type]){if(!(t=(o.find.ID(u.matches[0].replace(rt,it),t)||[])[0]))return n;e=e.slice(s.shift().value.length)}for(a=Q.needsContext.test(e)?0:s.length;a--&&(u=s[a],!o.relative[c=u.type]);)if((p=o.find[c])&&(i=p(u.matches[0].replace(rt,it),V.test(s[0].type)&&t.parentNode||t))){if(s.splice(a,1),!(e=i.length&&yt(s)))return M.apply(n,i),n;break}}return l(e,f)(i,t,!h,n,V.test(e)),n}var n,r,i,o,a,s,l,u,c,p,f,d,h,g,m,y,v,b="sizzle"+-new Date,w=e.document,T=0,C=0,N=st(),k=st(),E=st(),S=!1,A=function(e,t){return e===t?(S=!0,0):0},j=typeof t,D=1<<31,L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=R.replace("w","w#"),$="\\["+P+"*("+R+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+P+"*\\]",I=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+$.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),X=RegExp("^"+P+"*,"+P+"*"),U=RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),V=RegExp(P+"*[+~]"),Y=RegExp("="+P+"*([^\\]'\"]*)"+P+"*\\]","g"),J=RegExp(I),G=RegExp("^"+W+"$"),Q={ID:RegExp("^#("+R+")"),CLASS:RegExp("^\\.("+R+")"),TAG:RegExp("^("+R.replace("w","w*")+")"),ATTR:RegExp("^"+$),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:RegExp("^(?:"+B+")$","i"),needsContext:RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType}catch(ot){M={apply:H.length?function(e,t){_.apply(e,O.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}s=at.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},r=at.support={},p=at.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.defaultView;return n!==f&&9===n.nodeType&&n.documentElement?(f=n,d=n.documentElement,h=!s(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){p()}),r.attributes=ut(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ut(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ut(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),r.getById=ut(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(o.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),o.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==j?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},o.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==j&&h?n.getElementsByClassName(e):t},m=[],g=[],(r.qsa=K.test(n.querySelectorAll))&&(ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+B+")"),e.querySelectorAll(":checked").length||g.push(":checked")}),ut(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(r.matchesSelector=K.test(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(e){r.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",I)}),g=g.length&&RegExp(g.join("|")),m=m.length&&RegExp(m.join("|")),v=K.test(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=d.compareDocumentPosition?function(e,t){if(e===t)return S=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||v(w,e)?-1:t===n||v(w,t)?1:c?F.call(c,e)-F.call(c,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return S=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:c?F.call(c,e)-F.call(c,t):0;if(o===a)return pt(e,t);for(r=e;r=r.parentNode;)s.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;s[i]===l[i];)i++;return i?pt(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},n):f},at.matches=function(e,t){return at(e,null,null,t)},at.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(Y,"='$1']"),!(!r.matchesSelector||!h||m&&m.test(t)||g&&g.test(t)))try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return at(t,f,null,[e]).length>0},at.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),v(e,t)},at.attr=function(e,n){(e.ownerDocument||e)!==f&&p(e);var i=o.attrHandle[n.toLowerCase()],a=i&&L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;return a===t?r.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a},at.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},at.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),S){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return e},a=at.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=a(t);return n},o=at.selectors={cacheLength:50,createPseudo:lt,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||at.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&at.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=at.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){for(c=m[b]||(m[b]={}),u=c[e]||[],d=u[0]===T&&u[1],f=u[0]===T&&u[2],p=d&&m.childNodes[d];p=++d&&p&&p[g]||(f=d=0)||h.pop();)if(1===p.nodeType&&++f&&p===t){c[e]=[T,d,f];break}
}else if(v&&(u=(t[b]||(t[b]={}))[e])&&u[0]===T)f=u[1];else for(;(p=++d&&p&&p[g]||(f=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++f||(v&&((p[b]||(p[b]={}))[e]=[T,f]),p!==t)););return(f-=i)===r||0==f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||at.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?lt(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)i=F.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:lt(function(e){var t=[],n=[],r=l(e.replace(z,"$1"));return r[b]?lt(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:lt(function(e){return function(t){return at(e,t).length>0}}),contains:lt(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),lang:lt(function(e){return G.test(e||"")||at.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[0>n?n+t:n]}),even:ht(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:ht(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:ht(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:ht(function(e,t,n){for(var r=0>n?n+t:n;t>++r;)e.push(r);return e})}},o.pseudos.nth=o.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[n]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(n);for(n in{submit:!0,reset:!0})o.pseudos[n]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(n);gt.prototype=o.filters=o.pseudos,o.setFilters=new gt,l=at.compile=function(e,t){var n,r=[],i=[],o=E[e+" "];if(!o){for(t||(t=mt(e)),n=t.length;n--;)o=Tt(t[n]),o[b]?r.push(o):i.push(o);o=E(e,Ct(i,r))}return o},r.sortStable=b.split("").sort(A).join("")===b,r.detectDuplicates=S,p(),r.sortDetached=ut(function(e){return 1&e.compareDocumentPosition(f.createElement("div"))}),ut(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ct("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),r.attributes&&ut(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ct("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),ut(function(e){return null==e.getAttribute("disabled")})||ct(B,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:!0===e[n]?n.toLowerCase():null}),x.find=at,x.expr=at.selectors,x.expr[":"]=x.expr.pseudos,x.unique=at.uniqueSort,x.text=at.getText,x.isXMLDoc=at.isXML,x.contains=at.contains}(e);var O={};x.Callbacks=function(e){e="string"==typeof e?O[e]||F(e):x.extend({},e);var n,r,i,o,a,s,l=[],u=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=l.length,n=!0;l&&o>a;a++)if(!1===l[a].apply(t[0],t[1])&&e.stopOnFalse){r=!1;break}n=!1,l&&(u?u.length&&c(u.shift()):r?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;(function i(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=l.length:r&&(s=t,c(r))}return this},remove:function(){return l&&x.each(arguments,function(e,t){for(var r;(r=x.inArray(t,l,r))>-1;)l.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?x.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=r=t,this},disabled:function(){return!l},lock:function(){return u=t,r||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||i&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var a=o[0],s=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var s,l,u,t=0,n=g.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?g.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}};if(r>1)for(s=Array(r),l=Array(r),u=Array(r);r>t;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}}),x.support=function(t){var n,r,o,s,l,u,c,p,f,d=a.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],!(r=d.getElementsByTagName("a")[0])||!r.style||!n.length)return t;s=a.createElement("select"),u=s.appendChild(a.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=u.selected,t.enctype=!!a.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=a.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),l=a.createDocumentFragment(),l.appendChild(o),t.appendChecked=o.checked,t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||!1===d.attributes[c].expando;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(f in x(t))break;return t.ownLast="0"!==f,x(function(){var n,r,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",l=a.getElementsByTagName("body")[0];l&&(n=a.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",l.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=p&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",x.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(a.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(n),n=d=o=r=null)}),n=s=l=u=r=o=null,t}({});var B=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;x.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?x.cache[e[x.expando]]:e[x.expando])&&!I(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&x.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),x.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];if(e===t){if(this.length&&(o=x.data(s),1===s.nodeType&&!x._data(s,"parsedAttrs"))){for(r=s.attributes;r.length>a;a++)i=r[a].name,0===i.indexOf("data-")&&(i=x.camelCase(i.slice(5)),$(s,i,o[i]));x._data(s,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){x.data(this,e)}):arguments.length>1?this.each(function(){x.data(this,e,n)}):s?$(s,e,x.data(s,e)):null},removeData:function(e){return this.each(function(){x.removeData(this,e)})}}),x.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=x._data(e,n),r&&(!i||x.isArray(r)?i=x._data(e,n,x.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),a=function(){x.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return x._data(e,n)||x._data(e,n,{empty:x.Callbacks("once memory").add(function(){x._removeData(e,t+"queue"),x._removeData(e,n)})})}}),x.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?x.queue(this[0],e):n===t?this:this.each(function(){var t=x.queue(this,e,n);x._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=x.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)(r=x._data(a[s],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var z,X,U=/[\t\r\n\f]/g,V=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=x.support.getSetAttribute,K=x.support.input;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return e=x.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):" ")){for(o=0;i=t[o++];)0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?x.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,o=x(this),a=e.match(T)||[];t=a[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===i||"boolean"===n)&&(this.className&&x._data(this,"__className__",this.className),this.className=this.className||!1===e?"":x._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(U," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];return arguments.length?(i=x.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,x(this).val()):e,null==o?o="":"number"==typeof o?o+="":x.isArray(o)&&(o=x.map(o,function(e){return null==e?"":e+""})),(r=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))})):o?(r=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(V,""):null==n?"":n)):void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=x.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===i?x.prop(e,n,r):(1===s&&x.isXMLDoc(e)||(n=n.toLowerCase(),o=x.attrHooks[n]||(x.expr.match.bool.test(n)?X:z)),r===t?o&&"get"in o&&null!==(a=o.get(e,n))?a:(a=x.find.attr(e,n),null==a?t:a):null!==r?o&&"set"in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(x.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);if(o&&1===e.nodeType)for(;n=o[i++];)r=x.propFix[n]||n,x.expr.match.bool.test(n)?K&&Q||!G.test(n)?e[r]=!1:e[x.camelCase("default-"+n)]=e[r]=!1:x.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{for:"htmlFor",class:"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!x.isXMLDoc(e),a&&(n=x.propFix[n]||n,o=x.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return!1===t?x.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&x.propFix[n]||n,n):e[x.camelCase("default-"+n)]=e[n]=!0,n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,n){var r=x.expr.attrHandle[n]||x.find.attr;x.expr.attrHandle[n]=K&&Q||!G.test(n)?function(e,n,i){var o=x.expr.attrHandle[n],a=i?t:(x.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return x.expr.attrHandle[n]=o,a}:function(e,n,r){return r?t:e[x.camelCase("default-"+n)]?n.toLowerCase():null}}),K&&Q||(x.attrHooks.value={set:function(e,n,r){return x.nodeName(e,"input")?(e.defaultValue=n,t):z&&z.set(e,n,r)}}),Q||(z={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},x.expr.attrHandle.id=x.expr.attrHandle.name=x.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},x.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:z.set},x.attrHooks.contenteditable={set:function(e,t,n){z.set(e,""!==t&&t,n)}},x.each(["width","height"],function(e,n){x.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}}})),x.support.hrefNormalized||x.each(["href","src"],function(e,t){x.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),x.support.style||(x.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.support.enctype||(x.propFix.enctype="encoding"),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,n){return x.isArray(n)?e.checked=x.inArray(x(e).val(),n)>=0:t}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;x.event={global:{},add:function(e,n,r,o,a){var s,l,u,c,p,f,d,h,g,m,y,v=x._data(e);if(v){for(r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof x===i||e&&x.event.triggered===e.type?t:x.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(T)||[""],u=n.length;u--;)s=rt.exec(n[u])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),g&&(p=x.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=x.event.special[g]||{},d=x.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&x.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=l[g])||(h=l[g]=[],h.delegateCount=0,p.setup&&!1!==p.setup.call(e,o,m,f)||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[g]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,f,d,h,g,m=x.hasData(e)&&x._data(e);if(m&&(c=m.events)){for(t=(t||"").match(T)||[""],u=t.length;u--;)if(s=rt.exec(t[u])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){for(p=x.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;o--;)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));l&&!f.length&&(p.teardown&&!1!==p.teardown.call(e,h,m.handle)||x.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)x.event.remove(e,d+t[u],n,r,!0);x.isEmptyObject(c)&&(delete m.handle,x._removeData(e,"events"))}},trigger:function(n,r,i,o){var s,l,u,c,p,f,d,h=[i||a],g=v.call(n,"type")?n.type:n,m=v.call(n,"namespace")?n.namespace.split("."):[];if(u=f=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+x.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),l=0>g.indexOf(":")&&"on"+g,n=n[x.expando]?n:new x.Event(g,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:x.makeArray(r,[n]),p=x.event.special[g]||{},o||!p.trigger||!1!==p.trigger.apply(i,r))){if(!o&&!p.noBubble&&!x.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(u=u.parentNode);u;u=u.parentNode)h.push(u),f=u;f===(i.ownerDocument||a)&&h.push(f.defaultView||f.parentWindow||e)}for(d=0;(u=h[d++])&&!n.isPropagationStopped();)n.type=d>1?c:p.bindType||g,s=(x._data(u,"events")||{})[n.type]&&x._data(u,"handle"),s&&s.apply(u,r),(s=l&&u[l])&&x.acceptData(u)&&s.apply&&!1===s.apply(u,r)&&n.preventDefault();if(n.type=g,!o&&!n.isDefaultPrevented()&&(!p._default||!1===p._default.apply(h.pop(),r))&&x.acceptData(i)&&l&&i[g]&&!x.isWindow(i)){f=i[l],f&&(i[l]=null),x.event.triggered=g;try{i[g]()}catch(y){}x.event.triggered=t,f&&(i[l]=f)}return n.result}},dispatch:function(e){e=x.event.fix(e);var n,r,i,o,a,s=[],l=g.call(arguments),u=(x._data(this,"events")||{})[e.type]||[],c=x.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=x.event.handlers.call(this,e,u),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(i=o.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,(r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l))!==t&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(o=[],a=0;l>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?x(r,this).index(u)>=0:x.find(r,this,null,[u]).length),o[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,s=n.button,l=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||a,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?n.toElement:l),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return x.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},x.Event=function(e,n){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&x.extend(this,n),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,t):new x.Event(e,n)},x.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.submitBubbles||(x.event.special.submit={setup:function(){return!x.nodeName(this,"form")&&(x.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=x.nodeName(n,"input")||x.nodeName(n,"button")?n.form:t;r&&!x._data(r,"submitBubbles")&&(x.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),x._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&x.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!x.nodeName(this,"form")&&(x.event.remove(this,"._submit"),t)}}),x.support.changeBubbles||(x.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(x.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),x.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),x.event.simulate("change",this,e,!0)})),!1):(x.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!x._data(t,"changeBubbles")&&(x.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||x.event.simulate("change",this.parentNode,e,!0)}),x._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return x.event.remove(this,"._change"),!Z.test(this.nodeName)}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0==n++&&a.addEventListener(e,r,!0)},teardown:function(){0==--n&&a.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),!1===i)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return x().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(!1===n||"function"==typeof n)&&(r=n,n=t),!1===r&&(r=ot),this.each(function(){x.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?x.event.trigger(e,n,r,!0):t}});var st=/^.[^:#\[\.,]*$/,lt=/^(?:parents|prev(?:Until|All))/,ut=x.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++)if(x.contains(r[t],this))return!0}));for(t=0;i>t;t++)x.find(e,r[t],n);return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=x(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(x.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e||[],!0))},filter:function(e){return this.pushStack(ft(this,e||[],!1))},is:function(e){return!!ft(this,"string"==typeof e&&ut.test(e)?x(e):e||[],!1).length},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ut.test(e)||"string"!=typeof e?x(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?"string"==typeof e?x.inArray(this[0],x(e)):x.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return x.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes)}},function(e,t){
x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(ct[e]||(i=x.unique(i)),lt.test(e)&&(i=i.reverse())),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!x(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:x.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(a),Dt=jt.appendChild(a.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===t?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){Lt(this,e).appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?x.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(Ft(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&_t(Ft(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&x.cleanData(Ft(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&x.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!x.support.htmlSerialize&&mt.test(e)||!x.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(x.cleanData(Ft(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,p=this,f=c-1,h=e[0],g=x.isFunction(h);if(g||!(1>=c||"string"!=typeof h||x.support.checkClone)&&Nt.test(h))return this.each(function(r){var i=p.eq(r);g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(l=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=x.map(Ft(l,"script"),Ht),o=a.length;c>u;u++)i=l,u!==f&&(i=x.clone(i,!0,!0),o&&x.merge(a,Ft(i,"script"))),t.call(this[u],i,u);if(o)for(s=a[a.length-1].ownerDocument,x.map(a,qt),u=0;o>u;u++)i=a[u],kt.test(i.type||"")&&!x._data(i,"globalEval")&&x.contains(s,i)&&(i.src?x._evalUrl(i.src):x.globalEval((i.text||i.textContent||i.innerHTML||"").replace(St,"")));l=r=null}return this}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){for(var n,r=0,i=[],o=x(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),x(o[r])[t](n),h.apply(i,n.get());return this.pushStack(i)}}),x.extend({clone:function(e,t,n){var r,i,o,a,s,l=x.contains(e.ownerDocument,e);if(x.support.html5Clone||x.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(x.support.noCloneEvent&&x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(r=Ft(o),s=Ft(e),a=0;null!=(i=s[a]);++a)r[a]&&Ot(i,r[a]);if(t)if(n)for(s=s||Ft(e),r=r||Ft(o),a=0;null!=(i=s[a]);a++)Mt(i,r[a]);else Mt(e,o);return r=Ft(o,"script"),r.length>0&&_t(r,!l&&Ft(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c,p=e.length,f=dt(t),d=[],h=0;p>h;h++)if((o=e[h])||0===o)if("object"===x.type(o))x.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){for(s=s||f.appendChild(t.createElement("div")),l=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[l]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!x.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!x.support.tbody)for(o="table"!==l||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)x.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(x.merge(d,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));for(s&&f.removeChild(s),x.support.appendChecked||x.grep(Ft(d,"input"),Bt),h=0;o=d[h++];)if((!r||-1===x.inArray(o,r))&&(a=x.contains(o.ownerDocument,o),s=Ft(f.appendChild(o),"script"),a&&_t(s),n))for(i=0;o=s[i++];)kt.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,o,a,s=0,l=x.expando,u=x.cache,c=x.support.deleteExpando,f=x.event.special;null!=(n=e[s]);s++)if((t||x.acceptData(n))&&(o=n[l],a=o&&u[o])){if(a.events)for(r in a.events)f[r]?x.event.remove(n,r):x.removeEvent(n,r,a.handle);u[o]&&(delete u[o],c?delete n[l]:typeof n.removeAttribute!==i?n.removeAttribute(l):n[l]=null,p.push(o))}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),x.fn.extend({wrapAll:function(e){if(x.isFunction(e))return this.each(function(t){x(this).wrapAll(e.call(this,t))});if(this[0]){var t=x(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+w+")(.*)$","i"),Yt=RegExp("^("+w+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+w+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];x.fn.extend({css:function(e,n){return x.access(this,function(e,n,r){var i,o,a={},s=0;if(x.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=x.css(e,n[s],!1,o);return a}return r!==t?x.style(e,n,r):x.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){nn(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:x.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=x.camelCase(n),u=e.style;if(n=x.cssProps[l]||(x.cssProps[l]=tn(u,l)),s=x.cssHooks[n]||x.cssHooks[l],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(x.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||x.cssNumber[l]||(r+="px"),x.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,l=x.camelCase(n);return n=x.cssProps[l]||(x.cssProps[l]=tn(e.style,l)),s=x.cssHooks[n]||x.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),!0===r||x.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||x.contains(e.ownerDocument,e)||(l=x.style(e,n)),Yt.test(l)&&Ut.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l}):a.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),Yt.test(l)&&!zt.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===l?"auto":l}),x.each(["height","width"],function(e,n){x.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(x.css(e,"display"))?x.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x.support.opacity||(x.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=x.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===x.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,n){return n?x.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,n){x.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?x(e).position()[n]+"px":r):t}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!x.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||x.css(e,"display"))},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(x.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),x.param=function(e,n){var r,i=[],o=function(e,t){t=x.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join("&").replace(cn,"+")},x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,yn,vn=x.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=x.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=o.href}catch(Ln){yn=a.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[],x.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),x.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&x.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Cn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,x.ajaxSettings),t):_n(x.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){function k(e,n,r,i){var c,y,v,w,T,N=n;2!==b&&(b=2,s&&clearTimeout(s),u=t,a=i||"",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(w=Mn(p,C,r)),w=On(p,w,C,c),c?(p.ifModified&&(T=C.getResponseHeader("Last-Modified"),T&&(x.lastModified[o]=T),(T=C.getResponseHeader("etag"))&&(x.etag[o]=T)),204===e||"HEAD"===p.type?N="nocontent":304===e?N="notmodified":(N=w.state,y=w.data,v=w.error,c=!v)):(v=N,(e||!N)&&(N="error",0>e&&(e=0))),C.status=e,C.statusText=(n||N)+"",c?h.resolveWith(f,[y,N,C]):h.rejectWith(f,[C,N,v]),C.statusCode(m),m=t,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?y:v]),g.fireWith(f,[C,N]),l&&(d.trigger("ajaxComplete",[C,p]),--x.active||x.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,l,u,c,p=x.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),g=x.Callbacks("once memory"),m=p.statusCode||{},y={},v={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Tn.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),k(0,t),this}};if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=x.trim(p.dataType||"*").toLowerCase().match(T)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(mn[3]||("http:"===mn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),qn(An,p,n,C),2===b)return C;l=p.global,l&&0==x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(x.lastModified[o]&&C.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&C.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)C.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(!1===p.beforeSend.call(f,C,p)||2===b))return C.abort();w="abort";for(i in{success:1,error:1,complete:1})C[i](p[i]);if(u=qn(jn,p,n,C)){C.readyState=1,l&&d.trigger("ajaxSend",[C,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){C.abort("timeout")},p.timeout));try{b=1,u.send(y,k)}catch(N){if(!(2>b))throw N;k(-1,N)}}else k(-1,"No Transport");return C},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,n){return x.get(e,t,n,"script")}}),x.each(["get","post"],function(e,n){x[n]=function(e,r,i,o){return x.isFunction(r)&&(o=o||i,i=r,r=t),x.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),x.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=a.head||x("head")[0]||a.documentElement;return{send:function(t,i){n=a.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Fn=[],Bn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||x.expando+"_"+vn++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=!1!==n.jsonp&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=x.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Bn,"$1"+o):!1!==n.jsonp&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||x.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(o)),s&&x.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};x.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=x.ajaxSettings.xhr(),x.support.cors=!!Rn&&"withCredentials"in Rn,(Rn=x.support.ajax=!!Rn)&&x.ajaxTransport(function(n){if(!n.crossDomain||x.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,p;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=x.noop,$n&&delete Pn[a]),i)4!==l.readyState&&l.abort();else{p={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(p.text=l.responseText);try{c=l.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,u)},n.async?4===l.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},x(e).unload($n)),Pn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Yn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),a=(x.cssNumber[e]||"px"!==o&&+r)&&Yn.exec(x.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{s=s||".5",a/=s,x.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};x.Animation=x.extend(er,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}}),x.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),a=function(){var t=er(this,x.extend({},e),o);(i||x._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=x.timers,a=x._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&x.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=x._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,a=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),x.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=rr.prototype.init,x.fx.tick=function(){var e,n=x.timers,r=0;for(Xn=x.now();n.length>r;r++)(e=n[r])()||n[r]!==e||n.splice(r--,1);n.length||x.fx.stop(),Xn=t},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){Un||(Un=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(Un),Un=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){x.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;return s?(n=s.documentElement,x.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o):void 0},x.offset={setOffset:function(e,t,n){var r=x.css(e,"position");"static"===r&&(e.style.position="relative");var p,f,i=x(e),o=i.offset(),a=x.css(e,"top"),s=x.css(e,"left"),l=("absolute"===r||"fixed"===r)&&x.inArray("auto",[a,s])>-1,u={},c={};l?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),x.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(u.top=t.top-o.top+p),null!=t.left&&(u.left=t.left-o.left+f),"using"in t?t.using.call(e,u):i.css(u)}},x.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===x.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(n=e.offset()),n.top+=x.css(e[0],"borderTopWidth",!0),n.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-x.css(r,"marginTop",!0),left:t.left-n.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||s;e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position");)e=e.offsetParent;return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);x.fn[e]=function(i){return x.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?x(a).scrollLeft():o,r?o:x(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}}),x.each({Height:"height",Width:"width"},function(e,n){x.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){x.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(!0===i||!0===o?"margin":"border");return x.access(this,function(n,r,i){var o;return x.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?x.css(n,r,s):x.style(n,r,i,s)},n,a?i:t,a,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:(e.jQuery=e.$=x,"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}))}(window),function(E){"use strict";function O(a){return function(){var d,b=arguments[0];for(d="["+(a?a+":":"")+b+"] http://errors.angularjs.org/1.5.7/"+(a?a+"/":"")+b,b=1;b<arguments.length;b++){d=d+(1==b?"?":"&")+"p"+(b-1)+"=";var e,c=encodeURIComponent;e=arguments[b],e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):void 0===e?"undefined":"string"!=typeof e?JSON.stringify(e):e,d+=c(e)}return Error(d)}}function oa(a){if(null==a||Wa(a))return!1;if(J(a)||F(a)||B&&a instanceof B)return!0;var b="length"in Object(a)&&a.length;return S(b)&&(0<=b&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function r(a,b,d){var c,e;if(a)if(z(a))for(c in a)"prototype"==c||"length"==c||"name"==c||a.hasOwnProperty&&!a.hasOwnProperty(c)||b.call(d,a[c],c,a);else if(J(a)||oa(a)){var f="object"!=typeof a;for(c=0,e=a.length;c<e;c++)(f||c in a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==r)a.forEach(b,d,a);else if(sc(a))for(c in a)b.call(d,a[c],c,a);else if("function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else for(c in a)sa.call(a,c)&&b.call(d,a[c],c,a);return a}function tc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function uc(a){return function(b,d){a(d,b)}}function Zd(){return++pb}function Pb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(H(g)||z(g))for(var h=Object.keys(g),k=0,l=h.length;k<l;k++){var m=h[k],n=g[m];d&&H(n)?ia(n)?a[m]=new Date(n.valueOf()):Xa(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):Qb(n)?a[m]=n.clone():(H(a[m])||(a[m]=J(n)?[]:{}),Pb(a[m],[n],!0)):a[m]=n}}return c?a.$$hashKey=c:delete a.$$hashKey,a}function R(a){return Pb(a,ta.call(arguments,1),!1)}function $d(a){return Pb(a,ta.call(arguments,1),!0)}function aa(a){return parseInt(a,10)}function Rb(a,b){return R(Object.create(a),b)}function A(){}function Ya(a){return a}function da(a){return function(){return a}}function vc(a){return z(a.toString)&&a.toString!==ka}function w(a){return void 0===a}function x(a){return void 0!==a}function H(a){return null!==a&&"object"==typeof a}function sc(a){return null!==a&&"object"==typeof a&&!wc(a)}function F(a){return"string"==typeof a}function S(a){return"number"==typeof a}function ia(a){return"[object Date]"===ka.call(a)}function z(a){return"function"==typeof a}function Xa(a){return"[object RegExp]"===ka.call(a)}function Wa(a){return a&&a.window===a}function Za(a){return a&&a.$evalAsync&&a.$watch}function Ea(a){return"boolean"==typeof a}function ae(a){return a&&S(a.length)&&be.test(ka.call(a))}function Qb(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function ce(a){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function ua(a){return M(a.nodeName||a[0]&&a[0].nodeName)}function $a(a,b){var d=a.indexOf(b);return 0<=d&&a.splice(d,1),d}function Z(a,b){function d(a,b){var e,d=b.$$hashKey;if(J(a)){e=0;for(var f=a.length;e<f;e++)b.push(c(a[e]))}else if(sc(a))for(e in a)b[e]=c(a[e]);else if(a&&"function"==typeof a.hasOwnProperty)for(e in a)a.hasOwnProperty(e)&&(b[e]=c(a[e]));else for(e in a)sa.call(a,e)&&(b[e]=c(a[e]));return d?b.$$hashKey=d:delete b.$$hashKey,b}function c(a){
if(!H(a))return a;var b=f.indexOf(a);if(-1!==b)return g[b];if(Wa(a)||Za(a))throw za("cpws");var b=!1,c=e(a);return void 0===c&&(c=J(a)?[]:Object.create(wc(a)),b=!0),f.push(a),g.push(c),b?d(a,c):c}function e(a){switch(ka.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(c(a.buffer));case"[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);return new Uint8Array(b).set(new Uint8Array(a)),b}return a.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":return b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex,b;case"[object Blob]":return new a.constructor([a],{type:a.type})}if(z(a.cloneNode))return a.cloneNode(!0)}var f=[],g=[];if(b){if(ae(b)||"[object ArrayBuffer]"===ka.call(b))throw za("cpta");if(a===b)throw za("cpi");return J(b)?b.length=0:r(b,function(a,d){"$$hashKey"!==d&&delete b[d]}),f.push(a),g.push(b),d(a,b)}return c(a)}function na(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d=typeof a;if(d==typeof b&&"object"==d){if(!J(a)){if(ia(a))return!!ia(b)&&na(a.getTime(),b.getTime());if(Xa(a))return!!Xa(b)&&a.toString()==b.toString();if(Za(a)||Za(b)||Wa(a)||Wa(b)||J(b)||ia(b)||Xa(b))return!1;d=T();for(c in a)if("$"!==c.charAt(0)&&!z(a[c])){if(!na(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&x(b[c])&&!z(b[c]))return!1;return!0}if(!J(b))return!1;if((d=a.length)==b.length){for(c=0;c<d;c++)if(!na(a[c],b[c]))return!1;return!0}}return!1}function ab(a,b,d){return a.concat(ta.call(b,d))}function bb(a,b){var d=2<arguments.length?ta.call(arguments,2):[];return!z(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,ab(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function de(a,b){var d=b;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=void 0:Wa(b)?d="$WINDOW":b&&E.document===b?d="$DOCUMENT":Za(b)&&(d="$SCOPE"),d}function cb(a,b){if(!w(a))return S(b)||(b=b?2:null),JSON.stringify(a,de,b)}function xc(a){return F(a)?JSON.parse(a):a}function yc(a,b){a=a.replace(ee,"");var d=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(d)?b:d}function Sb(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();return b=yc(b,c),d*=b-c,a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+d),a}function va(a){a=B(a).clone();try{a.empty()}catch(b){}var d=B("<div>").append(a).html();try{return a[0].nodeType===Na?M(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+M(b)})}catch(c){return M(d)}}function zc(a){try{return decodeURIComponent(a)}catch(b){}}function Ac(a){var b={};return r((a||"").split("&"),function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(e=a.substring(0,c),f=a.substring(c+1)),e=zc(e),x(e)&&(f=!x(f)||zc(f),sa.call(b,e)?J(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))}),b}function Tb(a){var b=[];return r(a,function(a,c){J(a)?r(a,function(a){b.push(ja(c,!0)+(!0===a?"":"="+ja(a,!0)))}):b.push(ja(c,!0)+(!0===a?"":"="+ja(a,!0)))}),b.length?b.join("&"):""}function qb(a){return ja(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ja(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function fe(a,b){var d,c,e=Oa.length;for(c=0;c<e;++c)if(d=Oa[c]+b,F(d=a.getAttribute(d)))return d;return null}function ge(a,b){var d,c,e={};r(Oa,function(b){b+="app",!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))}),r(Oa,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&(d=e,c=e.getAttribute(b))}),d&&(e.strictDi=null!==fe(d,"strict-di"),b(d,c?[c]:[],e))}function Bc(a,b,d){H(d)||(d={}),d=R({strictDi:!1},d);var c=function(){if(a=B(a),a.injector()){var c=a[0]===E.document?"document":va(a);throw za("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"))}return b=b||[],b.unshift(["$provide",function(b){b.value("$rootElement",a)}]),d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),b.unshift("ng"),c=db(b,d.strictDi),c.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,d,c){a.$apply(function(){b.data("$injector",c),d(b)(a)})}]),c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;if(E&&e.test(E.name)&&(d.debugInfoEnabled=!0,E.name=E.name.replace(e,"")),E&&!f.test(E.name))return c();E.name=E.name.replace(f,""),ea.resumeBootstrap=function(a){return r(a,function(a){b.push(a)}),c()},z(ea.resumeDeferredBootstrap)&&ea.resumeDeferredBootstrap()}function he(){E.name="NG_ENABLE_DEBUG_INFO!"+E.name,E.location.reload()}function ie(a){if(!(a=ea.element(a).injector()))throw za("test");return a.get("$$testability")}function Cc(a,b){return b=b||"_",a.replace(je,function(a,c){return(c?b:"")+a.toLowerCase()})}function sb(a,b,d){if(!a)throw za("areq",b||"?",d||"required");return a}function Qa(a,b,d){return d&&J(a)&&(a=a[a.length-1]),sb(z(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function Ra(a,b){if("hasOwnProperty"===a)throw za("badname",b)}function Ec(a,b,d){if(!b)return a;b=b.split(".");for(var c,e=a,f=b.length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&z(a)?bb(e,a):a}function tb(a){for(var c,b=a[0],d=a[a.length-1],e=1;b!==d&&(b=b.nextSibling);e++)(c||a[e]!==b)&&(c||(c=B(ta.call(a,0,e))),c.push(b));return c||a}function T(){return Object.create(null)}function le(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=O("$injector"),c=O("ng");return a=b(a,"angular",Object),a.$$minErr=a.$$minErr||O,b(a,"module",function(){var a={};return function(f,g,h){if("hasOwnProperty"===f)throw c("badname","module");return g&&a.hasOwnProperty(f)&&(a[f]=null),b(a,f,function(){function a(b,d,e,f){return f||(f=c),function(){return f[e||"push"]([b,d,arguments]),V}}function b(a,d){return function(b,e){return e&&z(e)&&(e.$$moduleName=f),c.push([a,d,arguments]),V}}if(!g)throw d("nomod",f);var c=[],e=[],p=[],s=a("$injector","invoke","push",e),V={_invokeQueue:c,_configBlocks:e,_runBlocks:p,requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:s,run:function(a){return p.push(a),this}};return h&&s(h),V})}})}function ga(a,b){if(J(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(H(a))for(d in b=b||{},a)"$"===d.charAt(0)&&"$"===d.charAt(1)||(b[d]=a[d]);return b||a}function eb(a){return a.replace(Kf,function(a,d,c,e){return e?c.toUpperCase():c}).replace(Lf,"Moz$1")}function Nc(a){return 1===(a=a.nodeType)||!a||9===a}function Oc(a,b){var d,c,e=b.createDocumentFragment(),f=[];if(Vb.test(a)){for(d=d||e.appendChild(b.createElement("div")),c=(Mf.exec(a)||["",""])[1].toLowerCase(),c=ha[c]||ha._default,d.innerHTML=c[1]+a.replace(Nf,"<$1></$2>")+c[2],c=c[0];c--;)d=d.lastChild;f=ab(f,d.childNodes),d=e.firstChild,d.textContent=""}else f.push(b.createTextNode(a));return e.textContent="",e.innerHTML="",r(f,function(a){e.appendChild(a)}),e}function Pc(a,b){var d=a.parentNode;d&&d.replaceChild(b,a),b.appendChild(a)}function U(a){if(a instanceof U)return a;var b;if(F(a)&&(a=W(a),b=!0),!(this instanceof U)){if(b&&"<"!=a.charAt(0))throw Wb("nosel");return new U(a)}if(b){b=E.document;var d;a=(d=Of.exec(a))?[b.createElement(d[1])]:(d=Oc(a,b))?d.childNodes:[]}Qc(this,a)}function Xb(a){return a.cloneNode(!0)}function wb(a,b){if(b||fb(a),a.querySelectorAll)for(var d=a.querySelectorAll("*"),c=0,e=d.length;c<e;c++)fb(d[c])}function Rc(a,b,d,c){if(x(c))throw Wb("offargs");var e=(c=xb(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(b){var c=e[b];x(d)&&$a(c||[],d),x(d)&&c&&0<c.length||(a.removeEventListener(b,f,!1),delete e[b])};r(b.split(" "),function(a){g(a),yb[a]&&g(yb[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f,!1),delete e[b]}function fb(a,b){var d=a.ng339,c=d&&gb[d];c&&(b?delete c.data[b]:(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),Rc(a)),delete gb[d],a.ng339=void 0))}function xb(a,b){var d=a.ng339,d=d&&gb[d];return b&&!d&&(a.ng339=d=++Pf,d=gb[d]={events:{},data:{},handle:void 0}),d}function Yb(a,b,d){if(Nc(a)){var c=x(d),e=!c&&b&&!H(b),f=!b;if(a=(a=xb(a,!e))&&a.data,c)a[b]=d;else{if(f)return a;if(e)return a&&a[b];R(a,b)}}}function zb(a,b){return!!a.getAttribute&&-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")}function Ab(a,b){b&&a.setAttribute&&r(b.split(" "),function(b){a.setAttribute("class",W((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+W(b)+" "," ")))})}function Bb(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(b.split(" "),function(a){a=W(a),-1===d.indexOf(" "+a+" ")&&(d+=a+" ")}),a.setAttribute("class",W(d))}}function Qc(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"==typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function Sc(a,b){return Cb(a,"$"+(b||"ngController")+"Controller")}function Cb(a,b,d){for(9==a.nodeType&&(a=a.documentElement),b=J(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(x(d=B.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function Tc(a){for(wb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Db(a,b){b||wb(a);var d=a.parentNode;d&&d.removeChild(a)}function Qf(a,b){b=b||E,"complete"===b.document.readyState?b.setTimeout(a):B(b).on("load",a)}function Uc(a,b){var d=Eb[b.toLowerCase()];return d&&Vc[ua(a)]&&d}function Rf(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=b[d||c.type],g=f?f.length:0;if(g){if(w(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var k=f.specialHandlerWrapper||Sf;1<g&&(f=ga(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||k(a,c,f[l])}};return d.elem=a,d}function Sf(a,b,d){d.call(a,b)}function Tf(a,b,d){var c=b.relatedTarget;c&&(c===a||Uf.call(a,c))||d.call(a,b)}function Hf(){this.$get=function(){return R(U,{hasClass:function(a,b){return a.attr&&(a=a[0]),zb(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Bb(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Ab(a,b)}})}}function Ga(a,b){var d=a&&a.$$hashKey;return d?("function"==typeof d&&(d=a.$$hashKey()),d):(d=typeof a,d="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||Zd)():d+":"+a)}function Sa(a,b){if(b){var d=0;this.nextUid=function(){return++d}}r(a,this.put,this)}function Wc(a){return a=(Function.prototype.toString.call(a)+" ").replace(Vf,""),a.match(Wf)||a.match(Xf)}function Yf(a){return(a=Wc(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function db(a,b){function d(a){return function(b,c){if(!H(b))return a(b,c);r(b,uc(a))}}function c(a,b){if(Ra(a,"service"),(z(b)||J(b))&&(b=p.instantiate(b)),!b.$get)throw Ha("pget",a);return n[a+"Provider"]=b}function e(a,b){return function(){var c=I.invoke(b,this);if(w(c))throw Ha("undef",a);return c}}function f(a,b,d){return c(a,{$get:!1!==d?e(a,b):b})}function g(a){sb(w(a)||J(a),"modulesToLoad","not an array");var c,b=[];return r(a,function(a){function d(a){var b,c;for(b=0,c=a.length;b<c;b++){var e=a[b],f=p.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.put(a,!0);try{F(a)?(c=Ub(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):z(a)?b.push(p.invoke(a)):J(a)?b.push(p.invoke(a)):Qa(a,"module")}catch(e){throw J(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ha("modulerr",a,e.stack||e.message||e)}}}),b}function h(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===k)throw Ha("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=k,a[b]=c(b,e)}catch(f){throw a[b]===k&&delete a[b],f}finally{l.shift()}}function e(a,c,f){var g=[];a=db.$$annotate(a,b,f);for(var h=0,k=a.length;h<k;h++){var l=a[h];if("string"!=typeof l)throw Ha("itkn",l);g.push(c&&c.hasOwnProperty(l)?c[l]:d(l,f))}return g}return{invoke:function(a,b,c,d){return"string"==typeof c&&(d=c,c=null),c=e(a,c,d),J(a)&&(a=a[a.length-1]),d=!(11>=Ba)&&("function"==typeof a&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(a)+" ")),d?(c.unshift(null),new(Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=J(a)?a[a.length-1]:a;return a=e(a,b,c),a.unshift(null),new(Function.prototype.bind.apply(d,a))},get:d,annotate:db.$$annotate,has:function(b){return n.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var k={},l=[],m=new Sa([],!0),n={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,da(b),!1)}),constant:d(function(a,b){Ra(a,"constant"),n[a]=b,s[a]=b}),decorator:function(a,b){var c=p.get(a+"Provider"),d=c.$get;c.$get=function(){var a=I.invoke(d,c);return I.invoke(b,null,{$delegate:a})}}}},p=n.$injector=h(n,function(a,b){throw ea.isString(b)&&l.push(b),Ha("unpr",l.join(" <- "))}),s={},V=h(s,function(a,b){var c=p.get(a+"Provider",b);return I.invoke(c.$get,c,void 0,a)}),I=V;n.$injectorProvider={$get:da(V)};var q=g(a),I=V.get("$injector");return I.strictDi=b,r(q,function(a){a&&I.invoke(a)}),I}function Ye(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,d,c){function e(a){var b=null;return Array.prototype.some.call(a,function(a){if("a"===ua(a))return b=a,!0}),b}function f(a){if(a){a.scrollIntoView();var c;c=g.yOffset,z(c)?c=c():Qb(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):S(c)||(c=0),c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=F(a)?a:d.hash();var b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=b.document;return a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||Qf(function(){c.$evalAsync(g)})}),g}]}function hb(a,b){return a||b?a?b?(J(a)&&(a=a.join(" ")),J(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function Zf(a){F(a)&&(a=a.split(" "));var b=T();return r(a,function(a){a.length&&(b[a]=!0)}),b}function Ia(a){return H(a)?a:{}}function $f(a,b,d,c){function e(a){try{a.apply(null,ta.call(arguments,1))}finally{if(0===--V)for(;I.length;)try{I.pop()()}catch(b){d.error(b)}}}function f(){y=null,g(),h()}function g(){q=P(),q=w(q)?null:q,na(q,D)&&(q=D),D=q}function h(){v===k.url()&&K===q||(v=k.url(),K=q,r(L,function(a){a(k.url(),q)}))}var k=this,l=a.location,m=a.history,n=a.setTimeout,p=a.clearTimeout,s={};k.isMock=!1;var V=0,I=[];k.$$completeOutstandingRequest=e,k.$$incOutstandingRequestCount=function(){V++},k.notifyWhenNoOutstandingRequests=function(a){0===V?a():I.push(a)};var q,K,v=l.href,u=b.find("base"),y=null,P=c.history?function(){try{return m.state}catch(a){}}:A;g(),K=q,k.url=function(b,d,e){if(w(e)&&(e=null),l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){var f=K===e;if(v===b&&(!c.history||f))return k;var h=v&&Ja(v)===Ja(b);return v=b,K=e,!c.history||h&&f?(h||(y=b),d?l.replace(b):h?(d=l,e=b.indexOf("#"),e=-1===e?"":b.substr(e),d.hash=e):l.href=b,l.href!==b&&(y=b)):(m[d?"replaceState":"pushState"](e,"",b),g(),K=q),y&&(y=b),k}return y||l.href.replace(/%27/g,"'")},k.state=function(){return q};var L=[],C=!1,D=null;k.onUrlChange=function(b){return C||(c.history&&B(a).on("popstate",f),B(a).on("hashchange",f),C=!0),L.push(b),b},k.$$applicationDestroyed=function(){B(a).off("hashchange popstate",f)},k.$$checkUrlChange=h,k.baseHref=function(){var a=u.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""},k.defer=function(a,b){var c;return V++,c=n(function(){delete s[c],e(a)},b||0),s[c]=!0,c},k.defer.cancel=function(a){return!!s[a]&&(delete s[a],p(a),e(A),!0)}}function ef(){this.$get=["$window","$log","$sniffer","$document",function(a,b,d,c){return new $f(a,c,b,d)}]}function ff(){this.$get=function(){function a(a,c){function e(a){a!=n&&(p?p==a&&(p=a.n):p=a,f(a.n,a.p),f(a,n),n=a,n.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw O("$cacheFactory")("iid",a);var g=0,h=R({},c,{id:a}),k=T(),l=c&&c.capacity||Number.MAX_VALUE,m=T(),n=null,p=null;return b[a]={put:function(a,b){if(!w(b)){if(l<Number.MAX_VALUE){e(m[a]||(m[a]={key:a}))}return a in k||g++,k[a]=b,g>l&&this.remove(p.key),b}},get:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return k[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b==n&&(n=b.p),b==p&&(p=b.n),f(b.n,b.p),delete m[a]}a in k&&(delete k[a],g--)},removeAll:function(){k=T(),g=0,m=T(),n=p=null},destroy:function(){m=h=k=null,delete b[a]},info:function(){return R({},h,{size:g})}}}var b={};return a.info=function(){var a={};return r(b,function(b,e){a[e]=b.info()}),a},a.get=function(a){return b[a]},a}}function Bf(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Fc(a,b){function d(a,b,c){var d=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,e=T();return r(a,function(a,f){if(a in n)e[f]=n[a];else{var g=a.match(d);if(!g)throw fa("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f},g[4]&&(n[a]=e[f])}}),e}function c(a){var b=a.charAt(0);if(!b||b!==M(b))throw fa("baddir",a);if(a!==a.trim())throw fa("baddir",a)}function e(a){var b=a.require||a.controller&&a.name;return!J(b)&&H(b)&&r(b,function(a,c){var d=a.match(l);a.substring(d[0].length)||(b[c]=d[0]+c)}),b}var f={},g=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,h=/(([\w\-]+)(?:\:([^;]+))?;?)/,k=ce("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,m=/^(on[a-z]+|formaction)$/,n=T();this.directive=function I(b,d){return Ra(b,"directive"),F(b)?(c(b),sb(d,"directiveFactory"),f.hasOwnProperty(b)||(f[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];return r(f[b],function(f,g){try{var h=a.invoke(f);z(h)?h={compile:da(h)}:!h.compile&&h.link&&(h.compile=da(h.link)),h.priority=h.priority||0,h.index=g,h.name=h.name||b,h.require=e(h),h.restrict=h.restrict||"EA",h.$$moduleName=f.$$moduleName,d.push(h)}catch(k){c(k)}}),d}])),f[b].push(d)):r(b,uc(I)),this},this.component=function(a,b){function c(a){function e(b){return z(b)||J(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:d,controllerAs:Xc(b.controller)||b.controllerAs||"$ctrl",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};return r(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)}),g}var d=b.controller||function(){};return r(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,z(d)&&(d[b]=a))}),c.$inject=["$injector"],this.directive(a,c)},this.aHrefSanitizationWhitelist=function(a){return x(a)?(b.aHrefSanitizationWhitelist(a),this):b.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return x(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var p=!0;this.debugInfoEnabled=function(a){return x(a)?(p=a,this):p};var s=10;this.onChangesTtl=function(a){return arguments.length?(s=a,this):s},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,b,c,e,n,y,P,L,C,D){function G(){try{if(!--oa)throw Z=void 0,fa("infchng",s);P.$apply(function(){for(var a=[],b=0,c=Z.length;b<c;++b)try{Z[b]()}catch(d){a.push(d)}if(Z=void 0,a.length)throw a})}finally{oa++}}function Aa(a,b){if(b){var d,e,f,c=Object.keys(b);for(d=0,e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a}function Q(a,b,c){la.innerHTML="<span "+b+">",b=la.firstChild.attributes;var d=b[0];b.removeNamedItem(d.name),d.value=c,a.attributes.setNamedItem(d)}function N(a,b){try{a.addClass(b)}catch(c){}}function ba(a,b,c,d,e){a instanceof B||(a=B(a));for(var f=/\S+/,g=0,h=a.length;g<h;g++){var k=a[g];k.nodeType===Na&&k.nodeValue.match(f)&&Pc(k,a[g]=E.document.createElement("span"))}var l=t(a,b,a,c,d,e);ba.$$addScopeClass(a);var n=null;return function(b,c,d){sb(b,"scope"),e&&e.needsNewScope&&(b=b.$parent.$new()),d=d||{};var f=d.parentBoundTranscludeFn,g=d.transcludeControllers;if(d=d.futureParentElement,f&&f.$$boundTransclude&&(f=f.$$boundTransclude),n||(n=(d=d&&d[0])&&"foreignobject"!==ua(d)&&ka.call(d).match(/SVG/)?"svg":"html"),d="html"!==n?B(ca(n,B("<div>").append(a).html())):c?Pa.clone.call(a):a,g)for(var h in g)d.data("$"+h+"Controller",g[h].instance);return ba.$$addScopeInfo(d,b),c&&c(d,b),l&&l(b,d,d,f),d}}function t(a,b,c,d,e,f){function g(a,c,d,e){var f,k,l,n,m,v,q;if(p)for(q=Array(c.length),n=0;n<h.length;n+=3)f=h[n],q[f]=c[f];else q=c;for(n=0,m=h.length;n<m;)k=q[h[n++]],c=h[n++],f=h[n++],c?(c.scope?(l=a.$new(),ba.$$addScopeInfo(B(k),l)):l=a,v=c.transcludeOnThisElement?wa(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?wa(a,b):null,c(f,l,k,d,v)):f&&f(a,k.childNodes,void 0,e)}for(var k,l,n,m,p,h=[],v=0;v<a.length;v++)k=new Aa,l=$b(a[v],[],k,0===v?d:void 0,e),(f=l.length?Ta(l,a[v],k,b,c,null,[],[],f):null)&&f.scope&&ba.$$addScopeClass(k.$$element),k=f&&f.terminal||!(n=a[v].childNodes)||!n.length?null:t(n,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b),(f||k)&&(h.push(v,f,k),m=!0,p=p||f),f=null;return m?g:null}function wa(a,b,c){function d(e,f,g,h,k){return e||(e=a.$new(!1,k),e.$$transcluded=!0),b(e,f,{parentBoundTranscludeFn:c,transcludeControllers:g,futureParentElement:h})}var f,e=d.$$slots=T();for(f in b.$$slots)e[f]=b.$$slots[f]?wa(a,b.$$slots[f],c):null;return d}function $b(a,b,c,d,e){var k,f=c.$attr;switch(a.nodeType){case 1:Da(b,xa(ua(a)),"E",d,e);for(var l,n,m,p=a.attributes,v=0,q=p&&p.length;v<q;v++){var s=!1,L=!1;l=p[v],k=l.name,n=W(l.value),l=xa(k),(m=ya.test(l))&&(k=k.replace(Yc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()})),(l=l.match(za))&&S(l[1])&&(s=k,L=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6)),l=xa(k.toLowerCase()),f[l]=k,!m&&c.hasOwnProperty(l)||(c[l]=n,Uc(a,l)&&(c[l]=!0)),ia(a,b,n,l,m),Da(b,l,"A",d,e,s,L)}if(a=a.className,H(a)&&(a=a.animVal),F(a)&&""!==a)for(;k=h.exec(a);)l=xa(k[2]),Da(b,l,"C",d,e)&&(c[l]=W(k[3])),a=a.substr(k.index+k[0].length);break;case Na:if(11===Ba)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===Na;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);aa(b,a.nodeValue);break;case 8:try{(k=g.exec(a.nodeValue))&&(l=xa(k[1]),Da(b,l,"M",d,e)&&(c[l]=W(k[2])))}catch(C){}}return b.sort(Y),b}function Zc(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b))do{if(!a)throw fa("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(0<e);else d.push(a);return B(d)}function O(a,b,c){return function(d,e,f,g,h){return e=Zc(e[0],b,c),a(d,e,f,g,h)}}function ac(a,b,c,d,e,f){var g;return a?ba(b,c,d,e,f):function(){return g||(g=ba(b,c,d,e,f),b=c=f=null),g.apply(this,arguments)}}function Ta(a,b,d,e,f,g,h,k,l){function n(a,b,c,d){a&&(c&&(a=O(a,c,d)),a.require=u.require,a.directiveName=G,(s===u||u.$$isolateScope)&&(a=ga(a,{isolateScope:!0})),h.push(a)),b&&(c&&(b=O(b,c,d)),b.require=u.require,b.directiveName=G,(s===u||u.$$isolateScope)&&(b=ga(b,{isolateScope:!0})),k.push(b))}function m(a,e,f,g,l){function n(a,b,c,d){var e;if(Za(a)||(d=c,c=b,b=a,a=void 0),y&&(e=N),c||(c=y?G.parent():G),!d)return l(a,b,e,c,t);var f=l.$$slots[d];if(f)return f(a,b,e,c,t);if(w(f))throw fa("noslot",d,va(G))}var p,C,u,D,I,N,Q,G;b===f?(g=d,G=d.$$element):(G=B(f),g=new Aa(G,d)),I=e,s?D=e.$new(!0):v&&(I=e.$parent),l&&(Q=n,Q.$$boundTransclude=l,Q.isSlotFilled=function(a){return!!l.$$slots[a]}),q&&(N=ag(G,g,Q,q,D,e,s)),s&&(ba.$$addScopeInfo(G,D,!0,!(L&&(L===s||L===s.$$originalDirective))),ba.$$addScopeClass(G,!0),D.$$isolateBindings=s.$$isolateBindings,C=ha(e,g,D,D.$$isolateBindings,s),C.removeWatches&&D.$on("$destroy",C.removeWatches));for(p in N){C=q[p],u=N[p];var Zb=C.$$bindings.bindToController;u.bindingInfo=u.identifier&&Zb?ha(I,g,u.instance,Zb,C):{};var P=u();P!==u.instance&&(u.instance=P,G.data("$"+C.name+"Controller",P),u.bindingInfo.removeWatches&&u.bindingInfo.removeWatches(),u.bindingInfo=ha(I,g,u.instance,Zb,C))}for(r(q,function(a,b){var c=a.require;a.bindToController&&!J(c)&&H(c)&&R(N[b].instance,ib(b,c,G,N))}),r(N,function(a){var b=a.instance;if(z(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(d){c(d)}if(z(b.$onInit))try{b.$onInit()}catch(e){c(e)}z(b.$onDestroy)&&I.$on("$destroy",function(){b.$onDestroy()})}),p=0,C=h.length;p<C;p++)u=h[p],ja(u,u.isolateScope?D:e,G,g,u.require&&ib(u.directiveName,u.require,G,N),Q);var t=e;for(s&&(s.template||null===s.templateUrl)&&(t=D),a&&a(t,f.childNodes,void 0,l),p=k.length-1;0<=p;p--)u=k[p],ja(u,u.isolateScope?D:e,G,g,u.require&&ib(u.directiveName,u.require,G,N),Q);r(N,function(a){a=a.instance,z(a.$postLink)&&a.$postLink()})}l=l||{};for(var u,G,Q,t,x,p=-Number.MAX_VALUE,v=l.newScopeDirective,q=l.controllerDirectives,s=l.newIsolateScopeDirective,L=l.templateDirective,C=l.nonTlbTranscludeDirective,D=!1,I=!1,y=l.hasElementTranscludeDirective,N=d.$$element=B(b),P=e,Ca=!1,wa=!1,A=0,E=a.length;A<E;A++){u=a[A];var F=u.$$start,Ta=u.$$end;if(F&&(N=Zc(b,F,Ta)),Q=void 0,p>u.priority)break;if((x=u.scope)&&(u.templateUrl||(H(x)?(X("new/isolated scope",s||v,u,N),s=u):X("new/isolated scope",s,u,N)),v=v||u),G=u.name,!Ca&&(u.replace&&(u.templateUrl||u.template)||u.transclude&&!u.$$tlb)){for(x=A+1;Ca=a[x++];)if(Ca.transclude&&!Ca.$$tlb||Ca.replace&&(Ca.templateUrl||Ca.template)){wa=!0;break}Ca=!0}if(!u.templateUrl&&u.controller&&(x=u.controller,q=q||T(),X("'"+G+"' controller",q[G],u,N),q[G]=u),x=u.transclude)if(D=!0,u.$$tlb||(X("transclusion",C,u,N),C=u),"element"==x)y=!0,p=u.priority,Q=N,N=d.$$element=B(ba.$$createComment(G,d[G])),b=N[0],da(f,ta.call(Q,0),b),Q[0].$$parentNode=Q[0].parentNode,P=ac(wa,Q,e,p,g&&g.name,{nonTlbTranscludeDirective:C});else{var M=T();if(Q=B(Xb(b)).contents(),H(x)){Q=[];var S=T(),Da=T();r(x,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a,S[a]=b,M[b]=null,Da[b]=c}),r(N.contents(),function(a){var b=S[xa(ua(a))];b?(Da[b]=!0,M[b]=M[b]||[],M[b].push(a)):Q.push(a)}),r(Da,function(a,b){if(!a)throw fa("reqslot",b)});for(var Y in M)M[Y]&&(M[Y]=ac(wa,M[Y],e))}N.empty(),P=ac(wa,Q,e,void 0,void 0,{needsNewScope:u.$$isolateScope||u.$$newScope}),P.$$slots=M}if(u.template)if(I=!0,X("template",L,u,N),L=u,x=z(u.template)?u.template(N,d):u.template,x=ra(x),u.replace){if(g=u,Q=Vb.test(x)?$c(ca(u.templateNamespace,W(x))):[],b=Q[0],1!=Q.length||1!==b.nodeType)throw fa("tplrt",G,"");da(f,N,b),E={$attr:{}},x=$b(b,[],E);var aa=a.splice(A+1,a.length-(A+1));(s||v)&&ad(x,s,v),a=a.concat(x).concat(aa),U(d,E),E=a.length}else N.html(x);if(u.templateUrl)I=!0,X("template",L,u,N),L=u,u.replace&&(g=u),m=$(a.splice(A,a.length-A),N,d,f,D&&P,h,k,{controllerDirectives:q,newScopeDirective:v!==u&&v,newIsolateScopeDirective:s,templateDirective:L,nonTlbTranscludeDirective:C}),E=a.length;else if(u.compile)try{t=u.compile(N,d,P);var Z=u.$$originalDirective||u;z(t)?n(null,bb(Z,t),F,Ta):t&&n(bb(Z,t.pre),bb(Z,t.post),F,Ta)}catch(ea){c(ea,va(N))}u.terminal&&(m.terminal=!0,p=Math.max(p,u.priority))}return m.scope=v&&!0===v.scope,m.transcludeOnThisElement=D,m.templateOnThisElement=I,m.transclude=P,l.hasElementTranscludeDirective=y,m}function ib(a,b,c,d){var e;if(F(b)){var f=b.match(l);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];if("^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance,!e){var h="$"+b+"Controller";e=g?c.inheritedData(h):c.data(h)}if(!e&&!f)throw fa("ctreq",b,a)}else if(J(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=ib(a,b[g],c,d);else H(b)&&(e={},r(b,function(b,f){e[f]=ib(a,b,c,d)}));return e||null}function ag(a,b,c,d,e,f,g){var k,h=T();for(k in d){var l=d[k],n={$scope:l===g||l.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},m=l.controller;"@"==m&&(m=b[l.name]),n=y(m,n,!0,l.controllerAs),h[l.name]=n,a.data("$"+l.name+"Controller",n.instance)}return h}function ad(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=Rb(a[d],{$$isolateScope:b,$$newScope:c})}function Da(b,e,g,h,k,l,n){if(e===k)return null;if(k=null,f.hasOwnProperty(e)){var m;e=a.get(e+"Directive");for(var p=0,v=e.length;p<v;p++)try{if(m=e[p],(w(h)||h>m.priority)&&-1!=m.restrict.indexOf(g)){if(l&&(m=Rb(m,{$$start:l,$$end:n})),!m.$$bindings){var q=m,s=m,L=m.name,u={isolateScope:null,bindToController:null};if(H(s.scope)&&(!0===s.bindToController?(u.bindToController=d(s.scope,L,!0),u.isolateScope={}):u.isolateScope=d(s.scope,L,!1)),H(s.bindToController)&&(u.bindToController=d(s.bindToController,L,!0)),H(u.bindToController)){var C=s.controller,D=s.controllerAs;if(!C)throw fa("noctrl",L);if(!Xc(C,D))throw fa("noident",L)}var N=q.$$bindings=u;H(N.isolateScope)&&(m.$$isolateBindings=N.isolateScope)}b.push(m),k=m}}catch(G){c(G)}}return k}function S(b){if(f.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;d<e;d++)if(b=c[d],b.multiElement)return!0;return!1}function U(a,b){var c=b.$attr,d=a.$attr;r(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),r(b,function(b,e){a.hasOwnProperty(e)||"$"===e.charAt(0)||(a[e]=b,"class"!==e&&"style"!==e&&(d[e]=c[e]))})}function $(a,b,c,d,f,g,h,k){var n,m,l=[],p=b[0],s=a.shift(),q=Rb(s,{templateUrl:null,transclude:null,replace:null,$$originalDirective:s}),L=z(s.templateUrl)?s.templateUrl(b,c):s.templateUrl,u=s.templateNamespace;return b.empty(),e(L).then(function(e){var v,C;if(e=ra(e),s.replace){if(e=Vb.test(e)?$c(ca(u,W(e))):[],v=e[0],1!=e.length||1!==v.nodeType)throw fa("tplrt",s.name,L);e={$attr:{}},da(d,b,v);var D=$b(v,[],e);H(s.scope)&&ad(D,!0),a=D.concat(a),U(c,e)}else v=p,b.html(e);for(a.unshift(q),n=Ta(a,v,c,f,b,s,g,h,k),r(d,function(a,c){a==v&&(d[c]=b[0])}),m=t(b[0].childNodes,f);l.length;){e=l.shift(),C=l.shift();var I=l.shift(),G=l.shift(),D=b[0];if(!e.$$destroyed){if(C!==p){var y=C.className;k.hasElementTranscludeDirective&&s.replace||(D=Xb(v)),da(I,B(C),D),N(B(D),y)}C=n.transcludeOnThisElement?wa(e,n.transclude,G):G,n(m,e,D,d,C)}}l=null}),function(a,b,c,d,e){a=e,b.$$destroyed||(l?l.push(b,c,d,a):(n.transcludeOnThisElement&&(a=wa(b,n.transclude,e)),n(m,b,c,d,a)))}}function Y(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function X(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw fa("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,va(d))}function aa(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;return b&&ba.$$addBindingClass(a),function(a,c){var e=c.parent();b||ba.$$addBindingClass(e),ba.$$addBindingInfo(e,d.expressions),a.$watch(d,function(a){c[0].nodeValue=a})}}})}function ca(a,b){switch(a=M(a||"html")){case"svg":case"math":var c=E.document.createElement("div");return c.innerHTML="<"+a+">"+b+"</"+a+">",c.childNodes[0].childNodes;default:return b}}function ea(a,b){if("srcdoc"==b)return L.HTML;var c=ua(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?L.RESOURCE_URL:void 0}function ia(a,c,d,e,f){var g=ea(a,e);f=k[e]||f;var h=b(d,!0,g,f);if(h){if("multiple"===e&&"select"===ua(a))throw fa("selmulti",va(a));c.push({priority:100,
compile:function(){return{pre:function(a,c,k){if(c=k.$$observers||(k.$$observers=T()),m.test(e))throw fa("nodomevents");var l=k[e];l!==d&&(h=l&&b(l,!0,g,f),d=l),h&&(k[e]=h(a),(c[e]||(c[e]=[])).$$inter=!0,(k.$$observers&&k.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?k.$updateClass(a,b):k.$set(e,a)}))}}}})}}function da(a,b,c){var g,h,d=b[0],e=b.length,f=d.parentNode;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]==d){a[g++]=c,h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1,a.context===d&&(a.context=c);break}for(f&&f.replaceChild(c,d),a=E.document.createDocumentFragment(),g=0;g<e;g++)a.appendChild(b[g]);for(B.hasData(d)&&(B.data(c,B.data(d)),B(d).off("$destroy")),B.cleanData(a.querySelectorAll("*")),g=1;g<e;g++)delete b[g];b[0]=c,b.length=1}function ga(a,b){return R(function(){return a.apply(null,arguments)},a,b)}function ja(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,va(d))}}function ha(a,c,d,e,f){function g(b,c,e){z(d.$onChanges)&&c!==e&&(Z||(a.$$postDigest(G),Z=[]),m||(m={},Z.push(h)),m[b]&&(e=m[b].previousValue),m[b]=new Fb(e,c))}function h(){d.$onChanges(m),m=void 0}var m,k=[],l={};return r(e,function(e,h){var v,s,L,C,m=e.attrName,p=e.optional;switch(e.mode){case"@":p||sa.call(c,m)||(d[h]=c[m]=void 0),c.$observe(m,function(a){(F(a)||Ea(a))&&(g(h,a,d[h]),d[h]=a)}),c.$$observers[m].$$scope=a,v=c[m],F(v)?d[h]=b(v)(a):Ea(v)&&(d[h]=v),l[h]=new Fb(bc,d[h]);break;case"=":if(!sa.call(c,m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;s=n(c[m]),C=s.literal?na:function(a,b){return a===b||a!==a&&b!==b},L=s.assign||function(){throw v=d[h]=s(a),fa("nonassign",c[m],m,f.name)},v=d[h]=s(a),p=function(b){return C(b,d[h])||(C(b,v)?L(a,b=d[h]):d[h]=b),v=b},p.$stateful=!0,p=e.collection?a.$watchCollection(c[m],p):a.$watch(n(c[m],p),null,s.literal),k.push(p);break;case"<":if(!sa.call(c,m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;s=n(c[m]);var D=d[h]=s(a);l[h]=new Fb(bc,d[h]),p=a.$watch(s,function(a,b){if(b===a){if(b===D)return;b=D}g(h,a,b),d[h]=a},s.literal),k.push(p);break;case"&":if((s=c.hasOwnProperty(m)?n(c[m]):A)===A&&p)break;d[h]=function(b){return s(a,b)}}}),{initialChanges:l,removeWatches:k.length&&function(){for(var a=0,b=k.length;a<b;++a)k[a]()}}}var Z,ma=/^\w/,la=E.document.createElement("div"),oa=s;Aa.prototype={$normalize:xa,$addClass:function(a){a&&0<a.length&&C.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&C.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=bd(a,b);c&&c.length&&C.addClass(this.$$element,c),(c=bd(b,a))&&c.length&&C.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=Uc(this.$$element[0],a),g=cd[a],h=a;if(f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g),this[a]=b,e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Cc(a,"-")),"a"===(f=ua(this.$$element))&&("href"===a||"xlinkHref"===a)||"img"===f&&"src"===a)this[a]=b=D(b,"src"===a);else if("img"===f&&"srcset"===a&&x(b)){for(var f="",g=W(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(g)?k:/(,)/,g=g.split(k),k=Math.floor(g.length/2),l=0;l<k;l++)var n=2*l,f=f+D(W(g[n]),!0),f=f+" "+W(g[n+1]);g=W(g[2*l]).split(/\s/),f+=D(W(g[0]),!0),2===g.length&&(f+=" "+W(g[1])),this[a]=b=f}!1!==d&&(null===b||w(b)?this.$$element.removeAttr(e):ma.test(e)?this.$$element.attr(e,b):Q(this.$$element[0],e,b)),(a=this.$$observers)&&r(a[h],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=T()),e=d[a]||(d[a]=[]);return e.push(b),P.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||w(c[a])||b(c[a])}),function(){$a(e,b)}}};var pa=b.startSymbol(),qa=b.endSymbol(),ra="{{"==pa&&"}}"==qa?Ya:function(a){return a.replace(/\{\{/g,pa).replace(/}}/g,qa)},ya=/^ngAttr[A-Z]/,za=/^(.+)Start$/;return ba.$$addBindingInfo=p?function(a,b){var c=a.data("$binding")||[];J(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:A,ba.$$addBindingClass=p?function(a){N(a,"ng-binding")}:A,ba.$$addScopeInfo=p?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:A,ba.$$addScopeClass=p?function(a,b){N(a,b?"ng-isolate-scope":"ng-scope")}:A,ba.$$createComment=function(a,b){var c="";return p&&(c=" "+(a||"")+": ",b&&(c+=b+" ")),E.document.createComment(c)},ba}]}function Fb(a,b){this.previousValue=a,this.currentValue=b}function xa(a){return eb(a.replace(Yc,""))}function bd(a,b){var d="",c=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<c.length;f++){for(var g=c[f],h=0;h<e.length;h++)if(g==e[h])continue a;d+=(0<d.length?" ":"")+g}return d}function $c(a){a=B(a);var b=a.length;if(1>=b)return a;for(;b--;)8===a[b].nodeType&&bg.call(a,b,1);return a}function Xc(a,b){if(b&&F(b))return b;if(F(a)){var d=dd.exec(a);if(d)return d[3]}}function gf(){var a={},b=!1;this.has=function(b){return a.hasOwnProperty(b)},this.register=function(b,c){Ra(b,"controller"),H(b)?R(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(d,c){function e(a,b,c,d){if(!a||!H(a.$scope))throw O("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,h,k){var l,m,n;if(h=!0===h,k&&F(k)&&(n=k),F(f)){if(!(k=f.match(dd)))throw cg("ctrlfmt",f);m=k[1],n=n||k[3],f=a.hasOwnProperty(m)?a[m]:Ec(g.$scope,m,!0)||(b?Ec(c,m,!0):void 0),Qa(f,m,!0)}return h?(h=(J(f)?f[f.length-1]:f).prototype,l=Object.create(h||null),n&&e(g,n,l,m||f.name),R(function(){var a=d.invoke(f,l,g,m);return a!==l&&(H(a)||z(a))&&(l=a,n&&e(g,n,l,m||f.name)),l},{instance:l,identifier:n})):(l=d.instantiate(f,g,m),n&&e(g,n,l,m||f.name),l)}}]}function hf(){this.$get=["$window",function(a){return B(a.document)}]}function jf(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function cc(a){return H(a)?ia(a)?a.toISOString():cb(a):a}function of(){this.$get=function(){return function(a){if(!a)return"";var b=[];return tc(a,function(a,c){null===a||w(a)||(J(a)?r(a,function(a){b.push(ja(c)+"="+ja(cc(a)))}):b.push(ja(c)+"="+ja(cc(a))))}),b.join("&")}}}function pf(){this.$get=function(){return function(a){function b(a,e,f){null===a||w(a)||(J(a)?r(a,function(a,c){b(a,e+"["+(H(a)?c:"")+"]")}):H(a)&&!ia(a)?tc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):d.push(ja(e)+"="+ja(cc(a))))}if(!a)return"";var d=[];return b(a,"",!0),d.join("&")}}}function dc(a,b){if(F(a)){var d=a.replace(dg,"").trim();if(d){var c=b("Content-Type");(c=c&&0===c.indexOf(ed))||(c=(c=d.match(eg))&&fg[c[0]].test(d)),c&&(a=xc(d))}}return a}function fd(a){var d,b=T();return F(a)?r(a.split("\n"),function(a){d=a.indexOf(":");var e=M(W(a.substr(0,d)));a=W(a.substr(d+1)),e&&(b[e]=b[e]?b[e]+", "+a:a)}):H(a)&&r(a,function(a,d){var f=M(d),g=W(a);f&&(b[f]=b[f]?b[f]+", "+g:g)}),b}function gd(a){var b;return function(d){return b||(b=fd(a)),d?(d=b[M(d)],void 0===d&&(d=null),d):b}}function hd(a,b,d,c){return z(c)?c(a,b,d):(r(c,function(c){a=c(a,b,d)}),a)}function nf(){var a=this.defaults={transformResponse:[dc],transformRequest:[function(a){return H(a)&&"[object File]"!==ka.call(a)&&"[object Blob]"!==ka.call(a)&&"[object FormData]"!==ka.call(a)?cb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ga(ec),put:ga(ec),patch:ga(ec)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return x(a)?(b=!!a,this):b};var d=!0;this.useLegacyPromiseExtensions=function(a){return x(a)?(d=!!a,this):d};var c=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(e,f,g,h,k,l){function m(b){function c(a){var b=R({},a);return b.data=hd(a.data,a.headers,a.status,f.transformResponse),a=a.status,200<=a&&300>a?b:k.reject(b)}function e(a,b){var c,d={};return r(a,function(a,e){z(a)?null!=(c=a(b))&&(d[e]=c):d[e]=a}),d}if(!H(b))throw O("$http")("badreq",b);if(!F(b.url))throw O("$http")("badreq",b.url);var f=R({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);f.headers=function(b){var f,g,h,c=a.headers,d=R({},b.headers),c=R({},c.common,c[M(b.method)]);a:for(f in c){g=M(f);for(h in d)if(M(h)===g)continue a;d[f]=c[f]}return e(d,ga(b))}(b),f.method=ub(f.method),f.paramSerializer=F(f.paramSerializer)?l.get(f.paramSerializer):f.paramSerializer;var g=[function(b){var d=b.headers,e=hd(b.data,gd(d),void 0,b.transformRequest);return w(e)&&r(d,function(a,b){"content-type"===M(b)&&delete d[b]}),w(b.withCredentials)&&!w(a.withCredentials)&&(b.withCredentials=a.withCredentials),n(b,e).then(c,c)},void 0],h=k.when(f);for(r(V,function(a){(a.request||a.requestError)&&g.unshift(a.request,a.requestError),(a.response||a.responseError)&&g.push(a.response,a.responseError)});g.length;){b=g.shift();var m=g.shift(),h=h.then(b,m)}return d?(h.success=function(a){return Qa(a,"fn"),h.then(function(b){a(b.data,b.status,b.headers,f)}),h},h.error=function(a){return Qa(a,"fn"),h.then(null,function(b){a(b.data,b.status,b.headers,f)}),h}):(h.success=id("success"),h.error=id("error")),h}function n(c,d){function g(a){if(a){var c={};return r(a,function(a,d){c[d]=function(c){function d(){a(c)}b?h.$applyAsync(d):h.$$phase?d():h.$apply(d)}}),c}}function l(a,c,d,e){function f(){n(c,a,d,e)}D&&(200<=a&&300>a?D.put(Q,[a,c,fd(d),e]):D.remove(Q)),b?h.$applyAsync(f):(f(),h.$$phase||h.$apply())}function n(a,b,d,e){b=-1<=b?b:0,(200<=b&&300>b?L.resolve:L.reject)({data:a,status:b,headers:gd(d),config:c,statusText:e})}function y(a){n(a.data,a.status,ga(a.headers()),a.statusText)}function V(){var a=m.pendingRequests.indexOf(c);-1!==a&&m.pendingRequests.splice(a,1)}var D,G,L=k.defer(),C=L.promise,Aa=c.headers,Q=p(c.url,c.paramSerializer(c.params));return m.pendingRequests.push(c),C.then(V,V),!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(D=H(c.cache)?c.cache:H(a.cache)?a.cache:s),D&&(G=D.get(Q),x(G)?G&&z(G.then)?G.then(y,y):J(G)?n(G[1],G[0],ga(G[2]),G[3]):n(G,200,{},"OK"):D.put(Q,C)),w(G)&&((G=jd(c.url)?f()[c.xsrfCookieName||a.xsrfCookieName]:void 0)&&(Aa[c.xsrfHeaderName||a.xsrfHeaderName]=G),e(c.method,Q,d,l,Aa,c.timeout,c.withCredentials,c.responseType,g(c.eventHandlers),g(c.uploadEventHandlers))),C}function p(a,b){return 0<b.length&&(a+=(-1==a.indexOf("?")?"?":"&")+b),a}var s=g("$http");a.paramSerializer=F(a.paramSerializer)?l.get(a.paramSerializer):a.paramSerializer;var V=[];return r(c,function(a){V.unshift(F(a)?l.get(a):l.invoke(a))}),m.pendingRequests=[],function(a){r(arguments,function(a){m[a]=function(b,c){return m(R({},c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(a){r(arguments,function(a){m[a]=function(b,c,d){return m(R({},d||{},{method:a,url:b,data:c}))}})}("post","put","patch"),m.defaults=a,m}]}function rf(){this.$get=function(){return function(){return new E.XMLHttpRequest}}}function qf(){this.$get=["$browser","$window","$document","$xhrFactory",function(a,b,d,c){return gg(a,c,a.defer,b.angular.callbacks,d[0])}]}function gg(a,b,d,c,e){function f(a,b,d){var f=e.createElement("script"),m=null;return f.type="text/javascript",f.src=a,f.async=!0,m=function(a){f.removeEventListener("load",m,!1),f.removeEventListener("error",m,!1),e.body.removeChild(f),f=null;var g=-1,s="unknown";a&&("load"!==a.type||c[b].called||(a={type:"error"}),s=a.type,g="error"===a.type?404:200),d&&d(g,s)},f.addEventListener("load",m,!1),f.addEventListener("error",m,!1),e.body.appendChild(f),m}return function(e,h,k,l,m,n,p,s,V,I){function q(){u&&u(),y&&y.abort()}function K(b,c,e,f,g){x(L)&&d.cancel(L),u=y=null,b(c,e,f,g),a.$$completeOutstandingRequest(A)}if(a.$$incOutstandingRequestCount(),h=h||a.url(),"jsonp"==M(e)){var v="_"+(c.counter++).toString(36);c[v]=function(a){c[v].data=a,c[v].called=!0};var u=f(h.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(a,b){K(l,a,c[v].data,"",b),c[v]=A})}else{var y=b(e,h);if(y.open(e,h,!0),r(m,function(a,b){x(a)&&y.setRequestHeader(b,a)}),y.onload=function(){var a=y.statusText||"",b="response"in y?y.response:y.responseText,c=1223===y.status?204:y.status;0===c&&(c=b?200:"file"==qa(h).protocol?404:0),K(l,c,b,y.getAllResponseHeaders(),a)},e=function(){K(l,-1,null,null,"")},y.onerror=e,y.onabort=e,r(V,function(a,b){y.addEventListener(b,a)}),r(I,function(a,b){y.upload.addEventListener(b,a)}),p&&(y.withCredentials=!0),s)try{y.responseType=s}catch(P){if("json"!==s)throw P}y.send(w(k)?null:k)}if(0<n)var L=d(q,n);else n&&z(n.then)&&n.then(q)}}function lf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(p,b)}function h(a,b,c,d){var e;return e=a.$watch(function(a){return e(),d(a)},b,c)}function k(f,k,n,p){function r(a){try{var b=a;a=n?e.getTrusted(n,b):e.valueOf(b);var d;if(p&&!x(a))d=a;else if(null==a)d="";else{switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=cb(a)}d=a}return d}catch(g){c(Ka.interr(f,g))}}if(!f.length||-1===f.indexOf(a)){var v;return k||(k=g(f),v=da(k),v.exp=f,v.expressions=[],v.$$watchDelegate=h),v}p=!!p;var u,y,P=0,L=[],C=[];v=f.length;for(var D=[],G=[];P<v;){if(-1==(u=f.indexOf(a,P))||-1==(y=f.indexOf(b,u+l))){P!==v&&D.push(g(f.substring(P)));break}P!==u&&D.push(g(f.substring(P,u))),P=f.substring(u+l,y),L.push(P),C.push(d(P,r)),P=y+m,G.push(D.length),D.push("")}if(n&&1<D.length&&Ka.throwNoconcat(f),!k||L.length){var Aa=function(a){for(var b=0,c=L.length;b<c;b++){if(p&&w(a[b]))return;D[G[b]]=a[b]}return D.join("")};return R(function(a){var b=0,d=L.length,e=Array(d);try{for(;b<d;b++)e[b]=C[b](a);return Aa(e)}catch(g){c(Ka.interr(f,g))}},{exp:f,expressions:L,$$watchDelegate:function(a,b){var c;return a.$watchGroup(C,function(d,e){var f=Aa(d);z(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),p=new RegExp(b.replace(/./g,f),"g");return k.startSymbol=function(){return a},k.endSymbol=function(){return b},k}]}function mf(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,d,c,e){function f(f,k,l,m){function n(){p?f.apply(null,s):f(q)}var p=4<arguments.length,s=p?ta.call(arguments,4):[],r=b.setInterval,I=b.clearInterval,q=0,K=x(m)&&!m,v=(K?c:d).defer(),u=v.promise;return l=x(l)?l:0,u.$$intervalId=r(function(){K?e.defer(n):a.$evalAsync(n),v.notify(q++),0<l&&q>=l&&(v.resolve(q),I(u.$$intervalId),delete g[u.$$intervalId]),K||a.$apply()},k),g[u.$$intervalId]=v,u}var g={};return f.cancel=function(a){return!!(a&&a.$$intervalId in g)&&(g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0)},f}]}function fc(a){a=a.split("/");for(var b=a.length;b--;)a[b]=qb(a[b]);return a.join("/")}function kd(a,b){var d=qa(a);b.$$protocol=d.protocol,b.$$host=d.hostname,b.$$port=aa(d.port)||hg[d.protocol]||null}function ld(a,b){var d="/"!==a.charAt(0);d&&(a="/"+a);var c=qa(a);b.$$path=decodeURIComponent(d&&"/"===c.pathname.charAt(0)?c.pathname.substring(1):c.pathname),b.$$search=Ac(c.search),b.$$hash=decodeURIComponent(c.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function la(a,b){if(0===b.lastIndexOf(a,0))return b.substr(a.length)}function Ja(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function jb(a){return a.replace(/(#.+)|#$/,"$1")}function gc(a,b,d){this.$$html5=!0,d=d||"",kd(a,this),this.$$parse=function(a){var d=la(b,a);if(!F(d))throw Gb("ipthprfx",a,b);ld(d,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=Tb(this.$$search),d=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=fc(this.$$path)+(a?"?"+a:"")+d,this.$$absUrl=b+this.$$url.substr(1)},this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return x(f=la(a,c))?(g=f,g=x(f=la(d,f))?b+(la("/",f)||f):a+g):x(f=la(b,c))?g=b+f:b==c+"/"&&(g=b),g&&this.$$parse(g),!!g}}function hc(a,b,d){kd(a,this),this.$$parse=function(c){var f,e=la(a,c)||la(b,c);w(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",w(e)&&(a=c,this.replace())):(f=la(d,e),w(f)&&(f=e)),ld(f,this),c=this.$$path;var e=a,g=/^\/[A-Z]:(\/.*)/;0===f.lastIndexOf(e,0)&&(f=f.replace(e,"")),g.exec(f)||(c=(f=g.exec(c))?f[1]:c),this.$$path=c,this.$$compose()},this.$$compose=function(){var b=Tb(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=fc(this.$$path)+(b?"?"+b:"")+e,this.$$absUrl=a+(this.$$url?d+this.$$url:"")},this.$$parseLinkUrl=function(b,d){return Ja(a)==Ja(b)&&(this.$$parse(b),!0)}}function md(a,b,d){this.$$html5=!0,hc.apply(this,arguments),this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==Ja(c)?f=c:(g=la(b,c))?f=a+d+g:b===c+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=Tb(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=fc(this.$$path)+(b?"?"+b:"")+e,this.$$absUrl=a+d+this.$$url}}function Hb(a){return function(){return this[a]}}function nd(a,b){return function(d){return w(d)?this[a]:(this[a]=b(d),this.$$compose(),this)}}function sf(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return x(b)?(a=b,this):a},this.html5Mode=function(a){return Ea(a)?(b.enabled=a,this):H(a)?(Ea(a.enabled)&&(b.enabled=a.enabled),Ea(a.requireBase)&&(b.requireBase=a.requireBase),Ea(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,c,e,f,g){function h(a,b,d){var e=l.url(),f=l.$$state;try{c.url(a,b,d),l.$$state=c.state()}catch(g){throw l.url(e),l.$$state=f,g}}function k(a,b){d.$broadcast("$locationChangeSuccess",l.absUrl(),a,l.$$state,b)}var l,m;m=c.baseHref();var p,n=c.url();if(b.enabled){if(!m&&b.requireBase)throw Gb("nobase");p=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(m||"/"),m=e.history?gc:md}else p=Ja(n),m=hc;var s=p.substr(0,Ja(p).lastIndexOf("/")+1);l=new m(p,s,"#"+a),l.$$parseLinkUrl(n,n),l.$$state=c.state();var r=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=B(a.target);"a"!==ua(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),k=e.attr("href")||e.attr("xlink:href");H(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=qa(h.animVal).href),r.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||!l.$$parseLinkUrl(h,k)||(a.preventDefault(),l.absUrl()!=c.url()&&(d.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),jb(l.absUrl())!=jb(n)&&c.url(l.absUrl(),!0);var I=!0;return c.onUrlChange(function(a,b){w(la(s,a))?g.location.href=a:(d.$evalAsync(function(){var f,c=l.absUrl(),e=l.$$state;a=jb(a),l.$$parse(a),l.$$state=b,f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented,l.absUrl()===a&&(f?(l.$$parse(c),l.$$state=e,h(c,!1,e)):(I=!1,k(c,e)))}),d.$$phase||d.$digest())}),d.$watch(function(){var a=jb(c.url()),b=jb(l.absUrl()),f=c.state(),g=l.$$replace,n=a!==b||l.$$html5&&e.history&&f!==l.$$state;(I||n)&&(I=!1,d.$evalAsync(function(){var b=l.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,l.$$state,f).defaultPrevented;l.absUrl()===b&&(c?(l.$$parse(a),l.$$state=f):(n&&h(b,g,f===l.$$state?null:l.$$state),k(a,f)))})),l.$$replace=!1}),l}]}function tf(){var a=!0,b=this;this.debugEnabled=function(b){return x(b)?(a=b,this):a},this.$get=["$window",function(d){function c(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=d.console||{},e=b[a]||b.log||A;a=!1;try{a=!!e.apply}catch(k){}return a?function(){var a=[];return r(arguments,function(b){a.push(c(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Ua(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw ca("isecfld",b);return a}function ig(a){return a+""}function ra(a,b){if(a){if(a.constructor===a)throw ca("isecfn",b);if(a.window===a)throw ca("isecwindow",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw ca("isecdom",b);if(a===Object)throw ca("isecobj",b)}return a}function od(a,b){if(a){if(a.constructor===a)throw ca("isecfn",b);if(a===jg||a===kg||a===lg)throw ca("isecff",b)}}function Ib(a,b){if(a&&(a===(0).constructor||a===(!1).constructor||a==="".constructor||a==={}.constructor||a===[].constructor||a===Function.constructor))throw ca("isecaf",b)}function mg(a,b){return void 0!==a?a:b}function pd(a,b){return void 0===a?b:void 0===b?a:a+b}function $(a,b){var d,c;switch(a.type){case t.Program:d=!0,r(a.body,function(a){$(a.expression,b),d=d&&a.expression.constant}),a.constant=d;break;case t.Literal:a.constant=!0,a.toWatch=[];break;case t.UnaryExpression:$(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case t.BinaryExpression:$(a.left,b),$(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case t.LogicalExpression:$(a.left,b),$(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case t.ConditionalExpression:$(a.test,b),$(a.alternate,b),$(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case t.Identifier:a.constant=!1,a.toWatch=[a];break;case t.MemberExpression:$(a.object,b),a.computed&&$(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case t.CallExpression:d=!!a.filter&&!b(a.callee.name).$stateful,c=[],r(a.arguments,function(a){$(a,b),d=d&&a.constant,a.constant||c.push.apply(c,a.toWatch)}),a.constant=d,a.toWatch=a.filter&&!b(a.callee.name).$stateful?c:[a];break;case t.AssignmentExpression:$(a.left,b),$(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case t.ArrayExpression:d=!0,c=[],r(a.elements,function(a){$(a,b),d=d&&a.constant,a.constant||c.push.apply(c,a.toWatch)}),a.constant=d,a.toWatch=c;break;case t.ObjectExpression:d=!0,c=[],r(a.properties,function(a){$(a.value,b),d=d&&a.value.constant&&!a.computed,a.value.constant||c.push.apply(c,a.value.toWatch)}),a.constant=d,a.toWatch=c;break;case t.ThisExpression:a.constant=!1,a.toWatch=[];break;case t.LocalsExpression:a.constant=!1,a.toWatch=[]}}function qd(a){if(1==a.length){a=a[0].expression;var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:void 0}}function rd(a){return a.type===t.Identifier||a.type===t.MemberExpression}function sd(a){if(1===a.body.length&&rd(a.body[0].expression))return{type:t.AssignmentExpression,left:a.body[0].expression,right:{type:t.NGValueParameter},operator:"="}}function td(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===t.Literal||a.body[0].expression.type===t.ArrayExpression||a.body[0].expression.type===t.ObjectExpression)}function ud(a,b){this.astBuilder=a,this.$filter=b}function vd(a,b){this.astBuilder=a,this.$filter=b}function Jb(a){return"constructor"==a}function ic(a){return z(a.valueOf)?a.valueOf():ng.call(a)}function uf(){var c,e,a=T(),b=T(),d={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(a,b){d[a]=b},this.setIdentifierFns=function(a,b){return c=a,e=b,this},this.$get=["$filter",function(f){function g(c,d,e){var g,k,C;switch(e=e||K,typeof c){case"string":C=c=c.trim();var D=e?b:a;if(!(g=D[C])){":"===c.charAt(0)&&":"===c.charAt(1)&&(k=!0,c=c.substring(2)),g=e?q:I;var G=new jc(g);g=new kc(G,f,g).parse(c),g.constant?g.$$watchDelegate=p:k?g.$$watchDelegate=g.literal?n:m:g.inputs&&(g.$$watchDelegate=l),e&&(g=h(g)),D[C]=g}return s(g,d);case"function":return s(c,d);default:return s(A,d)}}function h(a){function b(c,d,e,f){var g=K;K=!0;try{return a(c,d,e,f)}finally{K=g}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate,b.assign=h(a.assign),b.constant=a.constant,b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=h(a.inputs[c]);return b.inputs=a.inputs,b}function k(a,b){return null==a||null==b?a===b:("object"!=typeof a||"object"!=typeof(a=ic(a)))&&(a===b||a!==a&&b!==b)}function l(a,b,c,d,e){var g,f=d.inputs;if(1===f.length){var h=k,f=f[0];return a.$watch(function(a){var b=f(a);return k(b,h)||(g=d(a,void 0,void 0,[b]),h=b&&ic(b)),g},b,c,e)}for(var l=[],n=[],m=0,p=f.length;m<p;m++)l[m]=k,n[m]=null;return a.$watch(function(a){for(var b=!1,c=0,e=f.length;c<e;c++){var h=f[c](a);(b||(b=!k(h,l[c])))&&(n[c]=h,l[c]=h&&ic(h))}return b&&(g=d(a,void 0,void 0,n)),g},b,c,e)}function m(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,z(b)&&b.apply(this,arguments),x(a)&&d.$$postDigest(function(){x(f)&&e()})},c)}function n(a,b,c,d){function e(a){var b=!0;return r(a,function(a){x(a)||(b=!1)}),b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a,z(b)&&b.call(this,a,c,d),e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function p(a,b,c,d){var e;return e=a.$watch(function(a){return e(),d(a)},b,c)}function s(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,c=c!==n&&c!==m?function(c,e,f,g){return f=d&&g?g[0]:a(c,e,f,g),b(f,c,e)}:function(c,d,e,f){return e=a(c,d,e,f),c=b(e,c,d),x(e)?c:e};return a.$$watchDelegate&&a.$$watchDelegate!==l?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=l,d=!a.inputs,c.inputs=a.inputs?a.inputs:[a]),c}var V=Fa().noUnsafeEval,I={csp:V,expensiveChecks:!1,literals:Z(d),isIdentifierStart:z(c)&&c,isIdentifierContinue:z(e)&&e},q={csp:V,expensiveChecks:!0,literals:Z(d),isIdentifierStart:z(c)&&c,isIdentifierContinue:z(e)&&e},K=!1;return g.$$runningExpensiveChecks=function(){return K},g}]}function wf(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return wd(function(b){a.$evalAsync(b)},b)}]}function xf(){this.$get=["$browser","$exceptionHandler",function(a,b){return wd(function(b){a.defer(b)},b)}]}function wd(a,b){function d(){this.$$state={status:0}}function c(a,b){return function(c){b.call(a,c)}}function e(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,a(function(){var a,d,e;e=c.pending,c.processScheduled=!1,c.pending=void 0;for(var f=0,g=e.length;f<g;++f){d=e[f][0],a=e[f][c.status];try{z(a)?d.resolve(a(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),b(h)}}}))}function f(){this.promise=new d}var g=O("$q",TypeError);R(d.prototype,{then:function(a,b,c){if(w(a)&&w(b)&&w(c))return this;var d=new f;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),0<this.$$state.status&&e(this.$$state),d.promise},catch:function(a){return this.then(null,a)},finally:function(a,b){return this.then(function(b){return k(b,!0,a)},function(b){return k(b,!1,a)},b)}}),R(f.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(g("qcycle",a)):this.$$resolve(a))},$$resolve:function(a){function d(a){k||(k=!0,h.$$resolve(a))}function f(a){k||(k=!0,h.$$reject(a))}var g,h=this,k=!1;try{(H(a)||z(a))&&(g=a&&a.then),z(g)?(this.promise.$$state.status=-1,g.call(a,d,f,c(this,this.notify))):(this.promise.$$state.value=a,this.promise.$$state.status=1,e(this.promise.$$state))}catch(l){f(l),b(l)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,e(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;f<g;f++){e=d[f][0],a=d[f][3];try{e.notify(z(a)?a(c):c)}catch(h){b(h)}}})}});var h=function(a,b){var c=new f;return b?c.resolve(a):c.reject(a),c.promise},k=function(a,b,c){var d=null;try{z(c)&&(d=c())}catch(e){return h(e,!1)}return d&&z(d.then)?d.then(function(){return h(a,b)},function(a){return h(a,!1)}):h(a,b)},l=function(a,b,c,d){var e=new f;return e.resolve(a),e.promise.then(b,c,d)},m=function(a){if(!z(a))throw g("norslvr",a);var b=new f;return a(function(a){b.resolve(a)},function(a){b.reject(a)}),b.promise};return m.prototype=d.prototype,m.defer=function(){var a=new f;return a.resolve=c(a,a.resolve),a.reject=c(a,a.reject),a.notify=c(a,a.notify),a},m.reject=function(a){var b=new f;return b.reject(a),b.promise},m.when=l,m.resolve=l,m.all=function(a){var b=new f,c=0,d=J(a)?[]:{};return r(a,function(a,e){c++,l(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise},m}function Gf(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function vf(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++pb,this.$$ChildScope=null}return b.prototype=a,b}var b=10,d=O("$rootScope"),c=null,e=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$exceptionHandler","$parse","$browser",function(f,g,h){function k(a){a.currentScope.$$destroyed=!0}function l(a){9===Ba&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=++pb,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function n(a){if(K.$$phase)throw d("inprog",K.$$phase);K.$$phase=a}function p(a,b){do{a.$$watchersCount+=b}while(a=a.$parent)}function s(a,b,c){do{a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c]}while(a=a.$parent)}function t(){}function I(){for(;y.length;)try{y.shift()()}catch(a){f(a)}e=null}function q(){null===e&&(e=h.defer(function(){K.$apply(I)}))}m.prototype={constructor:m,$new:function(b,c){var d;return c=c||this,b?(d=new m,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!=this)&&d.$on("$destroy",k),d},$watch:function(a,b,d,e){var f=g(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:t,get:f,exp:e||a,eq:!!d};return c=null,z(b)||(l.fn=A),k||(k=h.$$watchers=[]),k.unshift(l),p(this,1),function(){0<=$a(k,l)&&p(h,-1),c=null}},$watchGroup:function(a,b){function c(){h=!1,k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;return g.$evalAsync(function(){l&&b(e,e,g)}),function(){l=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(r(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a,d[b]=f,h||(h=!0,g.$evalAsync(c))});f.push(k)}),function(){for(;f.length;)f.shift()()})},$watchCollection:function(a,b){function c(a){e=a;var b,g,h;if(!w(e)){if(H(e))if(oa(e))for(f!==n&&(f=n,q=f.length=0,l++),a=e.length,q!==a&&(l++,f.length=q=a),b=0;b<a;b++)h=f[b],g=e[b],h!==h&&g!==g||h===g||(l++,f[b]=g);else{f!==p&&(f=p={},q=0,l++),a=0;for(b in e)sa.call(e,b)&&(a++,g=e[b],h=f[b],b in f?h!==h&&g!==g||h===g||(l++,f[b]=g):(q++,f[b]=g,l++));if(q>a)for(b in l++,f)sa.call(e,b)||(q--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var e,f,h,d=this,k=1<b.length,l=0,m=g(a,c),n=[],p={},s=!0,q=0;return this.$watch(m,function(){if(s?(s=!1,b(e,e,d)):b(e,h,d),k)if(H(e))if(oa(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)sa.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,k,l,m,p,s,q,y,w,A,r=b,x=[];n("$digest"),h.$$checkUrlChange(),this===K&&null!==e&&(h.defer.cancel(e),I()),c=null;do{for(q=!1,y=this,
p=0;p<v.length;p++){try{A=v[p],A.scope.$eval(A.expression,A.locals)}catch(E){f(E)}c=null}v.length=0;a:do{if(p=y.$$watchers)for(s=p.length;s--;)try{if(a=p[s])if(m=a.get,(g=m(y))===(k=a.last)||(a.eq?na(g,k):"number"==typeof g&&"number"==typeof k&&isNaN(g)&&isNaN(k))){if(a===c){q=!1;break a}}else q=!0,c=a,a.last=a.eq?Z(g,null):g,l=a.fn,l(g,k===t?g:k,y),5>r&&(w=4-r,x[w]||(x[w]=[]),x[w].push({msg:z(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:k}))}catch(B){f(B)}if(!(p=y.$$watchersCount&&y.$$childHead||y!==this&&y.$$nextSibling))for(;y!==this&&!(p=y.$$nextSibling);)y=y.$parent}while(y=p);if((q||v.length)&&!r--)throw K.$$phase=null,d("infdig",b,x)}while(q||v.length);for(K.$$phase=null;P<u.length;)try{u[P++]()}catch(F){f(F)}u.length=P=0},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===K&&h.$$applicationDestroyed(),p(this,-this.$$watchersCount);for(var b in this.$$listenerCount)s(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=A,this.$on=this.$watch=this.$watchGroup=function(){return A},this.$$listeners={},this.$$nextSibling=null,l(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){K.$$phase||v.length||h.defer(function(){v.length&&K.$digest()}),v.push({scope:this,expression:g(a),locals:b})},$$postDigest:function(a){u.push(a)},$apply:function(a){try{n("$apply");try{return this.$eval(a)}finally{K.$$phase=null}}catch(b){f(b)}finally{try{K.$digest()}catch(c){throw f(c),c}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&y.push(b),a=g(a),q()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do{d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++}while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,s(e,1,a))}},$emit:function(a,b){var d,l,m,c=[],e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=ab([h],arguments,1);do{for(d=e.$$listeners[a]||c,h.currentScope=e,l=0,m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){f(n)}else d.splice(l,1),l--,m--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);return h.currentScope=null,h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var h,k,g=ab([e],arguments,1);c=d;){for(e.currentScope=c,d=c.$$listeners[a]||[],h=0,k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}return e.currentScope=null,e}};var K=new m,v=K.$$asyncQueue=[],u=K.$$postDigestQueue=[],y=K.$$applyAsyncQueue=[],P=0;return K}]}function oe(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return x(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return x(a)?(b=a,this):b},this.$get=function(){return function(d,c){var f,e=c?b:a;return f=qa(d).href,""===f||f.match(e)?d:"unsafe:"+f}}}function og(a){if("self"===a)return a;if(F(a)){if(-1<a.indexOf("***"))throw ya("iwcard",a);return a=xd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(Xa(a))return new RegExp("^"+a.source+"$");throw ya("imatcher")}function yd(a){var b=[];return x(a)&&r(a,function(a){b.push(og(a))}),b}function zf(){this.SCE_CONTEXTS=ma;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=yd(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=yd(a)),b},this.$get=["$injector",function(d){function c(a,b){return"self"===a?jd(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var f=function(a){throw ya("unsafe")};d.has("$sanitize")&&(f=d.get("$sanitize"));var g=e(),h={};return h[ma.HTML]=e(g),h[ma.CSS]=e(g),h[ma.URL]=e(g),h[ma.JS]=e(g),h[ma.RESOURCE_URL]=e(h[ma.URL]),{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw ya("icontext",a,b);if(null===b||w(b)||""===b)return b;if("string"!=typeof b)throw ya("itype",a);return new c(b)},getTrusted:function(d,e){if(null===e||w(e)||""===e)return e;var g=h.hasOwnProperty(d)?h[d]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(d===ma.RESOURCE_URL){var n,p,g=qa(e.toString()),s=!1;for(n=0,p=a.length;n<p;n++)if(c(a[n],g)){s=!0;break}if(s)for(n=0,p=b.length;n<p;n++)if(c(b[n],g)){s=!1;break}if(s)return e;throw ya("insecurl",e.toString())}if(d===ma.HTML)return f(e);throw ya("unsafe")},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function yf(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,d){if(a&&8>Ba)throw ya("iequirks");var c=ga(ma);c.isEnabled=function(){return a},c.trustAs=d.trustAs,c.getTrusted=d.getTrusted,c.valueOf=d.valueOf,a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=Ya),c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,f=c.getTrusted,g=c.trustAs;return r(ma,function(a,b){var d=M(b);c[eb("parse_as_"+d)]=function(b){return e(a,b)},c[eb("get_trusted_"+d)]=function(b){return f(a,b)},c[eb("trust_as_"+d)]=function(b){return g(a,b)}}),c}]}function Af(){this.$get=["$window","$document",function(a,b){var h,d={},c=!(a.chrome&&a.chrome.app&&a.chrome.app.runtime)&&a.history&&a.history.pushState,e=aa((/android (\d+)/.exec(M((a.navigator||{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},k=/^(Moz|webkit|ms)(?=[A-Z])/,l=g.body&&g.body.style,m=!1,n=!1;if(l){for(var p in l)if(m=k.exec(p)){h=m[0],h=h[0].toUpperCase()+h.substr(1);break}h||(h="WebkitOpacity"in l&&"webkit"),m=!!("transition"in l||h+"Transition"in l),n=!!("animation"in l||h+"Animation"in l),!e||m&&n||(m=F(l.webkitTransition),n=F(l.webkitAnimation))}return{history:!(!c||4>e||f),hasEvent:function(a){if("input"===a&&11>=Ba)return!1;if(w(d[a])){var b=g.createElement("div");d[a]="on"+a in b}return d[a]},csp:Fa(),vendorPrefix:h,transitions:m,animations:n,android:e}}]}function Cf(){var a;this.httpOptions=function(b){return b?(a=b,this):a},this.$get=["$templateCache","$http","$q","$sce",function(b,d,c,e){function f(g,h){f.totalPendingRequests++,F(g)&&!w(b.get(g))||(g=e.getTrustedResourceUrl(g));var k=d.defaults&&d.defaults.transformResponse;return J(k)?k=k.filter(function(a){return a!==dc}):k===dc&&(k=null),d.get(g,R({cache:b,transformResponse:k},a)).finally(function(){f.totalPendingRequests--}).then(function(a){return b.put(g,a.data),a.data},function(a){if(!h)throw pg("tpload",g,a.status,a.statusText);return c.reject(a)})}return f.totalPendingRequests=0,f}]}function Df(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName("ng-binding");var g=[];return r(a,function(a){var c=ea.element(a).data("$binding");c&&r(c,function(c){d?new RegExp("(^|\\s)"+xd(b)+"(\\s|\\||$)").test(c)&&g.push(a):-1!=c.indexOf(b)&&g.push(a)})}),g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var k=a.querySelectorAll("["+g[h]+"model"+(d?"=":"*=")+'"'+b+'"]');if(k.length)return k}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function Ef(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,k,l){z(f)||(l=k,k=f,f=A);var r,m=ta.call(arguments,3),n=x(l)&&!l,p=(n?c:d).defer(),s=p.promise;return r=b.defer(function(){try{p.resolve(f.apply(null,m))}catch(b){p.reject(b),e(b)}finally{delete g[s.$$timeoutId]}n||a.$apply()},k),s.$$timeoutId=r,g[r]=p,s}var g={};return f.cancel=function(a){return!!(a&&a.$$timeoutId in g)&&(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId))},f}]}function qa(a){return Ba&&(Y.setAttribute("href",a),a=Y.href),Y.setAttribute("href",a),{href:Y.href,protocol:Y.protocol?Y.protocol.replace(/:$/,""):"",host:Y.host,search:Y.search?Y.search.replace(/^\?/,""):"",hash:Y.hash?Y.hash.replace(/^#/,""):"",hostname:Y.hostname,port:Y.port,pathname:"/"===Y.pathname.charAt(0)?Y.pathname:"/"+Y.pathname}}function jd(a){return a=F(a)?qa(a):a,a.protocol===zd.protocol&&a.host===zd.host}function Ff(){this.$get=da(E)}function Ad(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},c={},e="";return function(){var a,g,h,k,l;if((a=d.cookie||"")!==e)for(e=a,a=e.split("; "),c={},h=0;h<a.length;h++)g=a[h],0<(k=g.indexOf("="))&&(l=b(g.substring(0,k)),w(c[l])&&(c[l]=b(g.substring(k+1))));return c}}function Jf(){this.$get=Ad}function Mc(a){function b(d,c){if(H(d)){var e={};return r(d,function(a,c){e[c]=b(c,a)}),e}return a.factory(d+"Filter",c)}this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}],b("currency",Bd),b("date",Cd),b("filter",qg),b("json",rg),b("limitTo",sg),b("lowercase",tg),b("number",Dd),b("orderBy",Ed),b("uppercase",ug)}function qg(){return function(a,b,d){if(!oa(a)){if(null==a)return a;throw O("filter")("notarray",a)}var c;switch(lc(b)){case"function":break;case"boolean":case"null":case"number":case"string":c=!0;case"object":b=vg(b,d,c);break;default:return a}return Array.prototype.filter.call(a,b)}}function vg(a,b,d){var c=H(a)&&"$"in a;return!0===b?b=na:z(b)||(b=function(a,b){return!w(a)&&(null===a||null===b?a===b:!(H(b)||H(a)&&!vc(a))&&(a=M(""+a),b=M(""+b),-1!==a.indexOf(b)))}),function(e){return c&&!H(e)?La(e,a.$,b,!1):La(e,a,b,d)}}function La(a,b,d,c,e){var f=lc(a),g=lc(b);if("string"===g&&"!"===b.charAt(0))return!La(a,b.substring(1),d,c);if(J(a))return a.some(function(a){return La(a,b,d,c)});switch(f){case"object":var h;if(c){for(h in a)if("$"!==h.charAt(0)&&La(a[h],b,d,!0))return!0;return!e&&La(a,b,d,!1)}if("object"===g){for(h in b)if(e=b[h],!z(e)&&!w(e)&&(f="$"===h,!La(f?a:a[h],e,d,f,f)))return!1;return!0}return d(a,b);case"function":return!1;default:return d(a,b)}}function lc(a){return null===a?"null":typeof a}function Bd(a){var b=a.NUMBER_FORMATS;return function(a,c,e){return w(c)&&(c=b.CURRENCY_SYM),w(e)&&(e=b.PATTERNS[1].maxFrac),null==a?a:Fd(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(/\u00A4/g,c)}}function Dd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Fd(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function wg(a){var d,c,e,f,g,b=0;for(-1<(c=a.indexOf(Gd))&&(a=a.replace(Gd,"")),0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):0>c&&(c=a.length),e=0;a.charAt(e)==mc;e++);if(e==(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)==mc;)g--;for(c-=e,d=[],f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}return c>Hd&&(d=d.splice(0,Hd-1),b=c-1,c=1),{d:d,e:b,i:c}}function xg(a,b,d,c){var e=a.d,f=e.length-a.i;if(b=w(b)?Math.min(Math.max(d,f),c):+b,d=b+a.i,c=e[d],0<d){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(5<=c)if(0>d-1){for(c=0;c>d;c--)e.unshift(0),a.i++;e.unshift(1),a.i++}else e[d-1]++;for(;f<Math.max(0,b);f++)e.push(0);(b=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0))&&(e.unshift(b),a.i++)}function Fd(a,b,d,c,e){if(!F(a)&&!S(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,h=Math.abs(a)+"",k="";if(f)k="∞";else{for(g=wg(h),xg(g,e,b.minFrac,b.maxFrac),k=g.d,h=g.i,e=g.e,f=[],g=k.reduce(function(a,b){return a&&!b},!0);0>h;)k.unshift(0),h++;for(0<h?f=k.splice(h,k.length):(f=k,k=[0]),h=[],k.length>=b.lgSize&&h.unshift(k.splice(-b.lgSize,k.length).join(""));k.length>b.gSize;)h.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&h.unshift(k.join("")),k=h.join(d),f.length&&(k+=c+f.join("")),e&&(k+="e+"+e)}return 0>a&&!g?b.negPre+k+b.negSuf:b.posPre+k+b.posSuf}function Kb(a,b,d,c){var e="";for((0>a||c&&0>=a)&&(c?a=1-a:(a=-a,e="-")),a=""+a;a.length<b;)a=mc+a;return d&&(a=a.substr(a.length-b)),e+a}function X(a,b,d,c,e){return d=d||0,function(f){return f=f["get"+a](),(0<d||f>-d)&&(f+=d),0===f&&-12==d&&(f=12),Kb(f,b,c,e)}}function kb(a,b,d){return function(c,e){var f=c["get"+a]();return e[ub((d?"STANDALONE":"")+(b?"SHORT":"")+a)][f]}}function Id(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Jd(a){return function(b){var d=Id(b.getFullYear());return b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d,b=1+Math.round(b/6048e5),Kb(b,a)}}function nc(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Cd(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,k=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=aa(b[9]+b[10]),g=aa(b[9]+b[11])),h.call(a,aa(b[1]),aa(b[2])-1,aa(b[3])),f=aa(b[4]||0)-f,g=aa(b[5]||0)-g,h=aa(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),k.call(a,f,g,h,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var k,l,g="",h=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,F(c)&&(c=yg.test(c)?aa(c):b(c)),S(c)&&(c=new Date(c)),!ia(c)||!isFinite(c.getTime()))return c;for(;d;)(l=zg.exec(d))?(h=ab(h,l,1),d=h.pop()):(h.push(d),d=null);var m=c.getTimezoneOffset();return f&&(m=yc(f,m),c=Sb(c,f,!0)),r(h,function(b){k=Ag[b],g+=k?k(c,a.DATETIME_FORMATS,m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}}function rg(){return function(a,b){return w(b)&&(b=2),cb(a,b)}}function sg(){return function(a,b,d){return b=1/0===Math.abs(Number(b))?Number(b):aa(b),isNaN(b)?a:(S(a)&&(a=a.toString()),oa(a)?(d=!d||isNaN(d)?0:aa(d),d=0>d?Math.max(0,a.length+d):d,0<=b?oc(a,d,d+b):0===d?oc(a,b,a.length):oc(a,Math.max(0,d+b),d)):a)}}function oc(a,b,d){return F(a)?a.slice(b,d):ta.call(a,b,d)}function Ed(a){function b(b){return b.map(function(b){var c=1,d=Ya;if(z(b))d=b;else if(F(b)&&("+"!=b.charAt(0)&&"-"!=b.charAt(0)||(c="-"==b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(d=a(b),d.constant)))var e=d(),d=function(a){return a[e]};return{get:d,descending:c}})}function d(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function c(a,b){var c=0,d=a.type,k=b.type;if(d===k){var k=a.value,l=b.value;"string"===d?(k=k.toLowerCase(),l=l.toLowerCase()):"object"===d&&(H(k)&&(k=a.index),H(l)&&(l=b.index)),k!==l&&(c=k<l?-1:1)}else c=d<k?-1:1;return c}return function(a,f,g,h){if(null==a)return a;if(!oa(a))throw O("orderBy")("notarray",a);J(f)||(f=[f]),0===f.length&&(f=["+"]);var k=b(f),l=g?-1:1,m=z(h)?h:c;return a=Array.prototype.map.call(a,function(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:k.map(function(c){var e=c.get(a);return c=typeof e,null===e?(c="string",e="null"):"object"===c&&(z(e.valueOf)&&(e=e.valueOf(),d(e))||vc(e)&&(e=e.toString(),d(e))),{value:e,type:c,index:b}})}}),a.sort(function(a,b){for(var c=0,d=k.length;c<d;c++){var e=m(a.predicateValues[c],b.predicateValues[c]);if(e)return e*k[c].descending*l}return m(a.tieBreaker,b.tieBreaker)*l}),a=a.map(function(a){return a.value})}}function Ma(a){return z(a)&&(a={link:a}),a.restrict=a.restrict||"AC",da(a)}function Kd(a,b,d,c,e){var f=this,g=[];f.$error={},f.$$success={},f.$pending=void 0,f.$name=e(b.name||b.ngForm||"")(d),f.$dirty=!1,f.$pristine=!0,f.$valid=!0,f.$invalid=!1,f.$submitted=!1,f.$$parentForm=Lb,f.$rollbackViewValue=function(){r(g,function(a){a.$rollbackViewValue()})},f.$commitViewValue=function(){r(g,function(a){a.$commitViewValue()})},f.$addControl=function(a){Ra(a.$name,"input"),g.push(a),a.$name&&(f[a.$name]=a),a.$$parentForm=f},f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c],f[b]=a,a.$name=b},f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name],r(f.$pending,function(b,c){f.$setValidity(c,null,a)}),r(f.$error,function(b,c){f.$setValidity(c,null,a)}),r(f.$$success,function(b,c){f.$setValidity(c,null,a)}),$a(g,a),a.$$parentForm=Lb},Ld({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&($a(d,c),0===d.length&&delete a[b])},$animate:c}),f.$setDirty=function(){c.removeClass(a,Va),c.addClass(a,Mb),f.$dirty=!0,f.$pristine=!1,f.$$parentForm.$setDirty()},f.$setPristine=function(){c.setClass(a,Va,Mb+" ng-submitted"),f.$dirty=!1,f.$pristine=!0,f.$submitted=!1,r(g,function(a){a.$setPristine()})},f.$setUntouched=function(){r(g,function(a){a.$setUntouched()})},f.$setSubmitted=function(){c.addClass(a,"ng-submitted"),f.$submitted=!0,f.$$parentForm.$setSubmitted()}}function pc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function lb(a,b,d,c,e,f){var g=M(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0}),b.on("compositionend",function(){h=!1,l()})}var k,l=function(a){if(k&&(f.defer.cancel(k),k=null),!h){var e=b.val();a=a&&a.type,"password"===g||d.ngTrim&&"false"===d.ngTrim||(e=W(e)),(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",l);else{var m=function(a,b,c){k||(k=f.defer(function(){k=null,b&&b.value===c||l(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||m(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",m)}b.on("change",l),Md[g]&&c.$$hasNativeValidators&&g===d.type&&b.on("keydown wheel mousedown",function(a){if(!k){var b=this.validity,c=b.badInput,d=b.typeMismatch;k=f.defer(function(){k=null,b.badInput===c&&b.typeMismatch===d||l(a)})}}),c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&&b.val(a)}}function Nb(a,b){return function(d,c){var e,f;if(ia(d))return d;if(F(d)){if('"'==d.charAt(0)&&'"'==d.charAt(d.length-1)&&(d=d.substring(1,d.length-1)),Bg.test(d))return new Date(d);if(a.lastIndex=0,e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1e3*f.sss||0)}return NaN}}function mb(a,b,d,c){return function(e,f,g,h,k,l,m){function n(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function p(a){return x(a)&&!ia(a)?d(a)||void 0:a}Nd(e,f,g,h),lb(e,f,g,h,k,l);var r,s=h&&h.$options&&h.$options.timezone;if(h.$$parserName=a,h.$parsers.push(function(a){return h.$isEmpty(a)?null:b.test(a)?(a=d(a,r),s&&(a=Sb(a,s)),a):void 0}),h.$formatters.push(function(a){if(a&&!ia(a))throw nb("datefmt",a);return n(a)?((r=a)&&s&&(r=Sb(r,s,!0)),m("date")(a,c,s)):(r=null,"")}),x(g.min)||g.ngMin){var t;h.$validators.min=function(a){return!n(a)||w(t)||d(a)>=t},g.$observe("min",function(a){t=p(a),h.$validate()})}if(x(g.max)||g.ngMax){var q;h.$validators.max=function(a){return!n(a)||w(q)||d(a)<=q},g.$observe("max",function(a){q=p(a),h.$validate()})}}}function Nd(a,b,d,c){(c.$$hasNativeValidators=H(b[0].validity))&&c.$parsers.push(function(a){var c=b.prop("validity")||{};return c.badInput||c.typeMismatch?void 0:a})}function Od(a,b,d,c,e){if(x(c)){if(a=a(c),!a.constant)throw nb("constexpr",d,c);return a(b)}return e}function qc(a,b){return a="ngClass"+a,["$animate",function(d){function c(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e==b[m])continue a;c.push(e)}return c}function e(a){var b=[];return J(a)?(r(a,function(a){b=b.concat(e(a))}),b):F(a)?a.split(" "):H(a)?(r(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(f,g,h){function k(a){a=l(a,1),h.$addClass(a)}function l(a,b){var c=g.data("$classCounts")||T(),d=[];return r(a,function(a){(0<b||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a))}),g.data("$classCounts",c),d.join(" ")}function m(a,b){var e=c(b,a),f=c(a,b),e=l(e,1),f=l(f,-1);e&&e.length&&d.addClass(g,e),f&&f.length&&d.removeClass(g,f)}function n(a){if(!0===b||(1&f.$index)===b){var c=e(a||[]);if(p){if(!na(a,p)){var d=e(p);m(d,c)}}else k(c)}p=J(a)?a.map(function(a){return ga(a)}):ga(a)}var p;f.$watch(h[a],n,!0),h.$observe("class",function(b){n(f.$eval(h[a]))}),"ngClass"!==a&&f.$watch("$index",function(c,d){var g=1&c;if(g!==(1&d)){var m=e(f.$eval(h[a]));g===b?k(m):(g=l(m,-1),h.$removeClass(g))}})}}}]}function Ld(a){function b(a,b){b&&!f[a]?(k.addClass(e,a),f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function d(a,c){a=a?"-"+Cc(a,"-"):"",b(ob+a,!0===c),b(Pd+a,!1===c)}var c=a.ctrl,e=a.$element,f={},g=a.set,h=a.unset,k=a.$animate;f[Pd]=!(f[ob]=e.hasClass(ob)),c.$setValidity=function(a,e,f){w(e)?(c.$pending||(c.$pending={}),g(c.$pending,a,f)):(c.$pending&&h(c.$pending,a,f),Qd(c.$pending)&&(c.$pending=void 0)),Ea(e)?e?(h(c.$error,a,f),g(c.$$success,a,f)):(g(c.$error,a,f),h(c.$$success,a,f)):(h(c.$error,a,f),h(c.$$success,a,f)),c.$pending?(b(Rd,!0),c.$valid=c.$invalid=void 0,d("",null)):(b(Rd,!1),c.$valid=Qd(c.$error),c.$invalid=!c.$valid,d("",c.$valid)),e=c.$pending&&c.$pending[a]?void 0:!c.$error[a]&&(!!c.$$success[a]||null),d(a,e),c.$$parentForm.$setValidity(a,e,c)}}function Qd(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var Ba,B,pa,Ub,Cg=/^\/(.+)\/([a-z]*)$/,sa=Object.prototype.hasOwnProperty,M=function(a){return F(a)?a.toLowerCase():a},ub=function(a){return F(a)?a.toUpperCase():a},ta=[].slice,bg=[].splice,Dg=[].push,ka=Object.prototype.toString,wc=Object.getPrototypeOf,za=O("ng"),ea=E.angular||(E.angular={}),pb=0;Ba=E.document.documentMode,A.$inject=[],Ya.$inject=[];var J=Array.isArray,be=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,W=function(a){return F(a)?a.trim():a},xd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Fa=function(){if(!x(Fa.rules)){var a=E.document.querySelector("[ng-csp]")||E.document.querySelector("[data-ng-csp]");if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");Fa.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=Fa;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Fa.rules},rb=function(){if(x(rb.name_))return rb.name_;var a,b,c,e,d=Oa.length;for(b=0;b<d;++b)if(c=Oa[b],a=E.document.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+"jq");break}return rb.name_=e},ee=/:/g,Oa=["ng-","data-ng-","ng:","x-ng-"],je=/[A-Z]/g,Dc=!1,Na=3,ne={full:"1.5.7",major:1,minor:5,dot:7,codeName:"hexagonal-circumvolution"};U.expando="ng339";var gb=U.cache={},Pf=1;U._data=function(a){return this.cache[a[this.expando]]||{}};var Kf=/([\:\-\_]+(.))/g,Lf=/^moz([A-Z])/,yb={mouseleave:"mouseout",mouseenter:"mouseover"},Wb=O("jqLite"),Of=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Vb=/<|&#?\w+;/,Mf=/<([\w:-]+)/,Nf=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ha={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ha.optgroup=ha.option,ha.tbody=ha.tfoot=ha.colgroup=ha.caption=ha.thead,ha.th=ha.td;var Uf=E.Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},Pa=U.prototype={ready:function(a){function b(){d||(d=!0,a())}var d=!1;"complete"===E.document.readyState?E.setTimeout(b):(this.on("DOMContentLoaded",b),U(E).on("load",b))},toString:function(){var a=[];return r(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return B(0<=a?this[a]:this[this.length+a])},length:0,push:Dg,sort:[].sort,splice:[].splice},Eb={};r("multiple selected checked disabled readOnly required open".split(" "),function(a){Eb[M(a)]=a});var Vc={};r("input select option textarea button form details".split(" "),function(a){Vc[a]=!0});var cd={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:Yb,removeData:fb,hasData:function(a){for(var b in gb[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)fb(a[b])}},function(a,b){U[b]=a}),r({data:Yb,inheritedData:Cb,scope:function(a){return B.data(a,"$scope")||Cb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return B.data(a,"$isolateScope")||B.data(a,"$isolateScopeNoTemplate")},controller:Sc,injector:function(a){return Cb(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:zb,css:function(a,b,d){if(b=eb(b),!x(d))return a.style[b];a.style[b]=d},attr:function(a,b,d){var c=a.nodeType;if(c!==Na&&2!==c&&8!==c)if(c=M(b),Eb[c]){if(!x(d))return a[b]||(a.attributes.getNamedItem(b)||A).specified?c:void 0;d?(a[b]=!0,a.setAttribute(b,c)):(a[b]=!1,a.removeAttribute(c))}else if(x(d))a.setAttribute(b,d);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?void 0:a},prop:function(a,b,d){if(!x(d))return a[b];a[b]=d},text:function(){function a(a,d){if(w(d)){var c=a.nodeType;return 1===c||c===Na?a.textContent:""}a.textContent=d}return a.$dv="",a}(),val:function(a,b){if(w(b)){if(a.multiple&&"select"===ua(a)){var d=[];return r(a.options,function(a){a.selected&&d.push(a.value||a.text)}),0===d.length?null:d}return a.value}a.value=b},html:function(a,b){if(w(b))return a.innerHTML;wb(a,!0),a.innerHTML=b},empty:Tc},function(a,b){U.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==Tc&&w(2==a.length&&a!==zb&&a!==Sc?b:c)){if(H(b)){for(e=0;e<g;e++)if(a===Yb)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(e=a.$dv,g=w(e)?Math.min(g,1):g,f=0;f<g;f++){var h=a(this[f],b,c);e=e?e+h:h}return e}for(e=0;e<g;e++)a(this[e],b,c);return this}}),r({removeData:fb,on:function(a,b,d,c){if(x(c))throw Wb("onargs");if(Nc(a)){c=xb(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=Rf(a,e)),c=0<=b.indexOf(" ")?b.split(" "):[b];for(var g=c.length,h=function(b,c,g){var h=e[b];h||(h=e[b]=[],h.specialHandlerWrapper=c,"$destroy"===b||g||a.addEventListener(b,f,!1)),h.push(d)};g--;)b=c[g],yb[b]?(h(yb[b],Tf),h(b,void 0,!0)):h(b)}},off:Rc,one:function(a,b,d){a=B(a),a.on(b,function e(){a.off(b,d),a.off(b,e)}),a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;wb(a),r(new U(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a),d=b})},children:function(a){var b=[];return r(a.childNodes,function(a){1===a.nodeType&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var d=a.nodeType;if(1===d||11===d){b=new U(b);for(var d=0,c=b.length;d<c;d++)a.appendChild(b[d])}},prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;r(new U(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){Pc(a,B(b).eq(0).clone()[0])},remove:Db,detach:function(a){Db(a,!0)},after:function(a,b){var d=a,c=a.parentNode;b=new U(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling),d=g}},addClass:Bb,removeClass:Ab,toggleClass:function(a,b,d){b&&r(b.split(" "),function(b){var e=d;w(e)&&(e=!zb(a,b)),(e?Bb:Ab)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Xb,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=xb(a);(g=(g=g&&g.events)&&g[f])&&(c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:A,type:f,target:a},b.type&&(c=R(c,b)),b=ga(g),e=d?[c].concat(d):[c],r(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)}))}},function(a,b){U.prototype[b]=function(b,c,e){for(var f,g=0,h=this.length;g<h;g++)w(f)?(f=a(this[g],b,c,e),x(f)&&(f=B(f))):Qc(f,a(this[g],b,c,e));return x(f)?f:this},U.prototype.bind=U.prototype.on,U.prototype.unbind=U.prototype.off}),Sa.prototype={put:function(a,b){this[Ga(a,this.nextUid)]=b},get:function(a){return this[Ga(a,this.nextUid)]},remove:function(a){var b=this[a=Ga(a,this.nextUid)];return delete this[a],b}};var If=[function(){this.$get=[function(){return Sa}]}],Wf=/^([^\(]+?)=>/,Xf=/^[^\(]*\(\s*([^\)]*)\)/m,Eg=/,/,Fg=/^\s*(_?)(\S+?)\1\s*$/,Vf=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ha=O("$injector");db.$$annotate=function(a,b,d){var c;if("function"==typeof a){if(!(c=a.$inject)){if(c=[],a.length){if(b)throw F(d)&&d||(d=a.name||Yf(a)),Ha("strictdi",d);b=Wc(a),r(b[1].split(Eg),function(a){a.replace(Fg,function(a,b,d){c.push(d)})})}a.$inject=c}}else J(a)?(b=a.length-1,Qa(a[b],"fn"),c=a.slice(0,b)):Qa(a,"fn",!0);return c};var Sd=O("$animate"),af=function(){this.$get=A},bf=function(){var a=new Sa,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;return b&&(b=F(b)?b.split(" "):J(b)?b:[],r(b,function(b){b&&(d=!0,a[b]=c)})),d}function f(){r(b,function(b){var c=a.get(b);if(c){var d=Zf(b.attr("class")),e="",f="";r(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)}),r(b,function(a){e&&Bb(a,e),f&&Ab(a,f)}),a.remove(b)}}),b.length=0}return{enabled:A,on:A,off:A,pin:A,push:function(g,h,k,l){return l&&l(),k=k||{},k.from&&g.css(k.from),k.to&&g.css(k.to),(k.addClass||k.removeClass)&&(h=k.addClass,l=k.removeClass,k=a.get(g)||{},h=e(k,h,!0),l=e(k,l,!1),(h||l)&&(a.put(g,k),b.push(g),1===b.length&&c.$$postDigest(f))),g=new d,g.complete(),g}}}]},Ze=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(d,c){if(d&&"."!==d.charAt(0))throw Sd("notcsel",d);var e=d+"-animation";b.$$registeredAnimations[d.substr(1)]=e,a.factory(e,c)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Sd("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var h;a:{for(h=0;h<d.length;h++){var k=d[h];if(1===k.nodeType){h=k;break a}}h=void 0}!h||h.parentNode||h.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(e,f,g,h){return f=f&&B(f),g=g&&B(g),f=f||g.parent(),b(e,f,g),a.push(e,"enter",Ia(h))},move:function(e,f,g,h){return f=f&&B(f),g=g&&B(g),f=f||g.parent(),b(e,f,g),a.push(e,"move",Ia(h))},leave:function(b,c){return a.push(b,"leave",Ia(c),function(){b.remove()})},addClass:function(b,c,g){return g=Ia(g),g.addClass=hb(g.addclass,c),a.push(b,"addClass",g)},removeClass:function(b,c,g){return g=Ia(g),g.removeClass=hb(g.removeClass,c),a.push(b,"removeClass",g)},setClass:function(b,c,g,h){return h=Ia(h),h.addClass=hb(h.addClass,c),h.removeClass=hb(h.removeClass,g),a.push(b,"setClass",h)},animate:function(b,c,g,h,k){return k=Ia(k),k.from=k.from?R(k.from,c):c,k.to=k.to?R(k.to,g):g,k.tempClasses=hb(k.tempClasses,h||"ng-inline-animate"),a.push(b,"animate",k)}}}]}],df=function(){this.$get=["$$rAF",function(a){function b(b){d.push(b),1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;return b(function(){a=!0}),function(d){a?d():b(d)}}}]},cf=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d()
;this._doneCallbacks=[],this._tick=function(a){var d=c[0];d&&d.hidden?e(a,0,!1):b(a)},this._state=0}return f.chain=function(a,b){function c(){d===a.length?b(!0):a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()},f.all=function(a,b){function c(f){e=e&&f,++d===a.length&&b(e)}var d=0,e=!0;r(a,function(a){a.done(c)})},f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:A,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},catch:function(a){return this.getPromise().catch(a)},finally:function(a){return this.getPromise().finally(a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(r(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}},f}]},$e=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(b,e){function f(){return a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=null),g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null),g.to&&(b.css(g.to),g.to=null),h||k.complete(),h=!0}),k}var g=e||{};g.$$prepared||(g=Z(g)),g.cleanupStyles&&(g.from=g.to=null),g.from&&(b.css(g.from),g.from=null);var h,k=new d;return{start:f,end:f}}}]},fa=O("$compile"),bc=new function(){};Fc.$inject=["$provide","$$sanitizeUriProvider"],Fb.prototype.isFirstChange=function(){return this.previousValue===bc};var Yc=/^((?:x|data)[\:\-_])/i,cg=O("$controller"),dd=/^(\S+)(\s+as\s+([\w$]+))?$/,kf=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof B&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},ed="application/json",ec={"Content-Type":ed+";charset=utf-8"},eg=/^\[|^\{(?!\{)/,fg={"[":/]$/,"{":/}$/},dg=/^\)\]\}',?\n/,Gg=O("$http"),id=function(a){return function(){throw Gg("legacy",a)}},Ka=ea.$interpolateMinErr=O("$interpolate");Ka.throwNoconcat=function(a){throw Ka("noconcat",a)},Ka.interr=function(a,b){return Ka("interr",a,b.toString())};var Hg=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,hg={http:80,https:443,ftp:21},Gb=O("$location"),Ig={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Hb("$$absUrl"),url:function(a){if(w(a))return this.$$url;var b=Hg.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Hb("$$protocol"),host:Hb("$$host"),port:Hb("$$port"),path:nd("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(F(a)||S(a))a=a.toString(),this.$$search=Ac(a);else{if(!H(a))throw Gb("isrcharg");a=Z(a,{}),r(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:w(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:nd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};r([md,hc,gc],function(a){a.prototype=Object.create(Ig),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==gc||!this.$$html5)throw Gb("nostate");return this.$$state=w(b)?null:b,this}});var ca=O("$parse"),jg=Function.prototype.call,kg=Function.prototype.apply,lg=Function.prototype.bind,Ob=T();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Ob[a]=!0});var Jg={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},jc=function(a){this.options=a};jc.prototype={constructor:jc,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;)if('"'===(a=this.text.charAt(this.index))||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Ob[b],e=Ob[d];Ob[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){return a=a||1,this.index+a<this.text.length&&this.text.charAt(this.index+a)},isNumber:function(a){return"0"<=a&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||" "===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var d=a.charCodeAt(0),c=b.charCodeAt(0);return 55296<=d&&56319>=d&&56320<=c&&57343>=c?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){throw d=d||this.index,b=x(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d,ca("lexerr",a,b,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=M(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"==d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&"e"==a.charAt(a.length-1))a+=d;else{if(!this.isExpOperator(d)||c&&this.isNumber(c)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),c=c+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=Jg[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:c,constant:!0,value:d});d+=f}this.index++}this.throwError("Unterminated quote",b)}};var t=function(a,b){this.lexer=a,this.options=b};t.Program="Program",t.ExpressionStatement="ExpressionStatement",t.AssignmentExpression="AssignmentExpression",t.ConditionalExpression="ConditionalExpression",t.LogicalExpression="LogicalExpression",t.BinaryExpression="BinaryExpression",t.UnaryExpression="UnaryExpression",t.CallExpression="CallExpression",t.MemberExpression="MemberExpression",t.Identifier="Identifier",t.Literal="Literal",t.ArrayExpression="ArrayExpression",t.Property="Property",t.ObjectExpression="ObjectExpression",t.ThisExpression="ThisExpression",t.LocalsExpression="LocalsExpression",t.NGValueParameter="NGValueParameter",t.prototype={ast:function(a){return this.text=a,this.tokens=this.lexer.lex(a),a=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:t.Program,body:a}},expressionStatement:function(){return{type:t.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();return this.expect("=")&&(a={type:t.AssignmentExpression,left:a,right:this.assignment(),operator:"="}),a},ternary:function(){var b,d,a=this.logicalOR();return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:t.ConditionalExpression,test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:t.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:t.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var b,a=this.relational();b=this.expect("==","!=","===","!==");)a={type:t.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var b,a=this.additive();b=this.expect("<",">","<=",">=");)a={type:t.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var b,a=this.multiplicative();b=this.expect("+","-");)a={type:t.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var b,a=this.unary();b=this.expect("*","/","%");)a={type:t.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:t.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=Z(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:t.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:t.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:t.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:t.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:t.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do{a.push(this.filterChain())}while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:t.Identifier,name:a.text}},constant:function(){return{type:t.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:t.ArrayExpression,elements:a}},object:function(){var b,a=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;b={type:t.Property,kind:"init"},this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(":"),b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(":")?(this.consume(":"),b.value=this.expression()):b.value=b.key):this.peek("[")?(this.consume("["),b.key=this.expression(),this.consume("]"),b.computed=!0,this.consume(":"),b.value=this.expression()):this.throwError("invalid key",this.peek()),a.push(b)}while(this.expect(","));return this.consume("}"),{type:t.ObjectExpression,properties:a}},throwError:function(a,b){throw ca("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw ca("ueoe",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw ca("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return!!(a=this.peek(a,b,d,c))&&(this.tokens.shift(),a)},selfReferential:{this:{type:t.ThisExpression},$locals:{type:t.LocalsExpression}}},ud.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},$(c,d.$filter);var f,e="";return this.stage="assign",(f=sd(c))&&(this.state.computing="assign",e=this.nextId(),this.recurse(f,e),this.return_(e),e="fn.assign="+this.generateFunction("assign","s,v,l")),f=qd(c.body),d.stage="inputs",r(f,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}},d.state.computing=c;var e=d.nextId();d.recurse(a,e),d.return_(e),d.state.inputs.push(c),a.watchId=b}),this.state.computing="fn",this.stage="main",this.recurse(c),e='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+e+this.watchFns()+"return fn;",e=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",e)(this.$filter,Ua,ra,od,ig,Ib,mg,pd,a),this.state=this.stage=void 0,e.literal=td(c),e.constant=c.constant,e},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;return r(b,function(b){a.push("var "+b+"="+d.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return r(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g,h,l,m,n,k=this;if(c=c||A,!f&&x(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case t.Program:r(a.body,function(b,c){k.recurse(b.expression,void 0,void 0,function(a){h=a}),c!==a.body.length-1?k.current().body.push(h,";"):k.return_(h)});break;case t.Literal:m=this.escape(a.value),this.assign(b,m),c(m);break;case t.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){h=a}),m=a.operator+"("+this.ifDefined(h,0)+")",this.assign(b,m),c(m);break;case t.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){g=a}),this.recurse(a.right,void 0,void 0,function(a){h=a}),m="+"===a.operator?this.plus(g,h):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(h,0):"("+g+")"+a.operator+"("+h+")",this.assign(b,m),c(m);break;case t.LogicalExpression:b=b||this.nextId(),k.recurse(a.left,b),k.if_("&&"===a.operator?b:k.not(b),k.lazyRecurse(a.right,b)),c(b);break;case t.ConditionalExpression:b=b||this.nextId(),k.recurse(a.test,b),k.if_(b,k.lazyRecurse(a.alternate,b),k.lazyRecurse(a.consequent,b)),c(b);break;case t.Identifier:b=b||this.nextId(),d&&(d.context="inputs"===k.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name),Ua(a.name),k.if_("inputs"===k.stage||k.not(k.getHasOwnProperty("l",a.name)),function(){k.if_("inputs"===k.stage||"s",function(){e&&1!==e&&k.if_(k.not(k.nonComputedMember("s",a.name)),k.lazyAssign(k.nonComputedMember("s",a.name),"{}")),k.assign(b,k.nonComputedMember("s",a.name))})},b&&k.lazyAssign(b,k.nonComputedMember("l",a.name))),(k.state.expensiveChecks||Jb(a.name))&&k.addEnsureSafeObject(b),c(b);break;case t.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId(),b=b||this.nextId(),k.recurse(a.object,g,void 0,function(){k.if_(k.notNull(g),function(){e&&1!==e&&k.addEnsureSafeAssignContext(g),a.computed?(h=k.nextId(),k.recurse(a.property,h),k.getStringValue(h),k.addEnsureSafeMemberName(h),e&&1!==e&&k.if_(k.not(k.computedMember(g,h)),k.lazyAssign(k.computedMember(g,h),"{}")),m=k.ensureSafeObject(k.computedMember(g,h)),k.assign(b,m),d&&(d.computed=!0,d.name=h)):(Ua(a.property.name),e&&1!==e&&k.if_(k.not(k.nonComputedMember(g,a.property.name)),k.lazyAssign(k.nonComputedMember(g,a.property.name),"{}")),m=k.nonComputedMember(g,a.property.name),(k.state.expensiveChecks||Jb(a.property.name))&&(m=k.ensureSafeObject(m)),k.assign(b,m),d&&(d.computed=!1,d.name=a.property.name))},function(){k.assign(b,"undefined")}),c(b)},!!e);break;case t.CallExpression:b=b||this.nextId(),a.filter?(h=k.filter(a.callee.name),l=[],r(a.arguments,function(a){var b=k.nextId();k.recurse(a,b),l.push(b)}),m=h+"("+l.join(",")+")",k.assign(b,m),c(b)):(h=k.nextId(),g={},l=[],k.recurse(a.callee,h,g,function(){k.if_(k.notNull(h),function(){k.addEnsureSafeFunction(h),r(a.arguments,function(a){k.recurse(a,k.nextId(),void 0,function(a){l.push(k.ensureSafeObject(a))})}),g.name?(k.state.expensiveChecks||k.addEnsureSafeObject(g.context),m=k.member(g.context,g.name,g.computed)+"("+l.join(",")+")"):m=h+"("+l.join(",")+")",m=k.ensureSafeObject(m),k.assign(b,m)},function(){k.assign(b,"undefined")}),c(b)}));break;case t.AssignmentExpression:if(h=this.nextId(),g={},!rd(a.left))throw ca("lval");this.recurse(a.left,void 0,g,function(){k.if_(k.notNull(g.context),function(){k.recurse(a.right,h),k.addEnsureSafeObject(k.member(g.context,g.name,g.computed)),k.addEnsureSafeAssignContext(g.context),m=k.member(g.context,g.name,g.computed)+a.operator+h,k.assign(b,m),c(b||m)})},1);break;case t.ArrayExpression:l=[],r(a.elements,function(a){k.recurse(a,k.nextId(),void 0,function(a){l.push(a)})}),m="["+l.join(",")+"]",this.assign(b,m),c(m);break;case t.ObjectExpression:l=[],n=!1,r(a.properties,function(a){a.computed&&(n=!0)}),n?(b=b||this.nextId(),this.assign(b,"{}"),r(a.properties,function(a){a.computed?(g=k.nextId(),k.recurse(a.key,g)):g=a.key.type===t.Identifier?a.key.name:""+a.key.value,h=k.nextId(),k.recurse(a.value,h),k.assign(k.member(b,g,a.computed),h)})):(r(a.properties,function(b){k.recurse(b.value,a.constant?void 0:k.nextId(),void 0,function(a){l.push(k.escape(b.key.type===t.Identifier?b.key.name:""+b.key.value)+":"+a)})}),m="{"+l.join(",")+"}",this.assign(b,m)),c(b||m);break;case t.ThisExpression:this.assign(b,"s"),c("s");break;case t.LocalsExpression:this.assign(b,"l"),c("l");break;case t.NGValueParameter:this.assign(b,"v"),c("v")}},getHasOwnProperty:function(a,b){var d=a+"."+b,c=this.current().own;return c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),c[d]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,"){"),b(),c.push("}"),d&&(c.push("else{"),d(),c.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var d=/[^$_a-zA-Z0-9]/g;return/[$_a-zA-Z][$_a-zA-Z0-9]*/.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(F(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(S(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if(void 0===a)return"undefined";throw ca("esc")},nextId:function(a,b){var d="v"+this.state.nextId++;return a||this.current().vars.push(d+(b?"="+b:"")),d},current:function(){return this.state[this.state.computing]}},vd.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=b,$(c,d.$filter);var e,f;(e=sd(c))&&(f=this.recurse(e)),e=qd(c.body);var g;e&&(g=[],r(e,function(a,b){var c=d.recurse(a);a.input=c,g.push(c),a.watchId=b}));var h=[];return r(c.body,function(a){h.push(d.recurse(a.expression))}),e=0===c.body.length?A:1===c.body.length?h[0]:function(a,b){var c;return r(h,function(d){c=d(a,b)}),c},f&&(e.assign=function(a,b,c){return f(a,c,b)}),g&&(e.inputs=g),e.literal=td(c),e.constant=c.constant,e},recurse:function(a,b,d){var c,e,g,f=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case t.Literal:return this.value(a.value,b);case t.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case t.BinaryExpression:case t.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case t.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case t.Identifier:return Ua(a.name,f.expression),f.identifier(a.name,f.expensiveChecks||Jb(a.name),b,d,f.expression);case t.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(Ua(a.property.name,f.expression),e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d,f.expression):this.nonComputedMember(c,e,f.expensiveChecks,b,d,f.expression);case t.CallExpression:return g=[],r(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var n=[],p=0;p<g.length;++p)n.push(g[p](a,c,d,f));return a=e.apply(void 0,n,f),b?{context:void 0,name:void 0,value:a}:a}:function(a,c,d,m){var p,n=e(a,c,d,m);if(null!=n.value){ra(n.context,f.expression),od(n.value,f.expression),p=[];for(var s=0;s<g.length;++s)p.push(ra(g[s](a,c,d,m),f.expression));p=ra(n.value.apply(n.context,p),f.expression)}return b?{value:p}:p};case t.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,g,m){var n=c(a,d,g,m);return a=e(a,d,g,m),ra(n.value,f.expression),Ib(n.context),n.context[n.name]=a,b?{value:a}:a};case t.ArrayExpression:return g=[],r(a.elements,function(a){g.push(f.recurse(a))}),function(a,c,d,e){for(var f=[],p=0;p<g.length;++p)f.push(g[p](a,c,d,e));return b?{value:f}:f};case t.ObjectExpression:return g=[],r(a.properties,function(a){a.computed?g.push({key:f.recurse(a.key),computed:!0,value:f.recurse(a.value)}):g.push({key:a.key.type===t.Identifier?a.key.name:""+a.key.value,computed:!1,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},p=0;p<g.length;++p)g[p].computed?f[g[p].key(a,c,d,e)]=g[p].value(a,c,d,e):f[g[p].key]=g[p].value(a,c,d,e);return b?{value:f}:f};case t.ThisExpression:return function(a){return b?{value:a}:a};case t.LocalsExpression:return function(a,c){return b?{value:c}:c};case t.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){return d=a(d,c,e,f),d=x(d)?+d:0,b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){return d=a(d,c,e,f),d=x(d)?-d:0,b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){return d=!a(d,c,e,f),b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);return c=b(c,e,f,g),h=pd(h,c),d?{value:h}:h}},"binary-":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);return c=b(c,e,f,g),h=(x(h)?h:0)-(x(c)?c:0),d?{value:h}:h}},"binary*":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)*b(c,e,f,g),d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)/b(c,e,f,g),d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)%b(c,e,f,g),d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)===b(c,e,f,g),d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)!==b(c,e,f,g),d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)==b(c,e,f,g),d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)!=b(c,e,f,g),d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)<b(c,e,f,g),d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)>b(c,e,f,g),d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)<=b(c,e,f,g),d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)>=b(c,e,f,g),d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)&&b(c,e,f,g),d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)||b(c,e,f,g),d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,h){return e=a(e,f,g,h)?b(e,f,g,h):d(e,f,g,h),c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,d,c,e){return function(f,g,h,k){return f=g&&a in g?g:f,c&&1!==c&&f&&!f[a]&&(f[a]={}),g=f?f[a]:void 0,b&&ra(g,e),d?{context:f,name:a,value:g}:g}},computedMember:function(a,b,d,c,e){return function(f,g,h,k){var m,n,l=a(f,g,h,k);return null!=l&&(m=b(f,g,h,k),m+="",Ua(m,e),c&&1!==c&&(Ib(l),l&&!l[m]&&(l[m]={})),n=l[m],ra(n,e)),d?{context:l,name:m,value:n}:n}},nonComputedMember:function(a,b,d,c,e,f){return function(g,h,k,l){return g=a(g,h,k,l),e&&1!==e&&(Ib(g),g&&!g[b]&&(g[b]={})),h=null!=g?g[b]:void 0,(d||Jb(b))&&ra(h,f),c?{context:g,name:b,value:h}:h}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};var kc=function(a,b,d){this.lexer=a,this.$filter=b,this.options=d,this.ast=new t(a,d),this.astCompiler=d.csp?new vd(this.ast,b):new ud(this.ast,b)};kc.prototype={constructor:kc,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var ng=Object.prototype.valueOf,ya=O("$sce"),ma={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},pg=O("$compile"),Y=E.document.createElement("a"),zd=qa(E.location.href);Ad.$inject=["$document"],Mc.$inject=["$provide"];var Hd=22,Gd=".",mc="0";Bd.$inject=["$locale"],Dd.$inject=["$locale"];var Ag={yyyy:X("FullYear",4,0,!1,!0),yy:X("FullYear",2,0,!0,!0),y:X("FullYear",1,0,!1,!0),MMMM:kb("Month"),MMM:kb("Month",!0),MM:X("Month",2,1),M:X("Month",1,1),LLLL:kb("Month",!1,!0),dd:X("Date",2),d:X("Date",1),HH:X("Hours",2),H:X("Hours",1),hh:X("Hours",2,-12),h:X("Hours",1,-12),mm:X("Minutes",2),m:X("Minutes",1),ss:X("Seconds",2),s:X("Seconds",1),sss:X("Milliseconds",3),EEEE:kb("Day"),EEE:kb("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){return a=-1*d,a=(0<=a?"+":"")+(Kb(Math[0<a?"floor":"ceil"](a/60),2)+Kb(Math.abs(a%60),2))},ww:Jd(2),w:Jd(1),G:nc,GG:nc,GGG:nc,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},zg=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,yg=/^\-?\d+$/;Cd.$inject=["$locale"];var tg=da(M),ug=da(ub);Ed.$inject=["$parse"];var pe=da({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===ka.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),vb={};r(Eb,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!=a){var c=xa("ng-"+b),e=d;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[c]&&d(a,b,e)}),vb[c]=function(){return{restrict:"A",priority:100,link:e}}}}),r(cd,function(a,b){vb[b]=function(){return{priority:100,link:function(a,c,e){if("ngPattern"===b&&"/"==e.ngPattern.charAt(0)&&(c=e.ngPattern.match(Cg)))return void e.$set("ngPattern",new RegExp(c[1],c[2]));a.$watch(e[b],function(a){e.$set(b,a)})}}}}),r(["src","srcset","href"],function(a){var b=xa("ng-"+a);vb[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===ka.call(c.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){b?(e.$set(g,b),Ba&&f&&c.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Lb={$addControl:A,$$renameControl:function(a,b){a.$name=b},$removeControl:A,$setValidity:A,$setDirty:A,$setPristine:A,$setSubmitted:A};Kd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Td=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||A}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Kd,compile:function(d,f){d.addClass(Va).addClass(ob);var g=f.name?"name":!(!a||!f.ngForm)&&"ngForm";return{pre:function(a,d,e,f){var n=f[0];if(!("action"in e)){var p=function(b){a.$apply(function(){n.$commitViewValue(),n.$setSubmitted()}),b.preventDefault()};d[0].addEventListener("submit",p,!1),d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",p,!1)},0,!1)})}(f[1]||n.$$parentForm).$addControl(n);var s=g?c(n.$name):A;g&&(s(a,n),e.$observe(g,function(b){n.$name!==b&&(s(a,void 0),n.$$parentForm.$$renameControl(n,b),(s=c(n.$name))(a,n))})),d.on("$destroy",function(){n.$$parentForm.$removeControl(n),s(a,void 0),R(n,Lb)})}}}}}]},qe=Td(),De=Td(!0),Bg=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Kg=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Lg=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Mg=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ud=/^(\d{4,})-(\d{2})-(\d{2})$/,Vd=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,rc=/^(\d{4,})-W(\d\d)$/,Wd=/^(\d{4,})-(\d\d)$/,Xd=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Md=T();r(["date","datetime-local","month","time","week"],function(a){Md[a]=!0});var Yd={text:function(a,b,d,c,e,f){lb(a,b,d,c,e,f),pc(c)},date:mb("date",Ud,Nb(Ud,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":mb("datetimelocal",Vd,Nb(Vd,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:mb("time",Xd,Nb(Xd,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:mb("week",rc,function(a,b){if(ia(a))return a;if(F(a)){rc.lastIndex=0;var d=rc.exec(a);if(d){var c=+d[1],e=+d[2],f=d=0,g=0,h=0,k=Id(c),e=7*(e-1);return b&&(d=b.getHours(),f=b.getMinutes(),
g=b.getSeconds(),h=b.getMilliseconds()),new Date(c,0,k.getDate()+e,d,f,g,h)}}return NaN},"yyyy-Www"),month:mb("month",Wd,Nb(Wd,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){if(Nd(a,b,d,c),lb(a,b,d,c,e,f),c.$$parserName="number",c.$parsers.push(function(a){return c.$isEmpty(a)?null:Mg.test(a)?parseFloat(a):void 0}),c.$formatters.push(function(a){if(!c.$isEmpty(a)){if(!S(a))throw nb("numfmt",a);a=a.toString()}return a}),x(d.min)||d.ngMin){var g;c.$validators.min=function(a){return c.$isEmpty(a)||w(g)||a>=g},d.$observe("min",function(a){x(a)&&!S(a)&&(a=parseFloat(a,10)),g=S(a)&&!isNaN(a)?a:void 0,c.$validate()})}if(x(d.max)||d.ngMax){var h;c.$validators.max=function(a){return c.$isEmpty(a)||w(h)||a<=h},d.$observe("max",function(a){x(a)&&!S(a)&&(a=parseFloat(a,10)),h=S(a)&&!isNaN(a)?a:void 0,c.$validate()})}},url:function(a,b,d,c,e,f){lb(a,b,d,c,e,f),pc(c),c.$$parserName="url",c.$validators.url=function(a,b){var d=a||b;return c.$isEmpty(d)||Kg.test(d)}},email:function(a,b,d,c,e,f){lb(a,b,d,c,e,f),pc(c),c.$$parserName="email",c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||Lg.test(d)}},radio:function(a,b,d,c){w(d.name)&&b.attr("name",++pb),b.on("click",function(a){b[0].checked&&c.$setViewValue(d.value,a&&a.type)}),c.$render=function(){b[0].checked=d.value==c.$viewValue},d.$observe("value",c.$render)},checkbox:function(a,b,d,c,e,f,g,h){var k=Od(h,a,"ngTrueValue",d.ngTrueValue,!0),l=Od(h,a,"ngFalseValue",d.ngFalseValue,!1);b.on("click",function(a){c.$setViewValue(b[0].checked,a&&a.type)}),c.$render=function(){b[0].checked=c.$viewValue},c.$isEmpty=function(a){return!1===a},c.$formatters.push(function(a){return na(a,k)}),c.$parsers.push(function(a){return a?k:l})},hidden:A,button:A,submit:A,reset:A,file:A},Gc=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Yd[M(g.type)]||Yd.text)(e,f,g,h[0],b,a,d,c)}}}}],Ng=/^(true|false|\d+)$/,Ve=function(){return{restrict:"A",priority:100,compile:function(a,b){return Ng.test(b.ngValue)?function(a,b,e){e.$set("value",a.$eval(e.ngValue))}:function(a,b,e){a.$watch(e.ngValue,function(a){e.$set("value",a)})}}}},ve=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,e){a.$$addBindingInfo(c,e.ngBind),c=c[0],b.$watch(e.ngBind,function(a){c.textContent=w(a)?"":a})}}}}],xe=["$interpolate","$compile",function(a,b){return{compile:function(d){return b.$$addBindingClass(d),function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate)),b.$$addBindingInfo(d,c.expressions),d=d[0],f.$observe("ngBindTemplate",function(a){d.textContent=w(a)?"":a})}}}}],we=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});return d.$$addBindingClass(c),function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml),b.$watch(g,function(){var d=f(b);c.html(a.getTrustedHtml(d)||"")})}}}}],Ue=da({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),ye=qc("",!0),Ae=qc("Odd",0),ze=qc("Even",1),Be=Ma({compile:function(a,b){b.$set("ngCloak",void 0),a.removeClass("ng-cloak")}}),Ce=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Lc={},Og={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=xa("ng-"+a);Lc[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b],null,!0);return function(b,d){d.on(a,function(d){var e=function(){g(b,{$event:d})};Og[a]&&c.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Fe=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var h,k,l;d.$watch(e.ngIf,function(d){d?k||g(function(d,f){k=f,d[d.length++]=b.$$createComment("end ngIf",e.ngIf),h={clone:d},a.enter(d,c.parent(),c)}):(l&&(l.remove(),l=null),k&&(k.$destroy(),k=null),h&&(l=tb(h.clone),a.leave(l).then(function(){l=null}),h=null))})}}}],Ge=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ea.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(c,e,m,n,p){var r,t,q,s=0,w=function(){t&&(t.remove(),t=null),r&&(r.$destroy(),r=null),q&&(d.leave(q).then(function(){t=null}),t=q,q=null)};c.$watch(f,function(f){var m=function(){!x(h)||h&&!c.$eval(h)||b()},t=++s;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&t===s){var b=c.$new();n.template=a,a=p(b,function(a){w(),d.enter(a,null,e).then(m)}),r=b,q=a,r.$emit("$includeContentLoaded",f),c.$eval(g)}},function(){c.$$destroyed||t!==s||(w(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(w(),n.template=null)})}}}}],Xe=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,d,c,e){ka.call(d[0]).match(/SVG/)?(d.empty(),a(Oc(e.template,E.document).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],He=Ma({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),Te=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=b.attr(d.$attr.ngList)||", ",f="false"!==d.ngTrim,g=f?W(e):e;c.$parsers.push(function(a){if(!w(a)){var b=[];return a&&r(a.split(g),function(a){a&&b.push(f?W(a):a)}),b}}),c.$formatters.push(function(a){if(J(a))return a.join(e)}),c.$isEmpty=function(a){return!a||!a.length}}}},ob="ng-valid",Pd="ng-invalid",Va="ng-pristine",Mb="ng-dirty",Rd="ng-pending",nb=O("ngModel"),Pg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,c,e,f,g,h,k,l){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(d.name||"",!1)(a),this.$$parentForm=Lb;var I,m=e(d.ngModel),n=m.assign,p=m,s=n,t=null,q=this;this.$$setOptions=function(a){if((q.$options=a)&&a.getterSetter){var b=e(d.ngModel+"()"),f=e(d.ngModel+"($$$p)");p=function(a){var c=m(a);return z(c)&&(c=b(a)),c},s=function(a,b){z(m(a))?f(a,{$$$p:b}):n(a,b)}}else if(!m.assign)throw nb("nonassign",d.ngModel,va(c))},this.$render=A,this.$isEmpty=function(a){return w(a)||""===a||null===a||a!==a},this.$$updateEmptyClasses=function(a){q.$isEmpty(a)?(f.removeClass(c,"ng-not-empty"),f.addClass(c,"ng-empty")):(f.removeClass(c,"ng-empty"),f.addClass(c,"ng-not-empty"))};var K=0;Ld({ctrl:this,$element:c,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:f}),this.$setPristine=function(){q.$dirty=!1,q.$pristine=!0,f.removeClass(c,Mb),f.addClass(c,Va)},this.$setDirty=function(){q.$dirty=!0,q.$pristine=!1,f.removeClass(c,Va),f.addClass(c,Mb),q.$$parentForm.$setDirty()},this.$setUntouched=function(){q.$touched=!1,q.$untouched=!0,f.setClass(c,"ng-untouched","ng-touched")},this.$setTouched=function(){q.$touched=!0,q.$untouched=!1,f.setClass(c,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){g.cancel(t),q.$viewValue=q.$$lastCommittedViewValue,q.$render()},this.$validate=function(){if(!S(q.$modelValue)||!isNaN(q.$modelValue)){var a=q.$$rawModelValue,b=q.$valid,c=q.$modelValue,d=q.$options&&q.$options.allowInvalid;q.$$runValidators(a,q.$$lastCommittedViewValue,function(e){d||b===e||(q.$modelValue=e?a:void 0,q.$modelValue!==c&&q.$$writeModelToScope())})}},this.$$runValidators=function(a,b,c){function f(a,b){h===K&&q.$setValidity(a,b)}function g(a){h===K&&c(a)}K++;var h=K;!function(){var a=q.$$parserName||"parse";return w(I)?(f(a,null),!0):(I||(r(q.$validators,function(a,b){f(b,null)}),r(q.$asyncValidators,function(a,b){f(b,null)})),f(a,I),I)}()?g(!1):function(){var c=!0;return r(q.$validators,function(d,e){var g=d(a,b);c=c&&g,f(e,g)}),!!c||(r(q.$asyncValidators,function(a,b){f(b,null)}),!1)}()?function(){var c=[],d=!0;r(q.$asyncValidators,function(e,g){var h=e(a,b);if(!h||!z(h.then))throw nb("nopromise",h);f(g,void 0),c.push(h.then(function(){f(g,!0)},function(){d=!1,f(g,!1)}))}),c.length?k.all(c).then(function(){g(d)},A):g(!0)}():g(!1)},this.$commitViewValue=function(){var a=q.$viewValue;g.cancel(t),(q.$$lastCommittedViewValue!==a||""===a&&q.$$hasNativeValidators)&&(q.$$updateEmptyClasses(a),q.$$lastCommittedViewValue=a,q.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var b=q.$$lastCommittedViewValue;if(I=!w(b)||void 0)for(var c=0;c<q.$parsers.length;c++)if(b=q.$parsers[c](b),w(b)){I=!1;break}S(q.$modelValue)&&isNaN(q.$modelValue)&&(q.$modelValue=p(a));var d=q.$modelValue,e=q.$options&&q.$options.allowInvalid;q.$$rawModelValue=b,e&&(q.$modelValue=b,q.$modelValue!==d&&q.$$writeModelToScope()),q.$$runValidators(b,q.$$lastCommittedViewValue,function(a){e||(q.$modelValue=a?b:void 0,q.$modelValue!==d&&q.$$writeModelToScope())})},this.$$writeModelToScope=function(){s(a,q.$modelValue),r(q.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})},this.$setViewValue=function(a,b){q.$viewValue=a,q.$options&&!q.$options.updateOnDefault||q.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c=0,d=q.$options;d&&x(d.debounce)&&(d=d.debounce,S(d)?c=d:S(d[b])?c=d[b]:S(d.default)&&(c=d.default)),g.cancel(t),c?t=g(function(){q.$commitViewValue()},c):h.$$phase?q.$commitViewValue():a.$apply(function(){q.$commitViewValue()})},a.$watch(function(){var b=p(a);if(b!==q.$modelValue&&(q.$modelValue===q.$modelValue||b===b)){q.$modelValue=q.$$rawModelValue=b,I=void 0;for(var c=q.$formatters,d=c.length,e=b;d--;)e=c[d](e);q.$viewValue!==e&&(q.$$updateEmptyClasses(e),q.$viewValue=q.$$lastCommittedViewValue=e,q.$render(),q.$$runValidators(b,e,A))}return b})}],Se=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Pg,priority:1,compile:function(b){return b.addClass(Va).addClass("ng-untouched").addClass(ob),{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm,g.$$setOptions(f[2]&&f[2].$options),b.$addControl(g),e.$observe("name",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)}),a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){var g=f[0];g.$options&&g.$options.updateOn&&c.on(g.$options.updateOn,function(a){g.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(){g.$touched||(a.$$phase?b.$evalAsync(g.$setTouched):b.$apply(g.$setTouched))})}}}}}],Qg=/(\s+|^)default(\s+|$)/,We=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var d=this;this.$options=Z(a.$eval(b.ngModelOptions)),x(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=W(this.$options.updateOn.replace(Qg,function(){return d.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Ie=Ma({terminal:!0,priority:1e3}),Rg=O("ngOptions"),Sg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Qe=["$compile","$document","$parse",function(a,b,d){function c(a,b,c){function e(a,b,c,d,f){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=f}function f(a){var b;if(!r&&oa(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var n=a.match(Sg);if(!n)throw Rg("iexp",a,va(b));var p=n[5]||n[7],r=n[6];a=/ as /.test(n[0])&&n[1];var t=n[9];b=d(n[2]?n[1]:p);var x=a&&d(a)||b,q=t&&d(t),w=t?function(a,b){return q(c,b)}:function(a){return Ga(a)},v=function(a,b){return w(a,D(a,b))},u=d(n[2]||n[1]),y=d(n[3]||""),A=d(n[4]||""),z=d(n[8]),C={},D=r?function(a,b){return C[r]=b,C[p]=a,C}:function(a){return C[p]=a,C};return{trackBy:t,getTrackByValue:v,getWatchables:d(z,function(a){var b=[];a=a||[];for(var d=f(a),e=d.length,g=0;g<e;g++){var h=a===d?g:d[g],l=a[h],h=D(l,h),l=w(l,h);b.push(l),(n[2]||n[1])&&(l=u(c,h),b.push(l)),n[4]&&(h=A(c,h),b.push(h))}return b}),getOptions:function(){for(var a=[],b={},d=z(c)||[],g=f(d),h=g.length,n=0;n<h;n++){var p=d===g?n:g[n],q=D(d[p],p),r=x(c,q),p=w(r,q),s=u(c,q),C=y(c,q),q=A(c,q),r=new e(p,r,s,C,q);a.push(r),b[p]=r}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[v(a)]},getViewValueFromOption:function(a){return t?ea.copy(a.viewValue):a.viewValue}}}}}var e=E.document.createElement("option"),f=E.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=A},post:function(d,h,k,l){function m(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),a.value!==b.value&&(b.value=a.selectValue)}function n(){var a=y&&p.readValue();if(y)for(var b=y.items.length-1;0<=b;b--){var c=y.items[b];Db(c.group?c.element.parentNode:c.element)}y=z.getOptions();var d={};v&&h.prepend(w),y.items.forEach(function(a){var b;if(x(a.group)){b=d[a.group],b||(b=f.cloneNode(!1),E.appendChild(b),b.label=a.group,d[a.group]=b);var c=e.cloneNode(!1)}else b=E,c=e.cloneNode(!1);b.appendChild(c),m(a,c)}),h[0].appendChild(E),s.$render(),s.$isEmpty(a)||(b=p.readValue(),(z.trackBy||t?na(a,b):a===b)||(s.$setViewValue(b),s.$render()))}var w,p=l[0],s=l[1],t=k.multiple;l=0;for(var q=h.children(),A=q.length;l<A;l++)if(""===q[l].value){w=q.eq(l);break}var v=!!w,u=B(e.cloneNode(!1));u.val("?");var y,z=c(k.ngOptions,h,d),E=b[0].createDocumentFragment();t?(s.$isEmpty=function(a){return!a||0===a.length},p.writeValue=function(a){y.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){(a=y.getOptionFromViewValue(a))&&(a.element.selected=!0)})},p.readValue=function(){var a=h.val()||[],b=[];return r(a,function(a){(a=y.selectValueMap[a])&&!a.disabled&&b.push(y.getViewValueFromOption(a))}),b},z.trackBy&&d.$watchCollection(function(){if(J(s.$viewValue))return s.$viewValue.map(function(a){return z.getTrackByValue(a)})},function(){s.$render()})):(p.writeValue=function(a){var b=y.getOptionFromViewValue(a);b?(h[0].value!==b.selectValue&&(u.remove(),v||w.remove(),h[0].value=b.selectValue,b.element.selected=!0),b.element.setAttribute("selected","selected")):null===a||v?(u.remove(),v||h.prepend(w),h.val(""),w.prop("selected",!0),w.attr("selected",!0)):(v||w.remove(),h.prepend(u),h.val("?"),u.prop("selected",!0),u.attr("selected",!0))},p.readValue=function(){var a=y.selectValueMap[h.val()];return a&&!a.disabled?(v||w.remove(),u.remove(),y.getViewValueFromOption(a)):null},z.trackBy&&d.$watch(function(){return z.getTrackByValue(s.$viewValue)},function(){s.$render()})),v?(w.remove(),a(w)(d),w.removeClass("ng-scope")):w=B(e.cloneNode(!1)),h.empty(),n(),d.$watchCollection(z.getWatchables,n)}}}}],Je=["$locale","$interpolate","$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){function k(a){g.text(a||"")}var v,l=h.count,m=h.$attr.when&&g.attr(h.$attr.when),n=h.offset||0,p=f.$eval(m)||{},s={},t=b.startSymbol(),x=b.endSymbol(),q=t+l+"-"+n+x,z=ea.noop;r(h,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+M(c[2]),p[c]=g.attr(h.$attr[b]))}),r(p,function(a,d){s[d]=b(a.replace(c,q))}),f.$watch(l,function(b){var c=parseFloat(b),e=isNaN(c);e||c in p||(c=a.pluralCat(c-n)),c===v||e&&S(v)&&isNaN(v)||(z(),e=s[c],w(e)?(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),z=A,k()):z=f.$watch(e,k),v=c)})}}}],Ke=["$parse","$animate","$compile",function(a,b,d){var c=O("ngRepeat"),e=function(a,b,c,d,e,m,n){a[c]=d,e&&(a[e]=m),a.$index=b,a.$first=0===b,a.$last=b===n-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0==(1&b))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,k=d.$$createComment("end ngRepeat",h),l=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!l)throw c("iexp",h);var m=l[1],n=l[2],p=l[3],s=l[4],l=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!l)throw c("iidexp",m);var t=l[3]||l[1],w=l[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(p)))throw c("badident",p);var q,x,v,u,y={$id:Ga};return s?q=a(s):(v=function(a,b){return Ga(b)},u=function(a){return a}),function(a,d,f,g,l){q&&(x=function(b,c,d){return w&&(y[w]=b),y[t]=c,y.$index=d,q(a,y)});var m=T();a.$watchCollection(n,function(f){var g,n,s,z,A,E,C,D,B,F,q=d[0],y=T();if(p&&(a[p]=f),oa(f))D=f,n=x||v;else for(F in n=x||u,D=[],f)sa.call(f,F)&&"$"!==F.charAt(0)&&D.push(F);for(z=D.length,F=Array(z),g=0;g<z;g++)if(A=f===D?g:D[g],E=f[A],C=n(A,E,g),m[C])B=m[C],delete m[C],y[C]=B,F[g]=B;else{if(y[C])throw r(F,function(a){a&&a.scope&&(m[a.id]=a)}),c("dupes",h,C,E);F[g]={id:C,scope:void 0,clone:void 0},y[C]=!0}for(s in m){if(B=m[s],C=tb(B.clone),b.leave(C),C[0].parentNode)for(g=0,n=C.length;g<n;g++)C[g].$$NG_REMOVED=!0;B.scope.$destroy()}for(g=0;g<z;g++)if(A=f===D?g:D[g],E=f[A],B=F[g],B.scope){s=q;do{s=s.nextSibling}while(s&&s.$$NG_REMOVED);B.clone[0]!=s&&b.move(tb(B.clone),null,q),q=B.clone[B.clone.length-1],e(B.scope,g,t,E,w,A,z)}else l(function(a,c){B.scope=c;var d=k.cloneNode(!1);a[a.length++]=d,b.enter(a,null,q),q=d,B.clone=a,y[B.id]=B,e(B.scope,g,t,E,w,A,z)});m=y})}}}}],Le=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ee=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Me=Ma(function(a,b,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&r(d,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),Ne=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(d,c,e,f){var g=[],h=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};d.$watch(e.ngSwitch||e.on,function(c){var d,e;for(d=0,e=k.length;d<e;++d)a.cancel(k[d]);for(d=k.length=0,e=l.length;d<e;++d){var t=tb(h[d].clone);l[d].$destroy(),(k[d]=a.leave(t)).then(m(k,d))}h.length=0,l.length=0,(g=f.cases["!"+c]||f.cases["?"])&&r(g,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen"),h.push({clone:d}),a.enter(d,f.parent(),f)})})})}}}],Oe=Ma({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["!"+d.ngSwitchWhen]=c.cases["!"+d.ngSwitchWhen]||[],c.cases["!"+d.ngSwitchWhen].push({transclude:e,element:b})}}),Pe=Ma({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[],c.cases["?"].push({transclude:e,element:b})}}),Tg=O("ngTransclude"),Re=Ma({restrict:"EAC",link:function(a,b,d,c,e){if(d.ngTransclude===d.$attr.ngTransclude&&(d.ngTransclude=""),!e)throw Tg("orphan",va(b));e(function(a){a.length&&(b.empty(),b.append(a))},null,d.ngTransclude||d.ngTranscludeSlot)}}),re=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"==d.type&&a.put(d.id,b[0].text)}}}],Ug={$setViewValue:A,$render:A},Vg=["$element","$scope",function(a,b){var d=this,c=new Sa;d.ngModelCtrl=Ug,d.unknownOption=B(E.document.createElement("option")),d.renderUnknownOption=function(b){b="? "+Ga(b)+" ?",d.unknownOption.val(b),a.prepend(d.unknownOption),a.val(b)},b.$on("$destroy",function(){d.renderUnknownOption=A}),d.removeUnknownOption=function(){d.unknownOption.parent()&&d.unknownOption.remove()},d.readValue=function(){return d.removeUnknownOption(),a.val()},d.writeValue=function(b){d.hasOption(b)?(d.removeUnknownOption(),a.val(b),""===b&&d.emptyOption.prop("selected",!0)):null==b&&d.emptyOption?(d.removeUnknownOption(),a.val("")):d.renderUnknownOption(b)},d.addOption=function(a,b){if(8!==b[0].nodeType){Ra(a,'"option value"'),""===a&&(d.emptyOption=b);var g=c.get(a)||0;c.put(a,g+1),d.ngModelCtrl.$render(),b[0].hasAttribute("selected")&&(b[0].selected=!0)}},d.removeOption=function(a){var b=c.get(a);b&&(1===b?(c.remove(a),""===a&&(d.emptyOption=void 0)):c.put(a,b-1))},d.hasOption=function(a){return!!c.get(a)},d.registerOption=function(a,b,c,h,k){if(h){var l;c.$observe("value",function(a){x(l)&&d.removeOption(l),l=a,d.addOption(a,b)})}else k?a.$watch(k,function(a,e){c.$set("value",a),e!==a&&d.removeOption(e),d.addOption(a,b)}):d.addOption(c.value,b);b.on("$destroy",function(){d.removeOption(c.value),d.ngModelCtrl.$render()})}}],se=function(){return{restrict:"E",require:["select","?ngModel"],controller:Vg,priority:1,link:{pre:function(a,b,d,c){var e=c[1];if(e){var f=c[0];if(f.ngModelCtrl=e,b.on("change",function(){a.$apply(function(){e.$setViewValue(f.readValue())})}),d.multiple){f.readValue=function(){var a=[];return r(b.find("option"),function(b){b.selected&&a.push(b.value)}),a},f.writeValue=function(a){var c=new Sa(a);r(b.find("option"),function(a){a.selected=x(c.get(a.value))})};var g,h=NaN;a.$watch(function(){h!==e.$viewValue||na(g,e.$viewValue)||(g=ga(e.$viewValue),e.$render()),h=e.$viewValue}),e.$isEmpty=function(a){return!a||0===a.length}}}},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},ue=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){if(x(d.value))var c=a(d.value,!0);else{var e=a(b.text(),!0);e||d.$set("value",b.text())}return function(a,b,d){var k=b.parent();(k=k.data("$selectController")||k.parent().data("$selectController"))&&k.registerOption(a,b,d,c,e)}}}}],te=da({restrict:"E",terminal:!1}),Ic=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(a,b){return!d.required||!c.$isEmpty(b)},d.$observe("required",function(){c.$validate()}))}}},Hc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(a){if(F(a)&&0<a.length&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw O("ngPattern")("noregexp",f,a,va(b));e=a||void 0,c.$validate()}),c.$validators.pattern=function(a,b){return c.$isEmpty(b)||w(e)||e.test(b)}}}}},Kc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",function(a){a=aa(a),e=isNaN(a)?-1:a,c.$validate()}),c.$validators.maxlength=function(a,b){return 0>e||c.$isEmpty(b)||b.length<=e}}}}},Jc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(a){e=aa(a)||0,c.$validate()}),c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};E.angular.bootstrap?E.console&&console.log("WARNING: Tried to load angular more than once."):(function(){var a;if(!Dc){var b=rb();(pa=w(b)?E.jQuery:b?E[b]:void 0)&&pa.fn.on?(B=pa,R(pa.fn,{scope:Pa.scope,isolateScope:Pa.isolateScope,controller:Pa.controller,injector:Pa.injector,inheritedData:Pa.inheritedData}),a=pa.cleanData,pa.cleanData=function(b){for(var c,f,e=0;null!=(f=b[e]);e++)(c=pa._data(f,"events"))&&c.$destroy&&pa(f).triggerHandler("$destroy");a(b)}):B=U,ea.element=B,Dc=!0}}(),function(a){R(a,{bootstrap:Bc,copy:Z,extend:R,merge:$d,equals:na,element:B,forEach:r,injector:db,noop:A,bind:bb,toJson:cb,fromJson:xc,identity:Ya,isUndefined:w,isDefined:x,isString:F,isFunction:z,isObject:H,isNumber:S,isElement:Qb,isArray:J,version:ne,isDate:ia,lowercase:M,uppercase:ub,callbacks:{counter:0},getTestability:ie,$$minErr:O,$$csp:Fa,reloadWithDebugInfo:he}),(Ub=le(E))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:oe}),a.provider("$compile",Fc).directive({a:pe,input:Gc,textarea:Gc,form:qe,script:re,select:se,style:te,option:ue,ngBind:ve,ngBindHtml:we,ngBindTemplate:xe,ngClass:ye,ngClassEven:ze,ngClassOdd:Ae,ngCloak:Be,ngController:Ce,ngForm:De,ngHide:Ee,ngIf:Fe,ngInclude:Ge,ngInit:He,ngNonBindable:Ie,ngPluralize:Je,ngRepeat:Ke,ngShow:Le,ngStyle:Me,ngSwitch:Ne,ngSwitchWhen:Oe,ngSwitchDefault:Pe,ngOptions:Qe,ngTransclude:Re,ngModel:Se,ngList:Te,ngChange:Ue,pattern:Hc,ngPattern:Hc,required:Ic,ngRequired:Ic,minlength:Jc,ngMinlength:Jc,maxlength:Kc,ngMaxlength:Kc,ngValue:Ve,ngModelOptions:We}).directive({ngInclude:Xe}).directive(vb).directive(Lc),a.provider({$anchorScroll:Ye,$animate:Ze,$animateCss:$e,$$animateJs:af,$$animateQueue:bf,$$AnimateRunner:cf,$$animateAsyncRun:df,$browser:ef,$cacheFactory:ff,$controller:gf,$document:hf,$exceptionHandler:jf,$filter:Mc,$$forceReflow:kf,$interpolate:lf,$interval:mf,$http:nf,$httpParamSerializer:of,$httpParamSerializerJQLike:pf,$httpBackend:qf,$xhrFactory:rf,$location:sf,$log:tf,$parse:uf,$rootScope:vf,$q:wf,$$q:xf,$sce:yf,$sceDelegate:zf,$sniffer:Af,$templateCache:Bf,$templateRequest:Cf,$$testability:Df,$timeout:Ef,$window:Ff,$$rAF:Gf,$$jqLite:Hf,$$HashMap:If,$$cookieReader:Jf})}])}(ea),ea.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,c){var e=0|a,f=c;return void 0===f&&(f=Math.min(b(a),3)),Math.pow(10,f),1==e&&0==f?"one":"other"}})}]),B(E.document).ready(function(){ge(E.document,Bc)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),define("angular",["jquery"],function(global){return function(){return global.angular}}(this)),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return T(new(T(function(){},{prototype:a})),b)}function e(a){return S(arguments,function(b){b!==a&&S(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return S(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for((d=d<0?Math.ceil(d):Math.floor(d))<0&&(d+=c);d<c;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l]&&i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return T({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return S(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return S(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function n(a,b){var c=R(a),d=c?[]:{};return S(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=R(a)?[]:{};return S(a,function(a,d){c[d]=b(a,d)}),c}function p(a){return a.then(c,function(){})&&a}function q(a,b){var d=1,f=2,i={},j=[],k=i,l=T(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(t[c]!==f){if(s.push(c),t[c]===d)throw s.splice(0,h(s,c)),new Error("Cyclic dependency: "+s.join(" -> "));if(t[c]=d,P(a))r.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);S(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),r.push(c,a,e)}s.pop(),t[c]=f}}function o(a){return Q(a)&&a.then&&a.$$promises}if(!Q(i))throw new Error("'invocables' must be an object");var q=g(i||{}),r=[],s=[],t={};return S(i,n),i=s=t=null,function(d,f,g){function h(){--v||(w||e(u,f.$$values),s.$$values=u,s.$$promises=s.$$promises||!0,delete s.$$inheritedValues,n.resolve(u))}function i(a){s.$$failure=a,n.reject(a)}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!Q(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var n=a.defer(),s=p(n.promise),t=s.$$promises={},u=T({},d),v=1+r.length/3,w=!1;if(p(s),N(f.$$failure))return i(f.$$failure),s;f.$$inheritedValues&&e(u,m(f.$$inheritedValues,q)),T(t,f.$$promises),f.$$values?(w=e(u,m(f.$$values,q)),s.$$inheritedValues=m(f.$$values,q),h()):(f.$$inheritedValues&&(s.$$inheritedValues=m(f.$$inheritedValues,q)),f.then(h,i));for(var x=0,y=r.length;x<y;x+=3)d.hasOwnProperty(r[x])?h():function(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!N(s.$$failure))try{l.resolve(b.invoke(e,g,u)),l.promise.then(function(a){u[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;S(f,function(a){t.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,t[a].then(function(b){u[a]=b,--m||k()},j))}),m||k(),t[c]=p(l.promise)}(r[x],r[x+1],r[x+2]);return s}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function r(){var a=b.version.minor<3;this.shouldUnsafelyUseHttp=function(b){a=!!b},this.$get=["$http","$templateCache","$injector",function(b,c,d){return new s(b,c,d,a)}]}function s(a,b,c,d){this.fromConfig=function(a,b,c){return N(a.template)?this.fromString(a.template,b):N(a.templateUrl)?this.fromUrl(a.templateUrl,b):N(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return O(a)?a(b):a},this.fromUrl=function(e,f){return O(e)&&(e=e(f)),null==e?null:d?a.get(e,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data}):c.get("$templateRequest")(e)},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function t(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new W.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:f=f.replace(/\/$/,""),e=["(?:/(",")|/)?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),h&&(j=W.type(h)||d(W.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)})),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=T({params:{}
},Q(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new W.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(!1===b.strict?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function u(a){T(this,a)}function v(){function a(a){return null!=a?a.toString().replace(/(~|\/)/g,function(a){return{"~":"~~","/":"~2F"}[a]}):a}function e(a){return null!=a?a.toString().replace(/(~~|~2F)/g,function(a){return{"~~":"~","~2F":"/"}[a]}):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return O(a)||R(a)&&O(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(r[a.name],l.invoke(a.def))}}function k(a){T(this,a||{})}W=this;var l,m=!1,p=!0,q=!1,r={},s=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!N(a)||"string"==typeof a},pattern:/[^\/]*/},int:{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return a!==c&&null!==a&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return!0===a||!1===a},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};v.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return N(a)&&(m=a),m},this.strictMode=function(a){return N(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!N(a))return q;if(!0!==a&&!1!==a&&!P(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new t(a,T(f(),b))},this.isMatcher=function(a){if(!Q(a))return!1;var b=!0;return S(t.prototype,function(c,d){O(c)&&(b=b&&N(a[d])&&O(a[d]))}),b},this.type=function(a,b,c){if(!N(b))return r[a];if(r.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return r[a]=new u(T({name:a},b)),c&&(w.push({name:a,def:c}),s||j()),this},S(x,function(a,b){r[b]=new u(T({name:b},a))}),r=d(r,{}),this.$get=["$injector",function(a){return l=a,s=!1,j(),S(x,function(a,b){r[b]||(r[b]=new u(a))}),this}],this.Param=function(a,d,e,f){function t(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(e.$$fn);if(null!==a&&a!==c&&!x.type.is(a))throw new Error("Default value ("+a+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return a}function v(a){function b(a){return function(b){return b.from===a}}return a=function(a){var c=o(n(x.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}(a),N(a)?x.type.$normalize(a):t()}function w(){return"{Param:"+a+" "+d+" squash: '"+A+"' optional: "+z+"}"}var x=this;e=function(a){var b=Q(a)?g(a):[];return-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array")&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}(e),d=function(c,d,e){if(c.type&&d)throw new Error("Param '"+a+"' has two type configurations.");return d||(c.type?b.isString(c.type)?r[c.type]:c.type instanceof u?c.type:new u(c.type):"config"===e?r.any:r.string)}(e,d,f);var y=function(){var b={array:"search"===f&&"auto"},c=a.match(/\[\]$/)?{array:!0}:{};return T(b,c,e).array}();d=y?d.$asArray(y,"search"===f):d,"string"!==d.name||y||"path"!==f||e.value!==c||(e.value="");var z=e.value!==c,A=function(a,b){var c=a.squash;if(!b||!1===c)return!1;if(!N(c)||null==c)return q;if(!0===c||P(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}(e,z),B=function(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=R(a.replace)?a.replace:[],P(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return-1===h(g,a.from)}).concat(f)}(e,y,z,A);T(this,{id:a,type:d,location:f,array:y,squash:A,replace:B,isOptional:z,value:v,dynamic:c,config:e,toString:w})},k.prototype={$$new:function(){return d(this,T(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),S(b,function(b){S(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return S(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return S(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],(f=a[i[d]])!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function w(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return!N(d)||d}function h(d,e,f,g,h){function m(a,b,c){return"/"===q?a:b?q.slice(0,-1)+a:c?q.slice(1)+a:a}function n(a){function b(a){var b=a(f,d);return!!b&&(P(b)&&d.replace().url(b),!0)}if(!a||!a.defaultPrevented){p&&d.url(),p=c;var e,g=j.length;for(e=0;e<g;e++)if(b(j[e]))return;k&&b(k)}}function o(){return i=i||e.$on("$locationChangeSuccess",n)}var p,q=g.baseHref(),r=d.url();return l||o(),{sync:function(){n()},listen:function(){return o()},update:function(a){return a?void(r=d.url()):void(d.url()!==r&&(d.url(r),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),p=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled),g=g&&h.history;var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=m(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!O(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(P(a)){var b=a;a=function(){return b}}else if(!O(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=P(b);if(P(a)&&(a=d.compile(a)),!h&&!O(b)&&!R(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),T(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:P(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),T(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function x(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=P(a),e=d?a:a.name;if(f(e)){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var h=e.split("."),i=0,j=h.length,k=b;i<j;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=A[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){B[a]||(B[a]=[]),B[a].push(b)}function q(a){for(var b=B[a]||[];b.length;)r(b.shift())}function r(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!P(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(A.hasOwnProperty(c))throw new Error("State '"+c+"' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):P(b.parent)?b.parent:Q(b.parent)&&P(b.parent.name)?b.parent.name:"";if(e&&!A[e])return n(e,b.self);for(var f in D)O(D[f])&&(b[f]=D[f](b,D.$delegates[f]));return A[c]=b,!b[C]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){z.$current.navigable==b&&j(a,c)||z.transitionTo(b,a,{inherit:!0,location:!1})}]),q(c),b}function s(a){return a.indexOf("*")>-1}function t(a){for(var b=a.split("."),c=z.$current.name.split("."),d=0,e=b.length;d<e;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length==c.length&&c.join("")===b.join("")}function u(a,b){return P(a)&&!N(b)?D[a]:O(b)&&P(a)?(D[a]&&!D.$delegates[a]&&(D.$delegates[a]=D[a]),D[a]=b,this):this}function v(a,b){return Q(a)?b=a:b.name=a,r(b),this}function w(a,e,f,h,j,l,n,q,r){function u(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return n.update(),E;if(!g.retry)return null;if(f.$retry)return n.update(),F;var h=z.transition=e.when(g.retry);return h.then(function(){return h!==z.transition?(a.$broadcast("$stateChangeCancel",b.to,b.toParams,c,d),B):(b.options.$retry=!0,z.transitionTo(b.to,b.toParams,b.options))},function(){return E}),n.update(),h}function v(a,c,d,g,i,l){function m(){var c=[];return S(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:l.notify})||""}],c.push(j.resolve(g,i.globals,i.resolve,a).then(function(c){if(O(d.controllerProvider)||R(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,c.$$resolveAs=d.resolveAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=j.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var w=new Error("transition superseded"),B=p(e.reject(w)),D=p(e.reject(new Error("transition prevented"))),E=p(e.reject(new Error("transition aborted"))),F=p(e.reject(new Error("transition failed")));return y.locals={resolve:null,globals:{$stateParams:{}}},z={params:{},current:y.self,$current:y,transition:null},z.reload=function(a){return z.transitionTo(z.current,l,{reload:a||!0,inherit:!1,notify:!0})},z.go=function(a,b,c){return z.transitionTo(a,b,T({inherit:!0,relative:z.$current},c))},z.transitionTo=function(b,c,f){c=c||{},f=T({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=z.$current,o=z.params,q=j.path,r=m(b,f.relative),s=c["#"];if(!N(r)){var t={to:b,toParams:c,options:f},A=u(t,j.self,o,f);if(A)return A;if(b=t.to,c=t.toParams,f=t.options,r=m(b,f.relative),!N(r)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(r[C])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(l,c||{},z.$current,r)),!r.params.$$validates(c))return F;c=r.params.$$values(c),b=r;var E=b.path,G=0,H=E[G],I=y.locals,J=[];if(f.reload){if(P(f.reload)||Q(f.reload)){if(Q(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var K=!0===f.reload?q[0]:m(f.reload);if(f.reload&&!K)throw new Error("No such reload state '"+(P(f.reload)?f.reload:f.reload.name)+"'");for(;H&&H===q[G]&&H!==K;)I=J[G]=H.locals,G++,H=E[G]}}else for(;H&&H===q[G]&&H.ownParams.$$equals(c,o);)I=J[G]=H.locals,G++,H=E[G];if(x(b,c,j,o,I,f))return s&&(c["#"]=s),z.params=c,U(z.params,l),U(k(b.params.$$keys(),l),b.locals.globals.$stateParams),f.location&&b.navigable&&b.navigable.url&&(n.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),n.update(!0)),z.transition=null,e.when(z.current);if(c=k(b.params.$$keys(),c||{}),s&&(c["#"]=s),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,o,f).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,o),null==z.transition&&n.update(),D;for(var L=e.when(I),M=G;M<E.length;M++,H=E[M])I=J[M]=d(I),L=v(H,c,H===b,L,I,f);var O=z.transition=L.then(function(){var d,e,g;if(z.transition!==O)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,o),B;for(d=q.length-1;d>=G;d--)g=q[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=G;d<E.length;d++)e=E[d],e.locals=J[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return z.transition!==O?(a.$broadcast("$stateChangeCancel",b.self,c,j.self,o),B):(z.$current=b,z.current=b.self,z.params=c,U(z.params,l),z.transition=null,f.location&&b.navigable&&n.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,o),n.update(!0),z.current)}).then(null,function(d){return d===w?B:z.transition!==O?(a.$broadcast("$stateChangeCancel",b.self,c,j.self,o),B):(z.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,o,d),g.defaultPrevented||n.update(),e.reject(d))});return p(O),O},z.is=function(a,b,d){d=T({relative:z.$current},d||{});var e=m(a,d.relative);return N(e)?z.$current===e&&(!b||g(b).reduce(function(a,c){var d=e.params[c];return a&&!d||d.type.equals(l[c],b[c])},!0)):c},z.includes=function(a,b,d){if(d=T({relative:z.$current},d||{}),P(a)&&s(a)){if(!t(a))return!1;a=z.$current.name}var e=m(a,d.relative);if(!N(e))return c;if(!N(z.$current.includes[e.name]))return!1;if(!b)return!0;for(var f=g(b),h=0;h<f.length;h++){var i=f[h],j=e.params[i];if(j&&!j.type.equals(l[i],b[i]))return!1}return g(b).reduce(function(a,c){var d=e.params[c];return a&&!d||d.type.equals(l[c],b[c])},!0)},z.href=function(a,b,d){d=T({lossy:!0,inherit:!0,absolute:!1,relative:z.$current},d||{});var e=m(a,d.relative);if(!N(e))return null;d.inherit&&(b=i(l,b||{},z.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?n.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},z.get=function(a,b){if(0===arguments.length)return o(g(A),function(a){return A[a].self});var c=m(a,b||z.$current);return c&&c.self?c.self:null},z}function x(a,b,c,d,e,f){if(!f.reload&&a===c&&(e===c.locals||!1===a.self.reloadOnSearch&&function(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e));return new W.ParamSet(f).$$equals(b,c)}(c,d,b)))return!0}var y,z,A={},B={},C="abstract",D={parent:function(a){if(N(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):y},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=d(a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(P(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||y).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new W.ParamSet;return S(a.params||{},function(a,c){b[c]||(b[c]=new W.Param(c,null,a,"config"))}),b},params:function(a){var b=l(a.ownParams,a.ownParams.$$keys());return a.parent&&a.parent.params?T(a.parent.params.$$new(),b):new W.ParamSet},views:function(a){var b={};return S(N(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),c.resolveAs=c.resolveAs||a.resolveAs||"$resolve",b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?T({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};y=r({name:"",url:"^",views:null,abstract:!0}),y.navigable=null,this.decorator=u,this.state=v,this.$get=w,w.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function y(){function a(a,b){return{load:function(a,c){var d;return c=T({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},c),c.view&&(d=b.fromConfig(c.view,c.params,c.locals)),d}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function z(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function A(a,c,d,e,f){function h(a,c){if(k)return{enter:function(a,c,d){b.version.minor>2?k.enter(a,null,c).then(d):k.enter(a,null,c,d)},leave:function(a,c){b.version.minor>2?k.leave(a).then(c):k.leave(a,c)}};if(j){var e=j&&j(c,a);return{enter:function(a,b,c){e.enter(a,null,b),c()},leave:function(a,b){e.leave(a),b()}}}return function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}}()}var i=function(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(a){return null}}}(),j=i("$animator"),k=i("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,g,i){return function(c,g,j){function k(){if(m&&(m.remove(),m=null),o&&(o.$destroy(),o=null),n){var a=n.data("$uiViewAnim");s.leave(n,function(){a.$$animLeave.resolve(),m=null}),m=n,n=null}}function l(h){var l,m=C(c,j,g,e),t=m&&a.$current&&a.$current.locals[m];if(h||t!==p){l=c.$new(),p=a.$current.locals[m],l.$emit("$viewContentLoading",m);var u=i(l,function(a){var e=f.defer(),h=f.defer(),i={$animEnter:e.promise,$animLeave:h.promise,$$animLeave:h};a.data("$uiViewAnim",i),s.enter(a,g,function(){e.resolve(),o&&o.$emit("$viewContentAnimationEnded"),(b.isDefined(r)&&!r||c.$eval(r))&&d(a)}),k()});n=u,o=l,o.$emit("$viewContentLoaded",m),o.$eval(q)}}var m,n,o,p,q=j.onload||"",r=j.autoscroll,s=h(j,c);g.inheritedData("$uiView"),c.$on("$stateChangeSuccess",function(){l(!1)}),l(!0)}}}}function B(a,c,d,e){return{restrict:"ECA",priority:-400,compile:function(f){var g=f.html();return f.empty?f.empty():f[0].innerHTML=null,function(f,h,i){var j=d.$current,k=C(f,i,h,e),l=j&&j.locals[k];if(!l)return h.html(g),void a(h.contents())(f);h.data("$uiView",{name:k,state:l.$$state}),h.html(l.$template?l.$template:g);var m=b.extend({},l);f[l.$$resolveAs]=m;var n=a(h.contents());if(l.$$controller){l.$scope=f,l.$element=h;var o=c(l.$$controller,l);l.$$controllerAs&&(f[l.$$controllerAs]=o,f[l.$$controllerAs][l.$$resolveAs]=m),O(o.$onInit)&&o.$onInit(),h.data("$ngControllerController",o),h.children().data("$ngControllerController",o)}n(f)}}}}function C(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function D(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),!(c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function E(a){var b=a.parent().inheritedData("$uiView");if(b&&b.state&&b.state.name)return b.state}function F(a){var b="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href")),c="FORM"===a[0].nodeName;return{attr:c?"action":b?"xlink:href":"href",isAnchor:"A"===a.prop("tagName").toUpperCase(),clickable:!c}}function G(a,b,c,d,e){return function(f){var g=f.which||f.button,h=e();if(!(g>1||f.ctrlKey||f.metaKey||f.shiftKey||a.attr("target"))){var i=c(function(){b.go(h.state,h.params,h.options)});f.preventDefault();var j=d.isAnchor&&!h.href?1:0;f.preventDefault=function(){j--<=0&&c.cancel(i)}}}}function H(a,b){return{relative:E(a)||b.$current,inherit:!0}}function I(a,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,e,f,g){var h,i=D(f.uiSref,a.current.name),j={state:i.state,href:null,params:null},k=F(e),l=g[1]||g[0],m=null;j.options=T(H(e,a),f.uiSrefOpts?d.$eval(f.uiSrefOpts):{});var n=function(c){c&&(j.params=b.copy(c)),j.href=a.href(i.state,j.params,j.options),m&&m(),l&&(m=l.$$addStateInfo(i.state,j.params)),null!==j.href&&f.$set(k.attr,j.href)};i.paramExpr&&(d.$watch(i.paramExpr,function(a){a!==j.params&&n(a)},!0),j.params=b.copy(d.$eval(i.paramExpr))),n(),k.clickable&&(h=G(e,a,c,k,function(){return j}),e[e.on?"on":"bind"]("click",h),d.$on("$destroy",function(){e[e.off?"off":"unbind"]("click",h)}))}}}function J(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,d,e,f){function g(b){m.state=b[0],m.params=b[1],m.options=b[2],m.href=a.href(m.state,m.params,m.options),n&&n(),j&&(n=j.$$addStateInfo(m.state,m.params)),m.href&&e.$set(i.attr,m.href)}var h,i=F(d),j=f[1]||f[0],k=[e.uiState,e.uiStateParams||null,e.uiStateOpts||null],l="["+k.map(function(a){return a||"null"}).join(", ")+"]",m={state:null,params:null,options:null,href:null},n=null;c.$watch(l,g,!0),g(c.$eval(l)),i.clickable&&(h=G(d,a,b,i,function(){return m}),d[d.on?"on":"bind"]("click",h),c.$on("$destroy",function(){d[d.off?"off":"unbind"]("click",h)}))}}}function K(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(b,d,e,f){function g(b,c,e){var f=a.get(b,E(d)),g=h(b,c),i={state:f||{name:b},params:c,hash:g};return p.push(i),q[g]=e,function(){var a=p.indexOf(i);-1!==a&&p.splice(a,1)}}function h(a,c){if(!P(a))throw new Error("state should be a string");return Q(c)?a+V(c):(c=b.$eval(c),Q(c)?a+V(c):a)}function i(){for(var a=0;a<p.length;a++)l(p[a].state,p[a].params)?j(d,q[p[a].hash]):k(d,q[p[a].hash]),m(p[a].state,p[a].params)?j(d,n):k(d,n)}function j(a,b){f(function(){a.addClass(b)})}function k(a,b){a.removeClass(b)}function l(b,c){return a.includes(b.name,c)}function m(b,c){return a.is(b.name,c)}var n,o,p=[],q={};n=c(e.uiSrefActiveEq||"",!1)(b);try{o=b.$eval(e.uiSrefActive)}catch(a){}o=o||c(e.uiSrefActive||"",!1)(b),Q(o)&&S(o,function(c,d){if(P(c)){var e=D(c,a.current.name);g(e.state,b.$eval(e.paramExpr),d)}}),this.$$addStateInfo=function(a,b){if(!(Q(o)&&p.length>0)){var c=g(a,b,o);return i(),c}},b.$on("$stateChangeSuccess",i),i()}]}}function L(a){var b=function(b,c){return a.is(b,c)};return b.$stateful=!0,b}function M(a){var b=function(b,c,d){return a.includes(b,c,d)};return b.$stateful=!0,b}var N=b.isDefined,O=b.isFunction,P=b.isString,Q=b.isObject,R=b.isArray,S=b.forEach,T=b.extend,U=b.copy,V=b.toJson;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),q.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",q),b.module("ui.router.util").provider("$templateFactory",r);var W;t.prototype.concat=function(a,b){var c={caseInsensitive:W.caseInsensitive(),strict:W.strictMode(),squash:W.defaultSquashPolicy()};return new t(this.sourcePath+a+this.sourceSearch,T(c,b),this)},t.prototype.toString=function(){return this.source},t.prototype.exec=function(a,b){var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var l,m;for(e=0;e<j;e++){for(g=h[e],l=this.params[g],m=d[e+1],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&!0===l.array&&(m=function(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}return o(o(b(a).split(/-(?!\\)/),b),c).reverse()}(m)),N(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}for(;e<i;e++){for(g=h[e],k[g]=this.params[g].value(b[g]),l=this.params[g],m=b[g],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);N(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}return k},t.prototype.parameters=function(a){return N(a)?this.params[a]||null:this.$$paramNames},t.prototype.validates=function(a){return this.params.$$validates(a)},t.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;f<i;f++){var k=f<h,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=!!p&&m.squash,r=m.type.encode(n);if(k){var s=c[f+1],t=f+1===h;if(!1===q)null!=r&&(j+=R(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(!0===q){var u=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(u)[1]}else P(q)&&(j+=q+s);t&&!0===m.squash&&"/"===j.slice(-1)&&(j=j.slice(0,-1))}else{if(null==r||p&&!1!==q)continue;if(R(r)||(r=[r]),0===r.length)continue;r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+l+"="+r,g=!0}}return j},u.prototype.is=function(a,b){return!0},u.prototype.encode=function(a,b){return a},u.prototype.decode=function(a,b){return a},u.prototype.equals=function(a,b){return a==b},u.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},u.prototype.pattern=/.*/,u.prototype.toString=function(){return"{Type:"+this.name+"}"},u.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},u.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return R(a)?a:N(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){if(R(c)&&0===c.length)return c;c=e(c);var d=o(c,a);return!0===b?0===n(d,g).length:f(d)}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=function(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",v),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",w),x.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",x).run(["$injector",function(a){a.get("$state.runtime").autoinject&&a.get("$state")}]),y.$inject=[],b.module("ui.router.state").provider("$view",y),b.module("ui.router.state").provider("$uiViewScroll",z),A.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],B.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",A),b.module("ui.router.state").directive("uiView",B),I.$inject=["$state","$timeout"],J.$inject=["$state","$timeout"],K.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",I).directive("uiSrefActive",K).directive("uiSrefActiveEq",K).directive("uiState",J),L.$inject=["$state"],M.$inject=["$state"],b.module("ui.router.state").filter("isState",L).filter("includedByState",M)}(window,window.angular),define("ui.router",["angular"],function(){}),function(R,C){"use strict";function Aa(a,b,c){if(!a)throw Ma("areq",b||"?",c||"required");return a}function Ba(a,b){return a||b?a?b?(ca(a)&&(a=a.join(" ")),ca(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function Na(a){var b={};return a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from),b}function Y(a,b,c){var d="";return a=ca(a)?a:a&&O(a)&&a.length?a.split(/\s+/):[],s(a,function(a,l){a&&0<a.length&&(d+=0<l?" ":"",d+=c?b+a:a+b)}),d}function Oa(a){if(a instanceof G)switch(a.length){case 0:return a;case 1:if(1===a[0].nodeType)return a;break;default:return G(da(a))}if(1===a.nodeType)return G(a)}function da(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(1==c.nodeType)return c}}function Pa(a,b,c){s(b,function(b){a.addClass(b,c)})}function Qa(a,b,c){s(b,function(b){a.removeClass(b,c)})}function V(a){return function(b,c){c.addClass&&(Pa(a,b,c.addClass),c.addClass=null),c.removeClass&&(Qa(a,b,c.removeClass),c.removeClass=null)}}function oa(a){if(a=a||{},!a.$$prepared){var b=a.domOperation||Q;a.domOperation=function(){a.$$domOperationFired=!0,b(),b=Q},a.$$prepared=!0}return a}function ha(a,b){Ca(a,b),Da(a,b)}function Ca(a,b){b.from&&(a.css(b.from),b.from=null)}function Da(a,b){b.to&&(a.css(b.to),b.to=null)}function W(a,b,c){var d=b.options||{};c=c.options||{};var e=(d.addClass||"")+" "+(c.addClass||""),l=(d.removeClass||"")+" "+(c.removeClass||"");return a=Ra(a.attr("class"),e,l),c.preparationClasses&&(d.preparationClasses=Z(c.preparationClasses,d.preparationClasses),delete c.preparationClasses),e=d.domOperation!==Q?d.domOperation:null,Ea(d,c),e&&(d.domOperation=e),d.addClass=a.addClass?a.addClass:null,d.removeClass=a.removeClass?a.removeClass:null,b.addClass=d.addClass,b.removeClass=d.removeClass,d}function Ra(a,b,c){function d(a){O(a)&&(a=a.split(" "));var b={};return s(a,function(a){a.length&&(b[a]=!0)}),b}var e={};a=d(a),b=d(b),s(b,function(a,b){e[b]=1}),c=d(c),s(c,function(a,b){e[b]=1===e[b]?null:-1});var l={addClass:"",removeClass:""};return s(e,function(b,c){var d,e;1===b?(d="addClass",e=!a[c]):-1===b&&(d="removeClass",e=a[c]),e&&(l[d].length&&(l[d]+=" "),l[d]+=c)}),l}function z(a){return a instanceof C.element?a[0]:a}function Sa(a,b,c){var d="";b&&(d=Y(b,"ng-",!0)),c.addClass&&(d=Z(d,Y(c.addClass,"-add"))),c.removeClass&&(d=Z(d,Y(c.removeClass,"-remove"))),d.length&&(c.preparationClasses=d,a.addClass(d))}function pa(a,b){var c=b?"-"+b+"s":"";return la(a,[ma,c]),[ma,c]}function ta(a,b){var c=b?"paused":"",d=$+"PlayState";return la(a,[d,c]),[d,c]}function la(a,b){a.style[b[0]]=b[1]}function Z(a,b){return a?b?a+" "+b:a:b}function Fa(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};return s(c,function(a,b){var c=e[a];if(c){var g=c.charAt(0);("-"===g||"+"===g||0<=g)&&(c=Ta(c)),0===c&&(c=null),d[b]=c}}),d}function Ta(a){var b=0;return a=a.split(/\s*,\s*/),s(a,function(a){"s"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a=parseFloat(a)||0,b=b?Math.max(a,b):a}),b}function ua(a){return 0===a||null!=a}function Ga(a,b){var c=S,d=a+"s";return b?c+="Duration":d+=" linear all",[c,d]}function Ha(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){return(b=a[b])?b.total:0},get:function(b){return(b=a[b])&&b.value},put:function(b,c){a[b]?a[b].total++:a[b]={
total:1,value:c}}}}function Ia(a,b,c){s(c,function(c){a[c]=ea(a[c])?a[c]:b.style.getPropertyValue(c)})}var S,xa,$,ya,Q=C.noop,Ja=C.copy,Ea=C.extend,G=C.element,s=C.forEach,ca=C.isArray,O=C.isString,va=C.isObject,I=C.isUndefined,ea=C.isDefined,Ka=C.isFunction,wa=C.isElement;I(R.ontransitionend)&&ea(R.onwebkittransitionend)?(S="WebkitTransition",xa="webkitTransitionEnd transitionend"):(S="transition",xa="transitionend"),I(R.onanimationend)&&ea(R.onwebkitanimationend)?($="WebkitAnimation",ya="webkitAnimationEnd animationend"):($="animation",ya="animationend");var qa=$+"Delay",za=$+"Duration",ma=S+"Delay",La=S+"Duration",Ma=C.$$minErr("ng"),Ua={transitionDuration:La,transitionDelay:ma,transitionProperty:S+"Property",animationDuration:za,animationDelay:qa,animationIterationCount:$+"IterationCount"},Va={transitionDuration:La,transitionDelay:ma,animationDuration:za,animationDelay:qa};C.module("ngAnimate",[]).directive("ngAnimateSwap",["$animate","$rootScope",function(a,b){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(b,d,e,l,n){var H,g;b.$watchCollection(e.ngAnimateSwap||e.for,function(e){H&&a.leave(H),g&&(g.$destroy(),g=null),(e||0===e)&&(g=b.$new(),n(g,function(b){H=b,a.enter(b,null,d)}))})}}}]).directive("ngAnimateChildren",["$interpolate",function(a){return{link:function(b,c,d){function e(a){c.data("$$ngAnimateChildren","on"===a||"true"===a)}var l=d.ngAnimateChildren;C.isString(l)&&0===l.length?c.data("$$ngAnimateChildren",!0):(e(a(l)(b)),d.$observe("ngAnimateChildren",e))}}}]).factory("$$rAFScheduler",["$$rAF",function(a){function b(a){d=d.concat(a),c()}function c(){if(d.length){for(var b=d.shift(),n=0;n<b.length;n++)b[n]();e||a(function(){e||c()})}}var d,e;return d=b.queue=[],b.waitUntilQuiet=function(b){e&&e(),e=a(function(){e=null,b(),c()})},b}]).provider("$$animateQueue",["$animateProvider",function(a){function b(a){if(!a)return null;a=a.split(" ");var b=Object.create(null);return s(a,function(a){b[a]=!0}),b}function c(a,c){if(a&&c){var d=b(c);return a.split(" ").some(function(a){return d[a]})}}function d(a,b,c,d){return l[a].some(function(a){return a(b,c,d)})}function e(a,b){var c=0<(a.addClass||"").length,d=0<(a.removeClass||"").length;return b?c&&d:c||d}var l=this.rules={skip:[],cancel:[],join:[]};l.join.push(function(a,b,c){return!b.structural&&e(b)}),l.skip.push(function(a,b,c){return!b.structural&&!e(b)}),l.skip.push(function(a,b,c){return"leave"==c.event&&b.structural}),l.skip.push(function(a,b,c){return c.structural&&2===c.state&&!b.structural}),l.cancel.push(function(a,b,c){return c.structural&&b.structural}),l.cancel.push(function(a,b,c){return 2===c.state&&b.structural}),l.cancel.push(function(a,b,d){if(d.structural)return!1;a=b.addClass,b=b.removeClass;var e=d.addClass;return d=d.removeClass,!(I(a)&&I(b)||I(e)&&I(d))&&(c(a,d)||c(b,e))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(b,c,g,l,v,Wa,P,t,F,T){function J(){var a=!1;return function(b){a?b():c.$$postDigest(function(){a=!0,b()})}}function y(a,b,c){var f=z(b),d=z(a),N=[];return(a=h[c])&&s(a,function(a){x.call(a.node,f)?N.push(a.callback):"leave"===c&&x.call(a.node,d)&&N.push(a.callback)}),N}function r(a,b,c){var f=da(b);return a.filter(function(a){return!(a.node===f&&(!c||a.callback===c))})}function p(a,h,w){function r(c,f,d,h){sa(function(){var c=y(T,a,f);c.length?b(function(){s(c,function(b){b(a,d,h)}),"close"!==d||a[0].parentNode||ra.off(a)}):"close"!==d||a[0].parentNode||ra.off(a)}),c.progress(f,d,h)}function k(b){var c=a,f=m;f.preparationClasses&&(c.removeClass(f.preparationClasses),f.preparationClasses=null),f.activeClasses&&(c.removeClass(f.activeClasses),f.activeClasses=null),E(a,m),ha(a,m),m.domOperation(),B.complete(!b)}var p,T,m=Ja(w);(a=Oa(a))&&(p=z(a),T=a.parent());var m=oa(m),B=new P,sa=J();if(ca(m.addClass)&&(m.addClass=m.addClass.join(" ")),m.addClass&&!O(m.addClass)&&(m.addClass=null),ca(m.removeClass)&&(m.removeClass=m.removeClass.join(" ")),m.removeClass&&!O(m.removeClass)&&(m.removeClass=null),m.from&&!va(m.from)&&(m.from=null),m.to&&!va(m.to)&&(m.to=null),!p)return k(),B;if(w=[p.className,m.addClass,m.removeClass].join(" "),!Xa(w))return k(),B;var g=0<=["enter","move","leave"].indexOf(h),x=l[0].hidden,t=!f||x||N.get(p);w=!t&&A.get(p)||{};var F=!!w.state;if(t||F&&1==w.state||(t=!M(a,T,h)),t)return x&&r(B,h,"start"),k(),x&&r(B,h,"close"),B;if(g&&K(a),x={structural:g,element:a,event:h,addClass:m.addClass,removeClass:m.removeClass,close:k,options:m,runner:B},F){if(d("skip",a,x,w))return 2===w.state?(k(),B):(W(a,w,x),w.runner);if(d("cancel",a,x,w))if(2===w.state)w.runner.end();else{if(!w.structural)return W(a,w,x),w.runner;w.close()}else if(d("join",a,x,w)){if(2!==w.state)return Sa(a,g?h:null,m),h=x.event=w.event,m=W(a,w,x),w.runner;W(a,x,{})}}else W(a,x,{});if((F=x.structural)||(F="animate"===x.event&&0<Object.keys(x.options.to||{}).length||e(x)),!F)return k(),ka(a),B;var v=(w.counter||0)+1;return x.counter=v,L(a,1,x),c.$$postDigest(function(){var b=A.get(p),c=!b,b=b||{},f=0<(a.parent()||[]).length&&("animate"===b.event||b.structural||e(b));c||b.counter!==v||!f?(c&&(E(a,m),ha(a,m)),(c||g&&b.event!==h)&&(m.domOperation(),B.end()),f||ka(a)):(h=!b.structural&&e(b,!0)?"setClass":b.event,L(a,2),b=Wa(a,h,b.options),B.setHost(b),r(B,h,"start",{}),b.done(function(b){k(!b),(b=A.get(p))&&b.counter===v&&ka(z(a)),r(B,h,"close",{})}))}),B}function K(a){a=z(a).querySelectorAll("[data-ng-animate]"),s(a,function(a){var b=parseInt(a.getAttribute("data-ng-animate")),c=A.get(a);if(c)switch(b){case 2:c.runner.end();case 1:A.remove(a)}})}function ka(a){a=z(a),a.removeAttribute("data-ng-animate"),A.remove(a)}function k(a,b){return z(a)===z(b)}function M(a,b,c){c=G(l[0].body);var r,f=k(a,c)||"HTML"===a[0].nodeName,d=k(a,g),h=!1,e=N.get(z(a));for((a=G.data(a[0],"$ngAnimatePin"))&&(b=a),b=z(b);b&&(d||(d=k(b,g)),1===b.nodeType);){if(a=A.get(b)||{},!h){var p=N.get(b);if(!0===p&&!1!==e){e=!0;break}!1===p&&(e=!1),h=a.structural}if((I(r)||!0===r)&&(a=G.data(b,"$$ngAnimateChildren"),ea(a)&&(r=a)),h&&!1===r)break;if(f||(f=k(b,c)),f&&d)break;b=d||!(a=G.data(b,"$ngAnimatePin"))?b.parentNode:z(a)}return(!h||r)&&!0!==e&&d&&f}function L(a,b,c){c=c||{},c.state=b,a=z(a),a.setAttribute("data-ng-animate",b),c=(b=A.get(a))?Ea(b,c):c,A.put(a,c)}var A=new v,N=new v,f=null,B=c.$watch(function(){return 0===t.totalPendingRequests},function(a){a&&(B(),c.$$postDigest(function(){c.$$postDigest(function(){null===f&&(f=!0)})}))}),h={},sa=a.classNameFilter(),Xa=sa?function(a){return sa.test(a)}:function(){return!0},E=V(F),x=R.Node.prototype.contains||function(a){return this===a||!!(16&this.compareDocumentPosition(a))},ra={on:function(a,b,c){var f=da(b);h[a]=h[a]||[],h[a].push({node:f,callback:c}),G(b).on("$destroy",function(){A.get(f)||ra.off(a,b,c)})},off:function(a,b,c){if(1!==arguments.length||C.isString(arguments[0])){var f=h[a];f&&(h[a]=1===arguments.length?null:r(f,b,c))}else for(f in b=arguments[0],h)h[f]=r(h[f],b)},pin:function(a,b){Aa(wa(a),"element","not an element"),Aa(wa(b),"parentElement","not an element"),a.data("$ngAnimatePin",b)},push:function(a,b,c,f){return c=c||{},c.domOperation=f,p(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!f;else if(wa(a)){var d=z(a),h=N.get(d);1===c?b=!h:N.put(d,!b)}else b=f=!!a;return b}};return ra}]}]).provider("$$animation",["$animateProvider",function(a){var b=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,d,e,l,n,H){function g(a){function b(a){if(a.processed)return a;a.processed=!0;var d=a.domNode,p=d.parentNode;e.put(d,a);for(var K;p;){if(K=e.get(p)){K.processed||(K=b(K));break}p=p.parentNode}return(K||c).children.push(a),a}var d,c={children:[]},e=new n;for(d=0;d<a.length;d++){var g=a[d];e.put(g.domNode,a[d]={domNode:g.domNode,fn:g.fn,children:[]})}for(d=0;d<a.length;d++)b(a[d]);return function(a){var d,b=[],c=[];for(d=0;d<a.children.length;d++)c.push(a.children[d]);a=c.length;var e=0,k=[];for(d=0;d<c.length;d++){var g=c[d];0>=a&&(a=e,e=0,b.push(k),k=[]),k.push(g.fn),g.children.forEach(function(a){e++,c.push(a)}),a--}return k.length&&b.push(k),b}(c)}var u=[],v=V(a);return function(n,P,t){function F(a){a=a.hasAttribute("ng-animate-ref")?[a]:a.querySelectorAll("[ng-animate-ref]");var b=[];return s(a,function(a){var c=a.getAttribute("ng-animate-ref");c&&c.length&&b.push(a)}),b}function T(a){var b=[],c={};s(a,function(a,d){var h=z(a.element),e=0<=["enter","move"].indexOf(a.event),h=a.structural?F(h):[];if(h.length){var k=e?"to":"from";s(h,function(a){var b=a.getAttribute("ng-animate-ref");c[b]=c[b]||{},c[b][k]={animationID:d,element:G(a)}})}else b.push(a)});var d={},e={};return s(c,function(c,k){var r=c.from,p=c.to;if(r&&p){var A=a[r.animationID],g=a[p.animationID],B=r.animationID.toString();if(!e[B]){var n=e[B]={structural:!0,beforeStart:function(){A.beforeStart(),g.beforeStart()},close:function(){A.close(),g.close()},classes:J(A.classes,g.classes),from:A,to:g,anchors:[]};n.classes.length?b.push(n):(b.push(A),b.push(g))}e[B].anchors.push({out:r.element,in:p.element})}else r=r?r.animationID:p.animationID,p=r.toString(),d[p]||(d[p]=!0,b.push(a[r]))}),b}function J(a,b){a=a.split(" "),b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var e=a[d];if("ng-"!==e.substring(0,3))for(var r=0;r<b.length;r++)if(e===b[r]){c.push(e);break}}return c.join(" ")}function y(a){for(var c=b.length-1;0<=c;c--){var d=e.get(b[c])(a);if(d)return d}}function r(a,b){function c(a){(a=a.data("$$animationRunner"))&&a.setHost(b)}a.from&&a.to?(c(a.from.element),c(a.to.element)):c(a.element)}function p(){var a=n.data("$$animationRunner");!a||"leave"===P&&t.$$domOperationFired||a.end()}function K(b){n.off("$destroy",p),n.removeData("$$animationRunner"),v(n,t),ha(n,t),t.domOperation(),L&&a.removeClass(n,L),n.removeClass("ng-animate"),k.complete(!b)}t=oa(t);var ka=0<=["enter","move","leave"].indexOf(P),k=new l({end:function(){K()},cancel:function(){K(!0)}});if(!b.length)return K(),k;n.data("$$animationRunner",k);var M=Ba(n.attr("class"),Ba(t.addClass,t.removeClass)),L=t.tempClasses;L&&(M+=" "+L,t.tempClasses=null);var A;return ka&&(A="ng-"+P+"-prepare",a.addClass(n,A)),u.push({element:n,classes:M,event:P,structural:ka,options:t,beforeStart:function(){n.addClass("ng-animate"),L&&a.addClass(n,L),A&&(a.removeClass(n,A),A=null)},close:K}),n.on("$destroy",p),1<u.length?k:(d.$$postDigest(function(){var a=[];s(u,function(b){b.element.data("$$animationRunner")?a.push(b):b.close()}),u.length=0;var b=T(a),c=[];s(b,function(a){c.push({domNode:z(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var b,c=a.close;if((a.anchors?a.from.element||a.to.element:a.element).data("$$animationRunner")){var d=y(a);d&&(b=d.start)}b?(b=b(),b.done(function(a){c(!a)}),r(a,b)):c()}})}),H(g(c))}),k)}}]}]).provider("$animateCss",["$animateProvider",function(a){var b=Ha(),c=Ha();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,e,l,n,H,g,u,v){function C(a,b){var c=a.parentNode;return(c.$$ngAnimateParentKey||(c.$$ngAnimateParentKey=++J))+"-"+a.getAttribute("class")+"-"+b}function P(r,p,g,n){var k;return 0<b.count(g)&&((k=c.get(g))||(p=Y(p,"-stagger"),e.addClass(r,p),k=Fa(a,r,n),k.animationDuration=Math.max(k.animationDuration,0),k.transitionDuration=Math.max(k.transitionDuration,0),e.removeClass(r,p),c.put(g,k))),k||{}}function t(a){y.push(a),u.waitUntilQuiet(function(){b.flush(),c.flush();for(var a=H(),d=0;d<y.length;d++)y[d](a);y.length=0})}function F(c,e,g){return e=b.get(g),e||(e=Fa(a,c,Ua),"infinite"===e.animationIterationCount&&(e.animationIterationCount=1)),b.put(g,e),c=e,g=c.animationDelay,e=c.transitionDelay,c.maxDelay=g&&e?Math.max(g,e):g||e,c.maxDuration=Math.max(c.animationDuration*c.animationIterationCount,c.transitionDuration),c}var T=V(e),J=0,y=[];return function(a,c){function d(){k()}function u(){k(!0)}function k(b){if(!(x||G&&J)){x=!0,J=!1,f.$$skipPreparationClasses||e.removeClass(a,ga),e.removeClass(a,ea),ta(h,!1),pa(h,!1),s(y,function(a){h.style[a[0]]=""}),T(a,f),ha(a,f),Object.keys(B).length&&s(B,function(a,b){a?h.style.setProperty(b,a):h.style.removeProperty(b)}),f.onDone&&f.onDone(),fa&&fa.length&&a.off(fa.join(" "),A);var c=a.data("$$animateCss");c&&(n.cancel(c[0].timer),a.removeData("$$animateCss")),I&&I.complete(!b)}}function M(a){q.blockTransition&&pa(h,a),q.blockKeyframeAnimation&&ta(h,!!a)}function L(){return I=new l({end:d,cancel:u}),t(Q),k(),{$$willAnimate:!1,start:function(){return I},end:d}}function A(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||Date.now(),b=parseFloat(b.elapsedTime.toFixed(3)),Math.max(a-W,0)>=R&&b>=m&&(G=!0,k())}function N(){function b(){if(!x){if(M(!1),s(y,function(a){h.style[a[0]]=a[1]}),T(a,f),e.addClass(a,ea),q.recalculateTimingStyles){if(na=h.className+" "+ga,ia=C(h,na),D=F(h,na,ia),aa=D.maxDelay,O=Math.max(aa,0),0===(m=D.maxDuration))return void k();q.hasTransitions=0<D.transitionDuration,q.hasAnimations=0<D.animationDuration}if(q.applyAnimationDelay&&(aa="boolean"!=typeof f.delay&&ua(f.delay)?parseFloat(f.delay):aa,O=Math.max(aa,0),D.animationDelay=aa,ba=[qa,aa+"s"],y.push(ba),h.style[ba[0]]=ba[1]),R=1e3*O,V=1e3*m,f.easing){var d,g=f.easing;q.hasTransitions&&(d=S+"TimingFunction",y.push([d,g]),h.style[d]=g),q.hasAnimations&&(d=$+"TimingFunction",y.push([d,g]),h.style[d]=g)}D.transitionDuration&&fa.push(xa),D.animationDuration&&fa.push(ya),W=Date.now();var p=R+1.5*V;d=W+p;var g=a.data("$$animateCss")||[],N=!0;if(g.length){var l=g[0];(N=d>l.expectedEndTime)?n.cancel(l.timer):g.push(k)}N&&(p=n(c,p,!1),g[0]={timer:p,expectedEndTime:d},g.push(k),a.data("$$animateCss",g)),fa.length&&a.on(fa.join(" "),A),f.to&&(f.cleanupStyles&&Ia(B,h,Object.keys(f.to)),Da(a,f))}}function c(){var b=a.data("$$animateCss");if(b){for(var d=1;d<b.length;d++)b[d]();a.removeData("$$animateCss")}}if(!x)if(h.parentNode){var d=function(a){if(G)J&&a&&(J=!1,k());else if(J=!a,D.animationDuration)if(a=ta(h,J),J)y.push(a);else{var b=y,c=b.indexOf(a);0<=a&&b.splice(c,1)}},g=0<da&&(D.transitionDuration&&0===X.transitionDuration||D.animationDuration&&0===X.animationDuration)&&Math.max(X.animationDelay,X.transitionDelay);g?n(b,Math.floor(g*da*1e3),!1):b(),w.resume=function(){d(!0)},w.pause=function(){d(!1)}}else k()}var f=c||{};f.$$prepared||(f=oa(Ja(f)));var B={},h=z(a);if(!h||!h.parentNode||!v.enabled())return L();var x,J,G,I,w,O,R,m,V,W,y=[],H=a.attr("class"),E=Na(f),fa=[];if(0===f.duration||!g.animations&&!g.transitions)return L();var ja=f.event&&ca(f.event)?f.event.join(" "):f.event,Z="",U="";ja&&f.structural?Z=Y(ja,"ng-",!0):ja&&(Z=ja),f.addClass&&(U+=Y(f.addClass,"-add")),f.removeClass&&(U.length&&(U+=" "),U+=Y(f.removeClass,"-remove")),f.applyClassesEarly&&U.length&&T(a,f);var ga=[Z,U].join(" ").trim(),na=H+" "+ga,ea=Y(ga,"-active"),H=E.to&&0<Object.keys(E.to).length;if(!(0<(f.keyframeStyle||"").length||H||ga))return L();var ia,X;0<f.stagger?(E=parseFloat(f.stagger),X={transitionDelay:E,animationDelay:E,transitionDuration:0,animationDuration:0}):(ia=C(h,na),X=P(h,ga,ia,Va)),f.$$skipPreparationClasses||e.addClass(a,ga),f.transitionStyle&&(E=[S,f.transitionStyle],la(h,E),y.push(E)),0<=f.duration&&(E=0<h.style[S].length,E=Ga(f.duration,E),la(h,E),y.push(E)),f.keyframeStyle&&(E=[$,f.keyframeStyle],la(h,E),y.push(E));var da=X?0<=f.staggerIndex?f.staggerIndex:b.count(ia):0;(ja=0===da)&&!f.skipBlocking&&pa(h,9999);var D=F(h,na,ia),aa=D.maxDelay;O=Math.max(aa,0),m=D.maxDuration;var q={};if(q.hasTransitions=0<D.transitionDuration,q.hasAnimations=0<D.animationDuration,q.hasTransitionAll=q.hasTransitions&&"all"==D.transitionProperty,q.applyTransitionDuration=H&&(q.hasTransitions&&!q.hasTransitionAll||q.hasAnimations&&!q.hasTransitions),q.applyAnimationDuration=f.duration&&q.hasAnimations,q.applyTransitionDelay=ua(f.delay)&&(q.applyTransitionDuration||q.hasTransitions),q.applyAnimationDelay=ua(f.delay)&&q.hasAnimations,q.recalculateTimingStyles=0<U.length,(q.applyTransitionDuration||q.applyAnimationDuration)&&(m=f.duration?parseFloat(f.duration):m,q.applyTransitionDuration&&(q.hasTransitions=!0,D.transitionDuration=m,E=0<h.style[S+"Property"].length,y.push(Ga(m,E))),q.applyAnimationDuration&&(q.hasAnimations=!0,D.animationDuration=m,y.push([za,m+"s"]))),0===m&&!q.recalculateTimingStyles)return L();if(null!=f.delay){var ba;"boolean"!=typeof f.delay&&(ba=parseFloat(f.delay),O=Math.max(ba,0)),q.applyTransitionDelay&&y.push([ma,ba+"s"]),q.applyAnimationDelay&&y.push([qa,ba+"s"])}return null==f.duration&&0<D.transitionDuration&&(q.recalculateTimingStyles=q.recalculateTimingStyles||ja),R=1e3*O,V=1e3*m,f.skipBlocking||(q.blockTransition=0<D.transitionDuration,q.blockKeyframeAnimation=0<D.animationDuration&&0<X.animationDelay&&0===X.animationDuration),f.from&&(f.cleanupStyles&&Ia(B,h,Object.keys(f.from)),Ca(a,f)),q.blockTransition||q.blockKeyframeAnimation?M(m):f.skipBlocking||pa(h,!1),{$$willAnimate:!0,end:d,start:function(){if(!x)return w={end:d,cancel:u,resume:null,pause:null},I=new l(w),t(N),I}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,c,d,e,l,n,H){function g(a){return a.replace(/\bng-\S+\b/g,"")}function u(a,b){return O(a)&&(a=a.split(" ")),O(b)&&(b=b.split(" ")),a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function v(c,e,n){function l(a){var b={},c=z(a).getBoundingClientRect();return s(["width","height","top","left"],function(a){var d=c[a];switch(a){case"top":d+=t.scrollTop;break;case"left":d+=t.scrollLeft}b[a]=Math.floor(d)+"px"}),b}function p(){var c=g(n.attr("class")||""),d=u(c,k),c=u(k,c),d=a(v,{to:l(n),addClass:"ng-anchor-in "+d,removeClass:"ng-anchor-out "+c,delay:!0});return d.$$willAnimate?d:null}function H(){v.remove(),e.removeClass("ng-animate-shim"),n.removeClass("ng-animate-shim")}var v=G(z(e).cloneNode(!0)),k=g(v.attr("class")||"");e.addClass("ng-animate-shim"),n.addClass("ng-animate-shim"),v.addClass("ng-anchor"),F.append(v);var M;if(!(c=function(){var c=a(v,{addClass:"ng-anchor-out",delay:!0,from:l(e)});return c.$$willAnimate?c:null}())&&!(M=p()))return H();var L=c||M;return{start:function(){function a(){c&&c.end()}var b,c=L.start();return c.done(function(){if(c=null,!M&&(M=p()))return c=M.start(),c.done(function(){c=null,H(),b.complete()}),c;H(),b.complete()}),b=new d({end:a,cancel:a})}}}function C(a,b,c,e){var g=P(a),n=P(b),l=[];if(s(e,function(a){(a=v(c,a.out,a.in))&&l.push(a)}),g||n||0!==l.length)return{start:function(){function a(){s(b,function(a){a.end()})}var b=[];g&&b.push(g.start()),n&&b.push(n.start()),s(l,function(a){b.push(a.start())});var c=new d({end:a,cancel:a});return d.all(b,function(a){c.complete(a)}),c}}}function P(c){var d=c.element,e=c.options||{};return c.structural&&(e.event=c.event,e.structural=!0,e.applyClassesEarly=!0,"leave"===c.event&&(e.onDone=e.domOperation)),e.preparationClasses&&(e.event=Z(e.event,e.preparationClasses)),c=a(d,e),c.$$willAnimate?c:null}if(!l.animations&&!l.transitions)return Q;var t=H[0].body;c=z(e);var F=G(c.parentNode&&11===c.parentNode.nodeType||t.contains(c)?c:t);return V(n),function(a){return a.from&&a.to?C(a.from,a.to,a.classes,a.anchors):P(a)}}]}]).provider("$$animateJs",["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function e(c){c=ca(c)?c:c.split(" ");for(var d=[],e={},l=0;l<c.length;l++){var v=c[l],s=a.$$registeredAnimations[v];s&&!e[v]&&(d.push(b.get(s)),e[v]=!0)}return d}var l=V(d);return function(a,b,d,u){function v(){u.domOperation(),l(a,u)}function C(a,b,d,e,f){switch(d){case"animate":b=[b,e.from,e.to,f];break;case"setClass":b=[b,G,J,f];break;case"addClass":b=[b,G,f];break;case"removeClass":b=[b,J,f];break;default:b=[b,f]}if(b.push(e),a=a.apply(a,b))if(Ka(a.start)&&(a=a.start()),a instanceof c)a.done(f);else if(Ka(a))return a;return Q}function z(a,b,d,e,f){var g=[];return s(e,function(e){var k=e[f];k&&g.push(function(){var e,f,g=!1,h=function(a){g||(g=!0,(f||Q)(a),e.complete(!a))};return e=new c({end:function(){h()},cancel:function(){h(!0)}}),f=C(k,a,b,d,function(a){h(!1===a)}),e})}),g}function t(a,b,d,e,f){var g=z(a,b,d,e,f);if(0===g.length){var h,k;"beforeSetClass"===f?(h=z(a,"removeClass",d,e,"beforeRemoveClass"),k=z(a,"addClass",d,e,"beforeAddClass")):"setClass"===f&&(h=z(a,"removeClass",d,e,"removeClass"),k=z(a,"addClass",d,e,"addClass")),h&&(g=g.concat(h)),k&&(g=g.concat(k))}if(0!==g.length)return function(a){var b=[];return g.length&&s(g,function(a){b.push(a())}),b.length?c.all(b,a):a(),function(a){s(b,function(b){a?b.cancel():b.end()})}}}var F=!1;3===arguments.length&&va(d)&&(u=d,d=null),u=oa(u),d||(d=a.attr("class")||"",u.addClass&&(d+=" "+u.addClass),u.removeClass&&(d+=" "+u.removeClass));var r,p,G=u.addClass,J=u.removeClass,y=e(d);if(y.length){var K,I;"leave"==b?(I="leave",K="afterLeave"):(I="before"+b.charAt(0).toUpperCase()+b.substr(1),K=b),"enter"!==b&&"move"!==b&&(r=t(a,b,u,y,I)),p=t(a,b,u,y,K)}if(r||p){var k;return{$$willAnimate:!0,end:function(){return k?k.end():(F=!0,v(),ha(a,u),k=new c,k.complete(!0)),k},start:function(){function b(c){F=!0,v(),ha(a,u),k.complete(c)}if(k)return k;k=new c;var d,e=[];return r&&e.push(function(a){d=r(a)}),e.length?e.push(function(a){v(),a(!0)}):v(),p&&e.push(function(a){d=p(a)}),k.setHost({end:function(){F||((d||Q)(void 0),b(void 0))},cancel:function(){F||((d||Q)(!0),b(!0))}}),c.chain(e,b),k}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,c){function d(c){return a(c.element,c.event,c.classes,c.options)}return function(a){if(!a.from||!a.to)return d(a);var b=d(a.from),n=d(a.to);return b||n?{start:function(){function a(){return function(){s(d,function(a){a.end()})}}var d=[];b&&d.push(b.start()),n&&d.push(n.start()),c.all(d,function(a){e.complete(a)});var e=new c({end:a(),cancel:a()});return e}}:void 0}}]}])}(window,window.angular),define("angular-animate",["angular"],function(){}),angular.module("dndLists",[]).directive("dndDraggable",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(e,n,r,t){return function(a,d,o){d.attr("draggable","true"),o.dndDisableIf&&a.$watch(o.dndDisableIf,function(e){d.attr("draggable",!e)}),d.on("dragstart",function(i){return i=i.originalEvent||i,"false"==d.attr("draggable")||(i.dataTransfer.setData("Text",angular.toJson(a.$eval(o.dndDraggable))),i.dataTransfer.effectAllowed=o.dndEffectAllowed||"move",d.addClass("dndDragging"),n(function(){d.addClass("dndDraggingSource")},0),r.dropEffect="none",t.isDragging=!0,t.dragType=o.dndType?a.$eval(o.dndType):void 0,i._dndHandle&&i.dataTransfer.setDragImage&&i.dataTransfer.setDragImage(d[0],0,0),e(o.dndDragstart)(a,{event:i}),void i.stopPropagation())}),d.on("dragend",function(i){i=i.originalEvent||i;var f=r.dropEffect;a.$apply(function(){switch(f){case"move":e(o.dndMoved)(a,{event:i});break;case"copy":e(o.dndCopied)(a,{event:i});break;case"none":e(o.dndCanceled)(a,{event:i})}e(o.dndDragend)(a,{event:i,dropEffect:f})}),d.removeClass("dndDragging"),n(function(){d.removeClass("dndDraggingSource")},0),t.isDragging=!1,i.stopPropagation()}),d.on("click",function(n){o.dndSelected&&(n=n.originalEvent||n,a.$apply(function(){e(o.dndSelected)(a,{event:n})}),n.stopPropagation())}),d.on("selectstart",function(){this.dragDrop&&this.dragDrop()})}}]).directive("dndList",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(e,n,r,t){return function(a,d,o){function i(e,n,r){var t=E?e.offsetX||e.layerX:e.offsetY||e.layerY,a=E?n.offsetWidth:n.offsetHeight,d=E?n.offsetLeft:n.offsetTop;return(d=r?d:0)+a/2>t}function l(){return Array.prototype.indexOf.call(D.children,v)}function g(e){if(!t.isDragging&&!y)return!1;if(!c(e.dataTransfer.types))return!1;if(o.dndAllowedTypes&&t.isDragging){var n=a.$eval(o.dndAllowedTypes);if(angular.isArray(n)&&-1===n.indexOf(t.dragType))return!1}return!o.dndDisableIf||!a.$eval(o.dndDisableIf)}function s(){return p.remove(),d.removeClass("dndDragover"),!0}function u(n,r,d,o){return e(n)(a,{event:r,index:d,item:o||void 0,external:!t.isDragging,type:t.isDragging?t.dragType:void 0})}function c(e){if(!e)return!0;for(var n=0;n<e.length;n++)if("Text"===e[n]||"text/plain"===e[n])return!0;return!1}var p=function(){var e;return angular.forEach(d.children(),function(n){var r=angular.element(n);r.hasClass("dndPlaceholder")&&(e=r)}),e||angular.element("<li class='dndPlaceholder'></li>")}(),v=p[0],D=d[0];p.remove();var E=o.dndHorizontalList&&a.$eval(o.dndHorizontalList),y=o.dndExternalSources&&a.$eval(o.dndExternalSources);d.on("dragenter",function(e){return e=e.originalEvent||e,!g(e)||void e.preventDefault()}),d.on("dragover",function(e){if(e=e.originalEvent||e,!g(e))return!0;if(v.parentNode!=D&&d.append(p),e.target!==D){for(var n=e.target;n.parentNode!==D&&n.parentNode;)n=n.parentNode;n.parentNode===D&&n!==v&&(i(e,n)?D.insertBefore(v,n):D.insertBefore(v,n.nextSibling))}else if(i(e,v,!0))for(;v.previousElementSibling&&(i(e,v.previousElementSibling,!0)||0===v.previousElementSibling.offsetHeight);)D.insertBefore(v,v.previousElementSibling);else for(;v.nextElementSibling&&!i(e,v.nextElementSibling,!0);)D.insertBefore(v,v.nextElementSibling.nextElementSibling);return o.dndDragover&&!u(o.dndDragover,e,l())?s():(d.addClass("dndDragover"),e.preventDefault(),e.stopPropagation(),!1)}),d.on("drop",function(e){if(e=e.originalEvent||e,!g(e))return!0;e.preventDefault();var n,t=e.dataTransfer.getData("Text")||e.dataTransfer.getData("text/plain");try{n=JSON.parse(t)}catch(d){return s()}var i=l();return o.dndDrop&&!(n=u(o.dndDrop,e,i,n))?s():(!0!==n&&a.$apply(function(){a.$eval(o.dndList).splice(i,0,n)}),u(o.dndInserted,e,i,n),"none"===e.dataTransfer.dropEffect?"copy"===e.dataTransfer.effectAllowed||"move"===e.dataTransfer.effectAllowed?r.dropEffect=e.dataTransfer.effectAllowed:r.dropEffect=e.ctrlKey?"copy":"move":r.dropEffect=e.dataTransfer.dropEffect,s(),e.stopPropagation(),!1)}),d.on("dragleave",function(e){e=e.originalEvent||e,d.removeClass("dndDragover"),n(function(){d.hasClass("dndDragover")||p.remove()},100)})}}]).directive("dndNodrag",function(){return function(e,n,r){n.attr("draggable","true"),n.on("dragstart",function(e){e=e.originalEvent||e,e._dndHandle||(e.dataTransfer.types&&e.dataTransfer.types.length||e.preventDefault(),e.stopPropagation())}),n.on("dragend",function(e){e=e.originalEvent||e,e._dndHandle||e.stopPropagation()})}}).directive("dndHandle",function(){return function(e,n,r){n.attr("draggable","true"),n.on("dragstart dragend",function(e){e=e.originalEvent||e,e._dndHandle=!0})}}).factory("dndDragTypeWorkaround",function(){return{}}).factory("dndDropEffectWorkaround",function(){return{}}),define("dndLists",["angular"],function(){}),function(a,b){"use strict";"undefined"!=typeof module&&module.exports?module.exports=b(require("angular")):"function"==typeof define&&define.amd?define("angucomplete-alt",["angular"],b):b(a.angular)}(window,function(a){"use strict";a.module("angucomplete-alt",[]).directive("angucompleteAlt",["$q","$parse","$http","$sce","$timeout","$templateCache","$interpolate",function(a,b,c,d,e,f,g){function h(b,f,g,h){function w(a,c){a&&("object"==typeof a?(b.searchStr=C(a),z({originalObject:a})):"string"==typeof a&&a.length>0?b.searchStr=a:console&&console.error&&console.error("Tried to set "+(c?"initial":"")+" value of angucomplete to",a,"which is an invalid value"),F(!0))}function x(a){ma=null,b.hideResults(a),document.body.removeEventListener("click",x)}function y(a){return a.which?a.which:a.keyCode}function z(a){"function"==typeof b.selectedObject?b.selectedObject(a,b.selectedObjectData):b.selectedObject=a,F(!!a)}function B(a){z({originalObject:a}),b.clearSelected&&(b.searchStr=null),U()}function C(a){return b.titleField.split(",").map(function(b){return D(a,b)}).join(" ")}function D(a,b){var c,d;if(b){c=b.split("."),d=a;for(var e=0;e<c.length;e++)d=d[c[e]]}else d=a;return d}function E(a,c){var e,f,g;return g=new RegExp(c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),a?(a.match&&a.replace||(a=a.toString()),f=a.match(g),e=f?a.replace(g,'<span class="'+b.matchClass+'">'+f[0]+"</span>"):a,d.trustAsHtml(e)):void 0}function F(a){b.notEmpty=a,ia=b.searchStr,b.fieldRequired&&h&&b.inputName&&h[b.inputName].$setValidity(ha,a)}function G(a){var c=y(a);if(c!==l&&c!==j)if(c===k||c===n)a.preventDefault();else if(c===i)a.preventDefault(),!b.showDropdown&&b.searchStr&&b.searchStr.length>=fa&&(V(),b.searching=!0,Y(b.searchStr));else if(c===m)U(),b.$apply(function(){ea.val(b.searchStr)});else{if(0===fa&&!b.searchStr)return;b.searchStr&&""!==b.searchStr?b.searchStr.length>=fa&&(V(),ga&&e.cancel(ga),b.searching=!0,ga=e(function(){Y(b.searchStr)},b.pause)):b.showDropdown=!1,ia&&ia!==b.searchStr&&!b.clearSelected&&b.$apply(function(){z()})}}function H(a){!b.overrideSuggestions||b.selectedObject&&b.selectedObject.originalObject===b.searchStr||(a&&a.preventDefault(),e.cancel(ga),R(),B(b.searchStr))}function I(a){var b=getComputedStyle(a);return a.offsetHeight+parseInt(b.marginTop,10)+parseInt(b.marginBottom,10)}function J(){return ka.getBoundingClientRect().top+parseInt(getComputedStyle(ka).maxHeight,10)}function K(){return f[0].querySelectorAll(".angucomplete-row")[b.currentIndex]}function L(){return K().getBoundingClientRect().top-(ka.getBoundingClientRect().top+parseInt(getComputedStyle(ka).paddingTop,10))}function M(a){ka.scrollTop=ka.scrollTop+a}function N(){var a=b.results[b.currentIndex];b.matchClass?ea.val(C(a.originalObject)):ea.val(a.title)}function O(a){var c=y(a),d=null,e=null;c===n&&b.results?(b.currentIndex>=0&&b.currentIndex<b.results.length?(a.preventDefault(),b.selectResult(b.results[b.currentIndex])):(H(a),U()),b.$apply()):c===i&&b.results?(a.preventDefault(),b.currentIndex+1<b.results.length&&b.showDropdown&&(b.$apply(function(){b.currentIndex++,N()}),la&&(d=K(),J()<d.getBoundingClientRect().bottom&&M(I(d))))):c===k&&b.results?(a.preventDefault(),b.currentIndex>=1?(b.$apply(function(){b.currentIndex--,N()}),la&&0>(e=L())&&M(e-1)):0===b.currentIndex&&b.$apply(function(){b.currentIndex=-1,ea.val(b.searchStr)})):c===o?b.results&&b.results.length>0&&b.showDropdown?-1===b.currentIndex&&b.overrideSuggestions?H():(-1===b.currentIndex&&(b.currentIndex=0),b.selectResult(b.results[b.currentIndex]),b.$digest()):b.searchStr&&b.searchStr.length>0&&H():c===m&&a.preventDefault()}function P(a){return function(c,d,e,f){d||e||f||!c.data||(c=c.data),b.searching=!1,Z(D(aa(c),b.remoteUrlDataField),a)}}function Q(a,c,d,e){b.searching=!1,0!==c&&-1!==c&&(c||d||e||(c=a.status),b.remoteUrlErrorCallback?b.remoteUrlErrorCallback(a,c,d,e):console&&console.error&&console.error("http error"))}function R(){ja&&ja.resolve()}function S(d){var e={},f=b.remoteUrl+encodeURIComponent(d);b.remoteUrlRequestFormatter&&(e={params:b.remoteUrlRequestFormatter(d)},f=b.remoteUrl),b.remoteUrlRequestWithCredentials&&(e.withCredentials=!0),R(),ja=a.defer(),e.timeout=ja.promise,c.get(f,e).success(P(d)).error(Q)}function T(c){R(),ja=a.defer(),b.remoteApiHandler(c,ja.promise).then(P(c)).catch(Q)}function U(){b.showDropdown=!1,b.results=[],ka&&(ka.scrollTop=0)}function V(){b.showDropdown=ca,b.currentIndex=b.focusFirst?0:-1,b.results=[]}function W(a){var c,d,e,f,g=b.searchFields.split(","),h=[];for(void 0!==b.parseInput()&&(a=b.parseInput()(a)),c=0;c<b.localData.length;c++){for(d=!1,e=0;e<g.length;e++)f=D(b.localData[c],g[e])||"",d=d||f.toString().toLowerCase().indexOf(a.toString().toLowerCase())>=0;d&&(h[h.length]=b.localData[c])}return h}function X(a,c,d){if(!d)return!1;for(var e in c)if(c[e].toLowerCase()===d.toLowerCase())return b.selectResult(a),!0;return!1}function Y(a){!a||a.length<fa||(b.localData?b.$apply(function(){var c;c=void 0!==b.localSearch()?b.localSearch()(a,b.localData):W(a),b.searching=!1,Z(c,a)}):b.remoteApiHandler?T(a):S(a))}
function Z(a,c){var d,e,f,g,h,i;if(a&&a.length>0)for(b.results=[],d=0;d<a.length;d++)b.titleField&&""!==b.titleField&&(g=h=C(a[d])),e="",b.descriptionField&&(e=i=D(a[d],b.descriptionField)),f="",b.imageField&&(f=D(a[d],b.imageField)),b.matchClass&&(h=E(g,c),i=E(e,c)),b.results[b.results.length]={title:h,description:i,image:f,originalObject:a[d]};else b.results=[];b.autoMatch&&1===b.results.length&&X(b.results[0],{title:g,desc:e||""},b.searchStr)?b.showDropdown=!1:0!==b.results.length||da?b.showDropdown=!0:b.showDropdown=!1}function $(){b.localData?Z(b.localData,""):b.remoteApiHandler?T(""):S("")}var _,aa,ba,ca,da,ea=f.find("input"),fa=p,ga=null,ha=t,ia=null,ja=null,ka=f[0].querySelector(".angucomplete-dropdown"),la=!1,ma=null;f.on("mousedown",function(a){a.target.id?(ma=a.target.id)===b.id+"_dropdown"&&document.body.addEventListener("click",x):ma=a.target.className}),b.currentIndex=b.focusFirst?0:null,b.searching=!1,ba=b.$watch("initialValue",function(a){a&&(ba(),w(a,!0))}),b.$watch("fieldRequired",function(a,c){a!==c&&(a?F(!(!ia||-1===b.currentIndex)):h[b.inputName].$setValidity(ha,!0))}),b.$on("angucomplete-alt:clearInput",function(a,c){c&&c!==b.id||(b.searchStr=null,z(),F(!1),U())}),b.$on("angucomplete-alt:changeInput",function(a,c,d){c&&c===b.id&&w(d)}),b.onFocusHandler=function(){b.focusIn&&b.focusIn(),0!==fa||b.searchStr&&0!==b.searchStr.length||(b.currentIndex=b.focusFirst?0:b.currentIndex,b.showDropdown=!0,$())},b.hideResults=function(){ma&&(ma===b.id+"_dropdown"||ma.indexOf("angucomplete")>=0)?ma=null:(_=e(function(){U(),b.$apply(function(){b.searchStr&&b.searchStr.length>0&&ea.val(b.searchStr)})},s),R(),b.focusOut&&b.focusOut(),b.overrideSuggestions&&b.searchStr&&b.searchStr.length>0&&-1===b.currentIndex&&H())},b.resetHideResults=function(){_&&e.cancel(_)},b.hoverRow=function(a){b.currentIndex=a},b.selectResult=function(a){b.matchClass&&(a.title=C(a.originalObject),a.description=D(a.originalObject,b.descriptionField)),b.clearSelected?b.searchStr=null:b.searchStr=a.title,z(a),U()},b.inputChangeHandler=function(a){return a.length<fa?(R(),U()):0===a.length&&0===fa&&(b.searching=!1,$()),b.inputChanged&&(a=b.inputChanged(a)),a},b.fieldRequiredClass&&""!==b.fieldRequiredClass&&(ha=b.fieldRequiredClass),b.minlength&&""!==b.minlength&&(fa=parseInt(b.minlength,10)),b.pause||(b.pause=r),b.clearSelected||(b.clearSelected=!1),b.overrideSuggestions||(b.overrideSuggestions=!1),b.fieldRequired&&h&&F(!!b.initialValue),b.inputType=g.type?g.type:"text",b.textSearching=g.textSearching?g.textSearching:u,b.textNoResults=g.textNoResults?g.textNoResults:v,ca="false"!==b.textSearching,da="false"!==b.textNoResults,b.maxlength=g.maxlength?g.maxlength:q,ea.on("keydown",O),ea.on("keyup",G),aa=function(a){return function(c){return b[a]?b[a](c):c}}("remoteUrlResponseFormatter"),e(function(){var a=getComputedStyle(ka);la=a.maxHeight&&"auto"===a.overflowY})}var i=40,j=39,k=38,l=37,m=27,n=13,o=9,p=3,q=524288,r=500,s=200,t="autocomplete-required",u="Searching...",v="No results found",w="/angucomplete-alt/index.html";return f.put(w,'<div class="angucomplete-holder" ng-class="{\'angucomplete-dropdown-visible\': showDropdown}">  <input id="{{id}}_value" name="{{inputName}}" tabindex="{{fieldTabindex}}" ng-class="{\'angucomplete-input-not-empty\': notEmpty}" ng-model="searchStr" ng-disabled="disableInput" type="{{inputType}}" placeholder="{{placeholder}}" maxlength="{{maxlength}}" ng-focus="onFocusHandler()" class="{{inputClass}}" ng-focus="resetHideResults()" ng-blur="hideResults($event)" autocapitalize="off" autocorrect="off" autocomplete="off" ng-change="inputChangeHandler(searchStr)"/>  <div id="{{id}}_dropdown" class="angucomplete-dropdown" ng-show="showDropdown">    <div class="angucomplete-searching" ng-show="searching" ng-bind="textSearching"></div>    <div class="angucomplete-searching" ng-show="!searching && (!results || results.length == 0)" ng-bind="textNoResults"></div>    <div class="angucomplete-row" ng-repeat="result in results" ng-click="selectResult(result)" ng-mouseenter="hoverRow($index)" ng-class="{\'angucomplete-selected-row\': $index == currentIndex}">      <div ng-if="imageField" class="angucomplete-image-holder">        <img ng-if="result.image && result.image != \'\'" ng-src="{{result.image}}" class="angucomplete-image"/>        <div ng-if="!result.image && result.image != \'\'" class="angucomplete-image-default"></div>      </div>      <div class="angucomplete-title" ng-if="matchClass" ng-bind-html="result.title"></div>      <div class="angucomplete-title" ng-if="!matchClass">{{ result.title }}</div>      <div ng-if="matchClass && result.description && result.description != \'\'" class="angucomplete-description" ng-bind-html="result.description"></div>      <div ng-if="!matchClass && result.description && result.description != \'\'" class="angucomplete-description">{{result.description}}</div>    </div>  </div></div>'),{restrict:"EA",require:"^?form",scope:{selectedObject:"=",selectedObjectData:"=",disableInput:"=",initialValue:"=",localData:"=",localSearch:"&",remoteUrlRequestFormatter:"=",remoteUrlRequestWithCredentials:"@",remoteUrlResponseFormatter:"=",remoteUrlErrorCallback:"=",remoteApiHandler:"=",id:"@",type:"@",placeholder:"@",textSearching:"@",textNoResults:"@",remoteUrl:"@",remoteUrlDataField:"@",titleField:"@",descriptionField:"@",imageField:"@",inputClass:"@",pause:"@",searchFields:"@",minlength:"@",matchClass:"@",clearSelected:"@",overrideSuggestions:"@",fieldRequired:"=",fieldRequiredClass:"@",inputChanged:"=",autoMatch:"@",focusOut:"&",focusIn:"&",fieldTabindex:"@",inputName:"@",focusFirst:"@",parseInput:"&"},templateUrl:function(a,b){return b.templateUrl||w},compile:function(a){var b=g.startSymbol(),c=g.endSymbol();if("{{"!==b||"}}"!==c){var d=a.html().replace(/\{\{/g,b).replace(/\}\}/g,c);a.html(d)}return h}}}])}),function(t,p){"use strict";var b="BUTTON A INPUT TEXTAREA SELECT DETAILS SUMMARY".split(" "),l=function(a,c){if(-1!==c.indexOf(a[0].nodeName))return!0};p.module("ngAria",["ng"]).provider("$aria",function(){function a(a,b,m,h){return function(d,f,e){var q=e.$normalize(b);!c[q]||l(f,m)||e[q]||d.$watch(e[a],function(a){a=h?!a:!!a,f.attr(b,a)})}}var c={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0,bindRoleForClick:!0};this.config=function(a){c=p.extend(c,a)},this.$get=function(){return{config:function(a){return c[a]},$$watchExpr:a}}}).directive("ngShow",["$aria",function(a){return a.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(a){return a.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(a){return a.$$watchExpr("ngValue","aria-checked",b,!1)}]).directive("ngChecked",["$aria",function(a){return a.$$watchExpr("ngChecked","aria-checked",b,!1)}]).directive("ngReadonly",["$aria",function(a){return a.$$watchExpr("ngReadonly","aria-readonly",b,!1)}]).directive("ngRequired",["$aria",function(a){return a.$$watchExpr("ngRequired","aria-required",b,!1)}]).directive("ngModel",["$aria",function(a){function c(c,h,d,f){return a.config(h)&&!d.attr(c)&&(f||!l(d,b))}function g(a,c){return!c.attr("role")&&c.attr("type")===a&&"INPUT"!==c[0].nodeName}function k(a,c){var d=a.type,f=a.role;return"checkbox"===(d||f)||"menuitemcheckbox"===f?"checkbox":"radio"===(d||f)||"menuitemradio"===f?"radio":"range"===d||"progressbar"===f||"slider"===f?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(b,h){var d=k(h,b);return{pre:function(a,e,c,b){"checkbox"===d&&(b.$isEmpty=function(a){return!1===a})},post:function(f,e,b,n){function h(){return n.$modelValue}function k(a){e.attr("aria-checked",b.value==n.$viewValue)}function l(){e.attr("aria-checked",!n.$isEmpty(n.$viewValue))}var m=c("tabindex","tabindex",e,!1);switch(d){case"radio":case"checkbox":g(d,e)&&e.attr("role",d),c("aria-checked","ariaChecked",e,!1)&&f.$watch(h,"radio"===d?k:l),m&&e.attr("tabindex",0);break;case"range":if(g(d,e)&&e.attr("role","slider"),a.config("ariaValue")){var p=!e.attr("aria-valuemin")&&(b.hasOwnProperty("min")||b.hasOwnProperty("ngMin")),r=!e.attr("aria-valuemax")&&(b.hasOwnProperty("max")||b.hasOwnProperty("ngMax")),s=!e.attr("aria-valuenow");p&&b.$observe("min",function(a){e.attr("aria-valuemin",a)}),r&&b.$observe("max",function(a){e.attr("aria-valuemax",a)}),s&&f.$watch(h,function(a){e.attr("aria-valuenow",a)})}m&&e.attr("tabindex",0)}!b.hasOwnProperty("ngRequired")&&n.$validators.required&&c("aria-required","ariaRequired",e,!1)&&b.$observe("required",function(){e.attr("aria-required",!!b.required)}),c("aria-invalid","ariaInvalid",e,!0)&&f.$watch(function(){return n.$invalid},function(a){e.attr("aria-invalid",!!a)})}}}}}]).directive("ngDisabled",["$aria",function(a){return a.$$watchExpr("ngDisabled","aria-disabled",b,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(a,b,g,k){b.attr("aria-live")||b.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(a,c){return{restrict:"A",compile:function(g,k){var m=c(k.ngClick,null,!0);return function(c,d,f){l(d,b)||(a.config("bindRoleForClick")&&!d.attr("role")&&d.attr("role","button"),a.config("tabindex")&&!d.attr("tabindex")&&d.attr("tabindex",0),!a.config("bindKeypress")||f.ngKeypress)||d.on("keypress",function(a){function b(){m(c,{$event:a})}var d=a.which||a.keyCode;32!==d&&13!==d||c.$apply(b)})}}}}]).directive("ngDblclick",["$aria",function(a){return function(c,g,k){!a.config("tabindex")||g.attr("tabindex")||l(g,b)||g.attr("tabindex",0)}}])}(window,window.angular),define("angular-aria",["angular"],function(){}),angular.module("truncate",[]).filter("characters",function(){return function(input,chars,breakOnWord){if(isNaN(chars))return input;if(chars<=0)return"";if(input&&input.length>chars){if(input=input.substring(0,chars),breakOnWord)for(;" "===input.charAt(input.length-1);)input=input.substr(0,input.length-1);else{var lastspace=input.lastIndexOf(" ");-1!==lastspace&&(input=input.substr(0,lastspace))}return input+"…"}return input}}).filter("splitcharacters",function(){return function(input,chars){if(isNaN(chars))return input;if(chars<=0)return"";if(input&&input.length>chars){return input.substring(0,chars/2)+"..."+input.substring(input.length-chars/2,input.length)}return input}}).filter("words",function(){return function(input,words){if(isNaN(words))return input;if(words<=0)return"";if(input){var inputWords=input.split(/\s+/);inputWords.length>words&&(input=inputWords.slice(0,words).join(" ")+"…")}return input}}),define("angular-truncate",["angular"],function(){}),function(){"use strict";var e=angular.module("pasvaz.bindonce",[]);e.directive("bindonce",function(){var e=function(e){if(e&&0!==e.length){var t=angular.lowercase(""+e);e=!("f"===t||"0"===t||"false"===t||"no"===t||"n"===t||"[]"===t)}else e=!1;return e},t=parseInt((/msie (\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10);return isNaN(t)&&(t=parseInt((/trident\/.*; rv:(\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10)),{restrict:"AM",controller:["$scope","$element","$attrs","$interpolate",function(r,a,i,n){var c=function(t,r,a){var i="show"===r?"":"none",n="hide"===r?"":"none";t.css("display",e(a)?i:n)},o=function(e,t){if(angular.isObject(t)&&!angular.isArray(t)){var r=[];angular.forEach(t,function(e,t){e&&r.push(t)}),t=r}t&&e.addClass(angular.isArray(t)?t.join(" "):t)},s=function(e,t){e.transclude(t,function(t){var r=e.element.parent(),a=e.element&&e.element[e.element.length-1],i=r&&r[0]||a&&a.parentNode,n=a&&a.nextSibling||null;angular.forEach(t,function(e){i.insertBefore(e,n)})})},l={watcherRemover:void 0,binders:[],group:i.boName,element:a,ran:!1,addBinder:function(e){this.binders.push(e),this.ran&&this.runBinders()},setupWatcher:function(e){var t=this;this.watcherRemover=r.$watch(e,function(e){void 0!==e&&(t.removeWatcher(),t.checkBindonce(e))},!0)},checkBindonce:function(e){var t=this,r=e.$promise?e.$promise.then:e.then;"function"==typeof r?r(function(){t.runBinders()}):t.runBinders()},removeWatcher:function(){void 0!==this.watcherRemover&&(this.watcherRemover(),this.watcherRemover=void 0)},runBinders:function(){for(;this.binders.length>0;){var r=this.binders.shift();if(!this.group||this.group==r.group){var a=r.scope.$eval(r.interpolate?n(r.value):r.value);switch(r.attr){case"boIf":e(a)&&s(r,r.scope.$new());break;case"boSwitch":var i,l=r.controller[0];(i=l.cases["!"+a]||l.cases["?"])&&(r.scope.$eval(r.attrs.change),angular.forEach(i,function(e){s(e,r.scope.$new())}));break;case"boSwitchWhen":var u=r.controller[0];u.cases["!"+r.attrs.boSwitchWhen]=u.cases["!"+r.attrs.boSwitchWhen]||[],u.cases["!"+r.attrs.boSwitchWhen].push({transclude:r.transclude,element:r.element});break;case"boSwitchDefault":var u=r.controller[0];u.cases["?"]=u.cases["?"]||[],u.cases["?"].push({transclude:r.transclude,element:r.element});break;case"hide":case"show":c(r.element,r.attr,a);break;case"class":o(r.element,a);break;case"text":r.element.text(a);break;case"html":r.element.html(a);break;case"style":r.element.css(a);break;case"disabled":r.element.prop("disabled",a);break;case"src":r.element.attr(r.attr,a),t&&r.element.prop("src",a);break;case"attr":angular.forEach(r.attrs,function(e,t){var a,i;t.match(/^boAttr./)&&r.attrs[t]&&(a=t.replace(/^boAttr/,"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=r.scope.$eval(r.attrs[t]),r.element.attr(a,i))});break;case"href":case"alt":case"title":case"id":case"value":r.element.attr(r.attr,a)}}}this.ran=!0}};angular.extend(this,l)}],link:function(e,t,r,a){var i=r.bindonce&&e.$eval(r.bindonce);void 0!==i?a.checkBindonce(i):(a.setupWatcher(r.bindonce),t.bind("$destroy",a.removeWatcher))}}}),angular.forEach([{directiveName:"boShow",attribute:"show"},{directiveName:"boHide",attribute:"hide"},{directiveName:"boClass",attribute:"class"},{directiveName:"boText",attribute:"text"},{directiveName:"boBind",attribute:"text"},{directiveName:"boHtml",attribute:"html"},{directiveName:"boSrcI",attribute:"src",interpolate:!0},{directiveName:"boSrc",attribute:"src"},{directiveName:"boHrefI",attribute:"href",interpolate:!0},{directiveName:"boHref",attribute:"href"},{directiveName:"boAlt",attribute:"alt"},{directiveName:"boTitle",attribute:"title"},{directiveName:"boId",attribute:"id"},{directiveName:"boStyle",attribute:"style"},{directiveName:"boDisabled",attribute:"disabled"},{directiveName:"boValue",attribute:"value"},{directiveName:"boAttr",attribute:"attr"},{directiveName:"boIf",transclude:"element",terminal:!0,priority:1e3},{directiveName:"boSwitch",require:"boSwitch",controller:function(){this.cases={}}},{directiveName:"boSwitchWhen",transclude:"element",priority:800,require:"^boSwitch"},{directiveName:"boSwitchDefault",transclude:"element",priority:800,require:"^boSwitch"}],function(t){return e.directive(t.directiveName,function(){return{priority:t.priority||200,transclude:t.transclude||!1,terminal:t.terminal||!1,require:["^bindonce"].concat(t.require||[]),controller:t.controller,compile:function(e,r,a){return function(e,r,i,n){var c=n[0],o=i.boParent;if(o&&c.group!==o){var s=c.element.parent();c=void 0;for(var l;9!==s[0].nodeType&&s.length;){if((l=s.data("$bindonceController"))&&l.group===o){c=l;break}s=s.parent()}if(!c)throw new Error("No bindonce controller: "+o)}c.addBinder({element:r,attr:t.attribute||t.directiveName,attrs:i,value:i[t.directiveName],interpolate:t.interpolate,group:o,transclude:a,controller:n.slice(1),scope:e})}}}})})}(),define("bindonce",["angular"],function(){}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(a,b,c,d){var e=d.has("$animateCss")?d.get("$animateCss"):null;return{link:function(d,f,g){function i(a){return r?{width:a.scrollWidth+"px"}:{height:a.scrollHeight+"px"}}function j(){f.hasClass("collapse")&&f.hasClass("in")||b.resolve(n(d)).then(function(){f.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e?e(f,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:i(f[0])}).start().finally(k):a.addClass(f,"in",{css:{overflow:"hidden"},to:i(f[0])}).then(k)},angular.noop)}function k(){f.removeClass("collapsing").addClass("collapse").css(s),o(d)}function l(){return f.hasClass("collapse")||f.hasClass("in")?void b.resolve(p(d)).then(function(){f.css(i(f[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),e?e(f,{removeClass:"in",to:t}).start().finally(m):a.removeClass(f,"in",{to:t}).then(m)},angular.noop):m()}function m(){f.css(t),f.removeClass("collapsing").addClass("collapse"),q(d)}var n=c(g.expanding),o=c(g.expanded),p=c(g.collapsing),q=c(g.collapsed),r=!1,s={},t={};(function(){r=!!("horizontal"in g),r?(s={width:""},t={width:"0"}):(s={height:""},t={height:"0"}),d.$eval(g.uibCollapse)||f.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(s)})(),d.$watch(g.uibCollapse,function(a){a?l():j()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(a,b,c){c.$observe("disabled",function(a){c.$set("tabindex",a?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){(angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers)&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){b.addClass("panel"),d.addGroup(a),a.openClass=c.openClass||"panel-open",a.panelClass=c.panelClass||"panel-default",a.$watch("isOpen",function(c){b.toggleClass(a.openClass,!!c),c&&d.closeOthers(a)}),a.toggleOpen=function(b){a.isDisabled||b&&32!==b.which||(a.isOpen=!a.isOpen)};var e="accordiongroup-"+a.$id+"-"+Math.floor(1e4*Math.random());a.headingId=e+"-tab",a.panelId=e+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(b,c,d,e){b.$watch(function(){return e[d.uibAccordionTransclude]},function(b){if(b){var d=angular.element(c[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));d.html(""),d.append(b)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(a,b,c,d,e){a.closeable=!!c.close,b.addClass("alert"),c.$set("role","alert"),a.closeable&&b.addClass("alert-dismissible");var f=angular.isDefined(c.dismissOnTimeout)?d(c.dismissOnTimeout)(a.$parent):null;f&&e(function(){a.close()},parseInt(f,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(a,b){return b.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(a){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(b,c,d,e){var f=e[0],g=e[1],h=a(d.uibUncheckable);c.find("input").css({display:"none"}),g.$render=function(){c.toggleClass(f.activeClass,angular.equals(g.$modelValue,b.$eval(d.uibBtnRadio)))},c.on(f.toggleEvent,function(){if(!d.disabled){var a=c.hasClass(f.activeClass);a&&!angular.isDefined(d.uncheckable)||b.$apply(function(){g.$setViewValue(a?null:b.$eval(d.uibBtnRadio)),g.$render()})}}),d.uibUncheckable&&b.$watch(h,function(a){d.$set("uncheckable",a?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){return angular.isDefined(b)?a.$eval(b):c}var h=d[0],i=d[1];b.find("input").css({display:"none"}),i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.on(h.toggleEvent,function(){c.disabled||a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(a,b,c,d,e){function f(a){for(var b=0;b<p.length;b++)p[b].slide.active=b===a}function g(c,d,g){if(!s){if(angular.extend(c,{direction:g}),angular.extend(p[r].slide||{},{direction:g}),e.enabled(b)&&!a.$currentTransition&&p[d].element&&o.slides.length>1){p[d].element.data(q,c.direction);var h=o.getCurrentIndex();angular.isNumber(h)&&p[h].element&&p[h].element.data(q,c.direction),a.$currentTransition=!0,e.on("addClass",p[d].element,function(b,c){"close"===c&&(a.$currentTransition=null,e.off("addClass",b))})}a.active=c.index,r=c.index,f(d),k()}}function h(a){for(var b=0;b<p.length;b++)if(p[b].slide===a)return b}function i(){m&&(c.cancel(m),m=null)}function j(b){b.length||(a.$currentTransition=null)}function k(){i();var b=+a.interval;!isNaN(b)&&b>0&&(m=c(l,b))}function l(){var b=+a.interval;n&&!isNaN(b)&&b>0&&p.length?a.next():a.pause()}var m,n,o=this,p=o.slides=a.slides=[],q="uib-slideDirection",r=a.active,s=!1;b.addClass("carousel"),o.addSlide=function(b,c){p.push({slide:b,element:c}),p.sort(function(a,b){return+a.slide.index-+b.slide.index}),(b.index===a.active||1===p.length&&!angular.isNumber(a.active))&&(a.$currentTransition&&(a.$currentTransition=null),r=b.index,a.active=b.index,f(r),o.select(p[h(b)]),1===p.length&&a.play())},o.getCurrentIndex=function(){for(var a=0;a<p.length;a++)if(p[a].slide.index===r)return a},o.next=a.next=function(){var b=(o.getCurrentIndex()+1)%p.length;return 0===b&&a.noWrap()?void a.pause():o.select(p[b],"next")},o.prev=a.prev=function(){var b=o.getCurrentIndex()-1<0?p.length-1:o.getCurrentIndex()-1;return a.noWrap()&&b===p.length-1?void a.pause():o.select(p[b],"prev")},o.removeSlide=function(b){var c=h(b);p.splice(c,1),p.length>0&&r===c?c>=p.length?(r=p.length-1,a.active=r,f(r),o.select(p[p.length-1])):(r=c,a.active=r,f(r),o.select(p[c])):r>c&&(r--,a.active=r),0===p.length&&(r=null,a.active=null)},o.select=a.select=function(b,c){var d=h(b.slide);void 0===c&&(c=d>o.getCurrentIndex()?"next":"prev"),b.slide.index===r||a.$currentTransition||g(b.slide,d,c)},a.indexOfSlide=function(a){return+a.slide.index},a.isActive=function(b){return a.active===b.slide.index},a.isPrevDisabled=function(){return 0===a.active&&a.noWrap()},a.isNextDisabled=function(){return a.active===p.length-1&&a.noWrap()},a.pause=function(){a.noPause||(n=!1,i())},a.play=function(){n||(n=!0,k())},b.on("mouseenter",a.pause),b.on("mouseleave",a.play),a.$on("$destroy",function(){s=!0,i()}),a.$watch("noTransition",function(a){e.enabled(b,!a)}),a.$watch("interval",k),a.$watchCollection("slides",j),a.$watch("active",function(a){if(angular.isNumber(a)&&r!==a){for(var b=0;b<p.length;b++)if(p[b].slide.index===a){a=b;break}p[a]&&(f(a),o.select(p[a]),r=a)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(a){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(b,c,d,e){c.addClass("item"),e.addSlide(b,c),b.$on("$destroy",function(){e.removeSlide(b)}),b.$watch("active",function(b){a[b?"addClass":"removeClass"](c,"active")})}}}]).animation(".item",["$animateCss",function(a){function b(a,b,c){a.removeClass(b),c&&c()}var c="uib-slideDirection";return{beforeAddClass:function(d,e,f){if("active"===e){var g=!1,h=d.data(c),i="next"===h?"left":"right",j=b.bind(this,d,i+" "+h,f);return d.addClass(h),a(d,{addClass:i}).start().done(j),function(){g=!0}}f()},beforeRemoveClass:function(d,e,f){if("active"===e){var g=!1,h=d.data(c),i="next"===h?"left":"right",j=b.bind(this,d,i,f);return a(d,{addClass:i}).start().done(j),function(){g=!0}}f()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(a,b,c,d,e){function f(a){return e(s,{key:a},!0)[0]}function g(a){var b=[],c=a.split(""),e=a.indexOf("'");if(e>-1){var f=!1;a=a.split("");for(var g=e;g<a.length;g++)f?("'"===a[g]&&(g+1<a.length&&"'"===a[g+1]?(a[g+1]="$",c[g+1]=""):(c[g]="",f=!1)),a[g]="$"):"'"===a[g]&&(a[g]="$",c[g]="",f=!0);a=a.join("")}return angular.forEach(s,function(d){var e=a.indexOf(d.key);if(e>-1){a=a.split(""),c[e]="("+d.regex+")",a[e]="$";for(var f=e+1,g=e+d.key.length;g>f;f++)c[f]="",a[f]="$";a=a.join(""),b.push({index:e,key:d.key,apply:d.apply,matcher:d.regex})}}),{regex:new RegExp("^"+c.join("")+"$"),map:d(b,"index")}}function h(a){for(var b,c,d=[],e=0;e<a.length;)if(angular.isNumber(c)){if("'"===a.charAt(e))(e+1>=a.length||"'"!==a.charAt(e+1))&&(d.push(i(a,c,e)),c=null);else if(e===a.length)for(;c<a.length;)b=j(a,c),d.push(b),c=b.endIdx;e++}else"'"!==a.charAt(e)?(b=j(a,e),d.push(b.parser),e=b.endIdx):(c=e,e++);return d}function i(a,b,c){return function(){return a.substr(b+1,c-b-1)}}function j(a,b){for(var c=a.substr(b),d=0;d<s.length;d++)if(new RegExp("^"+s[d].key).test(c)){var e=s[d];return{endIdx:b+e.key.length,parser:e.formatter}}return{endIdx:b+1,parser:function(){return c.charAt(0)}}}function k(a,b,c){return!(1>c)&&(1===b&&c>28?29===c&&(a%4==0&&a%100!=0||a%400==0):3!==b&&5!==b&&8!==b&&10!==b||31>c)}function l(a){return parseInt(a,10)}function m(a,b){return a&&b?q(a,b):a}function n(a,b){return a&&b?q(a,b,!0):a}function o(a,b){a=a.replace(/:/g,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function p(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function q(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset();return p(a,c*(o(b,d)-d))}var r,s,t=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){r=b.id,this.parsers={},this.formatters={},s=[{key:"yyyy",regex:"\\d{4}",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(a){a=+a,this.year=69>a?a+2e3:a+1900},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return/^[0-9]$/.test(a.getMonth())?c(a,"MM"):c(a,"M")}},{key:"MMMM",regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)},formatter:function(a){return c(a,"MMMM")}},{key:"MMM",regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)},formatter:function(a){return c(a,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return c(a,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return c(a,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return/^[1-9]$/.test(a.getDate())?c(a,"dd"):c(a,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return c(a,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return c(a,"d")}},{key:"EEEE",regex:b.DATETIME_FORMATS.DAY.join("|"),formatter:function(a){return c(a,"EEEE")}},{key:"EEE",regex:b.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(a){return c(a,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a},formatter:function(a){return c(a,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,"s")}},{key:"a",regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){
12===this.hours&&(this.hours=0),"PM"===a&&(this.hours+=12)},formatter:function(a){return c(a,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(a){var b=a.match(/([+-])(\d{2})(\d{2})/),c=b[1],d=b[2],e=b[3];this.hours+=l(c+d),this.minutes+=l(c+e)},formatter:function(a){return c(a,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(a){return c(a,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(a){return c(a,"w")}},{key:"GGGG",regex:b.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(a){return c(a,"GGGG")}},{key:"GGG",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"GGG")}},{key:"GG",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"GG")}},{key:"G",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"G")}}],angular.version.major>=1&&angular.version.minor>4&&s.push({key:"LLLL",regex:b.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.STANDALONEMONTH.indexOf(a)},formatter:function(a){return c(a,"LLLL")}})},this.init(),this.getParser=function(a){var b=f(a);return b&&b.apply||null},this.overrideParser=function(a,b){var c=f(a);c&&angular.isFunction(b)&&(this.parsers={},c.apply=b)}.bind(this),this.filter=function(a,c){return angular.isDate(a)&&!isNaN(a)&&c?(c=b.DATETIME_FORMATS[c]||c,b.id!==r&&this.init(),this.formatters[c]||(this.formatters[c]=h(c)),this.formatters[c].reduce(function(b,c){return b+c(a)},"")):""},this.parse=function(c,d,e){if(!angular.isString(c)||!d)return c;d=b.DATETIME_FORMATS[d]||d,d=d.replace(t,"\\$&"),b.id!==r&&this.init(),this.parsers[d]||(this.parsers[d]=g(d));var f=this.parsers[d],h=f.regex,i=f.map,j=c.match(h),l=!1;if(j&&j.length){var m,n;angular.isDate(e)&&!isNaN(e.getTime())?m={year:e.getFullYear(),month:e.getMonth(),date:e.getDate(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliseconds:e.getMilliseconds()}:(e&&a.warn("dateparser:","baseDate is not a valid date"),m={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var o=1,p=j.length;p>o;o++){var q=i[o-1];"Z"===q.matcher&&(l=!0),q.apply&&q.apply.call(m,j[o])}var s=l?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,u=l?Date.prototype.setUTCHours:Date.prototype.setHours;return k(m.year,m.month,m.date)&&(!angular.isDate(e)||isNaN(e.getTime())||l?(n=new Date(0),s.call(n,m.year,m.month,m.date),u.call(n,m.hours||0,m.minutes||0,m.seconds||0,m.milliseconds||0)):(n=new Date(e),s.call(n,m.year,m.month,m.date),u.call(n,m.hours,m.minutes,m.seconds,m.milliseconds))),n}},this.toTimezone=m,this.fromTimezone=n,this.timezoneToOffset=o,this.addDateMinutes=p,this.convertTimezoneToLocal=q}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(a){var b=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,c=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(d,e){function f(a,b,c){i.push(a),j.push({scope:a,element:b}),o.forEach(function(b,c){g(b,a)}),a.$on("$destroy",h)}function g(b,d){var e=b.match(c),f=d.$eval(e[1]),g=e[2],h=k[b];if(!h){var i=function(b){var c=null;j.some(function(a){return a.scope.$eval(m)===b?(c=a,!0):void 0}),h.lastActivated!==c&&(h.lastActivated&&a.removeClass(h.lastActivated.element,f),c&&a.addClass(c.element,f),h.lastActivated=c)};k[b]=h={lastActivated:null,scope:d,watchFn:i,compareWithExp:g,watcher:d.$watch(g,i)}}h.watchFn(d.$eval(g))}function h(a){var b=a.targetScope,c=i.indexOf(b);if(i.splice(c,1),j.splice(c,1),i.length){var d=i[0];angular.forEach(k,function(a){a.scope===b&&(a.watcher=d.$watch(a.compareWithExp,a.watchFn),a.scope=d)})}else k={}}var i=[],j=[],k={},l=e.uibIsClass.match(b),m=l[2],n=l[1],o=n.split(",");return f}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(b){a.datepickerMode=b,a.datepickerOptions.datepickerMode=b}function n(b){var c;if(angular.version.minor<6)c=b.$options||a.datepickerOptions.ngModelOptions||i.ngModelOptions||{},c.getOption=function(a){return c[a]};else{var d=b.$options.getOption("timezone")||(a.datepickerOptions.ngModelOptions?a.datepickerOptions.ngModelOptions.timezone:null)||(i.ngModelOptions?i.ngModelOptions.timezone:null);c=b.$options.createChild(i.ngModelOptions).createChild(a.datepickerOptions.ngModelOptions).createChild(b.$options).createChild({timezone:d})}return c}var o=this,p={$setViewValue:angular.noop},q={},r=[];b.addClass("uib-datepicker"),c.$set("role","application"),a.datepickerOptions||(a.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(b){switch(b){case"customClass":case"dateDisabled":a[b]=a.datepickerOptions[b]||angular.noop;break;case"datepickerMode":a.datepickerMode=angular.isDefined(a.datepickerOptions.datepickerMode)?a.datepickerOptions.datepickerMode:i.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":o[b]=angular.isDefined(a.datepickerOptions[b])?e(a.datepickerOptions[b])(a.$parent):i[b];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":o[b]=angular.isDefined(a.datepickerOptions[b])?a.datepickerOptions[b]:i[b];break;case"startingDay":angular.isDefined(a.datepickerOptions.startingDay)?o.startingDay=a.datepickerOptions.startingDay:angular.isNumber(i.startingDay)?o.startingDay=i.startingDay:o.startingDay=(f.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":a.$watch("datepickerOptions."+b,function(a){a?angular.isDate(a)?o[b]=l.fromTimezone(new Date(a),q.getOption("timezone")):(j&&g.warn("Literal date support has been deprecated, please switch to date object usage"),o[b]=new Date(h(a,"medium"))):o[b]=i[b]?l.fromTimezone(new Date(i[b]),q.getOption("timezone")):null,o.refreshView()});break;case"maxMode":case"minMode":a.datepickerOptions[b]?a.$watch(function(){return a.datepickerOptions[b]},function(c){o[b]=a[b]=angular.isDefined(c)?c:a.datepickerOptions[b],("minMode"===b&&o.modes.indexOf(a.datepickerOptions.datepickerMode)<o.modes.indexOf(o[b])||"maxMode"===b&&o.modes.indexOf(a.datepickerOptions.datepickerMode)>o.modes.indexOf(o[b]))&&(a.datepickerMode=o[b],a.datepickerOptions.datepickerMode=o[b])}):o[b]=a[b]=i[b]||null}}),a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),a.disabled=angular.isDefined(c.disabled)||!1,angular.isDefined(c.ngDisabled)&&r.push(a.$parent.$watch(c.ngDisabled,function(b){a.disabled=b,o.refreshView()})),a.isActive=function(b){return 0===o.compare(b.date,o.activeDate)&&(a.activeDateId=b.uid,!0)},this.init=function(b){p=b,q=n(p),a.datepickerOptions.initDate?(o.activeDate=l.fromTimezone(a.datepickerOptions.initDate,q.getOption("timezone"))||new Date,a.$watch("datepickerOptions.initDate",function(a){a&&(p.$isEmpty(p.$modelValue)||p.$invalid)&&(o.activeDate=l.fromTimezone(a,q.getOption("timezone")),o.refreshView())})):o.activeDate=new Date;var c=p.$modelValue?new Date(p.$modelValue):new Date;this.activeDate=isNaN(c)?l.fromTimezone(new Date,q.getOption("timezone")):l.fromTimezone(c,q.getOption("timezone")),p.$render=function(){o.render()}},this.render=function(){if(p.$viewValue){var a=new Date(p.$viewValue);!isNaN(a)?this.activeDate=l.fromTimezone(a,q.getOption("timezone")):k||g.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){a.selectedDt=null,this._refreshView(),a.activeDt&&(a.activeDateId=a.activeDt.uid);var b=p.$viewValue?new Date(p.$viewValue):null;b=l.fromTimezone(b,q.getOption("timezone")),p.$setValidity("dateDisabled",!b||this.element&&!this.isDisabled(b))}},this.createDateObject=function(b,c){var d=p.$viewValue?new Date(p.$viewValue):null;d=l.fromTimezone(d,q.getOption("timezone"));var e=new Date;e=l.fromTimezone(e,q.getOption("timezone"));var f=this.compare(b,e),g={date:b,label:l.filter(b,c),selected:d&&0===this.compare(b,d),disabled:this.isDisabled(b),past:0>f,current:0===f,future:f>0,customClass:this.customClass(b)||null};return d&&0===this.compare(b,d)&&(a.selectedDt=g),o.activeDate&&0===this.compare(g.date,o.activeDate)&&(a.activeDt=g),g},this.isDisabled=function(b){return a.disabled||this.minDate&&this.compare(b,this.minDate)<0||this.maxDate&&this.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({date:b,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===o.minMode){var c=p.$viewValue?l.fromTimezone(new Date(p.$viewValue),q.getOption("timezone")):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),c=l.toTimezone(c,q.getOption("timezone")),p.$setViewValue(c),p.$render()}else o.activeDate=b,m(o.modes[o.modes.indexOf(a.datepickerMode)-1]),a.$emit("uib:datepicker.mode");a.$broadcast("uib:datepicker.focus")},a.move=function(a){var b=o.activeDate.getFullYear()+a*(o.step.years||0),c=o.activeDate.getMonth()+a*(o.step.months||0);o.activeDate.setFullYear(b,c,1),o.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===o.maxMode&&1===b||a.datepickerMode===o.minMode&&-1===b||(m(o.modes[o.modes.indexOf(a.datepickerMode)+b]),a.$emit("uib:datepicker.mode"))},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var s=function(){o.element[0].focus()};a.$on("uib:datepicker.focus",s),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey&&!a.disabled)if(b.preventDefault(),o.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(o.isDisabled(o.activeDate))return;a.select(o.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(o.handleKeyDown(c,b),o.refreshView()):a.toggleMode("up"===c?1:-1)},b.on("keydown",function(b){a.$apply(function(){a.keydown(b)})}),a.$on("$destroy",function(){for(;r.length;)r.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a,b){return 1!==b||a%4!=0||a%100==0&&a%400!=0?f[b]:29}function e(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var f=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=b,this.init=function(b){angular.extend(b,this),a.showWeeks=b.showWeeks,b.refreshView()},this.getDates=function(a,b){for(var c,d=new Array(b),e=new Date(a),f=0;b>f;)c=new Date(e),d[f++]=c,e.setDate(e.getDate()+1);return d},this._refreshView=function(){var b=this.activeDate.getFullYear(),d=this.activeDate.getMonth(),f=new Date(this.activeDate);f.setFullYear(b,d,1);var g=this.startingDay-f.getDay(),h=g>0?7-g:-g,i=new Date(f);h>0&&i.setDate(1-h);for(var j=this.getDates(i,42),k=0;42>k;k++)j[k]=angular.extend(this.createDateObject(j[k],this.formatDay),{secondary:j[k].getMonth()!==d,uid:a.uniqueId+"-"+k});a.labels=new Array(7);for(var l=0;7>l;l++)a.labels[l]={abbr:c(j[l].date,this.formatDayHeader),full:c(j[l].date,"EEEE")};if(a.title=c(this.activeDate,this.formatDayTitle),a.rows=this.split(j,7),a.showWeeks){a.weekNumbers=[];for(var m=(11-this.startingDay)%7,n=a.rows.length,o=0;n>o;o++)a.weekNumbers.push(e(a.rows[o][m].date))}},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),d=new Date(b.getFullYear(),b.getMonth(),b.getDate());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var e=this.activeDate.getMonth()+("pageup"===a?-1:1);this.activeDate.setMonth(e,1),c=Math.min(d(this.activeDate.getFullYear(),this.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=d(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(c)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(a,b,c){this.step={years:1},this.element=b,this.init=function(a){angular.extend(a,this),a.refreshView()},this._refreshView=function(){for(var b,d=new Array(12),e=this.activeDate.getFullYear(),f=0;12>f;f++)b=new Date(this.activeDate),b.setFullYear(e,f,1),d[f]=angular.extend(this.createDateObject(b,this.formatMonth),{uid:a.uniqueId+"-"+f});a.title=c(this.activeDate,this.formatMonthTitle),a.rows=this.split(d,this.monthColumns),a.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth()),d=new Date(b.getFullYear(),b.getMonth());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=this.monthColumns;else if("right"===a)c+=1;else if("down"===a)c+=this.monthColumns;else if("pageup"===a||"pagedown"===a){var d=this.activeDate.getFullYear()+("pageup"===a?-1:1);this.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);this.activeDate.setMonth(c)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a){return parseInt((a-1)/f,10)*f+1}var e,f;this.element=b,this.yearpickerInit=function(){e=this.yearColumns,f=this.yearRows*e,this.step={years:f}},this._refreshView=function(){for(var b,c=new Array(f),g=0,h=d(this.activeDate.getFullYear());f>g;g++)b=new Date(this.activeDate),b.setFullYear(h+g,0,1),c[g]=angular.extend(this.createDateObject(b,this.formatYear),{uid:a.uniqueId+"-"+g});a.title=[c[0].label,c[f-1].label].join(" - "),a.rows=this.split(c,e),a.columns=e},this.compare=function(a,b){return a.getFullYear()-b.getFullYear()},this.handleKeyDown=function(a,b){var c=this.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=e:"right"===a?c+=1:"down"===a?c+=e:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*f:"home"===a?c=d(this.activeDate.getFullYear()):"end"===a&&(c=d(this.activeDate.getFullYear())+f-1),this.activeDate.setFullYear(c)}}]).directive("uibDatepicker",function(){return{templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("uibDaypicker",function(){return{templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(a,b,c,d){var e=d[0];d[1].init(e)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(a,b,c,d){var e=d[0];d[1].init(e)}}}).directive("uibYearpicker",function(){return{templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(a,b,c,d){var e=d[0];angular.extend(e,d[1]),e.yearpickerInit(),e.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(a,b){var c,d,e={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},f={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},g=/(HTML|BODY)/;return{getRawNode:function(a){return a.nodeName?a:a[0]||a},parseStyle:function(a){return a=parseFloat(a),isFinite(a)?a:0},offsetParent:function(c){c=this.getRawNode(c);for(var e=c.offsetParent||a[0].documentElement;e&&e!==a[0].documentElement&&function(a){return"static"===(b.getComputedStyle(a).position||"static")}(e);)e=e.offsetParent;return e||a[0].documentElement},scrollbarWidth:function(e){if(e){if(angular.isUndefined(d)){var f=a.find("body");f.addClass("uib-position-body-scrollbar-measure"),d=b.innerWidth-f[0].clientWidth,d=isFinite(d)?d:0,f.removeClass("uib-position-body-scrollbar-measure")}return d}if(angular.isUndefined(c)){var g=angular.element('<div class="uib-position-scrollbar-measure"></div>');a.find("body").append(g),c=g[0].offsetWidth-g[0].clientWidth,c=isFinite(c)?c:0,g.remove()}return c},scrollbarPadding:function(a){a=this.getRawNode(a);var c=b.getComputedStyle(a),d=this.parseStyle(c.paddingRight),e=this.parseStyle(c.paddingBottom),f=this.scrollParent(a,!1,!0),h=this.scrollbarWidth(g.test(f.tagName));return{scrollbarWidth:h,widthOverflow:f.scrollWidth>f.clientWidth,right:d+h,originalRight:d,heightOverflow:f.scrollHeight>f.clientHeight,bottom:e+h,originalBottom:e}},isScrollable:function(a,c){a=this.getRawNode(a);var d=c?e.hidden:e.normal,f=b.getComputedStyle(a);return d.test(f.overflow+f.overflowY+f.overflowX)},scrollParent:function(c,d,f){c=this.getRawNode(c);var g=d?e.hidden:e.normal,h=a[0].documentElement,i=b.getComputedStyle(c);if(f&&g.test(i.overflow+i.overflowY+i.overflowX))return c;var j="absolute"===i.position,k=c.parentElement||h;if(k===h||"fixed"===i.position)return h;for(;k.parentElement&&k!==h;){var l=b.getComputedStyle(k);if(j&&"static"!==l.position&&(j=!1),!j&&g.test(l.overflow+l.overflowY+l.overflowX))break;k=k.parentElement}return k},position:function(c,d){c=this.getRawNode(c);var e=this.offset(c);if(d){var f=b.getComputedStyle(c);e.top-=this.parseStyle(f.marginTop),e.left-=this.parseStyle(f.marginLeft)}var g=this.offsetParent(c),h={top:0,left:0};return g!==a[0].documentElement&&(h=this.offset(g),h.top+=g.clientTop-g.scrollTop,h.left+=g.clientLeft-g.scrollLeft),{width:Math.round(angular.isNumber(e.width)?e.width:c.offsetWidth),height:Math.round(angular.isNumber(e.height)?e.height:c.offsetHeight),top:Math.round(e.top-h.top),left:Math.round(e.left-h.left)}},offset:function(c){c=this.getRawNode(c);var d=c.getBoundingClientRect();return{width:Math.round(angular.isNumber(d.width)?d.width:c.offsetWidth),height:Math.round(angular.isNumber(d.height)?d.height:c.offsetHeight),top:Math.round(d.top+(b.pageYOffset||a[0].documentElement.scrollTop)),left:Math.round(d.left+(b.pageXOffset||a[0].documentElement.scrollLeft))}},viewportOffset:function(c,d,e){c=this.getRawNode(c),e=!1!==e;var f=c.getBoundingClientRect(),g={top:0,left:0,bottom:0,right:0},h=d?a[0].documentElement:this.scrollParent(c),i=h.getBoundingClientRect();if(g.top=i.top+h.clientTop,g.left=i.left+h.clientLeft,h===a[0].documentElement&&(g.top+=b.pageYOffset,g.left+=b.pageXOffset),g.bottom=g.top+h.clientHeight,g.right=g.left+h.clientWidth,e){var j=b.getComputedStyle(h);g.top+=this.parseStyle(j.paddingTop),g.bottom-=this.parseStyle(j.paddingBottom),g.left+=this.parseStyle(j.paddingLeft),g.right-=this.parseStyle(j.paddingRight)}return{top:Math.round(f.top-g.top),bottom:Math.round(g.bottom-f.bottom),left:Math.round(f.left-g.left),right:Math.round(g.right-f.right)}},parsePlacement:function(a){var b=f.auto.test(a);return b&&(a=a.replace(f.auto,"")),a=a.split("-"),a[0]=a[0]||"top",f.primary.test(a[0])||(a[0]="top"),a[1]=a[1]||"center",f.secondary.test(a[1])||(a[1]="center"),a[2]=!!b,a},positionElements:function(a,c,d,e){a=this.getRawNode(a),c=this.getRawNode(c);var g=angular.isDefined(c.offsetWidth)?c.offsetWidth:c.prop("offsetWidth"),h=angular.isDefined(c.offsetHeight)?c.offsetHeight:c.prop("offsetHeight");d=this.parsePlacement(d);var i=e?this.offset(a):this.position(a),j={top:0,left:0,placement:""};if(d[2]){var k=this.viewportOffset(a,e),l=b.getComputedStyle(c),m={width:g+Math.round(Math.abs(this.parseStyle(l.marginLeft)+this.parseStyle(l.marginRight))),height:h+Math.round(Math.abs(this.parseStyle(l.marginTop)+this.parseStyle(l.marginBottom)))};if(d[0]="top"===d[0]&&m.height>k.top&&m.height<=k.bottom?"bottom":"bottom"===d[0]&&m.height>k.bottom&&m.height<=k.top?"top":"left"===d[0]&&m.width>k.left&&m.width<=k.right?"right":"right"===d[0]&&m.width>k.right&&m.width<=k.left?"left":d[0],d[1]="top"===d[1]&&m.height-i.height>k.bottom&&m.height-i.height<=k.top?"bottom":"bottom"===d[1]&&m.height-i.height>k.top&&m.height-i.height<=k.bottom?"top":"left"===d[1]&&m.width-i.width>k.right&&m.width-i.width<=k.left?"right":"right"===d[1]&&m.width-i.width>k.left&&m.width-i.width<=k.right?"left":d[1],"center"===d[1])if(f.vertical.test(d[0])){var n=i.width/2-g/2;k.left+n<0&&m.width-i.width<=k.right?d[1]="left":k.right+n<0&&m.width-i.width<=k.left&&(d[1]="right")}else{var o=i.height/2-m.height/2;k.top+o<0&&m.height-i.height<=k.bottom?d[1]="top":k.bottom+o<0&&m.height-i.height<=k.top&&(d[1]="bottom")}}switch(d[0]){case"top":j.top=i.top-h;break;case"bottom":j.top=i.top+i.height;break;case"left":j.left=i.left-g;break;case"right":j.left=i.left+i.width}switch(d[1]){case"top":j.top=i.top;break;case"bottom":j.top=i.top+i.height-h;break;case"left":j.left=i.left;break;case"right":j.left=i.left+i.width-g;break;case"center":f.vertical.test(d[0])?j.left=i.left+i.width/2-g/2:j.top=i.top+i.height/2-h/2}return j.top=Math.round(j.top),j.left=Math.round(j.left),j.placement="center"===d[1]?d[0]:d[0]+"-"+d[1],j},adjustTop:function(a,b,c,d){return-1!==a.indexOf("top")&&c!==d?{top:b.top-d+"px"}:void 0},positionArrow:function(a,c){a=this.getRawNode(a);var d=a.querySelector(".tooltip-inner, .popover-inner");if(d){var e=angular.element(d).hasClass("tooltip-inner"),g=e?a.querySelector(".tooltip-arrow"):a.querySelector(".arrow");if(g){var h={top:"",bottom:"",left:"",right:""};if(c=this.parsePlacement(c),"center"===c[1])return void angular.element(g).css(h);var i="border-"+c[0]+"-width",j=b.getComputedStyle(g)[i],k="border-";k+=f.vertical.test(c[0])?c[0]+"-"+c[1]:c[1]+"-"+c[0],k+="-radius";var l=b.getComputedStyle(e?d:a)[k];switch(c[0]){case"top":h.bottom=e?"0":"-"+j;break;case"bottom":h.top=e?"0":"-"+j;break;case"left":h.right=e?"0":"-"+j;break;case"right":h.left=e?"0":"-"+j}h[c[1]]=l,angular.element(g).css(h)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(b){var c=l.parse(b,x,a.date);if(isNaN(c))for(var d=0;d<J.length;d++)if(c=l.parse(b,J[d],a.date),!isNaN(c))return c;return c}function r(a){if(angular.isNumber(a)&&(a=new Date(a)),!a)return null;if(angular.isDate(a)&&!isNaN(a))return a;if(angular.isString(a)){var b=q(a);if(!isNaN(b))return l.toTimezone(b,H.getOption("timezone"))}return H.getOption("allowInvalid")?a:void 0}function s(a,b){var d=a||b;return!c.ngRequired&&!d||(angular.isNumber(d)&&(d=new Date(d)),!d||(!(!angular.isDate(d)||isNaN(d))||!!angular.isString(d)&&!isNaN(q(d))))}function t(c){if(a.isOpen||!a.disabled){var d=I[0],e=b[0].contains(c.target),f=void 0!==d.contains&&d.contains(c.target);!a.isOpen||e||f||a.$apply(function(){a.isOpen=!1})}}function u(c){27===c.which&&a.isOpen?(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!1}),b[0].focus()):40!==c.which||a.isOpen||(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!0}))}function v(){if(a.isOpen){var d=angular.element(I[0].querySelector(".uib-datepicker-popup")),e=c.popupPlacement?c.popupPlacement:m.placement,f=j.positionElements(b,d,e,z);d.css({top:f.top+"px",left:f.left+"px"}),d.hasClass("uib-position-measure")&&d.removeClass("uib-position-measure")}}function w(a){var b;return angular.version.minor<6?(b=angular.isObject(a.$options)?a.$options:{timezone:null},b.getOption=function(a){return b[a]}):b=a.$options,b}var x,y,z,A,B,C,D,E,F,G,H,I,J,K=!1,L=[];this.init=function(e){if(G=e,H=w(G),y=angular.isDefined(c.closeOnDateSelection)?a.$parent.$eval(c.closeOnDateSelection):m.closeOnDateSelection,z=angular.isDefined(c.datepickerAppendToBody)?a.$parent.$eval(c.datepickerAppendToBody):m.appendToBody,A=angular.isDefined(c.onOpenFocus)?a.$parent.$eval(c.onOpenFocus):m.onOpenFocus,B=angular.isDefined(c.datepickerPopupTemplateUrl)?c.datepickerPopupTemplateUrl:m.datepickerPopupTemplateUrl,C=angular.isDefined(c.datepickerTemplateUrl)?c.datepickerTemplateUrl:m.datepickerTemplateUrl,J=angular.isDefined(c.altInputFormats)?a.$parent.$eval(c.altInputFormats):m.altInputFormats,a.showButtonBar=angular.isDefined(c.showButtonBar)?a.$parent.$eval(c.showButtonBar):m.showButtonBar,m.html5Types[c.type]?(x=m.html5Types[c.type],K=!0):(x=c.uibDatepickerPopup||m.datepickerPopup,c.$observe("uibDatepickerPopup",function(a,b){var c=a||m.datepickerPopup;if(c!==x&&(x=c,G.$modelValue=null,!x))throw new Error("uibDatepickerPopup must have a date format specified.")})),!x)throw new Error("uibDatepickerPopup must have a date format specified.");if(K&&c.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");D=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),D.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":B}),E=angular.element(D.children()[0]),E.attr("template-url",C),a.datepickerOptions||(a.datepickerOptions={}),K&&"month"===c.type&&(a.datepickerOptions.datepickerMode="month",a.datepickerOptions.minMode="month"),E.attr("datepicker-options","datepickerOptions"),K?G.$formatters.push(function(b){return a.date=l.fromTimezone(b,H.getOption("timezone")),b}):(G.$$parserName="date",G.$validators.date=s,G.$parsers.unshift(r),G.$formatters.push(function(b){return G.$isEmpty(b)?(a.date=b,b):(angular.isNumber(b)&&(b=new Date(b)),a.date=l.fromTimezone(b,H.getOption("timezone")),l.filter(a.date,x))})),G.$viewChangeListeners.push(function(){a.date=q(G.$viewValue)}),b.on("keydown",u),I=d(D)(a),D.remove(),z?h.find("body").append(I):b.after(I),a.$on("$destroy",function(){for(!0===a.isOpen&&(i.$$phase||a.$apply(function(){a.isOpen=!1})),I.remove(),b.off("keydown",u),h.off("click",t),F&&F.off("scroll",v),angular.element(g).off("resize",v);L.length;)L.shift()()})},a.getText=function(b){return a[b+"Text"]||m[b+"Text"]},a.isDisabled=function(b){"today"===b&&(b=l.fromTimezone(new Date,H.getOption("timezone")));var c={};return angular.forEach(["minDate","maxDate"],function(b){a.datepickerOptions[b]?angular.isDate(a.datepickerOptions[b])?c[b]=new Date(a.datepickerOptions[b]):(p&&e.warn("Literal date support has been deprecated, please switch to date object usage"),c[b]=new Date(k(a.datepickerOptions[b],"medium"))):c[b]=null}),a.datepickerOptions&&c.minDate&&a.compare(b,c.minDate)<0||c.maxDate&&a.compare(b,c.maxDate)>0},a.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},a.dateSelection=function(c){a.date=c;var d=a.date?l.filter(a.date,x):null;b.val(d),G.$setViewValue(d),y&&(a.isOpen=!1,b[0].focus())},a.keydown=function(c){27===c.which&&(c.stopPropagation(),a.isOpen=!1,b[0].focus())},a.select=function(b,c){if(c.stopPropagation(),"today"===b){var d=new Date;angular.isDate(a.date)?(b=new Date(a.date),b.setFullYear(d.getFullYear(),d.getMonth(),d.getDate())):(b=l.fromTimezone(d,H.getOption("timezone")),b.setHours(0,0,0,0))}a.dateSelection(b)},a.close=function(c){c.stopPropagation(),a.isOpen=!1,b[0].focus()},a.disabled=angular.isDefined(c.disabled)||!1,c.ngDisabled&&L.push(a.$parent.$watch(f(c.ngDisabled),function(b){a.disabled=b})),a.$watch("isOpen",function(d){d?a.disabled?a.isOpen=!1:n(function(){v(),A&&a.$broadcast("uib:datepicker.focus"),h.on("click",t);var d=c.popupPlacement?c.popupPlacement:m.placement;z||j.parsePlacement(d)[2]?(F=F||angular.element(j.scrollParent(b)))&&F.on("scroll",v):F=null,angular.element(g).on("resize",v)},0,!1):(h.off("click",t),F&&F.off("scroll",v),angular.element(g).off("resize",v))}),a.$on("uib:datepicker.mode",function(){n(v,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(a,b,c,d){var e=d[0];d[1].init(e)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(a){return function(b,c){var d;return function(){var e=this,f=Array.prototype.slice.call(arguments);d&&a.cancel(d),d=a(function(){b.apply(e,f)},c)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);-1!==e&&d.splice(e,1),d.length||delete a[b]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(a,b,c){var d=null,e=c.createNew();this.isOnlyOpen=function(a,b){var c=e.get(b);if(c){if(c.reduce(function(b,c){return c.scope===a?c:b},{}))return 1===c.length}return!1},this.open=function(b,c,g){if(d||a.on("click",f),d&&d!==b&&(d.isOpen=!1),d=b,g){var h=e.get(g);if(h){-1===h.map(function(a){return a.scope}).indexOf(b)&&e.put(g,{scope:b})}else e.put(g,{scope:b})}},this.close=function(b,c,g){if(d===b&&(a.off("click",f),a.off("keydown",this.keybindFilter),d=null),g){var h=e.get(g);if(h){var i=h.reduce(function(a,c){return c.scope===b?c:a},{});i&&e.remove(g,i)}}};var f=function(a){if(d&&d.isOpen&&!(a&&"disabled"===d.getAutoClose()||a&&3===a.which)){var c=d.getToggleElement();if(!(a&&c&&c[0].contains(a.target))){var e=d.getDropdownElement();a&&"outsideClick"===d.getAutoClose()&&e&&e[0].contains(a.target)||(d.focusToggleElement(),d.isOpen=!1,b.$$phase||d.$apply())}}};this.keybindFilter=function(a){if(d){var b=d.getDropdownElement(),c=d.getToggleElement(),e=b&&b[0].contains(a.target),g=c&&c[0].contains(a.target);27===a.which?(a.stopPropagation(),d.focusToggleElement(),f()):d.isKeynavEnabled()&&-1!==[38,40].indexOf(a.which)&&d.isOpen&&(e||g)&&(a.preventDefault(),a.stopPropagation(),d.focusDropdownEntry(a.which))}}
}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j,k){function l(){b.append(o.dropdownMenu)}var m,n,o=this,p=a.$new(),q=e.appendToOpenClass,r=e.openClass,s=angular.noop,t=c.onToggle?d(c.onToggle):angular.noop,u=!1,v=i.find("body");b.addClass("dropdown"),this.init=function(){c.isOpen&&(n=d(c.isOpen),s=n.assign,a.$watch(n,function(a){p.isOpen=!!a})),u=angular.isDefined(c.keyboardNav)},this.toggle=function(a){return p.isOpen=arguments.length?!!a:!p.isOpen,angular.isFunction(s)&&s(p,p.isOpen),p.isOpen},this.isOpen=function(){return p.isOpen},p.getToggleElement=function(){return o.toggleElement},p.getAutoClose=function(){return c.autoClose||"always"},p.getElement=function(){return b},p.isKeynavEnabled=function(){return u},p.focusDropdownEntry=function(a){var c=o.dropdownMenu?angular.element(o.dropdownMenu).find("a"):b.find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(o.selectedOption)?o.selectedOption=o.selectedOption===c.length-1?o.selectedOption:o.selectedOption+1:o.selectedOption=0;break;case 38:angular.isNumber(o.selectedOption)?o.selectedOption=0===o.selectedOption?0:o.selectedOption-1:o.selectedOption=c.length-1}c[o.selectedOption].focus()},p.getDropdownElement=function(){return o.dropdownMenu},p.focusToggleElement=function(){o.toggleElement&&o.toggleElement[0].focus()},p.$watch("isOpen",function(e,n){var u=null,w=!1;if(angular.isDefined(c.dropdownAppendTo)){var x=d(c.dropdownAppendTo)(p);x&&(u=angular.element(x))}if(angular.isDefined(c.dropdownAppendToBody)){!1!==d(c.dropdownAppendToBody)(p)&&(w=!0)}if(w&&!u&&(u=v),u&&o.dropdownMenu&&(e?(u.append(o.dropdownMenu),b.on("$destroy",l)):(b.off("$destroy",l),l())),u&&o.dropdownMenu){var z,A,B,C=h.positionElements(b,o.dropdownMenu,"bottom-left",!0),D=0;if(z={top:C.top+"px",display:e?"block":"none"},A=o.dropdownMenu.hasClass("dropdown-menu-right"),A?(z.left="auto",B=h.scrollbarPadding(u),B.heightOverflow&&B.scrollbarWidth&&(D=B.scrollbarWidth),z.right=window.innerWidth-D-(C.left+b.prop("offsetWidth"))+"px"):(z.left=C.left+"px",z.right="auto"),!w){var E=h.offset(u);z.top=C.top-E.top+"px",A?z.right=window.innerWidth-(C.left-E.left+b.prop("offsetWidth"))+"px":z.left=C.left-E.left+"px"}o.dropdownMenu.css(z)}var F=u||b,G=u?q:r,H=F.hasClass(G),I=f.isOnlyOpen(a,u);if(H===!e){var J;J=u?I?"removeClass":"addClass":e?"addClass":"removeClass",g[J](F,G).then(function(){angular.isDefined(e)&&e!==n&&t(a,{open:!!e})})}if(e)o.dropdownMenuTemplateUrl?k(o.dropdownMenuTemplateUrl).then(function(a){m=p.$new(),j(a.trim())(m,function(a){var b=a;o.dropdownMenu.replaceWith(b),o.dropdownMenu=b,i.on("keydown",f.keybindFilter)})}):i.on("keydown",f.keybindFilter),p.focusToggleElement(),f.open(p,b,u);else{if(f.close(p,b,u),o.dropdownMenuTemplateUrl){m&&m.$destroy();var K=angular.element('<ul class="dropdown-menu"></ul>');o.dropdownMenu.replaceWith(K),o.dropdownMenu=K}o.selectedOption=null}angular.isFunction(s)&&s(a,e)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(a,b,c,d){d.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(a,b,c,d){if(d&&!angular.isDefined(c.dropdownNested)){b.addClass("dropdown-menu");var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.on("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.off("click",e)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b===a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b===a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.pop()},length:function(){return a.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var a=this;this.resolver=null,this.setResolver=function(a){this.resolver=a},this.$get=["$injector","$q",function(b,c){var d=a.resolver?b.get(a.resolver):null;return{resolve:function(a,e,f,g){if(d)return d.resolve(a,e,f,g);var h=[];return angular.forEach(a,function(a){angular.isFunction(a)||angular.isArray(a)?h.push(c.resolve(b.invoke(a))):angular.isString(a)?h.push(c.resolve(b.get(a))):h.push(c.resolve(a))}),c.all(h).then(function(b){var c={},d=0;return angular.forEach(a,function(a,e){c[e]=b[d++]}),c})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(a,b,c){function d(b,d,e){e.modalInClass&&(a.addClass(d,e.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(c,f){var g=f();b.modalOptions.animation?a.removeClass(d,e.modalInClass).then(g):g()}))}return{restrict:"A",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(a,b,c,d){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/modal/window.html"},link:function(e,f,g){f.addClass(g.windowTopClass||""),e.size=g.size,e.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},f.on("click",e.close),e.$isRendered=!0;var h=b.defer();e.$$postDigest(function(){h.resolve()}),h.promise.then(function(){var h=null;g.modalInClass&&(h=c(f,{addClass:g.modalInClass}).start(),e.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();c(f,{removeClass:g.modalInClass}).start().then(d)})),b.when(h).then(function(){var b=a.getTop();if(b&&a.modalRendered(b.key),!d[0].activeElement||!f[0].contains(d[0].activeElement)){var c=f[0].querySelector("[autofocus]");c?c.focus():f[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(a){return{link:function(b,c,d,e,f){f(b.$parent,function(b){c.empty(),a.enter(b,c)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(a,b,c,d,e,f,g,h,i){function j(a){return a.replace(E,function(a,c){return(c?"-":"")+a.toLowerCase()})}function k(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)}function l(){for(var a=-1,b=x.keys(),c=0;c<b.length;c++)x.get(b[c]).value.backdrop&&(a=c);return a>-1&&A>a&&(a=A),a}function m(a,b){var c=x.get(a).value,d=c.appendTo;x.remove(a),B=x.top(),B&&(A=parseInt(B.value.modalDomEl.attr("index"),10)),p(c.modalDomEl,c.modalScope,function(){var b=c.openedClass||w;y.remove(b,a);var e=y.hasKey(b);d.toggleClass(b,e),!e&&v&&v.heightOverflow&&v.scrollbarWidth&&(v.originalRight?d.css({paddingRight:v.originalRight+"px"}):d.css({paddingRight:""}),v=null),n(!0)},c.closedDeferred),o(),b&&b.focus?b.focus():d.focus&&d.focus()}function n(a){var b;x.length()>0&&(b=x.top().value,b.modalDomEl.toggleClass(b.windowTopClass||"",a))}function o(){if(t&&-1===l()){var a=u;p(t,u,function(){a=null}),t=void 0,u=void 0}}function p(b,c,d,e){function g(){g.done||(g.done=!0,a.leave(b).then(function(){d&&d(),b.remove(),e&&e.resolve()}),c.$destroy())}var h,i=null,j=function(){return h||(h=f.defer(),i=h.promise),function(){h.resolve()}};return c.$broadcast(z.NOW_CLOSING_EVENT,j),f.when(i).then(g)}function q(a){if(a.isDefaultPrevented())return a;var b=x.top();if(b)switch(a.which){case 27:b.value.keyboard&&(a.preventDefault(),e.$apply(function(){z.dismiss(b.key,"escape key press")}));break;case 9:var c=z.loadFocusElementList(b),d=!1;a.shiftKey?(z.isFocusInFirstItem(a,c)||z.isModalFocused(a,b))&&(d=z.focusLastFocusableElement(c)):z.isFocusInLastItem(a,c)&&(d=z.focusFirstFocusableElement(c)),d&&(a.preventDefault(),a.stopPropagation())}}function r(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}function s(){Array.prototype.forEach.call(document.querySelectorAll("["+C+"]"),function(a){var b=parseInt(a.getAttribute(C),10),c=b-1;a.setAttribute(C,c),c||(a.removeAttribute(C),a.removeAttribute("aria-hidden"))})}var t,u,v,w="modal-open",x=h.createNew(),y=g.createNew(),z={NOW_CLOSING_EVENT:"modal.stack.now-closing"},A=0,B=null,C="data-bootstrap-modal-aria-hidden-count",E=/[A-Z]/g;return e.$watch(l,function(a){u&&(u.index=a)}),c.on("keydown",q),e.$on("$destroy",function(){c.off("keydown",q)}),z.open=function(b,f){function g(a){if(a&&"BODY"!==a[0].tagName)return function(a){var b=a.parent()?a.parent().children():[];return Array.prototype.filter.call(b,function(b){return b!==a[0]})}(a).forEach(function(a){var b="true"===a.getAttribute("aria-hidden"),c=parseInt(a.getAttribute(C),10);c||(c=b?1:0),a.setAttribute(C,c+1),a.setAttribute("aria-hidden","true")}),g(a.parent())}var h=c[0].activeElement,k=f.openedClass||w;n(!1),B=x.top(),x.add(b,{deferred:f.deferred,renderDeferred:f.renderDeferred,closedDeferred:f.closedDeferred,modalScope:f.scope,backdrop:f.backdrop,keyboard:f.keyboard,openedClass:f.openedClass,windowTopClass:f.windowTopClass,animation:f.animation,appendTo:f.appendTo}),y.put(k,b);var m=f.appendTo,o=l();o>=0&&!t&&(u=e.$new(!0),u.modalOptions=f,u.index=o,t=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),t.attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),f.backdropClass&&t.addClass(f.backdropClass),f.animation&&t.attr("modal-animation","true"),d(t)(u),a.enter(t,m),i.isScrollable(m)&&(v=i.scrollbarPadding(m),v.heightOverflow&&v.scrollbarWidth&&m.css({paddingRight:v.right+"px"})));var p;f.component?(p=document.createElement(j(f.component.name)),p=angular.element(p),p.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):p=f.content,A=B?parseInt(B.value.modalDomEl.attr("index"),10)+1:0;var q=angular.element('<div uib-modal-window="modal-window"></div>');q.attr({class:"modal","template-url":f.windowTemplateUrl,"window-top-class":f.windowTopClass,role:"dialog","aria-labelledby":f.ariaLabelledBy,"aria-describedby":f.ariaDescribedBy,size:f.size,index:A,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(p),f.windowClass&&q.addClass(f.windowClass),f.animation&&q.attr("modal-animation","true"),m.addClass(k),f.scope&&(f.scope.$$topModalIndex=A),a.enter(d(q)(f.scope),m),x.top().value.modalDomEl=q,x.top().value.modalOpener=h,g(q)},z.close=function(a,b){var c=x.get(a);return s(),c&&r(c,b,!0)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.resolve(b),m(a,c.value.modalOpener),!0):!c},z.dismiss=function(a,b){var c=x.get(a);return s(),c&&r(c,b,!1)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.reject(b),m(a,c.value.modalOpener),!0):!c},z.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},z.getTop=function(){return x.top()},z.modalRendered=function(a){var b=x.get(a);b&&b.value.renderDeferred.resolve()},z.focusFirstFocusableElement=function(a){return a.length>0&&(a[0].focus(),!0)},z.focusLastFocusableElement=function(a){return a.length>0&&(a[a.length-1].focus(),!0)},z.isModalFocused=function(a,b){if(a&&b){var c=b.value.modalDomEl;if(c&&c.length)return(a.target||a.srcElement)===c[0]}return!1},z.isFocusInFirstItem=function(a,b){return b.length>0&&(a.target||a.srcElement)===b[0]},z.isFocusInLastItem=function(a,b){return b.length>0&&(a.target||a.srcElement)===b[b.length-1]},z.loadFocusElementList=function(a){if(a){var b=a.value.modalDomEl;if(b&&b.length){var c=b[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return c?Array.prototype.filter.call(c,function(a){return k(a)}):c}}},z}]).provider("$uibModal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?c.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}var j={},k=null;return j.getPromiseChain=function(){return k},j.open=function(e){function j(){return q}var l=c.defer(),m=c.defer(),n=c.defer(),o=c.defer(),p={result:l.promise,opened:m.promise,closed:n.promise,rendered:o.promise,close:function(a){return h.close(p,a)},dismiss:function(a){return h.dismiss(p,a)}};if(e=angular.extend({},a.options,e),e.resolve=e.resolve||{},e.appendTo=e.appendTo||d.find("body").eq(0),!e.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!e.component&&!e.template&&!e.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var q;q=e.component?c.when(g.resolve(e.resolve,{},null,null)):c.all([i(e),g.resolve(e.resolve,{},null,null)]);var r;return r=k=c.all([k]).then(j,j).then(function(a){function c(b,c,d,e){b.$scope=g,b.$scope.$resolve={},d?b.$scope.$uibModalInstance=p:b.$uibModalInstance=p;var f=c?a[1]:a;angular.forEach(f,function(a,c){e&&(b[c]=a),b.$scope.$resolve[c]=a})}var d=e.scope||b,g=d.$new();g.$close=p.close,g.$dismiss=p.dismiss,g.$on("$destroy",function(){g.$$uibDestructionScheduled||g.$dismiss("$uibUnscheduledDestruction")});var i,j,k={scope:g,deferred:l,renderDeferred:o,closedDeferred:n,animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowTopClass:e.windowTopClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,ariaLabelledBy:e.ariaLabelledBy,ariaDescribedBy:e.ariaDescribedBy,size:e.size,openedClass:e.openedClass,appendTo:e.appendTo},q={},r={};e.component?(c(q,!1,!0,!1),q.name=e.component,k.component=q):e.controller&&(c(r,!0,!1,!0),j=f(e.controller,r,!0,e.controllerAs),e.controllerAs&&e.bindToController&&(i=j.instance,i.$close=g.$close,i.$dismiss=g.$dismiss,angular.extend(i,{$resolve:r.$scope.$resolve},d)),i=j(),angular.isFunction(i.$onInit)&&i.$onInit()),e.component||(k.content=a[0]),h.open(p,k),m.resolve(!0)},function(a){m.reject(a),l.reject(a)}).finally(function(){k===r&&(k=null)}),p},j}]};return a}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(a){return{create:function(b,c,d){b.setNumPages=d.numPages?a(d.numPages).assign:angular.noop,b.ngModelCtrl={$setViewValue:angular.noop},b._watchers=[],b.init=function(a,e){b.ngModelCtrl=a,b.config=e,a.$render=function(){b.render()},d.itemsPerPage?b._watchers.push(c.$parent.$watch(d.itemsPerPage,function(a){b.itemsPerPage=parseInt(a,10),c.totalPages=b.calculateTotalPages(),b.updatePage()})):b.itemsPerPage=e.itemsPerPage,c.$watch("totalItems",function(a,d){(angular.isDefined(a)||a!==d)&&(c.totalPages=b.calculateTotalPages(),b.updatePage())})},b.calculateTotalPages=function(){var a=b.itemsPerPage<1?1:Math.ceil(c.totalItems/b.itemsPerPage);return Math.max(a||0,1)},b.render=function(){c.page=parseInt(b.ngModelCtrl.$viewValue,10)||1},c.selectPage=function(a,d){d&&d.preventDefault(),(!c.ngDisabled||!d)&&c.page!==a&&a>0&&a<=c.totalPages&&(d&&d.target&&d.target.blur(),b.ngModelCtrl.$setViewValue(a),b.ngModelCtrl.$render())},c.getText=function(a){return c[a+"Text"]||b.config[a+"Text"]},c.noPrevious=function(){return 1===c.page},c.noNext=function(){return c.page===c.totalPages},b.updatePage=function(){b.setNumPages(c.$parent,c.totalPages),c.page>c.totalPages?c.selectPage(c.totalPages):b.ngModelCtrl.$render()},c.$on("$destroy",function(){for(;b._watchers.length;)b._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(a,b,c,d){a.align=angular.isDefined(b.align)?a.$parent.$eval(b.align):d.align,c.create(this,a,b)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(a){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(a,b){return b.templateUrl||"uib/template/pager/pager.html"},link:function(b,c,d,e){c.addClass("pager");var f=e[0],g=e[1];g&&f.init(g,a)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(a,b,c,d,e){function f(a,b,c){return{number:a,text:b,active:c}}function g(a,b){var c=[],d=1,e=b,g=angular.isDefined(i)&&b>i;g&&(j?(d=Math.max(a-Math.floor(i/2),1),(e=d+i-1)>b&&(e=b,d=e-i+1)):(d=(Math.ceil(a/i)-1)*i+1,e=Math.min(d+i-1,b)));for(var h=d;e>=h;h++){var n=f(h,m(h),h===a);c.push(n)}if(g&&i>0&&(!j||k||l)){if(d>1){if(!l||d>3){var o=f(d-1,"...",!1);c.unshift(o)}if(l){if(3===d){var p=f(2,"2",!1);c.unshift(p)}var q=f(1,"1",!1);c.unshift(q)}}if(b>e){if(!l||b-2>e){var r=f(e+1,"...",!1);c.push(r)}if(l){if(e===b-2){var s=f(b-1,b-1,!1);c.push(s)}var t=f(b,b,!1);c.push(t)}}}return c}var h=this,i=angular.isDefined(b.maxSize)?a.$parent.$eval(b.maxSize):e.maxSize,j=angular.isDefined(b.rotate)?a.$parent.$eval(b.rotate):e.rotate,k=angular.isDefined(b.forceEllipses)?a.$parent.$eval(b.forceEllipses):e.forceEllipses,l=angular.isDefined(b.boundaryLinkNumbers)?a.$parent.$eval(b.boundaryLinkNumbers):e.boundaryLinkNumbers,m=angular.isDefined(b.pageLabel)?function(c){return a.$parent.$eval(b.pageLabel,{$page:c})}:angular.identity;a.boundaryLinks=angular.isDefined(b.boundaryLinks)?a.$parent.$eval(b.boundaryLinks):e.boundaryLinks,a.directionLinks=angular.isDefined(b.directionLinks)?a.$parent.$eval(b.directionLinks):e.directionLinks,b.$set("role","menu"),d.create(this,a,b),b.maxSize&&h._watchers.push(a.$parent.$watch(c(b.maxSize),function(a){i=parseInt(a,10),h.render()}));var n=this.render;this.render=function(){n(),a.page>0&&a.page<=a.totalPages&&(a.pages=g(a.page,a.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(a,b){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"uib/template/pagination/pagination.html"},link:function(a,c,d,e){c.addClass("pagination");var f=e[0],g=e[1];g&&f.init(g,b)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function a(a){var b=/[A-Z]/g;return a.replace(b,function(a,b){return(b?"-":"")+a.toLowerCase()})}var b={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,f,g,h,i,j,k,l,m){function n(a){if(27===a.which){var b=o.top();b&&(b.value.close(),b=null)}}var o=m.createNew();return h.on("keyup",n),k.$on("$destroy",function(){h.off("keyup",n)}),function(e,k,m,n){function p(a){var b=(a||n.trigger||m).split(" ");return{show:b,hide:b.map(function(a){return c[a]||a})}}n=angular.extend({},b,d,n);var q=a(e),r=j.startSymbol(),s=j.endSymbol(),t="<div "+q+'-popup uib-title="'+r+"title"+s+'" '+(n.useContentExp?'content-exp="contentExp()" ':'content="'+r+"content"+s+'" ')+'origin-scope="origScope" class="uib-position-measure '+k+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(a,b){var c=f(t);return function(a,b,d,f){function j(){P.isOpen?q():m()}function m(){O&&!a.$eval(d[k+"Enable"])||(u(),x(),P.popupDelay?H||(H=g(r,P.popupDelay,!1)):r())}function q(){s(),P.popupCloseDelay?I||(I=g(t,P.popupCloseDelay,!1)):t()}function r(){return s(),u(),P.content?(v(),void P.$evalAsync(function(){P.isOpen=!0,y(!0),U()})):angular.noop}function s(){H&&(g.cancel(H),H=null),J&&(g.cancel(J),J=null)}function t(){P&&P.$evalAsync(function(){P&&(P.isOpen=!1,y(!1),P.animation?G||(G=g(w,150,!1)):w())})}function u(){I&&(g.cancel(I),I=null),G&&(g.cancel(G),G=null)}function v(){E||(F=P.$new(),E=c(F,function(a){M?h.find("body").append(a):b.after(a)}),o.add(P,{close:t}),z())}function w(){s(),u(),A(),E&&(E.remove(),E=null,K&&g.cancel(K)),o.remove(P),F&&(F.$destroy(),F=null)}function x(){P.title=d[k+"Title"],P.content=S?S(a):d[e],P.popupClass=d[k+"Class"],P.placement=angular.isDefined(d[k+"Placement"])?d[k+"Placement"]:n.placement;var b=i.parsePlacement(P.placement);L=b[1]?b[0]+"-"+b[1]:b[0];var c=parseInt(d[k+"PopupDelay"],10),f=parseInt(d[k+"PopupCloseDelay"],10);P.popupDelay=isNaN(c)?n.popupDelay:c,P.popupCloseDelay=isNaN(f)?n.popupCloseDelay:f}function y(b){R&&angular.isFunction(R.assign)&&R.assign(a,b)}function z(){T.length=0,S?(T.push(a.$watch(S,function(a){P.content=a,!a&&P.isOpen&&t()})),T.push(F.$watch(function(){Q||(Q=!0,F.$$postDigest(function(){Q=!1,P&&P.isOpen&&U()}))}))):T.push(d.$observe(e,function(a){P.content=a,!a&&P.isOpen?t():U()})),T.push(d.$observe(k+"Title",function(a){P.title=a,P.isOpen&&U()})),T.push(d.$observe(k+"Placement",function(a){P.placement=a||n.placement,P.isOpen&&U()}))}function A(){T.length&&(angular.forEach(T,function(a){a()}),T.length=0)}function B(a){P&&P.isOpen&&E&&(b[0].contains(a.target)||E[0].contains(a.target)||q())}function C(a){27===a.which&&q()}var E,F,G,H,I,J,K,L,M=!!angular.isDefined(n.appendToBody)&&n.appendToBody,N=p(void 0),O=angular.isDefined(d[k+"Enable"]),P=a.$new(!0),Q=!1,R=!!angular.isDefined(d[k+"IsOpen"])&&l(d[k+"IsOpen"]),S=!!n.useContentExp&&l(d[e]),T=[],U=function(){E&&E.html()&&(J||(J=g(function(){var a=i.positionElements(b,E,P.placement,M),c=angular.isDefined(E.offsetHeight)?E.offsetHeight:E.prop("offsetHeight"),d=M?i.offset(b):i.position(b);E.css({top:a.top+"px",left:a.left+"px"});var e=a.placement.split("-");E.hasClass(e[0])||(E.removeClass(L.split("-")[0]),E.addClass(e[0])),E.hasClass(n.placementClassPrefix+a.placement)||(E.removeClass(n.placementClassPrefix+L),E.addClass(n.placementClassPrefix+a.placement)),K=g(function(){var a=angular.isDefined(E.offsetHeight)?E.offsetHeight:E.prop("offsetHeight"),b=i.adjustTop(e,d,c,a);b&&E.css(b),K=null},0,!1),E.hasClass("uib-position-measure")?(i.positionArrow(E,a.placement),E.removeClass("uib-position-measure")):L!==a.placement&&i.positionArrow(E,a.placement),L=a.placement,J=null},0,!1)))};P.origScope=a,P.isOpen=!1,P.contentExp=function(){return P.content},d.$observe("disabled",function(a){a&&s(),a&&P.isOpen&&t()}),R&&a.$watch(R,function(a){P&&!a===P.isOpen&&j()});var V=function(){N.show.forEach(function(a){"outsideClick"===a?b.off("click",j):(b.off(a,m),b.off(a,j)),b.off("keypress",C)}),N.hide.forEach(function(a){"outsideClick"===a?h.off("click",B):b.off(a,q)})};!function(){var c=[],e=[],f=a.$eval(d[k+"Trigger"]);V(),angular.isObject(f)?(Object.keys(f).forEach(function(a){c.push(a),e.push(f[a])}),N={show:c,hide:e}):N=p(f),"none"!==N.show&&N.show.forEach(function(a,c){"outsideClick"===a?(b.on("click",j),h.on("click",B)):a===N.hide[c]?b.on(a,j):a&&(b.on(a,m),b.on(N.hide[c],q)),b.on("keypress",C)})}();var W=a.$eval(d[k+"Animation"]);P.animation=angular.isDefined(W)?!!W:n.animation;var X,Y=k+"AppendToBody";X=Y in d&&void 0===d[Y]||a.$eval(d[Y]),M=angular.isDefined(X)?X:M,a.$on("$destroy",function(){V(),w(),P=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.uibTooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("uibTooltipClasses",["$uibPosition",function(a){return{restrict:"A",link:function(b,c,d){if(b.placement){var e=a.parsePlacement(b.placement);c.addClass(e[0])}b.popupClass&&c.addClass(b.popupClass),b.animation&&c.addClass(d.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(a){return a("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(a){return a("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(a){return a("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(a){return a("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(a){return a("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(a){return a("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(a,b,c){function d(){return angular.isDefined(a.maxParam)?a.maxParam:c.max}var e=this,f=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=d(),this.addBar=function(a,b,c){f||b.css({transition:"none"}),this.bars.push(a),a.max=d(),a.title=c&&angular.isDefined(c.title)?c.title:"progressbar",a.$watch("value",function(b){a.recalculatePercentage()}),a.recalculatePercentage=function(){var b=e.bars.reduce(function(a,b){return b.percent=+(100*b.value/b.max).toFixed(2),a+b.percent},0);b>100&&(a.percent-=b-100)},a.$on("$destroy",function(){b=null,e.removeBar(a)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1),this.bars.forEach(function(a){a.recalculatePercentage()})},a.$watch("maxParam",function(a){e.bars.forEach(function(a){a.max=d(),a.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b,c)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]),{title:c.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(a,b,c){var d={$setViewValue:angular.noop},e=this;this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff,this.enableReset=angular.isDefined(b.enableReset)?a.$parent.$eval(b.enableReset):c.enableReset;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){if(!a.readonly&&b>=0&&b<=a.range.length){var c=e.enableReset&&d.$viewValue===b?0:b;d.$setViewValue(c),d.$render()}},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue,a.title=e.getTitle(a.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(a){function b(a){for(var b=0;b<d.tabs.length;b++)if(d.tabs[b].index===a)return b}var c,d=this;d.tabs=[],d.select=function(a,f){if(!e){var g=b(c),h=d.tabs[g];if(h){if(h.tab.onDeselect({$event:f,$selectedIndex:a}),f&&f.isDefaultPrevented())return;h.tab.active=!1}var i=d.tabs[a];i?(i.tab.onSelect({$event:f}),i.tab.active=!0,d.active=i.index,c=i.index):!i&&angular.isDefined(c)&&(d.active=null,c=null)}},d.addTab=function(a){if(d.tabs.push({tab:a,index:a.index}),d.tabs.sort(function(a,b){return a.index>b.index?1:a.index<b.index?-1:0}),a.index===d.active||!angular.isDefined(d.active)&&1===d.tabs.length){var c=b(a.index);d.select(c)}},d.removeTab=function(a){for(var b,c=0;c<d.tabs.length;c++)if(d.tabs[c].tab===a){b=c;break}if(d.tabs[b].index===d.active){var e=b===d.tabs.length-1?b-1:b+1%d.tabs.length;d.select(e)}d.tabs.splice(b,1)},a.$watch("tabset.active",function(a){
angular.isDefined(a)&&a!==c&&d.select(b(a))});var e;a.$on("$destroy",function(){e=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(a,b){return b.templateUrl||"uib/template/tabs/tabset.html"},link:function(a,b,c){a.vertical=!!angular.isDefined(c.vertical)&&a.$parent.$eval(c.vertical),a.justified=!!angular.isDefined(c.justified)&&a.$parent.$eval(c.justified)}}}).directive("uibTab",["$parse",function(a){return{require:"^uibTabset",replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(b,c,d,e,f){b.disabled=!1,d.disable&&b.$parent.$watch(a(d.disable),function(a){b.disabled=!!a}),angular.isUndefined(d.index)&&(e.tabs&&e.tabs.length?b.index=Math.max.apply(null,e.tabs.map(function(a){return a.index}))+1:b.index=0),angular.isUndefined(d.classes)&&(b.classes=""),b.select=function(a){if(!b.disabled){for(var c,d=0;d<e.tabs.length;d++)if(e.tabs[d].tab===b){c=d;break}e.select(c,a)}},e.addTab(b),b.$on("$destroy",function(){e.removeTab(b)}),b.$transcludeFn=f}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}).directive("uibTabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("uib-tab-heading")||a.hasAttribute("data-uib-tab-heading")||a.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===a.tagName.toLowerCase()||"data-uib-tab-heading"===a.tagName.toLowerCase()||"x-uib-tab-heading"===a.tagName.toLowerCase()||"uib:tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(b,c,d){var e=b.$eval(d.uibTabContentTransclude).tab;e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(a,b,c,d,e,f,g){function h(){var b=+a.hours;return(a.showMeridian?b>0&&13>b:b>=0&&24>b)&&""!==a.hours?(a.showMeridian&&(12===b&&(b=0),a.meridian===y[1]&&(b+=12)),b):void 0}function i(){var b=+a.minutes;return b>=0&&60>b&&""!==a.minutes?b:void 0}function j(){var b=+a.seconds;return b>=0&&60>b?b:void 0}function k(a,b){return null===a?"":angular.isDefined(a)&&a.toString().length<2&&!b?"0"+a:a.toString()}function l(a){m(),x.$setViewValue(new Date(v)),n(a)}function m(){s&&s.$setValidity("hours",!0),t&&t.$setValidity("minutes",!0),u&&u.$setValidity("seconds",!0),x.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1,a.invalidSeconds=!1}function n(b){if(x.$modelValue){var c=v.getHours(),d=v.getMinutes(),e=v.getSeconds();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:k(c,!z),"m"!==b&&(a.minutes=k(d)),a.meridian=v.getHours()<12?y[0]:y[1],"s"!==b&&(a.seconds=k(e)),a.meridian=v.getHours()<12?y[0]:y[1]}else a.hours=null,a.minutes=null,a.seconds=null,a.meridian=y[0]}function o(a){v=q(v,a),l()}function p(a,b){return q(a,60*b)}function q(a,b){var c=new Date(a.getTime()+1e3*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes(),c.getSeconds()),d}function r(){return(null===a.hours||""===a.hours)&&(null===a.minutes||""===a.minutes)&&(!a.showSeconds||a.showSeconds&&(null===a.seconds||""===a.seconds))}var s,t,u,v=new Date,w=[],x={$setViewValue:angular.noop},y=angular.isDefined(c.meridians)?a.$parent.$eval(c.meridians):g.meridians||f.DATETIME_FORMATS.AMPMS,z=!angular.isDefined(c.padHours)||a.$parent.$eval(c.padHours);a.tabindex=angular.isDefined(c.tabindex)?c.tabindex:0,b.removeAttr("tabindex"),this.init=function(b,d){x=b,x.$render=this.render,x.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),f=d.eq(1),h=d.eq(2);s=e.controller("ngModel"),t=f.controller("ngModel"),u=h.controller("ngModel"),(angular.isDefined(c.mousewheel)?a.$parent.$eval(c.mousewheel):g.mousewheel)&&this.setupMousewheelEvents(e,f,h),(angular.isDefined(c.arrowkeys)?a.$parent.$eval(c.arrowkeys):g.arrowkeys)&&this.setupArrowkeyEvents(e,f,h),a.readonlyInput=angular.isDefined(c.readonlyInput)?a.$parent.$eval(c.readonlyInput):g.readonlyInput,this.setupInputEvents(e,f,h)};var A=g.hourStep;c.hourStep&&w.push(a.$parent.$watch(d(c.hourStep),function(a){A=+a}));var B=g.minuteStep;c.minuteStep&&w.push(a.$parent.$watch(d(c.minuteStep),function(a){B=+a}));var C;w.push(a.$parent.$watch(d(c.min),function(a){var b=new Date(a);C=isNaN(b)?void 0:b}));var D;w.push(a.$parent.$watch(d(c.max),function(a){var b=new Date(a);D=isNaN(b)?void 0:b}));var E=!1;c.ngDisabled&&w.push(a.$parent.$watch(d(c.ngDisabled),function(a){E=a})),a.noIncrementHours=function(){var a=p(v,60*A);return E||a>D||v>a&&C>a},a.noDecrementHours=function(){var a=p(v,60*-A);return E||C>a||a>v&&a>D},a.noIncrementMinutes=function(){var a=p(v,B);return E||a>D||v>a&&C>a},a.noDecrementMinutes=function(){var a=p(v,-B);return E||C>a||a>v&&a>D},a.noIncrementSeconds=function(){var a=q(v,F);return E||a>D||v>a&&C>a},a.noDecrementSeconds=function(){var a=q(v,-F);return E||C>a||a>v&&a>D},a.noToggleMeridian=function(){return v.getHours()<12?E||p(v,720)>D:E||p(v,-720)<C};var F=g.secondStep;c.secondStep&&w.push(a.$parent.$watch(d(c.secondStep),function(a){F=+a})),a.showSeconds=g.showSeconds,c.showSeconds&&w.push(a.$parent.$watch(d(c.showSeconds),function(b){a.showSeconds=!!b})),a.showMeridian=g.showMeridian,c.showMeridian&&w.push(a.$parent.$watch(d(c.showMeridian),function(b){if(a.showMeridian=!!b,x.$error.time){var c=h(),d=i();angular.isDefined(c)&&angular.isDefined(d)&&(v.setHours(c),l())}else n()})),this.setupMousewheelEvents=function(b,c,d){var e=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.on("mousewheel wheel",function(b){E||a.$apply(e(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.on("mousewheel wheel",function(b){E||a.$apply(e(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()}),d.on("mousewheel wheel",function(b){E||a.$apply(e(b)?a.incrementSeconds():a.decrementSeconds()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c,d){b.on("keydown",function(b){E||(38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply()))}),c.on("keydown",function(b){E||(38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply()))}),d.on("keydown",function(b){E||(38===b.which?(b.preventDefault(),a.incrementSeconds(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementSeconds(),a.$apply()))})},this.setupInputEvents=function(b,c,d){if(a.readonlyInput)return a.updateHours=angular.noop,a.updateMinutes=angular.noop,void(a.updateSeconds=angular.noop);var e=function(b,c,d){x.$setViewValue(null),x.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b,s&&s.$setValidity("hours",!1)),angular.isDefined(c)&&(a.invalidMinutes=c,t&&t.$setValidity("minutes",!1)),angular.isDefined(d)&&(a.invalidSeconds=d,u&&u.$setValidity("seconds",!1))};a.updateHours=function(){var a=h(),b=i();x.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(v.setHours(a),v.setMinutes(b),C>v||v>D?e(!0):l("h")):e(!0)},b.on("blur",function(b){x.$setTouched(),r()?m():null===a.hours||""===a.hours?e(!0):!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=k(a.hours,!z)})}),a.updateMinutes=function(){var a=i(),b=h();x.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(v.setHours(b),v.setMinutes(a),C>v||v>D?e(void 0,!0):l("m")):e(void 0,!0)},c.on("blur",function(b){x.$setTouched(),r()?m():null===a.minutes?e(void 0,!0):!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=k(a.minutes)})}),a.updateSeconds=function(){var a=j();x.$setDirty(),angular.isDefined(a)?(v.setSeconds(a),l("s")):e(void 0,void 0,!0)},d.on("blur",function(b){r()?m():!a.invalidSeconds&&a.seconds<10&&a.$apply(function(){a.seconds=k(a.seconds)})})},this.render=function(){var b=x.$viewValue;isNaN(b)?(x.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(v=b),C>v||v>D?(x.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):m(),n())},a.showSpinners=angular.isDefined(c.showSpinners)?a.$parent.$eval(c.showSpinners):g.showSpinners,a.incrementHours=function(){a.noIncrementHours()||o(60*A*60)},a.decrementHours=function(){a.noDecrementHours()||o(60*-A*60)},a.incrementMinutes=function(){a.noIncrementMinutes()||o(60*B)},a.decrementMinutes=function(){a.noDecrementMinutes()||o(60*-B)},a.incrementSeconds=function(){a.noIncrementSeconds()||o(F)},a.decrementSeconds=function(){a.noDecrementSeconds()||o(-F)},a.toggleMeridian=function(){var b=i(),c=h();a.noToggleMeridian()||(angular.isDefined(b)&&angular.isDefined(c)?o(720*(v.getHours()<12?60:-60)):a.meridian=a.meridian===y[0]?y[1]:y[0])},a.blur=function(){x.$setTouched()},a.$on("$destroy",function(){for(;w.length;)w.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(a){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(b,c){return c.templateUrl||a.templateUrl},link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){P.moveInProgress||(P.moveInProgress=!0,P.$digest()),$()}function o(){P.position=F?l.offset(b):l.position(b),P.position.top+=b.prop("offsetHeight")}function p(a){var b;return angular.version.minor<6?(b=a.$options||{},b.getOption=function(a){return b[a]}):b=a.$options,b}var q,r,s=[9,13,27,38,40],u=a.$eval(c.typeaheadMinLength);u||0===u||(u=1),a.$watch(c.typeaheadMinLength,function(a){u=a||0===a?a:1});var v=a.$eval(c.typeaheadWaitMs)||0,w=!1!==a.$eval(c.typeaheadEditable);a.$watch(c.typeaheadEditable,function(a){w=!1!==a});var x,y,z=e(c.typeaheadLoading).assign||angular.noop,A=c.typeaheadShouldSelect?e(c.typeaheadShouldSelect):function(a,b){var c=b.$event;return 13===c.which||9===c.which},B=e(c.typeaheadOnSelect),C=!!angular.isDefined(c.typeaheadSelectOnBlur)&&a.$eval(c.typeaheadSelectOnBlur),D=e(c.typeaheadNoResults).assign||angular.noop,E=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,F=!!c.typeaheadAppendToBody&&a.$eval(c.typeaheadAppendToBody),G=c.typeaheadAppendTo?a.$eval(c.typeaheadAppendTo):null,H=!1!==a.$eval(c.typeaheadFocusFirst),I=!!c.typeaheadSelectOnExact&&a.$eval(c.typeaheadSelectOnExact),J=e(c.typeaheadIsOpen).assign||angular.noop,K=a.$eval(c.typeaheadShowHint)||!1,L=e(c.ngModel),M=e(c.ngModel+"($$$p)"),N=function(b,c){return angular.isFunction(L(a))&&r.getOption("getterSetter")?M(b,{$$$p:c}):L.assign(b,c)},O=m.parse(c.uibTypeahead),P=a.$new(),Q=a.$on("$destroy",function(){P.$destroy()});P.$on("$destroy",Q);var R="typeahead-"+P.$id+"-"+Math.floor(1e4*Math.random());b.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":R});var S,T;K&&(S=angular.element("<div></div>"),S.css("position","relative"),b.after(S),T=b.clone(),T.attr("placeholder",""),T.attr("tabindex","-1"),T.val(""),T.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),b.css({position:"relative","vertical-align":"top","background-color":"transparent"}),T.attr("id")&&T.removeAttr("id"),S.append(T),T.after(b));var U=angular.element("<div uib-typeahead-popup></div>");U.attr({id:R,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(c.typeaheadTemplateUrl)&&U.attr("template-url",c.typeaheadTemplateUrl),angular.isDefined(c.typeaheadPopupTemplateUrl)&&U.attr("popup-template-url",c.typeaheadPopupTemplateUrl);var V=function(){K&&T.val("")},W=function(){P.matches=[],P.activeIdx=-1,b.attr("aria-expanded",!1),V()},X=function(a){return R+"-option-"+a};P.$watch("activeIdx",function(a){0>a?b.removeAttr("aria-activedescendant"):b.attr("aria-activedescendant",X(a))});var Y=function(a,b){return!!(P.matches.length>b&&a)&&a.toUpperCase()===P.matches[b].label.toUpperCase()},Z=function(c,d){var e={$viewValue:c};z(a,!0),D(a,!1),f.when(O.source(a,e)).then(function(f){var g=c===q.$viewValue;if(g&&x)if(f&&f.length>0){P.activeIdx=H?0:-1,D(a,!1),P.matches.length=0;for(var h=0;h<f.length;h++)e[O.itemName]=f[h],P.matches.push({id:X(h),label:O.viewMapper(P,e),model:f[h]});if(P.query=c,o(),b.attr("aria-expanded",!0),I&&1===P.matches.length&&Y(c,0)&&(angular.isNumber(P.debounceUpdate)||angular.isObject(P.debounceUpdate)?k(function(){P.select(0,d)},angular.isNumber(P.debounceUpdate)?P.debounceUpdate:P.debounceUpdate.default):P.select(0,d)),K){var i=P.matches[0].label;angular.isString(c)&&c.length>0&&i.slice(0,c.length).toUpperCase()===c.toUpperCase()?T.val(c+i.slice(c.length)):T.val("")}}else W(),D(a,!0);g&&z(a,!1)},function(){W(),z(a,!1),D(a,!0)})};F&&(angular.element(i).on("resize",n),h.find("body").on("scroll",n));var $=k(function(){P.matches.length&&o(),P.moveInProgress=!1},200);P.moveInProgress=!1,P.query=void 0;var _,aa=function(a){_=g(function(){Z(a)},v)},ba=function(){_&&g.cancel(_)};W(),P.assignIsOpen=function(b){J(a,b)},P.select=function(d,e){var f,h,i={};y=!0,i[O.itemName]=h=P.matches[d].model,f=O.modelMapper(a,i),N(a,f),q.$setValidity("editable",!0),q.$setValidity("parse",!0),B(a,{$item:h,$model:f,$label:O.viewMapper(a,i),$event:e}),W(),!1!==P.$eval(c.typeaheadFocusOnSelect)&&g(function(){b[0].focus()},0,!1)},b.on("keydown",function(b){if(0!==P.matches.length&&-1!==s.indexOf(b.which)){var c=A(a,{$event:b});if(-1===P.activeIdx&&c||9===b.which&&b.shiftKey)return W(),void P.$digest();b.preventDefault();var d;switch(b.which){case 27:b.stopPropagation(),W(),a.$digest();break;case 38:P.activeIdx=(P.activeIdx>0?P.activeIdx:P.matches.length)-1,P.$digest(),d=U[0].querySelectorAll(".uib-typeahead-match")[P.activeIdx],d.parentNode.scrollTop=d.offsetTop;break;case 40:P.activeIdx=(P.activeIdx+1)%P.matches.length,P.$digest(),d=U[0].querySelectorAll(".uib-typeahead-match")[P.activeIdx],d.parentNode.scrollTop=d.offsetTop;break;default:c&&P.$apply(function(){angular.isNumber(P.debounceUpdate)||angular.isObject(P.debounceUpdate)?k(function(){P.select(P.activeIdx,b)},angular.isNumber(P.debounceUpdate)?P.debounceUpdate:P.debounceUpdate.default):P.select(P.activeIdx,b)})}}}),b.on("focus",function(a){x=!0,0!==u||q.$viewValue||g(function(){Z(q.$viewValue,a)},0)}),b.on("blur",function(a){C&&P.matches.length&&-1!==P.activeIdx&&!y&&(y=!0,P.$apply(function(){angular.isObject(P.debounceUpdate)&&angular.isNumber(P.debounceUpdate.blur)?k(function(){P.select(P.activeIdx,a)},P.debounceUpdate.blur):P.select(P.activeIdx,a)})),!w&&q.$error.editable&&(q.$setViewValue(),P.$apply(function(){q.$setValidity("editable",!0),q.$setValidity("parse",!0)}),b.val("")),x=!1,y=!1});var ca=function(c){b[0]!==c.target&&3!==c.which&&0!==P.matches.length&&(W(),j.$$phase||a.$digest())};h.on("click",ca),a.$on("$destroy",function(){h.off("click",ca),(F||G)&&da.remove(),F&&(angular.element(i).off("resize",n),h.find("body").off("scroll",n)),U.remove(),K&&S.remove()});var da=d(U)(P);F?h.find("body").append(da):G?angular.element(G).eq(0).append(da):b.after(da),this.init=function(b){q=b,r=p(q),P.debounceUpdate=e(r.getOption("debounce"))(a),q.$parsers.unshift(function(b){return x=!0,0===u||b&&b.length>=u?v>0?(ba(),aa(b)):Z(b):(z(a,!1),ba(),W()),w?b:b?void q.$setValidity("editable",!1):(q.$setValidity("editable",!0),null)}),q.$formatters.push(function(b){var c,d,e={};return w||q.$setValidity("editable",!0),E?(e.$model=b,E(a,e)):(e[O.itemName]=b,c=O.viewMapper(a,e),e[O.itemName]=void 0,d=O.viewMapper(a,e),c!==d?c:b)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(a,b,c,d){d[1].init(d[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(a){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(b,c,d){b.templateUrl=d.templateUrl,b.isOpen=function(){var a=b.matches.length>0;return b.assignIsOpen({isOpen:a}),a},b.isActive=function(a){return b.active===a},b.selectActive=function(a){b.active=a},b.selectMatch=function(c,d){var e=b.debounce();angular.isNumber(e)||angular.isObject(e)?a(function(){b.select({activeIdx:c,evt:d})},angular.isNumber(e)?e:e.default):b.select({activeIdx:c,evt:d})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"uib/template/typeahead/typeahead-match.html";a(g).then(function(a){var c=angular.element(a.trim());e.replaceWith(c),b(c)(d)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(a,b,c){function d(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function e(a){return/<.*>/g.test(a)}var f;return f=b.has("$sanitize"),function(b,g){return!f&&e(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=g?(""+b).replace(new RegExp(d(g),"gi"),"<strong>$&</strong>"):b,f||(b=a.trustAsHtml(b)),b}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(a){a.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(a){a.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(a){
a.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),define("ui.bootstrap",["angular"],function(){}),function(root,factory){"function"==typeof define&&define.amd?define("simple-module",["jquery"],function(a0){return root.Module=factory(a0)}):"object"==typeof exports?module.exports=factory(require("jquery")):root.SimpleModule=factory(jQuery)}(this,function($){var slice=[].slice;return function(){function Module(opts){var base,cls,i,instance,instances,len,name;if(this.opts=$.extend({},this.opts,opts),(base=this.constructor)._connectedClasses||(base._connectedClasses=[]),instances=function(){var i,len,ref,results;for(ref=this.constructor._connectedClasses,results=[],i=0,len=ref.length;i<len;i++)cls=ref[i],name=cls.pluginName.charAt(0).toLowerCase()+cls.pluginName.slice(1),cls.prototype._connected&&(cls.prototype._module=this),results.push(this[name]=new cls);return results}.call(this),this._connected)this.opts=$.extend({},this.opts,this._module.opts);else for(this._init(),i=0,len=instances.length;i<len;i++)instance=instances[i],"function"==typeof instance._init&&instance._init();this.trigger("initialized")}return Module.extend=function(obj){var key,ref,val;if(null!=obj&&"object"==typeof obj){for(key in obj)val=obj[key],"included"!==key&&"extended"!==key&&(this[key]=val);return null!=(ref=obj.extended)?ref.call(this):void 0}},Module.include=function(obj){var key,ref,val;if(null!=obj&&"object"==typeof obj){for(key in obj)val=obj[key],"included"!==key&&"extended"!==key&&(this.prototype[key]=val);return null!=(ref=obj.included)?ref.call(this):void 0}},Module.connect=function(cls){if("function"==typeof cls){if(!cls.pluginName)throw new Error("Module.connect: cannot connect plugin without pluginName");return cls.prototype._connected=!0,this._connectedClasses||(this._connectedClasses=[]),this._connectedClasses.push(cls),cls.pluginName?this[cls.pluginName]=cls:void 0}},Module.prototype.opts={},Module.prototype._init=function(){},Module.prototype.on=function(){var args,ref;return args=1<=arguments.length?slice.call(arguments,0):[],(ref=$(this)).on.apply(ref,args),this},Module.prototype.one=function(){var args,ref;return args=1<=arguments.length?slice.call(arguments,0):[],(ref=$(this)).one.apply(ref,args),this},Module.prototype.off=function(){var args,ref;return args=1<=arguments.length?slice.call(arguments,0):[],(ref=$(this)).off.apply(ref,args),this},Module.prototype.trigger=function(){var args,ref;return args=1<=arguments.length?slice.call(arguments,0):[],(ref=$(this)).trigger.apply(ref,args),this},Module.prototype.triggerHandler=function(){var args,ref;return args=1<=arguments.length?slice.call(arguments,0):[],(ref=$(this)).triggerHandler.apply(ref,args)},Module.prototype._t=function(){var args,ref;return args=1<=arguments.length?slice.call(arguments,0):[],(ref=this.constructor)._t.apply(ref,args)},Module._t=function(){var args,key,ref,result;return key=arguments[0],args=2<=arguments.length?slice.call(arguments,1):[],result=(null!=(ref=this.i18n[this.locale])?ref[key]:void 0)||"",args.length>0?(result=result.replace(/([^%]|^)%(?:(\d+)\$)?s/g,function(p0,p,position){return position?p+args[parseInt(position)-1]:p+args.shift()}),result.replace(/%%s/g,"%s")):result},Module.i18n={"zh-CN":{}},Module.locale="zh-CN",Module}()}),function(root,factory){"function"==typeof define&&define.amd?define("simple-hotkeys",["jquery","simple-module"],function($,SimpleModule){return root.hotkeys=factory($,SimpleModule)}):"object"==typeof exports?module.exports=factory(require("jquery"),require("simple-module")):(root.simple=root.simple||{},root.simple.hotkeys=factory(jQuery,SimpleModule))}(this,function($,SimpleModule){var Hotkeys,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;return Hotkeys=function(superClass){function Hotkeys(){return Hotkeys.__super__.constructor.apply(this,arguments)}return extend(Hotkeys,superClass),Hotkeys.count=0,Hotkeys.keyNameMap={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",91:"Meta",93:"Meta",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"Multiply",107:"Add",109:"Subtract",110:"Decimal",111:"Divide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",59:";",61:"=",186:";",187:"=",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Hotkeys.aliases={escape:"esc",delete:"del",return:"enter",ctrl:"control",space:"spacebar",ins:"insert",cmd:"meta",command:"meta",wins:"meta",windows:"meta"},Hotkeys.normalize=function(shortcut){var i,j,key,keyname,keys,len;for(keys=shortcut.toLowerCase().replace(/\s+/gi,"").split("+"),i=j=0,len=keys.length;j<len;i=++j)key=keys[i],keys[i]=this.aliases[key]||key;return keyname=keys.pop(),keys.sort().push(keyname),keys.join("_")},Hotkeys.prototype.opts={el:document},Hotkeys.prototype._init=function(){return this.id=++this.constructor.count,this._map={},this._delegate="string"==typeof this.opts.el?document:this.opts.el,$(this._delegate).on("keydown.simple-hotkeys-"+this.id,this.opts.el,function(_this){return function(e){var ref;return null!=(ref=_this._getHander(e))?ref.call(_this,e):void 0}}(this))},Hotkeys.prototype._getHander=function(e){var keyname,shortcut;if(keyname=this.constructor.keyNameMap[e.which])return shortcut="",e.altKey&&(shortcut+="alt_"),e.ctrlKey&&(shortcut+="control_"),e.metaKey&&(shortcut+="meta_"),e.shiftKey&&(shortcut+="shift_"),shortcut+=keyname.toLowerCase(),this._map[shortcut]},Hotkeys.prototype.respondTo=function(subject){return"string"==typeof subject?null!=this._map[this.constructor.normalize(subject)]:null!=this._getHander(subject)},Hotkeys.prototype.add=function(shortcut,handler){return this._map[this.constructor.normalize(shortcut)]=handler,this},Hotkeys.prototype.remove=function(shortcut){return delete this._map[this.constructor.normalize(shortcut)],this},Hotkeys.prototype.destroy=function(){return $(this._delegate).off(".simple-hotkeys-"+this.id),this._map={},this},Hotkeys}(SimpleModule),function(opts){return new Hotkeys(opts)}}),define("hotkeys",function(){}),function(root,factory){"function"==typeof define&&define.amd?define("simple-uploader",["jquery","simple-module"],function($,SimpleModule){return root.uploader=factory($,SimpleModule)}):"object"==typeof exports?module.exports=factory(require("jquery"),require("simple-module")):(root.simple=root.simple||{},root.simple.uploader=factory(jQuery,SimpleModule))}(this,function($,SimpleModule){var Uploader,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;return Uploader=function(superClass){function Uploader(){return Uploader.__super__.constructor.apply(this,arguments)}return extend(Uploader,superClass),Uploader.count=0,Uploader.prototype.opts={url:"",params:null,fileKey:"upload_file",connectionCount:3},Uploader.prototype._init=function(){return this.files=[],this.queue=[],this.id=++Uploader.count,this.on("uploadcomplete",function(_this){return function(e,file){return _this.files.splice($.inArray(file,_this.files),1),_this.queue.length>0&&_this.files.length<_this.opts.connectionCount?_this.upload(_this.queue.shift()):0===_this.files.length?_this.uploading=!1:void 0}}(this)),$(window).on("beforeunload.uploader-"+this.id,function(_this){return function(e){if(_this.uploading)return e.originalEvent.returnValue=_this._t("leaveConfirm"),_this._t("leaveConfirm")}}(this))},Uploader.prototype.generateId=function(){var id;return id=0,function(){return id+=1}}(),Uploader.prototype.upload=function(file,opts){var f,i,key,len;if(null==opts&&(opts={}),null!=file){if($.isArray(file)||file instanceof FileList)for(i=0,len=file.length;i<len;i++)f=file[i],this.upload(f,opts);else $(file).is("input:file")?(key=$(file).attr("name"),key&&(opts.fileKey=key),this.upload($.makeArray($(file)[0].files),opts)):file.id&&file.obj||(file=this.getFile(file));if(file&&file.obj){if($.extend(file,opts),this.files.length>=this.opts.connectionCount)return void this.queue.push(file);if(!1!==this.triggerHandler("beforeupload",[file]))return this.files.push(file),this._xhrUpload(file),this.uploading=!0}}},Uploader.prototype.getFile=function(fileObj){var name,ref,ref1;return fileObj instanceof window.File||fileObj instanceof window.Blob?(name=null!=(ref=fileObj.fileName)?ref:fileObj.name,{id:this.generateId(),url:this.opts.url,params:this.opts.params,fileKey:this.opts.fileKey,name:name,size:null!=(ref1=fileObj.fileSize)?ref1:fileObj.size,ext:name?name.split(".").pop().toLowerCase():"",obj:fileObj}):null},Uploader.prototype._xhrUpload=function(file){var formData,k,ref,v;if(formData=new FormData,formData.append(file.fileKey,file.obj),formData.append("original_filename",file.name),file.params){ref=file.params;for(k in ref)v=ref[k],formData.append(k,v)}return file.xhr=$.ajax({url:file.url,data:formData,processData:!1,contentType:!1,type:"POST",headers:{"X-File-Name":encodeURIComponent(file.name)},xhr:function(){var req;return req=$.ajaxSettings.xhr(),req&&(req.upload.onprogress=function(_this){return function(e){return _this.progress(e)}}(this)),req},progress:function(_this){return function(e){if(e.lengthComputable)return _this.trigger("uploadprogress",[file,e.loaded,e.total])}}(this),error:function(_this){return function(xhr,status,err){return _this.trigger("uploaderror",[file,xhr,status])}}(this),success:function(_this){return function(result){return _this.trigger("uploadprogress",[file,file.size,file.size]),_this.trigger("uploadsuccess",[file,result]),$(document).trigger("uploadsuccess",[file,result,_this])}}(this),complete:function(_this){return function(xhr,status){return _this.trigger("uploadcomplete",[file,xhr.responseText])}}(this)})},Uploader.prototype.cancel=function(file){var f,i,len,ref;if(!file.id)for(ref=this.files,i=0,len=ref.length;i<len;i++)if(f=ref[i],f.id===1*file){file=f;break}return this.trigger("uploadcancel",[file]),file.xhr&&file.xhr.abort(),file.xhr=null},Uploader.prototype.readImageFile=function(fileObj,callback){var fileReader,img;if($.isFunction(callback))return img=new Image,img.onload=function(){return callback(img)},img.onerror=function(){return callback()},window.FileReader&&FileReader.prototype.readAsDataURL&&/^image/.test(fileObj.type)?(fileReader=new FileReader,fileReader.onload=function(e){return img.src=e.target.result},fileReader.readAsDataURL(fileObj)):callback()},Uploader.prototype.destroy=function(){var file,i,len,ref;for(this.queue.length=0,ref=this.files,i=0,len=ref.length;i<len;i++)file=ref[i],this.cancel(file);return $(window).off(".uploader-"+this.id),$(document).off(".uploader-"+this.id)},Uploader.i18n={"zh-CN":{leaveConfirm:"正在上传文件，如果离开上传会自动取消"}},Uploader.locale="zh-CN",Uploader}(SimpleModule),function(opts){return new Uploader(opts)}}),function(root,factory){"function"==typeof define&&define.amd?define("simditor",["jquery","simple-module","simple-hotkeys","simple-uploader"],function($,SimpleModule,simpleHotkeys,simpleUploader){return root.Simditor=factory($,SimpleModule,simpleHotkeys,simpleUploader)}):"object"==typeof exports?module.exports=factory(require("jquery"),require("simple-module"),require("simple-hotkeys"),require("simple-uploader")):root.Simditor=factory(jQuery,SimpleModule,simple.hotkeys,simple.uploader)}(this,function($,SimpleModule,simpleHotkeys,simpleUploader){var AlignmentButton,BlockquoteButton,BoldButton,Button,Clipboard,CodeButton,CodePopover,ColorButton,FontScaleButton,Formatter,HrButton,ImageButton,ImagePopover,IndentButton,Indentation,InputManager,ItalicButton,Keystroke,LinkButton,LinkPopover,ListButton,OrderListButton,OutdentButton,Popover,Selection,Simditor,StrikethroughButton,TableButton,TitleButton,Toolbar,UnderlineButton,UndoManager,UnorderListButton,Util,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1},slice=[].slice;return Selection=function(superClass){function Selection(){return Selection.__super__.constructor.apply(this,arguments)}return extend(Selection,superClass),Selection.pluginName="Selection",Selection.prototype._range=null,Selection.prototype._startNodes=null,Selection.prototype._endNodes=null,Selection.prototype._containerNode=null,Selection.prototype._nodes=null,Selection.prototype._blockNodes=null,Selection.prototype._rootNodes=null,Selection.prototype._init=function(){return this.editor=this._module,this._selection=document.getSelection(),this.editor.on("selectionchanged",function(_this){return function(e){return _this.reset(),_this._range=_this._selection.getRangeAt(0)}}(this)),this.editor.on("blur",function(_this){return function(e){return _this.reset()}}(this))},Selection.prototype.reset=function(){return this._range=null,this._startNodes=null,this._endNodes=null,this._containerNode=null,this._nodes=null,this._blockNodes=null,this._rootNodes=null},Selection.prototype.clear=function(){try{this._selection.removeAllRanges()}catch(_error){_error}return this.reset()},Selection.prototype.range=function(range){var ffOrIE;return range?(this.clear(),this._selection.addRange(range),this._range=range,ffOrIE=this.editor.util.browser.firefox||this.editor.util.browser.msie,!this.editor.inputManager.focused&&ffOrIE&&this.editor.body.focus()):!this._range&&this.editor.inputManager.focused&&this._selection.rangeCount&&(this._range=this._selection.getRangeAt(0)),this._range},Selection.prototype.startNodes=function(){return this._range&&(this._startNodes||(this._startNodes=function(_this){return function(){var startNodes;return startNodes=$(_this._range.startContainer).parentsUntil(_this.editor.body).get(),startNodes.unshift(_this._range.startContainer),$(startNodes)}}(this)())),this._startNodes},Selection.prototype.endNodes=function(){var endNodes;return this._range&&(this._endNodes||(this._endNodes=this._range.collapsed?this.startNodes():(endNodes=$(this._range.endContainer).parentsUntil(this.editor.body).get(),endNodes.unshift(this._range.endContainer),$(endNodes)))),this._endNodes},Selection.prototype.containerNode=function(){return this._range&&(this._containerNode||(this._containerNode=$(this._range.commonAncestorContainer))),this._containerNode},Selection.prototype.nodes=function(){return this._range&&(this._nodes||(this._nodes=function(_this){return function(){var nodes;return nodes=[],_this.startNodes().first().is(_this.endNodes().first())?nodes=_this.startNodes().get():(_this.startNodes().each(function(i,node){var $endNode,$node,$nodes,endIndex,index,sharedIndex,startIndex;return $node=$(node),_this.endNodes().index($node)>-1?nodes.push(node):$node.parent().is(_this.editor.body)||(sharedIndex=_this.endNodes().index($node.parent()))>-1?($endNode=sharedIndex&&sharedIndex>-1?_this.endNodes().eq(sharedIndex-1):_this.endNodes().last(),$nodes=$node.parent().contents(),startIndex=$nodes.index($node),endIndex=$nodes.index($endNode),$.merge(nodes,$nodes.slice(startIndex,endIndex).get())):($nodes=$node.parent().contents(),index=$nodes.index($node),$.merge(nodes,$nodes.slice(index).get()))}),_this.endNodes().each(function(i,node){var $node,$nodes,index;return $node=$(node),$node.parent().is(_this.editor.body)||_this.startNodes().index($node.parent())>-1?(nodes.push(node),!1):($nodes=$node.parent().contents(),index=$nodes.index($node),$.merge(nodes,$nodes.slice(0,index+1)))})),$($.unique(nodes))}}(this)())),this._nodes},Selection.prototype.blockNodes=function(){if(this._range)return this._blockNodes||(this._blockNodes=function(_this){return function(){return _this.nodes().filter(function(i,node){return _this.editor.util.isBlockNode(node)})}}(this)()),this._blockNodes},Selection.prototype.rootNodes=function(){if(this._range)return this._rootNodes||(this._rootNodes=function(_this){return function(){return _this.nodes().filter(function(i,node){var $parent;return $parent=$(node).parent(),$parent.is(_this.editor.body)||$parent.is("blockquote")})}}(this)()),this._rootNodes},Selection.prototype.rangeAtEndOf=function(node,range){var afterLastNode,beforeLastNode,endNode,endNodeLength,lastNodeIsBr,result;if(null==range&&(range=this.range()),range&&range.collapsed)return node=$(node)[0],endNode=range.endContainer,endNodeLength=this.editor.util.getNodeLength(endNode),beforeLastNode=range.endOffset===endNodeLength-1,lastNodeIsBr=$(endNode).contents().last().is("br"),afterLastNode=range.endOffset===endNodeLength,!!(beforeLastNode&&lastNodeIsBr||afterLastNode)&&(node===endNode||!!$.contains(node,endNode)&&(result=!0,$(endNode).parentsUntil(node).addBack().each(function(i,n){var $lastChild,beforeLastbr,isLastNode,nodes;if(nodes=$(n).parent().contents().filter(function(){return!(this!==n&&3===this.nodeType&&!this.nodeValue)}),$lastChild=nodes.last(),isLastNode=$lastChild.get(0)===n,beforeLastbr=$lastChild.is("br")&&$lastChild.prev().get(0)===n,!isLastNode&&!beforeLastbr)return result=!1,!1}),result))},Selection.prototype.rangeAtStartOf=function(node,range){var result,startNode;if(null==range&&(range=this.range()),range&&range.collapsed)return node=$(node)[0],startNode=range.startContainer,0===range.startOffset&&(node===startNode||!!$.contains(node,startNode)&&(result=!0,$(startNode).parentsUntil(node).addBack().each(function(i,n){var nodes;if(nodes=$(n).parent().contents().filter(function(){return!(this!==n&&3===this.nodeType&&!this.nodeValue)}),nodes.first().get(0)!==n)return result=!1}),result))},Selection.prototype.insertNode=function(node,range){if(null==range&&(range=this.range()),range)return node=$(node)[0],range.insertNode(node),this.setRangeAfter(node,range)},Selection.prototype.setRangeAfter=function(node,range){if(null==range&&(range=this.range()),null!=range)return node=$(node)[0],range.setEndAfter(node),
range.collapse(!1),this.range(range)},Selection.prototype.setRangeBefore=function(node,range){if(null==range&&(range=this.range()),null!=range)return node=$(node)[0],range.setEndBefore(node),range.collapse(!1),this.range(range)},Selection.prototype.setRangeAtStartOf=function(node,range){return null==range&&(range=this.range()),node=$(node).get(0),range.setEnd(node,0),range.collapse(!1),this.range(range)},Selection.prototype.setRangeAtEndOf=function(node,range){var $lastNode,$node,contents,lastChild,lastChildLength,lastText,nodeLength;return null==range&&(range=this.range()),$node=$(node),node=$node[0],$node.is("pre")?(contents=$node.contents(),contents.length>0?(lastChild=contents.last(),lastText=lastChild.text(),lastChildLength=this.editor.util.getNodeLength(lastChild[0]),"\n"===lastText.charAt(lastText.length-1)?range.setEnd(lastChild[0],lastChildLength-1):range.setEnd(lastChild[0],lastChildLength)):range.setEnd(node,0)):(nodeLength=this.editor.util.getNodeLength(node),3!==node.nodeType&&nodeLength>0&&($lastNode=$(node).contents().last(),$lastNode.is("br")?nodeLength-=1:3!==$lastNode[0].nodeType&&this.editor.util.isEmptyNode($lastNode)&&($lastNode.append(this.editor.util.phBr),node=$lastNode[0],nodeLength=0)),range.setEnd(node,nodeLength)),range.collapse(!1),this.range(range)},Selection.prototype.deleteRangeContents=function(range){var atEndOfBody,atStartOfBody,endRange,startRange;return null==range&&(range=this.range()),startRange=range.cloneRange(),endRange=range.cloneRange(),startRange.collapse(!0),endRange.collapse(!1),atStartOfBody=this.rangeAtStartOf(this.editor.body,startRange),atEndOfBody=this.rangeAtEndOf(this.editor.body,endRange),!range.collapsed&&atStartOfBody&&atEndOfBody?(this.editor.body.empty(),range.setStart(this.editor.body[0],0),range.collapse(!0),this.range(range)):range.deleteContents(),range},Selection.prototype.breakBlockEl=function(el,range){var $el;return null==range&&(range=this.range()),$el=$(el),range.collapsed?(range.setStartBefore($el.get(0)),range.collapsed?$el:$el.before(range.extractContents())):$el},Selection.prototype.save=function(range){var endCaret,endRange,startCaret;if(null==range&&(range=this.range()),!this._selectionSaved)return endRange=range.cloneRange(),endRange.collapse(!1),startCaret=$("<span/>").addClass("simditor-caret-start"),endCaret=$("<span/>").addClass("simditor-caret-end"),endRange.insertNode(endCaret[0]),range.insertNode(startCaret[0]),this.clear(),this._selectionSaved=!0},Selection.prototype.restore=function(){var endCaret,endContainer,endOffset,range,startCaret,startContainer,startOffset;return!!this._selectionSaved&&(startCaret=this.editor.body.find(".simditor-caret-start"),endCaret=this.editor.body.find(".simditor-caret-end"),startCaret.length&&endCaret.length?(startContainer=startCaret.parent(),startOffset=startContainer.contents().index(startCaret),endContainer=endCaret.parent(),endOffset=endContainer.contents().index(endCaret),startContainer[0]===endContainer[0]&&(endOffset-=1),range=document.createRange(),range.setStart(startContainer.get(0),startOffset),range.setEnd(endContainer.get(0),endOffset),startCaret.remove(),endCaret.remove(),this.range(range)):(startCaret.remove(),endCaret.remove()),this._selectionSaved=!1,range)},Selection}(SimpleModule),Formatter=function(superClass){function Formatter(){return Formatter.__super__.constructor.apply(this,arguments)}return extend(Formatter,superClass),Formatter.pluginName="Formatter",Formatter.prototype.opts={allowedTags:[],allowedAttributes:{},allowedStyles:{}},Formatter.prototype._init=function(){return this.editor=this._module,this._allowedTags=$.merge(["br","span","a","img","b","strong","i","strike","u","font","p","ul","ol","li","blockquote","pre","code","h1","h2","h3","h4","hr"],this.opts.allowedTags),this._allowedAttributes=$.extend({img:["src","alt","width","height","data-non-image"],a:["href","target"],font:["color"],code:["class"]},this.opts.allowedAttributes),this._allowedStyles=$.extend({span:["color","font-size"],b:["color"],i:["color"],strong:["color"],strike:["color"],u:["color"],p:["margin-left","text-align"],h1:["margin-left","text-align"],h2:["margin-left","text-align"],h3:["margin-left","text-align"],h4:["margin-left","text-align"]},this.opts.allowedStyles),this.editor.body.on("click","a",function(e){return!1})},Formatter.prototype.decorate=function($el){return null==$el&&($el=this.editor.body),this.editor.trigger("decorate",[$el]),$el},Formatter.prototype.undecorate=function($el){return null==$el&&($el=this.editor.body.clone()),this.editor.trigger("undecorate",[$el]),$el},Formatter.prototype.autolink=function($el){var $link,$node,findLinkNode,k,lastIndex,len,linkNodes,match,re,replaceEls,subStr,text,uri;for(null==$el&&($el=this.editor.body),linkNodes=[],findLinkNode=function($parentNode){return $parentNode.contents().each(function(i,node){var $node,text;if($node=$(node),!$node.is("a")&&!$node.closest("a, pre",$el).length)return!$node.is("iframe")&&$node.contents().length?findLinkNode($node):(text=$node.text())&&/https?:\/\/|www\./gi.test(text)?linkNodes.push($node):void 0})},findLinkNode($el),re=/(https?:\/\/|www\.)[\w\-\.\?&=\/#%:,@\!\+]+/gi,k=0,len=linkNodes.length;k<len;k++){for($node=linkNodes[k],text=$node.text(),replaceEls=[],match=null,lastIndex=0;null!==(match=re.exec(text));)subStr=text.substring(lastIndex,match.index),replaceEls.push(document.createTextNode(subStr)),lastIndex=re.lastIndex,uri=/^(http(s)?:\/\/|\/)/.test(match[0])?match[0]:"http://"+match[0],$link=$('<a href="'+uri+'" rel="nofollow"></a>').text(match[0]),replaceEls.push($link[0]);replaceEls.push(document.createTextNode(text.substring(lastIndex))),$node.replaceWith($(replaceEls))}return $el},Formatter.prototype.format=function($el){var $node,blockNode,k,l,len,len1,n,node,ref,ref1;if(null==$el&&($el=this.editor.body),$el.is(":empty"))return $el.append("<p>"+this.editor.util.phBr+"</p>"),$el;for(ref=$el.contents(),k=0,len=ref.length;k<len;k++)n=ref[k],this.cleanNode(n,!0);for(ref1=$el.contents(),l=0,len1=ref1.length;l<len1;l++)node=ref1[l],$node=$(node),$node.is("br")?(void 0!==blockNode&&null!==blockNode&&(blockNode=null),$node.remove()):this.editor.util.isBlockNode(node)?$node.is("li")?blockNode&&blockNode.is("ul, ol")?blockNode.append(node):(blockNode=$("<ul/>").insertBefore(node),blockNode.append(node)):blockNode=null:(blockNode&&!blockNode.is("ul, ol")||(blockNode=$("<p/>").insertBefore(node)),blockNode.append(node),this.editor.util.isEmptyNode(blockNode)&&blockNode.append(this.editor.util.phBr));return $el},Formatter.prototype.cleanNode=function(node,recursive){var $blockEls,$childImg,$node,$p,$td,allowedAttributes,attr,contents,isDecoration,k,l,len,len1,n,ref,ref1,text,textNode;if($node=$(node),$node.length>0){if(3===$node[0].nodeType)return text=$node.text().replace(/(\r\n|\n|\r)/gm,""),void(text?(textNode=document.createTextNode(text),$node.replaceWith(textNode)):$node.remove());if(contents=$node.is("iframe")?null:$node.contents(),isDecoration=this.editor.util.isDecoratedNode($node),$node.is(this._allowedTags.join(","))||isDecoration){if($node.is("a")&&($childImg=$node.find("img")).length>0&&($node.replaceWith($childImg),$node=$childImg,contents=null),$node.is("td")&&($blockEls=$node.find(this.editor.util.blockNodes.join(","))).length>0&&($blockEls.each(function(_this){return function(i,blockEl){return $(blockEl).contents().unwrap()}}()),contents=$node.contents()),$node.is("img")&&$node.hasClass("uploading")&&$node.remove(),!isDecoration){for(allowedAttributes=this._allowedAttributes[$node[0].tagName.toLowerCase()],ref=$.makeArray($node[0].attributes),k=0,len=ref.length;k<len;k++)attr=ref[k],"style"!==attr.name&&(null!=allowedAttributes&&(ref1=attr.name,indexOf.call(allowedAttributes,ref1)>=0)||$node.removeAttr(attr.name));this._cleanNodeStyles($node),$node.is("span")&&0===$node[0].attributes.length&&$node.contents().first().unwrap()}}else 1!==$node[0].nodeType||$node.is(":empty")?($node.remove(),contents=null):$node.is("div, article, dl, header, footer, tr")?($node.append("<br/>"),contents.first().unwrap()):$node.is("table")?($p=$("<p/>"),$node.find("tr").each(function(i,tr){return $p.append($(tr).text()+"<br/>")}),$node.replaceWith($p),contents=null):$node.is("thead, tfoot")?($node.remove(),contents=null):$node.is("th")?($td=$("<td/>").append($node.contents()),$node.replaceWith($td)):contents.first().unwrap();if(recursive&&null!=contents&&!$node.is("pre"))for(l=0,len1=contents.length;l<len1;l++)n=contents[l],this.cleanNode(n,!0);return null}},Formatter.prototype._cleanNodeStyles=function($node){var allowedStyles,k,len,pair,ref,ref1,style,styleStr,styles;if(styleStr=$node.attr("style")){if($node.removeAttr("style"),!((allowedStyles=this._allowedStyles[$node[0].tagName.toLowerCase()])&&allowedStyles.length>0))return $node;for(styles={},ref=styleStr.split(";"),k=0,len=ref.length;k<len;k++)style=ref[k],style=$.trim(style),pair=style.split(":"),(pair.length=2)&&(ref1=pair[0],indexOf.call(allowedStyles,ref1)>=0&&(styles[$.trim(pair[0])]=$.trim(pair[1])));return Object.keys(styles).length>0&&$node.css(styles),$node}},Formatter.prototype.clearHtml=function(html,lineBreak){var container,contents,result;return null==lineBreak&&(lineBreak=!0),container=$("<div/>").append(html),contents=container.contents(),result="",contents.each(function(_this){return function(i,node){var $node,children;return 3===node.nodeType?result+=node.nodeValue:1===node.nodeType&&($node=$(node),children=$node.is("iframe")?null:$node.contents(),children&&children.length>0&&(result+=_this.clearHtml(children)),lineBreak&&i<contents.length-1&&$node.is("br, p, div, li,tr, pre, address, artticle, aside, dl, figcaption, footer, h1, h2,h3, h4, header"))?result+="\n":void 0}}(this)),result},Formatter.prototype.beautify=function($contents){var uselessP;return uselessP=function($el){return!!($el.is("p")&&!$el.text()&&$el.children(":not(br)").length<1)},$contents.each(function(i,el){var $el,invalid;return $el=$(el),invalid=$el.is(':not(img, br, col, td, hr, [class^="simditor-"]):empty'),(invalid||uselessP($el))&&$el.remove(),$el.find(':not(img, br, col, td, hr, [class^="simditor-"]):empty').remove()})},Formatter}(SimpleModule),InputManager=function(superClass){function InputManager(){return InputManager.__super__.constructor.apply(this,arguments)}return extend(InputManager,superClass),InputManager.pluginName="InputManager",InputManager.prototype._modifierKeys=[16,17,18,91,93,224],InputManager.prototype._arrowKeys=[37,38,39,40],InputManager.prototype._init=function(){var selectAllKey,submitKey;return this.editor=this._module,this.throttledValueChanged=this.editor.util.throttle(function(_this){return function(params){return setTimeout(function(){return _this.editor.trigger("valuechanged",params)},10)}}(this),300),this.throttledSelectionChanged=this.editor.util.throttle(function(_this){return function(){return _this.editor.trigger("selectionchanged")}}(this),50),$(document).on("selectionchange.simditor"+this.editor.id,function(_this){return function(e){var triggerEvent;if(_this.focused&&!_this.editor.clipboard.pasting)return(triggerEvent=function(){return _this._selectionTimer&&(clearTimeout(_this._selectionTimer),_this._selectionTimer=null),_this.editor.selection._selection.rangeCount>0?_this.throttledSelectionChanged():_this._selectionTimer=setTimeout(function(){if(_this._selectionTimer=null,_this.focused)return triggerEvent()},10)})()}}(this)),this.editor.on("valuechanged",function(_this){return function(){var $rootBlocks;if(_this.lastCaretPosition=null,$rootBlocks=_this.editor.body.children().filter(function(i,node){return _this.editor.util.isBlockNode(node)}),_this.focused&&0===$rootBlocks.length&&(_this.editor.selection.save(),_this.editor.formatter.format(),_this.editor.selection.restore()),_this.editor.body.find("hr, pre, .simditor-table").each(function(i,el){var $el,formatted;if($el=$(el),($el.parent().is("blockquote")||$el.parent()[0]===_this.editor.body[0])&&(formatted=!1,0===$el.next().length&&($("<p/>").append(_this.editor.util.phBr).insertAfter($el),formatted=!0),0===$el.prev().length&&($("<p/>").append(_this.editor.util.phBr).insertBefore($el),formatted=!0),formatted))return _this.throttledValueChanged()}),_this.editor.body.find("pre:empty").append(_this.editor.util.phBr),!_this.editor.util.support.onselectionchange&&_this.focused)return _this.throttledSelectionChanged()}}(this)),this.editor.body.on("keydown",$.proxy(this._onKeyDown,this)).on("keypress",$.proxy(this._onKeyPress,this)).on("keyup",$.proxy(this._onKeyUp,this)).on("mouseup",$.proxy(this._onMouseUp,this)).on("focus",$.proxy(this._onFocus,this)).on("blur",$.proxy(this._onBlur,this)).on("drop",$.proxy(this._onDrop,this)).on("input",$.proxy(this._onInput,this)),this.editor.util.browser.firefox&&(this.editor.hotkeys.add("cmd+left",function(_this){return function(e){return e.preventDefault(),_this.editor.selection._selection.modify("move","backward","lineboundary"),!1}}(this)),this.editor.hotkeys.add("cmd+right",function(_this){return function(e){return e.preventDefault(),_this.editor.selection._selection.modify("move","forward","lineboundary"),!1}}(this)),selectAllKey=this.editor.util.os.mac?"cmd+a":"ctrl+a",this.editor.hotkeys.add(selectAllKey,function(_this){return function(e){var $children,firstBlock,lastBlock,range;if($children=_this.editor.body.children(),$children.length>0)return firstBlock=$children.first().get(0),lastBlock=$children.last().get(0),range=document.createRange(),range.setStart(firstBlock,0),range.setEnd(lastBlock,_this.editor.util.getNodeLength(lastBlock)),_this.editor.selection.range(range),!1}}(this))),submitKey=this.editor.util.os.mac?"cmd+enter":"ctrl+enter",this.editor.hotkeys.add(submitKey,function(_this){return function(e){return _this.editor.el.closest("form").find("button:submit").click(),!1}}(this))},InputManager.prototype._onFocus=function(e){if(!this.editor.clipboard.pasting)return this.editor.el.addClass("focus").removeClass("error"),this.focused=!0,setTimeout(function(_this){return function(){var $blockEl,range;if(range=_this.editor.selection._selection.getRangeAt(0),range.startContainer===_this.editor.body[0]&&(_this.lastCaretPosition?_this.editor.undoManager.caretPosition(_this.lastCaretPosition):($blockEl=_this.editor.body.children().first(),range=document.createRange(),_this.editor.selection.setRangeAtStartOf($blockEl,range))),_this.lastCaretPosition=null,_this.editor.triggerHandler("focus"),!_this.editor.util.support.onselectionchange)return _this.throttledSelectionChanged()}}(this),0)},InputManager.prototype._onBlur=function(e){var ref;if(!this.editor.clipboard.pasting)return this.editor.el.removeClass("focus"),this.editor.sync(),this.focused=!1,this.lastCaretPosition=null!=(ref=this.editor.undoManager.currentState())?ref.caret:void 0,this.editor.triggerHandler("blur")},InputManager.prototype._onMouseUp=function(e){if(!this.editor.util.support.onselectionchange)return this.throttledSelectionChanged()},InputManager.prototype._onKeyDown=function(e){var ref,ref1;if(!1===this.editor.triggerHandler(e))return!1;if(!this.editor.hotkeys.respondTo(e)){if(this.editor.keystroke.respondTo(e))return this.throttledValueChanged(),!1;if(!(ref=e.which,indexOf.call(this._modifierKeys,ref)>=0||(ref1=e.which,indexOf.call(this._arrowKeys,ref1)>=0)||this.editor.util.metaKey(e)&&86===e.which))return this.editor.util.support.oninput||this.throttledValueChanged(["typing"]),null}},InputManager.prototype._onKeyPress=function(e){if(!1===this.editor.triggerHandler(e))return!1},InputManager.prototype._onKeyUp=function(e){var p,ref;return!1!==this.editor.triggerHandler(e)&&(!this.editor.util.support.onselectionchange&&(ref=e.which,indexOf.call(this._arrowKeys,ref)>=0)?void this.throttledValueChanged():void(8!==e.which&&46!==e.which||!this.editor.util.isEmptyNode(this.editor.body)||(this.editor.body.empty(),p=$("<p/>").append(this.editor.util.phBr).appendTo(this.editor.body),this.editor.selection.setRangeAtStartOf(p))))},InputManager.prototype._onDrop=function(e){return!1!==this.editor.triggerHandler(e)&&this.throttledValueChanged()},InputManager.prototype._onInput=function(e){return this.throttledValueChanged(["oninput"])},InputManager}(SimpleModule),Keystroke=function(superClass){function Keystroke(){return Keystroke.__super__.constructor.apply(this,arguments)}return extend(Keystroke,superClass),Keystroke.pluginName="Keystroke",Keystroke.prototype._init=function(){return this.editor=this._module,this._keystrokeHandlers={},this._initKeystrokeHandlers()},Keystroke.prototype.add=function(key,node,handler){return key=key.toLowerCase(),key=this.editor.hotkeys.constructor.aliases[key]||key,this._keystrokeHandlers[key]||(this._keystrokeHandlers[key]={}),this._keystrokeHandlers[key][node]=handler},Keystroke.prototype.respondTo=function(e){var base,key,ref,result;if(key=null!=(ref=this.editor.hotkeys.constructor.keyNameMap[e.which])?ref.toLowerCase():void 0)return!!(key in this._keystrokeHandlers&&(result="function"==typeof(base=this._keystrokeHandlers[key])["*"]?base["*"](e):void 0,result||this.editor.selection.startNodes().each(function(_this){return function(i,node){var handler,ref1;if(node.nodeType===Node.ELEMENT_NODE)return handler=null!=(ref1=_this._keystrokeHandlers[key])?ref1[node.tagName.toLowerCase()]:void 0,!0!==(result="function"==typeof handler?handler(e,$(node)):void 0)&&!1!==result&&void 0}}(this)),result))||void 0},Keystroke.prototype._initKeystrokeHandlers=function(){var titleEnterHandler;return this.editor.util.browser.safari&&this.add("enter","*",function(_this){return function(e){var $blockEl,$br;if(e.shiftKey&&($blockEl=_this.editor.selection.blockNodes().last(),!$blockEl.is("pre")))return $br=$("<br/>"),_this.editor.selection.rangeAtEndOf($blockEl)?(_this.editor.selection.insertNode($br),_this.editor.selection.insertNode($("<br/>")),_this.editor.selection.setRangeBefore($br)):_this.editor.selection.insertNode($br),!0}}(this)),(this.editor.util.browser.webkit||this.editor.util.browser.msie)&&(titleEnterHandler=function(_this){return function(e,$node){var $p;if(_this.editor.selection.rangeAtEndOf($node))return $p=$("<p/>").append(_this.editor.util.phBr).insertAfter($node),_this.editor.selection.setRangeAtStartOf($p),!0}}(this),this.add("enter","h1",titleEnterHandler),this.add("enter","h2",titleEnterHandler),this.add("enter","h3",titleEnterHandler),this.add("enter","h4",titleEnterHandler),this.add("enter","h5",titleEnterHandler),this.add("enter","h6",titleEnterHandler)),this.add("backspace","*",function(_this){return function(e){var $blockEl,$prevBlockEl,$rootBlock,isWebkit;return $rootBlock=_this.editor.selection.rootNodes().first(),$prevBlockEl=$rootBlock.prev(),$prevBlockEl.is("hr")&&_this.editor.selection.rangeAtStartOf($rootBlock)?(_this.editor.selection.save(),$prevBlockEl.remove(),_this.editor.selection.restore(),!0):($blockEl=_this.editor.selection.blockNodes().last(),isWebkit=_this.editor.util.browser.webkit,isWebkit&&_this.editor.selection.rangeAtStartOf($blockEl)?(_this.editor.selection.save(),_this.editor.formatter.cleanNode($blockEl,!0),_this.editor.selection.restore(),null):void 0)}}(this)),this.add("enter","li",function(_this){return function(e,$node){var $cloneNode,listEl,newBlockEl,newListEl;if($cloneNode=$node.clone(),$cloneNode.find("ul, ol").remove(),_this.editor.util.isEmptyNode($cloneNode)&&$node.is(_this.editor.selection.blockNodes().last())){if(listEl=$node.parent(),$node.next("li").length>0){if(!_this.editor.util.isEmptyNode($node))return;listEl.parent("li").length>0?(newBlockEl=$("<li/>").append(_this.editor.util.phBr).insertAfter(listEl.parent("li")),newListEl=$("<"+listEl[0].tagName+"/>").append($node.nextAll("li")),newBlockEl.append(newListEl)):(newBlockEl=$("<p/>").append(_this.editor.util.phBr).insertAfter(listEl),newListEl=$("<"+listEl[0].tagName+"/>").append($node.nextAll("li")),newBlockEl.after(newListEl))}else listEl.parent("li").length>0?(newBlockEl=$("<li/>").insertAfter(listEl.parent("li")),$node.contents().length>0?newBlockEl.append($node.contents()):newBlockEl.append(_this.editor.util.phBr)):(newBlockEl=$("<p/>").append(_this.editor.util.phBr).insertAfter(listEl),$node.children("ul, ol").length>0&&newBlockEl.after($node.children("ul, ol")));return $node.prev("li").length?$node.remove():listEl.remove(),_this.editor.selection.setRangeAtStartOf(newBlockEl),!0}}}(this)),this.add("enter","pre",function(_this){return function(e,$node){var $p,breakNode,range;return e.preventDefault(),e.shiftKey?($p=$("<p/>").append(_this.editor.util.phBr).insertAfter($node),_this.editor.selection.setRangeAtStartOf($p),!0):(range=_this.editor.selection.range(),breakNode=null,range.deleteContents(),!_this.editor.util.browser.msie&&_this.editor.selection.rangeAtEndOf($node)?(breakNode=document.createTextNode("\n\n"),range.insertNode(breakNode),range.setEnd(breakNode,1)):(breakNode=document.createTextNode("\n"),range.insertNode(breakNode),range.setStartAfter(breakNode)),range.collapse(!1),_this.editor.selection.range(range),!0)}}(this)),this.add("enter","blockquote",function(_this){return function(e,$node){var $closestBlock,range;if($closestBlock=_this.editor.selection.blockNodes().last(),$closestBlock.is("p")&&!$closestBlock.next().length&&_this.editor.util.isEmptyNode($closestBlock))return $node.after($closestBlock),range=document.createRange(),_this.editor.selection.setRangeAtStartOf($closestBlock,range),!0}}(this)),this.add("backspace","li",function(_this){return function(e,$node){var $br,$childList,$newLi,$prevChildList,$prevNode,$textNode,isFF,range,text;return $childList=$node.children("ul, ol"),$prevNode=$node.prev("li"),$childList.length>0&&$prevNode.length>0&&(text="",$textNode=null,$node.contents().each(function(i,n){if(1===n.nodeType&&/UL|OL/.test(n.nodeName))return!1;if(1!==n.nodeType||!/BR/.test(n.nodeName))return 3===n.nodeType&&n.nodeValue?text+=n.nodeValue:1===n.nodeType&&(text+=$(n).text()),$textNode=$(n)}),isFF=_this.editor.util.browser.firefox&&!$textNode.next("br").length,$textNode&&1===text.length&&isFF?($br=$(_this.editor.util.phBr).insertAfter($textNode),$textNode.remove(),_this.editor.selection.setRangeBefore($br),!0):!(text.length>0)&&(range=document.createRange(),$prevChildList=$prevNode.children("ul, ol"),$prevChildList.length>0?($newLi=$("<li/>").append(_this.editor.util.phBr).appendTo($prevChildList),$prevChildList.append($childList.children("li")),$node.remove(),_this.editor.selection.setRangeAtEndOf($newLi,range)):(_this.editor.selection.setRangeAtEndOf($prevNode,range),$prevNode.append($childList),$node.remove(),_this.editor.selection.range(range)),!0))}}(this)),this.add("backspace","pre",function(_this){return function(e,$node){var $newNode,codeStr,range;if(_this.editor.selection.rangeAtStartOf($node))return codeStr=$node.html().replace("\n","<br/>")||_this.editor.util.phBr,$newNode=$("<p/>").append(codeStr).insertAfter($node),$node.remove(),range=document.createRange(),_this.editor.selection.setRangeAtStartOf($newNode,range),!0}}(this)),this.add("backspace","blockquote",function(_this){return function(e,$node){var $firstChild,range;if(_this.editor.selection.rangeAtStartOf($node))return $firstChild=$node.children().first().unwrap(),range=document.createRange(),_this.editor.selection.setRangeAtStartOf($firstChild,range),!0}}(this))},Keystroke}(SimpleModule),UndoManager=function(superClass){function UndoManager(){return UndoManager.__super__.constructor.apply(this,arguments)}return extend(UndoManager,superClass),UndoManager.pluginName="UndoManager",UndoManager.prototype._index=-1,UndoManager.prototype._capacity=20,UndoManager.prototype._startPosition=null,UndoManager.prototype._endPosition=null,UndoManager.prototype._init=function(){var redoShortcut,undoShortcut;return this.editor=this._module,this._stack=[],this.editor.util.os.mac?(undoShortcut="cmd+z",redoShortcut="shift+cmd+z"):this.editor.util.os.win?(undoShortcut="ctrl+z",redoShortcut="ctrl+y"):(undoShortcut="ctrl+z",redoShortcut="shift+ctrl+z"),this.editor.hotkeys.add(undoShortcut,function(_this){return function(e){return e.preventDefault(),_this.undo(),!1}}(this)),this.editor.hotkeys.add(redoShortcut,function(_this){return function(e){return e.preventDefault(),_this.redo(),!1}}(this)),this.throttledPushState=this.editor.util.throttle(function(_this){return function(){return _this._pushUndoState()}}(this),2e3),this.editor.on("valuechanged",function(_this){return function(e,src){if("undo"!==src&&"redo"!==src)return _this.throttledPushState()}}(this)),this.editor.on("selectionchanged",function(_this){return function(e){return _this.resetCaretPosition(),_this.update()}}(this)),this.editor.on("focus",function(_this){return function(e){if(0===_this._stack.length)return _this._pushUndoState()}}(this)),this.editor.on("blur",function(_this){return function(e){return _this.resetCaretPosition()}}(this))},UndoManager.prototype.resetCaretPosition=function(){return this._startPosition=null,this._endPosition=null},UndoManager.prototype.startPosition=function(){return this.editor.selection._range&&(this._startPosition||(this._startPosition=this._getPosition("start"))),this._startPosition},UndoManager.prototype.endPosition=function(){return this.editor.selection._range&&(this._endPosition||(this._endPosition=function(_this){return function(){var range;return range=_this.editor.selection.range(),range.collapsed?_this._startPosition:_this._getPosition("end")}}(this)())),this._endPosition},UndoManager.prototype._pushUndoState=function(){var caret;if(!1!==this.editor.triggerHandler("pushundostate")&&(caret=this.caretPosition(),caret.start))return this._index+=1,this._stack.length=this._index,this._stack.push({html:this.editor.body.html(),caret:this.caretPosition()}),this._stack.length>this._capacity?(this._stack.shift(),this._index-=1):void 0},UndoManager.prototype.currentState=function(){return this._stack.length&&this._index>-1?this._stack[this._index]:null},UndoManager.prototype.undo=function(){var state;if(!(this._index<1||this._stack.length<2))return this.editor.hidePopover(),this._index-=1,state=this._stack[this._index],this.editor.body.get(0).innerHTML=state.html,this.caretPosition(state.caret),this.editor.body.find(".selected").removeClass("selected"),this.editor.sync(),this.editor.trigger("valuechanged",["undo"])},UndoManager.prototype.redo=function(){var state;if(!(this._index<0||this._stack.length<this._index+2))return this.editor.hidePopover(),this._index+=1,state=this._stack[this._index],this.editor.body.get(0).innerHTML=state.html,this.caretPosition(state.caret),this.editor.body.find(".selected").removeClass("selected"),this.editor.sync(),this.editor.trigger("valuechanged",["redo"])},UndoManager.prototype.update=function(){var currentState;if(currentState=this.currentState())return currentState.html=this.editor.body.html(),currentState.caret=this.caretPosition()},UndoManager.prototype._getNodeOffset=function(node,index){var $parent,merging,offset;return $parent=$.isNumeric(index)?$(node):$(node).parent(),offset=0,merging=!1,$parent.contents().each(function(i,child){return node!==child&&(index!==i||0!==i)&&(child.nodeType===Node.TEXT_NODE?!merging&&child.nodeValue.length>0&&(offset+=1,merging=!0):(offset+=1,merging=!1),index-1!==i&&null)}),offset},UndoManager.prototype._getPosition=function(type){var $nodes,node,nodes,offset,position,prevNode,range;if(null==type&&(type="start"),range=this.editor.selection.range(),offset=range[type+"Offset"],$nodes=this.editor.selection[type+"Nodes"](),node=$nodes.first()[0],node.nodeType===Node.TEXT_NODE){for(prevNode=node.previousSibling;prevNode&&prevNode.nodeType===Node.TEXT_NODE;)node=prevNode,offset+=this.editor.util.getNodeLength(prevNode),prevNode=prevNode.previousSibling;nodes=$nodes.get(),nodes[0]=node,$nodes=$(nodes)}else offset=this._getNodeOffset(node,offset);return position=[offset],$nodes.each(function(_this){return function(i,node){return position.unshift(_this._getNodeOffset(node))}}(this)),position},UndoManager.prototype._getNodeByPosition=function(position){var child,childNodes,i,k,len,node,offset,ref;for(node=this.editor.body[0],ref=position.slice(0,position.length-1),i=k=0,len=ref.length;k<len;i=++k){if(offset=ref[i],childNodes=node.childNodes,offset>childNodes.length-1){if(i!==position.length-2||!$(node).is("pre:empty")){node=null;break}child=document.createTextNode(""),node.appendChild(child),childNodes=node.childNodes}node=childNodes[offset]}return node},UndoManager.prototype.caretPosition=function(caret){var endContainer,endOffset,range,startContainer,startOffset;if(caret){if(!caret.start)return;return startContainer=this._getNodeByPosition(caret.start),(startOffset=caret.start[caret.start.length-1],caret.collapsed?(endContainer=startContainer,endOffset=startOffset):(endContainer=this._getNodeByPosition(caret.end),endOffset=caret.start[caret.start.length-1]),startContainer&&endContainer)?(range=document.createRange(),range.setStart(startContainer,startOffset),range.setEnd(endContainer,endOffset),this.editor.selection.range(range)):void("undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("simditor: invalid caret state"))}return range=this.editor.selection.range(),caret=this.editor.inputManager.focused&&null!=range?{start:this.startPosition(),end:this.endPosition(),collapsed:range.collapsed}:{}},UndoManager}(SimpleModule),Util=function(superClass){function Util(){return Util.__super__.constructor.apply(this,arguments)}return extend(Util,superClass),Util.pluginName="Util",Util.prototype._init=function(){if(this.editor=this._module,this.browser.msie&&this.browser.version<11)return this.phBr=""},Util.prototype.phBr="<br/>",Util.prototype.os=function(){var os;return os={},/Mac/.test(navigator.appVersion)?os.mac=!0:/Linux/.test(navigator.appVersion)?os.linux=!0:/Win/.test(navigator.appVersion)?os.win=!0:/X11/.test(navigator.appVersion)&&(os.unix=!0),/Mobi/.test(navigator.appVersion)&&(os.mobile=!0),os}(),Util.prototype.browser=function(){var chrome,edge,firefox,ie,ref,ref1,ref2,ref3,ref4,safari,ua;return ua=navigator.userAgent,ie=/(msie|trident)/i.test(ua),chrome=/chrome|crios/i.test(ua),safari=/safari/i.test(ua)&&!chrome,firefox=/firefox/i.test(ua),edge=/edge/i.test(ua),ie?{msie:!0,version:1*(null!=(ref=ua.match(/(msie |rv:)(\d+(\.\d+)?)/i))?ref[2]:void 0)}:edge?{edge:!0,webkit:!0,version:1*(null!=(ref1=ua.match(/edge\/(\d+(\.\d+)?)/i))?ref1[1]:void 0)}:chrome?{webkit:!0,chrome:!0,version:1*(null!=(ref2=ua.match(/(?:chrome|crios)\/(\d+(\.\d+)?)/i))?ref2[1]:void 0)}:safari?{webkit:!0,safari:!0,version:1*(null!=(ref3=ua.match(/version\/(\d+(\.\d+)?)/i))?ref3[1]:void 0)}:firefox?{mozilla:!0,firefox:!0,version:1*(null!=(ref4=ua.match(/firefox\/(\d+(\.\d+)?)/i))?ref4[1]:void 0)}:{}}(),Util.prototype.support=function(){return{onselectionchange:function(){var onselectionchange;if(void 0!==(onselectionchange=document.onselectionchange))try{return document.onselectionchange=0,null===document.onselectionchange}catch(_error){_error}finally{document.onselectionchange=onselectionchange}return!1}(),oninput:function(){return!/(msie|trident)/i.test(navigator.userAgent)}()}}(),Util.prototype.reflow=function(el){return null==el&&(el=document),$(el)[0].offsetHeight},Util.prototype.metaKey=function(e){var isMac;return isMac=/Mac/.test(navigator.userAgent),isMac?e.metaKey:e.ctrlKey},Util.prototype.isEmptyNode=function(node){var $node;return $node=$(node),$node.is(":empty")||!$node.text()&&!$node.find(":not(br, span, div)").length},Util.prototype.isDecoratedNode=function(node){return $(node).is('[class^="simditor-"]')},Util.prototype.blockNodes=["div","p","ul","ol","li","blockquote","hr","pre","h1","h2","h3","h4","h5","table"],Util.prototype.isBlockNode=function(node){return!(!(node=$(node)[0])||3===node.nodeType)&&new RegExp("^("+this.blockNodes.join("|")+")$").test(node.nodeName.toLowerCase())},Util.prototype.getNodeLength=function(node){switch(node=$(node)[0],node.nodeType){case 7:case 10:return 0;case 3:case 8:return node.length;default:
return node.childNodes.length}},Util.prototype.dataURLtoBlob=function(dataURL){var BlobBuilder,arrayBuffer,bb,blobArray,byteString,hasArrayBufferViewSupport,hasBlobConstructor,i,intArray,k,mimeString,ref;if(hasBlobConstructor=window.Blob&&function(){try{return Boolean(new Blob)}catch(_error){return _error,!1}}(),hasArrayBufferViewSupport=hasBlobConstructor&&window.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(_error){return _error,!1}}(),BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,!((hasBlobConstructor||BlobBuilder)&&window.atob&&window.ArrayBuffer&&window.Uint8Array))return!1;for(byteString=dataURL.split(",")[0].indexOf("base64")>=0?atob(dataURL.split(",")[1]):decodeURIComponent(dataURL.split(",")[1]),arrayBuffer=new ArrayBuffer(byteString.length),intArray=new Uint8Array(arrayBuffer),i=k=0,ref=byteString.length;0<=ref?k<=ref:k>=ref;i=0<=ref?++k:--k)intArray[i]=byteString.charCodeAt(i);return mimeString=dataURL.split(",")[0].split(":")[1].split(";")[0],hasBlobConstructor?(blobArray=hasArrayBufferViewSupport?intArray:arrayBuffer,new Blob([blobArray],{type:mimeString})):(bb=new BlobBuilder,bb.append(arrayBuffer),bb.getBlob(mimeString))},Util.prototype.throttle=function(func,wait){var args,call,ctx,last,rtn,throttled,timeoutID;return last=0,timeoutID=0,ctx=args=rtn=null,call=function(){return timeoutID=0,last=+new Date,rtn=func.apply(ctx,args),ctx=null,args=null},throttled=function(){var delta;return ctx=this,args=arguments,delta=new Date-last,timeoutID||(delta>=wait?call():timeoutID=setTimeout(call,wait-delta)),rtn},throttled.clear=function(){if(timeoutID)return clearTimeout(timeoutID),call()},throttled},Util.prototype.formatHTML=function(html){var cursor,indentString,lastMatch,level,match,re,repeatString,result,str;for(re=/<(\/?)(.+?)(\/?)>/g,result="",level=0,lastMatch=null,indentString="  ",repeatString=function(str,n){return new Array(n+1).join(str)};null!==(match=re.exec(html));)match.isBlockNode=$.inArray(match[2],this.blockNodes)>-1,match.isStartTag="/"!==match[1]&&"/"!==match[3],match.isEndTag="/"===match[1]||"/"===match[3],cursor=lastMatch?lastMatch.index+lastMatch[0].length:0,(str=html.substring(cursor,match.index)).length>0&&$.trim(str)&&(result+=str),match.isBlockNode&&match.isEndTag&&!match.isStartTag&&(level-=1),match.isBlockNode&&match.isStartTag&&(lastMatch&&lastMatch.isBlockNode&&lastMatch.isEndTag||(result+="\n"),result+=repeatString(indentString,level)),result+=match[0],match.isBlockNode&&match.isEndTag&&(result+="\n"),match.isBlockNode&&match.isStartTag&&(level+=1),lastMatch=match;return $.trim(result)},Util}(SimpleModule),Toolbar=function(superClass){function Toolbar(){return Toolbar.__super__.constructor.apply(this,arguments)}return extend(Toolbar,superClass),Toolbar.pluginName="Toolbar",Toolbar.prototype.opts={toolbar:!0,toolbarFloat:!0,toolbarHidden:!1,toolbarFloatOffset:0},Toolbar.prototype._tpl={wrapper:'<div class="simditor-toolbar"><ul></ul></div>',separator:'<li><span class="separator"></span></li>'},Toolbar.prototype._init=function(){var floatInitialized,initToolbarFloat,toolbarHeight;if(this.editor=this._module,this.opts.toolbar)return $.isArray(this.opts.toolbar)||(this.opts.toolbar=["bold","italic","underline","strikethrough","|","ol","ul","blockquote","code","|","link","image","|","indent","outdent"]),this._render(),this.list.on("click",function(e){return!1}),this.wrapper.on("mousedown",function(_this){return function(e){return _this.list.find(".menu-on").removeClass(".menu-on")}}(this)),$(document).on("mousedown.simditor"+this.editor.id,function(_this){return function(e){return _this.list.find(".menu-on").removeClass(".menu-on")}}(this)),!this.opts.toolbarHidden&&this.opts.toolbarFloat&&(this.wrapper.css("top",this.opts.toolbarFloatOffset),toolbarHeight=0,initToolbarFloat=function(_this){return function(){return _this.wrapper.css("position","static"),_this.wrapper.width("auto"),_this.editor.util.reflow(_this.wrapper),_this.wrapper.width(_this.wrapper.outerWidth()),_this.wrapper.css("left",_this.editor.util.os.mobile?_this.wrapper.position().left:_this.wrapper.offset().left),_this.wrapper.css("position",""),toolbarHeight=_this.wrapper.outerHeight(),_this.editor.placeholderEl.css("top",toolbarHeight),!0}}(this),floatInitialized=null,$(window).on("resize.simditor-"+this.editor.id,function(e){return floatInitialized=initToolbarFloat()}),$(window).on("scroll.simditor-"+this.editor.id,function(_this){return function(e){var bottomEdge,scrollTop,topEdge;if(_this.wrapper.is(":visible"))if(topEdge=_this.editor.wrapper.offset().top,bottomEdge=topEdge+_this.editor.wrapper.outerHeight()-80,(scrollTop=$(document).scrollTop()+_this.opts.toolbarFloatOffset)<=topEdge||scrollTop>=bottomEdge){if(_this.editor.wrapper.removeClass("toolbar-floating").css("padding-top",""),_this.editor.util.os.mobile)return _this.wrapper.css("top",_this.opts.toolbarFloatOffset)}else if(floatInitialized||(floatInitialized=initToolbarFloat()),_this.editor.wrapper.addClass("toolbar-floating").css("padding-top",toolbarHeight),_this.editor.util.os.mobile)return _this.wrapper.css("top",scrollTop-topEdge+_this.opts.toolbarFloatOffset)}}(this))),this.editor.on("destroy",function(_this){return function(){return _this.buttons.length=0}}(this)),$(document).on("mousedown.simditor-"+this.editor.id,function(_this){return function(e){return _this.list.find("li.menu-on").removeClass("menu-on")}}(this))},Toolbar.prototype._render=function(){var k,len,name,ref;for(this.buttons=[],this.wrapper=$(this._tpl.wrapper).prependTo(this.editor.wrapper),this.list=this.wrapper.find("ul"),ref=this.opts.toolbar,k=0,len=ref.length;k<len;k++)if("|"!==(name=ref[k])){if(!this.constructor.buttons[name])throw new Error("simditor: invalid toolbar button "+name);this.buttons.push(new this.constructor.buttons[name]({editor:this.editor}))}else $(this._tpl.separator).appendTo(this.list);if(this.opts.toolbarHidden)return this.wrapper.hide()},Toolbar.prototype.findButton=function(name){var button;return button=this.list.find(".toolbar-item-"+name).data("button"),null!=button?button:null},Toolbar.addButton=function(btn){return this.buttons[btn.prototype.name]=btn},Toolbar.buttons={},Toolbar}(SimpleModule),Indentation=function(superClass){function Indentation(){return Indentation.__super__.constructor.apply(this,arguments)}return extend(Indentation,superClass),Indentation.pluginName="Indentation",Indentation.prototype.opts={tabIndent:!0},Indentation.prototype._init=function(){return this.editor=this._module,this.editor.keystroke.add("tab","*",function(_this){return function(e){var codeButton;if(codeButton=_this.editor.toolbar.findButton("code"),_this.opts.tabIndent||codeButton&&codeButton.active)return _this.indent(e.shiftKey)}}(this))},Indentation.prototype.indent=function(isBackward){var $blockNodes,nodes,result;return this.editor.selection.startNodes(),this.editor.selection.endNodes(),$blockNodes=this.editor.selection.blockNodes(),nodes=[],$blockNodes=$blockNodes.each(function(i,node){var include,j,k,len,n;for(include=!0,j=k=0,len=nodes.length;k<len;j=++k){if(n=nodes[j],$.contains(node,n)){include=!1;break}if($.contains(n,node)){nodes.splice(j,1,node),include=!1;break}}if(include)return nodes.push(node)}),$blockNodes=$(nodes),result=!1,$blockNodes.each(function(_this){return function(i,blockEl){var r;if(r=isBackward?_this.outdentBlock(blockEl):_this.indentBlock(blockEl))return result=r}}(this)),result},Indentation.prototype.indentBlock=function(blockEl){var $blockEl,$childList,$nextTd,$nextTr,$parentLi,$pre,$td,$tr,marginLeft,tagName;if($blockEl=$(blockEl),$blockEl.length){if($blockEl.is("pre")){if($pre=this.editor.selection.containerNode(),!$pre.is($blockEl)&&!$pre.closest("pre").is($blockEl))return;this.indentText(this.editor.selection.range())}else if($blockEl.is("li")){if($parentLi=$blockEl.prev("li"),$parentLi.length<1)return;this.editor.selection.save(),tagName=$blockEl.parent()[0].tagName,$childList=$parentLi.children("ul, ol"),$childList.length>0?$childList.append($blockEl):$("<"+tagName+"/>").append($blockEl).appendTo($parentLi),this.editor.selection.restore()}else if($blockEl.is("p, h1, h2, h3, h4"))marginLeft=parseInt($blockEl.css("margin-left"))||0,marginLeft=(Math.round(marginLeft/this.opts.indentWidth)+1)*this.opts.indentWidth,$blockEl.css("margin-left",marginLeft);else{if(!$blockEl.is("table")&&!$blockEl.is(".simditor-table"))return!1;if($td=this.editor.selection.containerNode().closest("td, th"),$nextTd=$td.next("td, th"),$nextTd.length>0||($tr=$td.parent("tr"),$nextTr=$tr.next("tr"),$nextTr.length<1&&$tr.parent().is("thead")&&($nextTr=$tr.parent("thead").next("tbody").find("tr:first")),$nextTd=$nextTr.find("td:first, th:first")),!($td.length>0&&$nextTd.length>0))return;this.editor.selection.setRangeAtEndOf($nextTd)}return!0}},Indentation.prototype.indentText=function(range){var text,textNode;return text=range.toString().replace(/^(?=.+)/gm,"  "),textNode=document.createTextNode(text||"  "),range.deleteContents(),range.insertNode(textNode),text?(range.selectNode(textNode),this.editor.selection.range(range)):this.editor.selection.setRangeAfter(textNode)},Indentation.prototype.outdentBlock=function(blockEl){var $blockEl,$parent,$parentLi,$pre,$prevTd,$prevTr,$td,$tr,marginLeft,range;if(($blockEl=$(blockEl))&&$blockEl.length>0){if($blockEl.is("pre")){if($pre=this.editor.selection.containerNode(),!$pre.is($blockEl)&&!$pre.closest("pre").is($blockEl))return;this.outdentText(range)}else if($blockEl.is("li"))$parent=$blockEl.parent(),$parentLi=$parent.parent("li"),this.editor.selection.save(),$parentLi.length<1?(range=document.createRange(),range.setStartBefore($parent[0]),range.setEndBefore($blockEl[0]),$parent.before(range.extractContents()),$("<p/>").insertBefore($parent).after($blockEl.children("ul, ol")).append($blockEl.contents()),$blockEl.remove()):($blockEl.next("li").length>0&&$("<"+$parent[0].tagName+"/>").append($blockEl.nextAll("li")).appendTo($blockEl),$blockEl.insertAfter($parentLi),$parent.children("li").length<1&&$parent.remove()),this.editor.selection.restore();else if($blockEl.is("p, h1, h2, h3, h4"))marginLeft=parseInt($blockEl.css("margin-left"))||0,marginLeft=Math.max(Math.round(marginLeft/this.opts.indentWidth)-1,0)*this.opts.indentWidth,$blockEl.css("margin-left",0===marginLeft?"":marginLeft);else{if(!$blockEl.is("table")&&!$blockEl.is(".simditor-table"))return!1;if($td=this.editor.selection.containerNode().closest("td, th"),$prevTd=$td.prev("td, th"),$prevTd.length>0||($tr=$td.parent("tr"),$prevTr=$tr.prev("tr"),$prevTr.length<1&&$tr.parent().is("tbody")&&($prevTr=$tr.parent("tbody").prev("thead").find("tr:first")),$prevTd=$prevTr.find("td:last, th:last")),!($td.length>0&&$prevTd.length>0))return;this.editor.selection.setRangeAtEndOf($prevTd)}return!0}},Indentation.prototype.outdentText=function(range){},Indentation}(SimpleModule),Clipboard=function(superClass){function Clipboard(){return Clipboard.__super__.constructor.apply(this,arguments)}return extend(Clipboard,superClass),Clipboard.pluginName="Clipboard",Clipboard.prototype.opts={pasteImage:!1,cleanPaste:!1},Clipboard.prototype._init=function(){return this.editor=this._module,this.opts.pasteImage&&"string"!=typeof this.opts.pasteImage&&(this.opts.pasteImage="inline"),this.editor.body.on("paste",function(_this){return function(e){var range;if(!_this.pasting&&!_this._pasteBin)return!1!==_this.editor.triggerHandler(e)&&(range=_this.editor.selection.deleteRangeContents(),_this.editor.body.html()?range.collapsed||range.collapse(!0):(_this.editor.formatter.format(),_this.editor.selection.setRangeAtStartOf(_this.editor.body.find("p:first"))),!_this._processPasteByClipboardApi(e)&&(_this.editor.inputManager.throttledValueChanged.clear(),_this.editor.inputManager.throttledSelectionChanged.clear(),_this.editor.undoManager.throttledPushState.clear(),_this.editor.selection.reset(),_this.editor.undoManager.resetCaretPosition(),_this.pasting=!0,_this._getPasteContent(function(pasteContent){return _this._processPasteContent(pasteContent),_this._pasteInBlockEl=null,_this._pastePlainText=null,_this.pasting=!1})))}}(this))},Clipboard.prototype._processPasteByClipboardApi=function(e){var imageFile,pasteItem,ref,uploadOpt;if(!this.editor.util.browser.edge&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items&&e.originalEvent.clipboardData.items.length>0&&(pasteItem=e.originalEvent.clipboardData.items[0],/^image\//.test(pasteItem.type))){if(null==(imageFile=pasteItem.getAsFile())||!this.opts.pasteImage)return;if(imageFile.name||(imageFile.name="Clipboard Image.png"),!1===this.editor.triggerHandler("pasting",[imageFile]))return;return uploadOpt={},uploadOpt[this.opts.pasteImage]=!0,null!=(ref=this.editor.uploader)&&ref.upload(imageFile,uploadOpt),!0}},Clipboard.prototype._getPasteContent=function(callback){var state;return this._pasteBin=$('<div contenteditable="true" />').addClass("simditor-paste-bin").attr("tabIndex","-1").appendTo(this.editor.el),state={html:this.editor.body.html(),caret:this.editor.undoManager.caretPosition()},this._pasteBin.focus(),setTimeout(function(_this){return function(){var pasteContent;return _this.editor.hidePopover(),_this.editor.body.get(0).innerHTML=state.html,_this.editor.undoManager.caretPosition(state.caret),_this.editor.body.focus(),_this.editor.selection.reset(),_this.editor.selection.range(),_this._pasteInBlockEl=_this.editor.selection.blockNodes().last(),_this._pastePlainText=_this.opts.cleanPaste||_this._pasteInBlockEl.is("pre, table"),_this._pastePlainText?pasteContent=_this.editor.formatter.clearHtml(_this._pasteBin.html(),!0):(pasteContent=$("<div/>").append(_this._pasteBin.contents()),pasteContent.find("table colgroup").remove(),_this.editor.formatter.format(pasteContent),_this.editor.formatter.decorate(pasteContent),_this.editor.formatter.beautify(pasteContent.children()),pasteContent=pasteContent.contents()),_this._pasteBin.remove(),_this._pasteBin=null,callback(pasteContent)}}(this),0)},Clipboard.prototype._processPasteContent=function(pasteContent){var $blockEl,$img,blob,children,insertPosition,k,l,lastLine,len,len1,len2,len3,len4,line,lines,m,node,o,q,ref,ref1,ref2,uploadOpt;if(!1!==this.editor.triggerHandler("pasting",[pasteContent])&&($blockEl=this._pasteInBlockEl,pasteContent)){if(this._pastePlainText)if($blockEl.is("table")){for(lines=pasteContent.split("\n"),lastLine=lines.pop(),k=0,len=lines.length;k<len;k++)line=lines[k],this.editor.selection.insertNode(document.createTextNode(line)),this.editor.selection.insertNode($("<br/>"));this.editor.selection.insertNode(document.createTextNode(lastLine))}else for(pasteContent=$("<div/>").text(pasteContent),ref=pasteContent.contents(),l=0,len1=ref.length;l<len1;l++)node=ref[l],this.editor.selection.insertNode($(node)[0]);else if($blockEl.is(this.editor.body))for(m=0,len2=pasteContent.length;m<len2;m++)node=pasteContent[m],this.editor.selection.insertNode(node);else{if(pasteContent.length<1)return;if(1===pasteContent.length)if(pasteContent.is("p")){if(children=pasteContent.contents(),1===children.length&&children.is("img")){if($img=children,/^data:image/.test($img.attr("src"))){if(!this.opts.pasteImage)return;return blob=this.editor.util.dataURLtoBlob($img.attr("src")),blob.name="Clipboard Image.png",uploadOpt={},uploadOpt[this.opts.pasteImage]=!0,void(null!=(ref1=this.editor.uploader)&&ref1.upload(blob,uploadOpt))}if($img.is('img[src^="webkit-fake-url://"]'))return}for(o=0,len3=children.length;o<len3;o++)node=children[o],this.editor.selection.insertNode(node)}else if($blockEl.is("p")&&this.editor.util.isEmptyNode($blockEl))$blockEl.replaceWith(pasteContent),this.editor.selection.setRangeAtEndOf(pasteContent);else if(pasteContent.is("ul, ol"))if(1===pasteContent.find("li").length)for(pasteContent=$("<div/>").text(pasteContent.text()),ref2=pasteContent.contents(),q=0,len4=ref2.length;q<len4;q++)node=ref2[q],this.editor.selection.insertNode($(node)[0]);else $blockEl.is("li")?($blockEl.parent().after(pasteContent),this.editor.selection.setRangeAtEndOf(pasteContent)):($blockEl.after(pasteContent),this.editor.selection.setRangeAtEndOf(pasteContent));else $blockEl.after(pasteContent),this.editor.selection.setRangeAtEndOf(pasteContent);else $blockEl.is("li")&&($blockEl=$blockEl.parent()),this.editor.selection.rangeAtStartOf($blockEl)?insertPosition="before":this.editor.selection.rangeAtEndOf($blockEl)?insertPosition="after":(this.editor.selection.breakBlockEl($blockEl),insertPosition="before"),$blockEl[insertPosition](pasteContent),this.editor.selection.setRangeAtEndOf(pasteContent.last())}return this.editor.inputManager.throttledValueChanged()}},Clipboard}(SimpleModule),Simditor=function(superClass){function Simditor(){return Simditor.__super__.constructor.apply(this,arguments)}return extend(Simditor,superClass),Simditor.connect(Util),Simditor.connect(InputManager),Simditor.connect(Selection),Simditor.connect(UndoManager),Simditor.connect(Keystroke),Simditor.connect(Formatter),Simditor.connect(Toolbar),Simditor.connect(Indentation),Simditor.connect(Clipboard),Simditor.count=0,Simditor.prototype.opts={textarea:null,placeholder:"",defaultImage:"images/image.png",params:{},upload:!1,indentWidth:40},Simditor.prototype._init=function(){var editor,form,uploadOpts;if(this.textarea=$(this.opts.textarea),this.opts.placeholder=this.opts.placeholder||this.textarea.attr("placeholder"),!this.textarea.length)throw new Error("simditor: param textarea is required.");if(editor=this.textarea.data("simditor"),null!=editor&&editor.destroy(),this.id=++Simditor.count,this._render(),!simpleHotkeys)throw new Error("simditor: simple-hotkeys is required.");if(this.hotkeys=simpleHotkeys({el:this.body}),this.opts.upload&&simpleUploader&&(uploadOpts="object"==typeof this.opts.upload?this.opts.upload:{},this.uploader=simpleUploader(uploadOpts)),form=this.textarea.closest("form"),form.length&&(form.on("submit.simditor-"+this.id,function(_this){return function(){return _this.sync()}}(this)),form.on("reset.simditor-"+this.id,function(_this){return function(){return _this.setValue("")}}(this))),this.on("initialized",function(_this){return function(){if(_this.opts.placeholder&&_this.on("valuechanged",function(){return _this._placeholder()}),_this.setValue(_this.textarea.val().trim()||""),_this.textarea.attr("autofocus"))return _this.focus()}}(this)),this.util.browser.mozilla){this.util.reflow();try{return document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(_error){_error}}},Simditor.prototype._tpl='<div class="simditor">\n  <div class="simditor-wrapper">\n    <div class="simditor-placeholder"></div>\n    <div class="simditor-body" contenteditable="true">\n    </div>\n  </div>\n</div>',Simditor.prototype._render=function(){var key,ref,results,val;if(this.el=$(this._tpl).insertBefore(this.textarea),this.wrapper=this.el.find(".simditor-wrapper"),this.body=this.wrapper.find(".simditor-body"),this.placeholderEl=this.wrapper.find(".simditor-placeholder").append(this.opts.placeholder),this.el.data("simditor",this),this.wrapper.append(this.textarea),this.textarea.data("simditor",this).blur(),this.body.attr("tabindex",this.textarea.attr("tabindex")),this.util.os.mac?this.el.addClass("simditor-mac"):this.util.os.linux&&this.el.addClass("simditor-linux"),this.util.os.mobile&&this.el.addClass("simditor-mobile"),this.opts.params){ref=this.opts.params,results=[];for(key in ref)val=ref[key],results.push($("<input/>",{type:"hidden",name:key,value:val}).insertAfter(this.textarea));return results}},Simditor.prototype._placeholder=function(){var children;return children=this.body.children(),$node=$(this.body),0===children.length||1===children.length&&this.util.isEmptyNode(children)&&parseInt(children.css("margin-left")||0)<this.opts.indentWidth?this.placeholderEl.show():this.placeholderEl.hide()},Simditor.prototype.setValue=function(val){return this.hidePopover(),this.textarea.val(val),this.body.get(0).innerHTML=val,this.formatter.format(),this.formatter.decorate(),this.util.reflow(this.body),this.inputManager.lastCaretPosition=null,this.trigger("valuechanged")},Simditor.prototype.getValue=function(){return this.sync()},Simditor.prototype.sync=function(){var children,cloneBody,emptyP,firstP,lastP,val;for(cloneBody=this.body.clone(),this.formatter.undecorate(cloneBody),this.formatter.format(cloneBody),this.formatter.autolink(cloneBody),children=cloneBody.children(),lastP=children.last("p"),firstP=children.first("p");lastP.is("p")&&this.util.isEmptyNode(lastP);)emptyP=lastP,lastP=lastP.prev("p"),emptyP.remove();for(;firstP.is("p")&&this.util.isEmptyNode(firstP);)emptyP=firstP,firstP=lastP.next("p"),emptyP.remove();return cloneBody.find("img.uploading").remove(),val=$.trim(cloneBody.html()),this.textarea.val(val),val},Simditor.prototype.focus=function(){var $blockEl,range;return this.body.is(":visible")&&this.body.is("[contenteditable]")?this.inputManager.lastCaretPosition?(this.undoManager.caretPosition(this.inputManager.lastCaretPosition),this.inputManager.lastCaretPosition=null):($blockEl=this.body.children().last(),$blockEl.is("p")||($blockEl=$("<p/>").append(this.util.phBr).appendTo(this.body)),range=document.createRange(),this.selection.setRangeAtEndOf($blockEl,range)):void this.el.find("textarea:visible").focus()},Simditor.prototype.blur=function(){return this.body.is(":visible")&&this.body.is("[contenteditable]")?this.body.blur():this.body.find("textarea:visible").blur()},Simditor.prototype.hidePopover=function(){return this.el.find(".simditor-popover").each(function(i,popover){if(popover=$(popover).data("popover"),popover.active)return popover.hide()})},Simditor.prototype.destroy=function(){return this.triggerHandler("destroy"),this.textarea.closest("form").off(".simditor .simditor-"+this.id),this.selection.clear(),this.inputManager.focused=!1,this.textarea.insertBefore(this.el).hide().val("").removeData("simditor"),this.el.remove(),$(document).off(".simditor-"+this.id),$(window).off(".simditor-"+this.id),this.off()},Simditor}(SimpleModule),Simditor.i18n={"zh-CN":{blockquote:"引用",bold:"加粗文字",code:"插入代码",color:"文字颜色",coloredText:"彩色文字",hr:"分隔线",image:"插入图片",externalImage:"外链图片",uploadImage:"上传图片",uploadFailed:"上传失败了",uploadError:"上传出错了",imageUrl:"图片地址",imageSize:"图片尺寸",imageAlt:"图片描述",restoreImageSize:"还原图片尺寸",uploading:"正在上传",indent:"向右缩进",outdent:"向左缩进",italic:"斜体文字",link:"插入链接",linkText:"链接文字",linkUrl:"链接地址",linkTarget:"打开方式",openLinkInCurrentWindow:"在新窗口中打开",openLinkInNewWindow:"在当前窗口中打开",removeLink:"移除链接",ol:"有序列表",ul:"无序列表",strikethrough:"删除线文字",table:"表格",deleteRow:"删除行",insertRowAbove:"在上面插入行",insertRowBelow:"在下面插入行",deleteColumn:"删除列",insertColumnLeft:"在左边插入列",insertColumnRight:"在右边插入列",deleteTable:"删除表格",title:"标题",normalText:"普通文本",underline:"下划线文字",alignment:"水平对齐",alignCenter:"居中",alignLeft:"居左",alignRight:"居右",selectLanguage:"选择程序语言",fontScale:"字体大小",fontScaleXLarge:"超大字体",fontScaleLarge:"大号字体",fontScaleNormal:"正常大小",fontScaleSmall:"小号字体",fontScaleXSmall:"超小字体"},"en-US":{blockquote:"Block Quote",bold:"Bold",code:"Code",color:"Text Color",coloredText:"Colored Text",hr:"Horizontal Line",image:"Insert Image",externalImage:"External Image",uploadImage:"Upload Image",uploadFailed:"Upload failed",uploadError:"Error occurs during upload",imageUrl:"Url",imageSize:"Size",imageAlt:"Alt",restoreImageSize:"Restore Origin Size",uploading:"Uploading",indent:"Indent",outdent:"Outdent",italic:"Italic",link:"Insert Link",linkText:"Text",linkUrl:"Url",linkTarget:"Target",openLinkInCurrentWindow:"Open link in current window",openLinkInNewWindow:"Open link in new window",removeLink:"Remove Link",ol:"Ordered List",ul:"Unordered List",strikethrough:"Strikethrough",table:"Table",deleteRow:"Delete Row",insertRowAbove:"Insert Row Above",insertRowBelow:"Insert Row Below",deleteColumn:"Delete Column",insertColumnLeft:"Insert Column Left",insertColumnRight:"Insert Column Right",deleteTable:"Delete Table",title:"Title",normalText:"Text",underline:"Underline",alignment:"Alignment",alignCenter:"Align Center",alignLeft:"Align Left",alignRight:"Align Right",selectLanguage:"Select Language",fontScale:"Font Size",fontScaleXLarge:"X Large Size",fontScaleLarge:"Large Size",fontScaleNormal:"Normal Size",fontScaleSmall:"Small Size",fontScaleXSmall:"X Small Size"}},Button=function(superClass){function Button(opts){this.editor=opts.editor,this.title=this._t(this.name),Button.__super__.constructor.call(this,opts)}return extend(Button,superClass),Button.prototype._tpl={item:'<li><a tabindex="-1" unselectable="on" class="toolbar-item" href="javascript:;"><span></span></a></li>',menuWrapper:'<div class="toolbar-menu"></div>',menuItem:'<li><a tabindex="-1" unselectable="on" class="menu-item" href="javascript:;"><span></span></a></li>',separator:'<li><span class="separator"></span></li>'},Button.prototype.name="",Button.prototype.icon="",Button.prototype.title="",Button.prototype.text="",Button.prototype.htmlTag="",Button.prototype.disableTag="",Button.prototype.menu=!1,Button.prototype.active=!1,Button.prototype.disabled=!1,Button.prototype.needFocus=!0,Button.prototype.shortcut=null,Button.prototype._init=function(){var k,len,ref,tag;for(this.render(),this.el.on("mousedown",function(_this){return function(e){var exceed,noFocus,param;return e.preventDefault(),noFocus=_this.needFocus&&!_this.editor.inputManager.focused,!_this.el.hasClass("disabled")&&!noFocus&&(_this.menu?(_this.wrapper.toggleClass("menu-on").siblings("li").removeClass("menu-on"),_this.wrapper.is(".menu-on")&&(exceed=_this.menuWrapper.offset().left+_this.menuWrapper.outerWidth()+5-_this.editor.wrapper.offset().left-_this.editor.wrapper.outerWidth(),exceed>0&&_this.menuWrapper.css({left:"auto",right:0}),_this.trigger("menuexpand")),!1):(param=_this.el.data("param"),_this.command(param),!1))}}(this)),this.wrapper.on("click","a.menu-item",function(_this){return function(e){var btn,noFocus,param;return e.preventDefault(),btn=$(e.currentTarget),_this.wrapper.removeClass("menu-on"),noFocus=_this.needFocus&&!_this.editor.inputManager.focused,!btn.hasClass("disabled")&&!noFocus&&(_this.editor.toolbar.wrapper.removeClass("menu-on"),param=btn.data("param"),_this.command(param),!1)}}(this)),this.wrapper.on("mousedown","a.menu-item",function(e){return!1}),this.editor.on("blur",function(_this){return function(){if(_this.editor.body.is(":visible")&&_this.editor.body.is("[contenteditable]")&&!_this.editor.clipboard.pasting)return _this.setActive(!1),_this.setDisabled(!1)}}(this)),null!=this.shortcut&&this.editor.hotkeys.add(this.shortcut,function(_this){return function(e){return _this.el.mousedown(),!1}}(this)),ref=this.htmlTag.split(","),k=0,len=ref.length;k<len;k++)tag=ref[k],(tag=$.trim(tag))&&$.inArray(tag,this.editor.formatter._allowedTags)<0&&this.editor.formatter._allowedTags.push(tag);return this.editor.on("selectionchanged",function(_this){return function(e){if(_this.editor.inputManager.focused)return _this._status()}}(this))},Button.prototype.iconClassOf=function(icon){return icon?"simditor-icon simditor-icon-"+icon:""},Button.prototype.setIcon=function(icon){return this.el.find("span").removeClass().addClass(this.iconClassOf(icon)).text(this.text)},Button.prototype.render=function(){if(this.wrapper=$(this._tpl.item).appendTo(this.editor.toolbar.list),this.el=this.wrapper.find("a.toolbar-item"),this.el.attr("title",this.title).addClass("toolbar-item-"+this.name).data("button",this),this.setIcon(this.icon),this.menu)return this.menuWrapper=$(this._tpl.menuWrapper).appendTo(this.wrapper),this.menuWrapper.addClass("toolbar-menu-"+this.name),this.renderMenu()},Button.prototype.renderMenu=function(){var $menuBtnEl,$menuItemEl,k,len,menuItem,ref,ref1,results;if($.isArray(this.menu)){for(this.menuEl=$("<ul/>").appendTo(this.menuWrapper),ref=this.menu,results=[],k=0,len=ref.length;k<len;k++)menuItem=ref[k],"|"!==menuItem?($menuItemEl=$(this._tpl.menuItem).appendTo(this.menuEl),$menuBtnEl=$menuItemEl.find("a.menu-item").attr({title:null!=(ref1=menuItem.title)?ref1:menuItem.text,"data-param":menuItem.param}).addClass("menu-item-"+menuItem.name),menuItem.icon?results.push($menuBtnEl.find("span").addClass(this.iconClassOf(menuItem.icon))):results.push($menuBtnEl.find("span").text(menuItem.text))):$(this._tpl.separator).appendTo(this.menuEl);return results}},Button.prototype.setActive=function(active){if(active!==this.active)return this.active=active,this.el.toggleClass("active",this.active)},Button.prototype.setDisabled=function(disabled){if(disabled!==this.disabled)return this.disabled=disabled,this.el.toggleClass("disabled",this.disabled)},Button.prototype._disableStatus=function(){var disabled,endNodes,startNodes;return startNodes=this.editor.selection.startNodes(),endNodes=this.editor.selection.endNodes(),disabled=startNodes.filter(this.disableTag).length>0||endNodes.filter(this.disableTag).length>0,this.setDisabled(disabled),this.disabled&&this.setActive(!1),this.disabled},Button.prototype._activeStatus=function(){var active,endNode,endNodes,startNode,startNodes;return startNodes=this.editor.selection.startNodes(),endNodes=this.editor.selection.endNodes(),startNode=startNodes.filter(this.htmlTag),endNode=endNodes.filter(this.htmlTag),active=startNode.length>0&&endNode.length>0&&startNode.is(endNode),this.node=active?startNode:null,this.setActive(active),this.active},Button.prototype._status=function(){if(this._disableStatus(),!this.disabled)return this._activeStatus()},Button.prototype.command=function(param){},Button.prototype._t=function(){var args,ref,result;return args=1<=arguments.length?slice.call(arguments,0):[],result=Button.__super__._t.apply(this,args),result||(result=(ref=this.editor)._t.apply(ref,args)),result},Button}(SimpleModule),Simditor.Button=Button,Popover=function(superClass){function Popover(opts){this.button=opts.button,this.editor=opts.button.editor,Popover.__super__.constructor.call(this,opts)}return extend(Popover,superClass),Popover.prototype.offset={top:4,left:0},Popover.prototype.target=null,Popover.prototype.active=!1,Popover.prototype._init=function(){return this.el=$('<div class="simditor-popover"></div>').appendTo(this.editor.el).data("popover",this),this.render(),this.el.on("mouseenter",function(_this){return function(e){return _this.el.addClass("hover")}}(this)),this.el.on("mouseleave",function(_this){return function(e){return _this.el.removeClass("hover")}}(this))},Popover.prototype.render=function(){},Popover.prototype._initLabelWidth=function(){var $fields;if($fields=this.el.find(".settings-field"),$fields.length>0)return this._labelWidth=0,$fields.each(function(_this){return function(i,field){var $field,$label;if($field=$(field),$label=$field.find("label"),$label.length>0)return _this._labelWidth=Math.max(_this._labelWidth,$label.width())}}(this)),$fields.find("label").width(this._labelWidth)},Popover.prototype.show=function($target,position){if(null==position&&(position="bottom"),null!=$target)return this.el.siblings(".simditor-popover").each(function(i,popover){if(popover=$(popover).data("popover"),popover.active)return popover.hide()}),this.active&&this.target&&this.target.removeClass("selected"),this.target=$target.addClass("selected"),this.active?(this.refresh(position),this.trigger("popovershow")):(this.active=!0,this.el.css({left:-9999}).show(),this._labelWidth||this._initLabelWidth(),this.editor.util.reflow(),this.refresh(position),this.trigger("popovershow"))},Popover.prototype.hide=function(){if(this.active)return this.target&&this.target.removeClass("selected"),this.target=null,this.active=!1,this.el.hide(),this.trigger("popoverhide")},Popover.prototype.refresh=function(position){var editorOffset,left,maxLeft,targetH,targetOffset,top;if(null==position&&(position="bottom"),this.active)return editorOffset=this.editor.el.offset(),targetOffset=this.target.offset(),targetH=this.target.outerHeight(),
"bottom"===position?top=targetOffset.top-editorOffset.top+targetH:"top"===position&&(top=targetOffset.top-editorOffset.top-this.el.height()),maxLeft=this.editor.wrapper.width()-this.el.outerWidth()-10,left=Math.min(targetOffset.left-editorOffset.left,maxLeft),this.el.css({top:top+this.offset.top,left:left+this.offset.left})},Popover.prototype.destroy=function(){return this.target=null,this.active=!1,this.editor.off(".linkpopover"),this.el.remove()},Popover.prototype._t=function(){var args,ref,result;return args=1<=arguments.length?slice.call(arguments,0):[],result=Popover.__super__._t.apply(this,args),result||(result=(ref=this.button)._t.apply(ref,args)),result},Popover}(SimpleModule),Simditor.Popover=Popover,TitleButton=function(superClass){function TitleButton(){return TitleButton.__super__.constructor.apply(this,arguments)}return extend(TitleButton,superClass),TitleButton.prototype.name="title",TitleButton.prototype.htmlTag="h1, h2, h3, h4, h5",TitleButton.prototype.disableTag="pre, table",TitleButton.prototype._init=function(){return this.menu=[{name:"normal",text:this._t("normalText"),param:"p"},"|",{name:"h1",text:this._t("title")+" 1",param:"h1"},{name:"h2",text:this._t("title")+" 2",param:"h2"},{name:"h3",text:this._t("title")+" 3",param:"h3"},{name:"h4",text:this._t("title")+" 4",param:"h4"},{name:"h5",text:this._t("title")+" 5",param:"h5"}],TitleButton.__super__._init.call(this)},TitleButton.prototype.setActive=function(active,param){if(TitleButton.__super__.setActive.call(this,active),active&&(param||(param=this.node[0].tagName.toLowerCase())),this.el.removeClass("active-p active-h1 active-h2 active-h3 active-h4 active-h5"),active)return this.el.addClass("active active-"+param)},TitleButton.prototype.command=function(param){var $rootNodes;return $rootNodes=this.editor.selection.rootNodes(),this.editor.selection.save(),$rootNodes.each(function(_this){return function(i,node){var $node;if($node=$(node),!($node.is("blockquote")||$node.is(param)||$node.is(_this.disableTag)||_this.editor.util.isDecoratedNode($node)))return $("<"+param+"/>").append($node.contents()).replaceAll($node)}}(this)),this.editor.selection.restore(),this.editor.trigger("valuechanged")},TitleButton}(Button),Simditor.Toolbar.addButton(TitleButton),FontScaleButton=function(superClass){function FontScaleButton(){return FontScaleButton.__super__.constructor.apply(this,arguments)}return extend(FontScaleButton,superClass),FontScaleButton.prototype.name="fontScale",FontScaleButton.prototype.icon="font",FontScaleButton.prototype.disableTag="pre",FontScaleButton.prototype.htmlTag="span",FontScaleButton.prototype.sizeMap={"x-large":"1.5em",large:"1.25em",small:".75em","x-small":".5em"},FontScaleButton.prototype._init=function(){return this.menu=[{name:"150%",text:this._t("fontScaleXLarge"),param:"5"},{name:"125%",text:this._t("fontScaleLarge"),param:"4"},{name:"100%",text:this._t("fontScaleNormal"),param:"3"},{name:"75%",text:this._t("fontScaleSmall"),param:"2"},{name:"50%",text:this._t("fontScaleXSmall"),param:"1"}],FontScaleButton.__super__._init.call(this)},FontScaleButton.prototype._activeStatus=function(){var active,endNode,endNodes,startNode,startNodes;return this.editor.selection.range(),startNodes=this.editor.selection.startNodes(),endNodes=this.editor.selection.endNodes(),startNode=startNodes.filter('span[style*="font-size"]'),endNode=endNodes.filter('span[style*="font-size"]'),active=startNodes.length>0&&endNodes.length>0&&startNode.is(endNode),this.setActive(active),this.active},FontScaleButton.prototype.command=function(param){var $scales,containerNode,range;if(range=this.editor.selection.range(),!range.collapsed)return document.execCommand("styleWithCSS",!1,!0),document.execCommand("fontSize",!1,param),document.execCommand("styleWithCSS",!1,!1),this.editor.selection.reset(),this.editor.selection.range(),containerNode=this.editor.selection.containerNode(),$scales=containerNode[0].nodeType===Node.TEXT_NODE?containerNode.closest('span[style*="font-size"]'):containerNode.find('span[style*="font-size"]'),$scales.each(function(_this){return function(i,n){var $span,size;return $span=$(n),size=n.style.fontSize,/large|x-large|small|x-small/.test(size)?$span.css("fontSize",_this.sizeMap[size]):"medium"===size?$span.replaceWith($span.contents()):void 0}}(this)),this.editor.trigger("valuechanged")},FontScaleButton}(Button),Simditor.Toolbar.addButton(FontScaleButton),BoldButton=function(superClass){function BoldButton(){return BoldButton.__super__.constructor.apply(this,arguments)}return extend(BoldButton,superClass),BoldButton.prototype.name="bold",BoldButton.prototype.icon="bold",BoldButton.prototype.htmlTag="b, strong",BoldButton.prototype.disableTag="pre",BoldButton.prototype.shortcut="cmd+b",BoldButton.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + b )":(this.title=this.title+" ( Ctrl + b )",this.shortcut="ctrl+b"),BoldButton.__super__._init.call(this)},BoldButton.prototype._activeStatus=function(){var active;return active=!0===document.queryCommandState("bold"),this.setActive(active),this.active},BoldButton.prototype.command=function(){return document.execCommand("bold"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),$(document).trigger("selectionchange")},BoldButton}(Button),Simditor.Toolbar.addButton(BoldButton),ItalicButton=function(superClass){function ItalicButton(){return ItalicButton.__super__.constructor.apply(this,arguments)}return extend(ItalicButton,superClass),ItalicButton.prototype.name="italic",ItalicButton.prototype.icon="italic",ItalicButton.prototype.htmlTag="i",ItalicButton.prototype.disableTag="pre",ItalicButton.prototype.shortcut="cmd+i",ItalicButton.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + i )":(this.title=this.title+" ( Ctrl + i )",this.shortcut="ctrl+i"),ItalicButton.__super__._init.call(this)},ItalicButton.prototype._activeStatus=function(){var active;return active=!0===document.queryCommandState("italic"),this.setActive(active),this.active},ItalicButton.prototype.command=function(){return document.execCommand("italic"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),$(document).trigger("selectionchange")},ItalicButton}(Button),Simditor.Toolbar.addButton(ItalicButton),UnderlineButton=function(superClass){function UnderlineButton(){return UnderlineButton.__super__.constructor.apply(this,arguments)}return extend(UnderlineButton,superClass),UnderlineButton.prototype.name="underline",UnderlineButton.prototype.icon="underline",UnderlineButton.prototype.htmlTag="u",UnderlineButton.prototype.disableTag="pre",UnderlineButton.prototype.shortcut="cmd+u",UnderlineButton.prototype.render=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + u )":(this.title=this.title+" ( Ctrl + u )",this.shortcut="ctrl+u"),UnderlineButton.__super__.render.call(this)},UnderlineButton.prototype._activeStatus=function(){var active;return active=!0===document.queryCommandState("underline"),this.setActive(active),this.active},UnderlineButton.prototype.command=function(){return document.execCommand("underline"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),$(document).trigger("selectionchange")},UnderlineButton}(Button),Simditor.Toolbar.addButton(UnderlineButton),ColorButton=function(superClass){function ColorButton(){return ColorButton.__super__.constructor.apply(this,arguments)}return extend(ColorButton,superClass),ColorButton.prototype.name="color",ColorButton.prototype.icon="tint",ColorButton.prototype.disableTag="pre",ColorButton.prototype.menu=!0,ColorButton.prototype.render=function(){var args;return args=1<=arguments.length?slice.call(arguments,0):[],ColorButton.__super__.render.apply(this,args)},ColorButton.prototype.renderMenu=function(){return $('<ul class="color-list">\n  <li><a href="javascript:;" class="font-color font-color-1"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-2"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-3"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-4"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-5"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-6"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-7"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-default"></a></li>\n</ul>').appendTo(this.menuWrapper),this.menuWrapper.on("mousedown",".color-list",function(e){return!1}),this.menuWrapper.on("click",".font-color",function(_this){return function(e){var $link,$p,hex,range,rgb,textNode;if(_this.wrapper.removeClass("menu-on"),$link=$(e.currentTarget),$link.hasClass("font-color-default")){if($p=_this.editor.body.find("p, li"),!($p.length>0))return;rgb=window.getComputedStyle($p[0],null).getPropertyValue("color"),hex=_this._convertRgbToHex(rgb)}else rgb=window.getComputedStyle($link[0],null).getPropertyValue("background-color"),hex=_this._convertRgbToHex(rgb);if(hex)return range=_this.editor.selection.range(),!$link.hasClass("font-color-default")&&range.collapsed&&(textNode=document.createTextNode(_this._t("coloredText")),range.insertNode(textNode),range.selectNodeContents(textNode),_this.editor.selection.range(range)),document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,hex),document.execCommand("styleWithCSS",!1,!1),_this.editor.util.support.oninput?void 0:_this.editor.trigger("valuechanged")}}(this))},ColorButton.prototype._convertRgbToHex=function(rgb){var match,re;return re=/rgb\((\d+),\s?(\d+),\s?(\d+)\)/g,(match=re.exec(rgb))?function(r,g,b){var componentToHex;return"#"+(componentToHex=function(c){var hex;return hex=c.toString(16),1===hex.length?"0"+hex:hex})(r)+componentToHex(g)+componentToHex(b)}(1*match[1],1*match[2],1*match[3]):""},ColorButton}(Button),Simditor.Toolbar.addButton(ColorButton),ListButton=function(superClass){function ListButton(){return ListButton.__super__.constructor.apply(this,arguments)}return extend(ListButton,superClass),ListButton.prototype.type="",ListButton.prototype.disableTag="pre, table",ListButton.prototype.command=function(param){var $list,$rootNodes,anotherType;return $rootNodes=this.editor.selection.blockNodes(),anotherType="ul"===this.type?"ol":"ul",this.editor.selection.save(),$list=null,$rootNodes.each(function(_this){return function(i,node){var $node;if($node=$(node),!($node.is("blockquote, li")||$node.is(_this.disableTag)||_this.editor.util.isDecoratedNode($node))&&$.contains(document,node))return $node.is(_this.type)?($node.children("li").each(function(i,li){var $li;return $li=$(li),$li.children("ul, ol").insertAfter($node),$("<p/>").append($(li).html()||_this.editor.util.phBr).insertBefore($node)}),$node.remove()):$node.is(anotherType)?$("<"+_this.type+"/>").append($node.contents()).replaceAll($node):$list&&$node.prev().is($list)?($("<li/>").append($node.html()||_this.editor.util.phBr).appendTo($list),$node.remove()):($list=$("<"+_this.type+"><li></li></"+_this.type+">"),$list.find("li").append($node.html()||_this.editor.util.phBr),$list.replaceAll($node))}}(this)),this.editor.selection.restore(),this.editor.trigger("valuechanged")},ListButton}(Button),OrderListButton=function(superClass){function OrderListButton(){return OrderListButton.__super__.constructor.apply(this,arguments)}return extend(OrderListButton,superClass),OrderListButton.prototype.type="ol",OrderListButton.prototype.name="ol",OrderListButton.prototype.icon="list-ol",OrderListButton.prototype.htmlTag="ol",OrderListButton.prototype.shortcut="cmd+/",OrderListButton.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + / )":(this.title=this.title+" ( ctrl + / )",this.shortcut="ctrl+/"),OrderListButton.__super__._init.call(this)},OrderListButton}(ListButton),UnorderListButton=function(superClass){function UnorderListButton(){return UnorderListButton.__super__.constructor.apply(this,arguments)}return extend(UnorderListButton,superClass),UnorderListButton.prototype.type="ul",UnorderListButton.prototype.name="ul",UnorderListButton.prototype.icon="list-ul",UnorderListButton.prototype.htmlTag="ul",UnorderListButton.prototype.shortcut="cmd+.",UnorderListButton.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + . )":(this.title=this.title+" ( Ctrl + . )",this.shortcut="ctrl+."),UnorderListButton.__super__._init.call(this)},UnorderListButton}(ListButton),Simditor.Toolbar.addButton(OrderListButton),Simditor.Toolbar.addButton(UnorderListButton),BlockquoteButton=function(superClass){function BlockquoteButton(){return BlockquoteButton.__super__.constructor.apply(this,arguments)}return extend(BlockquoteButton,superClass),BlockquoteButton.prototype.name="blockquote",BlockquoteButton.prototype.icon="quote-left",BlockquoteButton.prototype.htmlTag="blockquote",BlockquoteButton.prototype.disableTag="pre, table",BlockquoteButton.prototype.command=function(){var $rootNodes,clearCache,nodeCache;return $rootNodes=this.editor.selection.rootNodes(),$rootNodes=$rootNodes.filter(function(i,node){return!$(node).parent().is("blockquote")}),this.editor.selection.save(),nodeCache=[],clearCache=function(_this){return function(){if(nodeCache.length>0)return $("<"+_this.htmlTag+"/>").insertBefore(nodeCache[0]).append(nodeCache),nodeCache.length=0}}(this),$rootNodes.each(function(_this){return function(i,node){var $node;if($node=$(node),$node.parent().is(_this.editor.body))return $node.is(_this.htmlTag)?(clearCache(),$node.children().unwrap()):$node.is(_this.disableTag)||_this.editor.util.isDecoratedNode($node)?clearCache():nodeCache.push(node)}}(this)),clearCache(),this.editor.selection.restore(),this.editor.trigger("valuechanged")},BlockquoteButton}(Button),Simditor.Toolbar.addButton(BlockquoteButton),CodeButton=function(superClass){function CodeButton(){return CodeButton.__super__.constructor.apply(this,arguments)}return extend(CodeButton,superClass),CodeButton.prototype.name="code",CodeButton.prototype.icon="code",CodeButton.prototype.htmlTag="pre",CodeButton.prototype.disableTag="ul, ol, table",CodeButton.prototype._init=function(){return CodeButton.__super__._init.call(this),this.editor.on("decorate",function(_this){return function(e,$el){return $el.find("pre").each(function(i,pre){return _this.decorate($(pre))})}}(this)),this.editor.on("undecorate",function(_this){return function(e,$el){return $el.find("pre").each(function(i,pre){return _this.undecorate($(pre))})}}(this))},CodeButton.prototype.render=function(){var args;return args=1<=arguments.length?slice.call(arguments,0):[],CodeButton.__super__.render.apply(this,args),this.popover=new CodePopover({button:this})},CodeButton.prototype._checkMode=function(){var range;return range=this.editor.selection.range(),$(range.cloneContents()).find(this.editor.util.blockNodes.join(","))>0||range.collapsed&&0===this.editor.selection.startNodes().filter("code").length?(this.inlineMode=!1,this.htmlTag="pre"):(this.inlineMode=!0,this.htmlTag="code")},CodeButton.prototype._status=function(){if(this._checkMode(),CodeButton.__super__._status.call(this),!this.inlineMode)return this.active?this.popover.show(this.node):this.popover.hide()},CodeButton.prototype.decorate=function($pre){var $code,lang,ref,ref1;if($code=$pre.find("> code"),$code.length>0&&(lang=null!=(ref=$code.attr("class"))&&null!=(ref1=ref.match(/lang-(\S+)/))?ref1[1]:void 0,$code.contents().unwrap(),lang))return $pre.attr("data-lang",lang)},CodeButton.prototype.undecorate=function($pre){var $code,lang;return lang=$pre.attr("data-lang"),$code=$("<code/>"),lang&&-1!==lang&&$code.addClass("lang-"+lang),$pre.wrapInner($code).removeAttr("data-lang")},CodeButton.prototype.command=function(){return this.inlineMode?this._inlineCommand():this._blockCommand()},CodeButton.prototype._blockCommand=function(){var $rootNodes,clearCache,nodeCache,resultNodes;return $rootNodes=this.editor.selection.rootNodes(),nodeCache=[],resultNodes=[],clearCache=function(_this){return function(){var $pre;if(nodeCache.length>0)return $pre=$("<"+_this.htmlTag+"/>").insertBefore(nodeCache[0]).text(_this.editor.formatter.clearHtml(nodeCache)),resultNodes.push($pre[0]),nodeCache.length=0}}(this),$rootNodes.each(function(_this){return function(i,node){var $node,$p;return $node=$(node),$node.is(_this.htmlTag)?(clearCache(),$p=$("<p/>").append($node.html().replace("\n","<br/>")).replaceAll($node),resultNodes.push($p[0])):$node.is(_this.disableTag)||_this.editor.util.isDecoratedNode($node)||$node.is("blockquote")?clearCache():nodeCache.push(node)}}(this)),clearCache(),this.editor.selection.setRangeAtEndOf($(resultNodes).last()),this.editor.trigger("valuechanged")},CodeButton.prototype._inlineCommand=function(){var $code,$contents,range;return range=this.editor.selection.range(),this.active?(range.selectNodeContents(this.node[0]),this.editor.selection.save(range),this.node.contents().unwrap(),this.editor.selection.restore()):($contents=$(range.extractContents()),$code=$("<"+this.htmlTag+"/>").append($contents.contents()),range.insertNode($code[0]),range.selectNodeContents($code[0]),this.editor.selection.range(range)),this.editor.trigger("valuechanged")},CodeButton}(Button),CodePopover=function(superClass){function CodePopover(){return CodePopover.__super__.constructor.apply(this,arguments)}return extend(CodePopover,superClass),CodePopover.prototype.render=function(){var k,lang,len,ref;for(this._tpl='<div class="code-settings">\n  <div class="settings-field">\n    <select class="select-lang">\n      <option value="-1">'+this._t("selectLanguage")+"</option>\n    </select>\n  </div>\n</div>",this.langs=this.editor.opts.codeLanguages||[{name:"Bash",value:"bash"},{name:"C++",value:"c++"},{name:"C#",value:"cs"},{name:"CSS",value:"css"},{name:"Erlang",value:"erlang"},{name:"Less",value:"less"},{name:"Sass",value:"sass"},{name:"Diff",value:"diff"},{name:"CoffeeScript",value:"coffeescript"},{name:"HTML,XML",value:"html"},{name:"JSON",value:"json"},{name:"Java",value:"java"},{name:"JavaScript",value:"js"},{name:"Markdown",value:"markdown"},{name:"Objective C",value:"oc"},{name:"PHP",value:"php"},{name:"Perl",value:"parl"},{name:"Python",value:"python"},{name:"Ruby",value:"ruby"},{name:"SQL",value:"sql"}],this.el.addClass("code-popover").append(this._tpl),this.selectEl=this.el.find(".select-lang"),ref=this.langs,k=0,len=ref.length;k<len;k++)lang=ref[k],$("<option/>",{text:lang.name,value:lang.value}).appendTo(this.selectEl);return this.selectEl.on("change",function(_this){return function(e){var selected;return _this.lang=_this.selectEl.val(),selected=_this.target.hasClass("selected"),_this.target.removeClass().removeAttr("data-lang"),-1!==_this.lang&&_this.target.attr("data-lang",_this.lang),selected&&_this.target.addClass("selected"),_this.editor.trigger("valuechanged")}}(this)),this.editor.on("valuechanged",function(_this){return function(e){if(_this.active)return _this.refresh()}}(this))},CodePopover.prototype.show=function(){var args;return args=1<=arguments.length?slice.call(arguments,0):[],CodePopover.__super__.show.apply(this,args),this.lang=this.target.attr("data-lang"),null!=this.lang?this.selectEl.val(this.lang):this.selectEl.val(-1)},CodePopover}(Popover),Simditor.Toolbar.addButton(CodeButton),LinkButton=function(superClass){function LinkButton(){return LinkButton.__super__.constructor.apply(this,arguments)}return extend(LinkButton,superClass),LinkButton.prototype.name="link",LinkButton.prototype.icon="link",LinkButton.prototype.htmlTag="a",LinkButton.prototype.disableTag="pre",LinkButton.prototype.render=function(){var args;return args=1<=arguments.length?slice.call(arguments,0):[],LinkButton.__super__.render.apply(this,args),this.popover=new LinkPopover({button:this})},LinkButton.prototype._status=function(){return LinkButton.__super__._status.call(this),this.active&&!this.editor.selection.rangeAtEndOf(this.node)?this.popover.show(this.node):this.popover.hide()},LinkButton.prototype.command=function(){var $contents,$link,$newBlock,linkText,range,txtNode;return range=this.editor.selection.range(),this.active?(txtNode=document.createTextNode(this.node.text()),this.node.replaceWith(txtNode),range.selectNode(txtNode)):($contents=$(range.extractContents()),linkText=this.editor.formatter.clearHtml($contents.contents(),!1),$link=$("<a/>",{href:"http://www.example.com",target:"_blank",text:linkText||this._t("linkText")}),this.editor.selection.blockNodes().length>0?range.insertNode($link[0]):($newBlock=$("<p/>").append($link),range.insertNode($newBlock[0])),range.selectNodeContents($link[0]),this.popover.one("popovershow",function(_this){return function(){return linkText?(_this.popover.urlEl.focus(),_this.popover.urlEl[0].select()):(_this.popover.textEl.focus(),_this.popover.textEl[0].select())}}(this))),this.editor.selection.range(range),this.editor.trigger("valuechanged")},LinkButton}(Button),LinkPopover=function(superClass){function LinkPopover(){return LinkPopover.__super__.constructor.apply(this,arguments)}return extend(LinkPopover,superClass),LinkPopover.prototype.render=function(){var tpl;return tpl='<div class="link-settings">\n  <div class="settings-field">\n    <label>'+this._t("linkText")+'</label>\n    <input class="link-text" type="text"/>\n    <a class="btn-unlink" href="javascript:;" title="'+this._t("removeLink")+'"\n      tabindex="-1">\n      <span class="simditor-icon simditor-icon-unlink"></span>\n    </a>\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("linkUrl")+'</label>\n    <input class="link-url" type="text"/>\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("linkTarget")+'</label>\n    <select class="link-target">\n      <option value="_blank">'+this._t("openLinkInNewWindow")+' (_blank)</option>\n      <option value="_self">'+this._t("openLinkInCurrentWindow")+" (_self)</option>\n    </select>\n  </div>\n</div>",this.el.addClass("link-popover").append(tpl),this.textEl=this.el.find(".link-text"),this.urlEl=this.el.find(".link-url"),this.unlinkEl=this.el.find(".btn-unlink"),this.selectTarget=this.el.find(".link-target"),this.textEl.on("keyup",function(_this){return function(e){if(13!==e.which)return _this.target.text(_this.textEl.val()),_this.editor.inputManager.throttledValueChanged()}}(this)),this.urlEl.on("keyup",function(_this){return function(e){var val;if(13!==e.which)return val=_this.urlEl.val(),!/https?:\/\/|^\//gi.test(val)&&val&&(val="http://"+val),_this.target.attr("href",val),_this.editor.inputManager.throttledValueChanged()}}(this)),$([this.urlEl[0],this.textEl[0]]).on("keydown",function(_this){return function(e){var range;if(13===e.which||27===e.which||!e.shiftKey&&9===e.which&&$(e.target).hasClass("link-url"))return e.preventDefault(),range=document.createRange(),_this.editor.selection.setRangeAfter(_this.target,range),_this.hide(),_this.editor.inputManager.throttledValueChanged()}}(this)),this.unlinkEl.on("click",function(_this){return function(e){var range,txtNode;return txtNode=document.createTextNode(_this.target.text()),_this.target.replaceWith(txtNode),_this.hide(),range=document.createRange(),_this.editor.selection.setRangeAfter(txtNode,range),_this.editor.inputManager.throttledValueChanged()}}(this)),this.selectTarget.on("change",function(_this){return function(e){return _this.target.attr("target",_this.selectTarget.val()),_this.editor.inputManager.throttledValueChanged()}}(this))},LinkPopover.prototype.show=function(){var args;return args=1<=arguments.length?slice.call(arguments,0):[],LinkPopover.__super__.show.apply(this,args),this.textEl.val(this.target.text()),this.urlEl.val(this.target.attr("href"))},LinkPopover}(Popover),Simditor.Toolbar.addButton(LinkButton),ImageButton=function(superClass){function ImageButton(){return ImageButton.__super__.constructor.apply(this,arguments)}return extend(ImageButton,superClass),ImageButton.prototype.name="image",ImageButton.prototype.icon="picture-o",ImageButton.prototype.htmlTag="img",ImageButton.prototype.disableTag="pre, table",ImageButton.prototype.defaultImage="",ImageButton.prototype.needFocus=!1,ImageButton.prototype._init=function(){var item,k,len,ref;if(this.editor.opts.imageButton)if(Array.isArray(this.editor.opts.imageButton))for(this.menu=[],ref=this.editor.opts.imageButton,k=0,len=ref.length;k<len;k++)item=ref[k],this.menu.push({name:item+"-image",text:this._t(item+"Image")});else this.menu=!1;else null!=this.editor.uploader?this.menu=[{name:"upload-image",text:this._t("uploadImage")},{name:"external-image",text:this._t("externalImage")}]:this.menu=!1;return this.defaultImage=this.editor.opts.defaultImage,this.editor.body.on("click","img:not([data-non-image])",function(_this){return function(e){var $img,range;return $img=$(e.currentTarget),range=document.createRange(),range.selectNode($img[0]),_this.editor.selection.range(range),_this.editor.util.support.onselectionchange||_this.editor.trigger("selectionchanged"),!1}}(this)),this.editor.body.on("mouseup","img:not([data-non-image])",function(e){return!1}),this.editor.on("selectionchanged.image",function(_this){return function(){var $contents,$img,range;if(null!=(range=_this.editor.selection.range()))return $contents=$(range.cloneContents()).contents(),1===$contents.length&&$contents.is("img:not([data-non-image])")?($img=$(range.startContainer).contents().eq(range.startOffset),_this.popover.show($img)):_this.popover.hide()}}(this)),this.editor.on("valuechanged.image",function(_this){return function(){var $masks;if($masks=_this.editor.wrapper.find(".simditor-image-loading"),$masks.length>0)return $masks.each(function(i,mask){var $img,$mask,file;if($mask=$(mask),!(($img=$mask.data("img"))&&$img.parent().length>0)&&($mask.remove(),$img&&(file=$img.data("file"))&&(_this.editor.uploader.cancel(file),_this.editor.body.find("img.uploading").length<1)))return _this.editor.uploader.trigger("uploadready",[file])})}}(this)),ImageButton.__super__._init.call(this)},ImageButton.prototype.render=function(){var args;if(args=1<=arguments.length?slice.call(arguments,0):[],ImageButton.__super__.render.apply(this,args),this.popover=new ImagePopover({button:this}),"upload"===this.editor.opts.imageButton)return this._initUploader(this.el)},ImageButton.prototype.renderMenu=function(){return ImageButton.__super__.renderMenu.call(this),this._initUploader()},ImageButton.prototype._initUploader=function($uploadItem){var $input,createInput,uploadProgress;return null==$uploadItem&&($uploadItem=this.menuEl.find(".menu-item-upload-image")),null==this.editor.uploader?void this.el.find(".btn-upload").remove():($input=null,createInput=function(_this){return function(){return $input&&$input.remove(),$input=$("<input/>",{type:"file",title:_this._t("uploadImage"),multiple:!0,accept:"image/*"}).appendTo($uploadItem)}}(this),createInput(),$uploadItem.on("click mousedown","input[type=file]",function(e){return e.stopPropagation()}),$uploadItem.on("change","input[type=file]",function(_this){return function(e){return _this.editor.inputManager.focused?(_this.editor.uploader.upload($input,{inline:!0}),createInput()):(_this.editor.one("focus",function(e){return _this.editor.uploader.upload($input,{inline:!0}),createInput()}),_this.editor.focus()),_this.wrapper.removeClass("menu-on")}}(this)),this.editor.uploader.on("beforeupload",function(_this){return function(e,file){var $img;if(file.inline)return file.img?$img=$(file.img):($img=_this.createImage(file.name),file.img=$img),$img.addClass("uploading"),$img.data("file",file),_this.editor.uploader.readImageFile(file.obj,function(img){var src;if($img.hasClass("uploading"))return src=img?img.src:_this.defaultImage,_this.loadImage($img,src,function(){if(_this.popover.active)return _this.popover.refresh(),_this.popover.srcEl.val(_this._t("uploading")).prop("disabled",!0)})})}}(this)),uploadProgress=$.proxy(this.editor.util.throttle(function(e,file,loaded,total){var $img,$mask,percent;if(file.inline&&($mask=file.img.data("mask")))return $img=$mask.data("img"),$img.hasClass("uploading")&&$img.parent().length>0?(percent=loaded/total,percent=(100*percent).toFixed(0),percent>99&&(percent=99),$mask.find(".progress").height(100-percent+"%")):void $mask.remove()},500),this),this.editor.uploader.on("uploadprogress",uploadProgress),this.editor.uploader.on("uploadsuccess",function(_this){return function(e,file,result){var $img,img_path,msg;if(file.inline&&($img=file.img,$img.hasClass("uploading")&&$img.parent().length>0)){if("object"!=typeof result)try{result=$.parseJSON(result)}catch(_error){_error,result={success:!1}}return!1===result.success?(msg=result.msg||_this._t("uploadFailed"),alert(msg),img_path=_this.defaultImage):img_path=result.file_path,_this.loadImage($img,img_path,function(){var $mask;if($img.removeData("file"),$img.removeClass("uploading").removeClass("loading"),$mask=$img.data("mask"),$mask&&$mask.remove(),$img.removeData("mask"),_this.editor.trigger("valuechanged"),_this.editor.body.find("img.uploading").length<1)return _this.editor.uploader.trigger("uploadready",[file,result])}),_this.popover.active?(_this.popover.srcEl.prop("disabled",!1),_this.popover.srcEl.val(result.file_path)):void 0}}}(this)),this.editor.uploader.on("uploaderror",function(_this){return function(e,file,xhr){var $img,msg,result;if(file.inline&&"abort"!==xhr.statusText){if(xhr.responseText){try{result=$.parseJSON(xhr.responseText),msg=result.msg}catch(_error){_error,msg=_this._t("uploadError")}alert(msg)}if($img=file.img,$img.hasClass("uploading")&&$img.parent().length>0)return _this.loadImage($img,_this.defaultImage,function(){var $mask;return $img.removeData("file"),$img.removeClass("uploading").removeClass("loading"),$mask=$img.data("mask"),$mask&&$mask.remove(),$img.removeData("mask")}),_this.popover.active&&(_this.popover.srcEl.prop("disabled",!1),_this.popover.srcEl.val(_this.defaultImage)),_this.editor.trigger("valuechanged"),_this.editor.body.find("img.uploading").length<1?_this.editor.uploader.trigger("uploadready",[file,result]):void 0}}}(this)))},ImageButton.prototype._status=function(){return this._disableStatus()},ImageButton.prototype.loadImage=function($img,src,callback){var $mask,img,positionMask;return positionMask=function(_this){return function(){var imgOffset,wrapperOffset;return imgOffset=$img.offset(),wrapperOffset=_this.editor.wrapper.offset(),$mask.css({top:imgOffset.top-wrapperOffset.top,left:imgOffset.left-wrapperOffset.left,width:$img.width(),height:$img.height()}).show()}}(this),$img.addClass("loading"),$mask=$img.data("mask"),$mask||($mask=$('<div class="simditor-image-loading">\n  <div class="progress"></div>\n</div>').hide().appendTo(this.editor.wrapper),positionMask(),$img.data("mask",$mask),$mask.data("img",$img)),img=new Image,img.onload=function(_this){return function(){var height,width;if($img.hasClass("loading")||$img.hasClass("uploading"))return width=img.width,height=img.height,$img.attr({src:src,width:width,height:height,"data-image-size":width+","+height}).removeClass("loading"),$img.hasClass("uploading")?(_this.editor.util.reflow(_this.editor.body),positionMask()):($mask.remove(),$img.removeData("mask")),$.isFunction(callback)?callback(img):void 0}}(this),img.onerror=function(){return $.isFunction(callback)&&callback(!1),$mask.remove(),$img.removeData("mask").removeClass("loading")},img.src=src},ImageButton.prototype.createImage=function(name){var $img,range;return null==name&&(name="Image"),this.editor.inputManager.focused||this.editor.focus(),range=this.editor.selection.range(),range.deleteContents(),this.editor.selection.range(range),$img=$("<img/>").attr("alt",name),range.insertNode($img[0]),this.editor.selection.setRangeAfter($img,range),this.editor.trigger("valuechanged"),$img},ImageButton.prototype.command=function(src){var $img;return $img=this.createImage(),this.loadImage($img,src||this.defaultImage,function(_this){return function(){return _this.editor.trigger("valuechanged"),_this.editor.util.reflow($img),$img.click(),
_this.popover.one("popovershow",function(){return _this.popover.srcEl.focus(),_this.popover.srcEl[0].select()})}}(this))},ImageButton}(Button),ImagePopover=function(superClass){function ImagePopover(){return ImagePopover.__super__.constructor.apply(this,arguments)}return extend(ImagePopover,superClass),ImagePopover.prototype.offset={top:6,left:-4},ImagePopover.prototype.render=function(){var tpl;return tpl='<div class="link-settings">\n  <div class="settings-field">\n    <label>'+this._t("imageUrl")+'</label>\n    <input class="image-src" type="text" tabindex="1" />\n    <a class="btn-upload" href="javascript:;"\n      title="'+this._t("uploadImage")+'" tabindex="-1">\n      <span class="simditor-icon simditor-icon-upload"></span>\n    </a>\n  </div>\n  <div class=\'settings-field\'>\n    <label>'+this._t("imageAlt")+'</label>\n    <input class="image-alt" id="image-alt" type="text" tabindex="1" />\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("imageSize")+'</label>\n    <input class="image-size" id="image-width" type="text" tabindex="2" />\n    <span class="times">×</span>\n    <input class="image-size" id="image-height" type="text" tabindex="3" />\n    <a class="btn-restore" href="javascript:;"\n      title="'+this._t("restoreImageSize")+'" tabindex="-1">\n      <span class="simditor-icon simditor-icon-undo"></span>\n    </a>\n  </div>\n</div>',this.el.addClass("image-popover").append(tpl),this.srcEl=this.el.find(".image-src"),this.widthEl=this.el.find("#image-width"),this.heightEl=this.el.find("#image-height"),this.altEl=this.el.find("#image-alt"),this.srcEl.on("keydown",function(_this){return function(e){var range;if(13===e.which&&!_this.target.hasClass("uploading"))return e.preventDefault(),range=document.createRange(),_this.button.editor.selection.setRangeAfter(_this.target,range),_this.hide()}}(this)),this.srcEl.on("blur",function(_this){return function(e){return _this._loadImage(_this.srcEl.val())}}(this)),this.el.find(".image-size").on("blur",function(_this){return function(e){return _this._resizeImg($(e.currentTarget)),_this.el.data("popover").refresh()}}(this)),this.el.find(".image-size").on("keyup",function(_this){return function(e){var inputEl;if(inputEl=$(e.currentTarget),13!==e.which&&27!==e.which&&9!==e.which)return _this._resizeImg(inputEl,!0)}}(this)),this.el.find(".image-size").on("keydown",function(_this){return function(e){var $img,inputEl,range;return inputEl=$(e.currentTarget),13===e.which||27===e.which?(e.preventDefault(),13===e.which?_this._resizeImg(inputEl):_this._restoreImg(),$img=_this.target,_this.hide(),range=document.createRange(),_this.button.editor.selection.setRangeAfter($img,range)):9===e.which?_this.el.data("popover").refresh():void 0}}(this)),this.altEl.on("keydown",function(_this){return function(e){var range;if(13===e.which)return e.preventDefault(),range=document.createRange(),_this.button.editor.selection.setRangeAfter(_this.target,range),_this.hide()}}(this)),this.altEl.on("keyup",function(_this){return function(e){if(13!==e.which&&27!==e.which&&9!==e.which)return _this.alt=_this.altEl.val(),_this.target.attr("alt",_this.alt)}}(this)),this.el.find(".btn-restore").on("click",function(_this){return function(e){return _this._restoreImg(),_this.el.data("popover").refresh()}}(this)),this.editor.on("valuechanged",function(_this){return function(e){if(_this.active)return _this.refresh()}}(this)),this._initUploader()},ImagePopover.prototype._initUploader=function(){var $uploadBtn,createInput;return $uploadBtn=this.el.find(".btn-upload"),null==this.editor.uploader?void $uploadBtn.remove():(createInput=function(_this){return function(){return _this.input&&_this.input.remove(),_this.input=$("<input/>",{type:"file",title:_this._t("uploadImage"),multiple:!0,accept:"image/*"}).appendTo($uploadBtn)}}(this),createInput(),this.el.on("click mousedown","input[type=file]",function(e){return e.stopPropagation()}),this.el.on("change","input[type=file]",function(_this){return function(e){return _this.editor.uploader.upload(_this.input,{inline:!0,img:_this.target}),createInput()}}(this)))},ImagePopover.prototype._resizeImg=function(inputEl,onlySetVal){var height,value,width;if(null==onlySetVal&&(onlySetVal=!1),value=1*inputEl.val(),this.target&&($.isNumeric(value)||value<0))return inputEl.is(this.widthEl)?(width=value,height=this.height*value/this.width,this.heightEl.val(height)):(height=value,width=this.width*value/this.height,this.widthEl.val(width)),onlySetVal?void 0:(this.target.attr({width:width,height:height}),this.editor.trigger("valuechanged"))},ImagePopover.prototype._restoreImg=function(){var ref,size;return size=(null!=(ref=this.target.data("image-size"))?ref.split(","):void 0)||[this.width,this.height],this.target.attr({width:1*size[0],height:1*size[1]}),this.widthEl.val(size[0]),this.heightEl.val(size[1]),this.editor.trigger("valuechanged")},ImagePopover.prototype._loadImage=function(src,callback){if(/^data:image/.test(src)&&!this.editor.uploader)return void(callback&&callback(!1));if(this.target.attr("src")!==src)return this.button.loadImage(this.target,src,function(_this){return function(img){var blob;if(img)return _this.active&&(_this.width=img.width,_this.height=img.height,_this.widthEl.val(_this.width),_this.heightEl.val(_this.height)),/^data:image/.test(src)?(blob=_this.editor.util.dataURLtoBlob(src),blob.name="Base64 Image.png",_this.editor.uploader.upload(blob,{inline:!0,img:_this.target})):_this.editor.trigger("valuechanged"),callback?callback(img):void 0}}(this))},ImagePopover.prototype.show=function(){var $img,args;return args=1<=arguments.length?slice.call(arguments,0):[],ImagePopover.__super__.show.apply(this,args),$img=this.target,this.width=$img.width(),this.height=$img.height(),this.alt=$img.attr("alt"),$img.hasClass("uploading")?this.srcEl.val(this._t("uploading")).prop("disabled",!0):(this.srcEl.val($img.attr("src")).prop("disabled",!1),this.widthEl.val(this.width),this.heightEl.val(this.height),this.altEl.val(this.alt))},ImagePopover}(Popover),Simditor.Toolbar.addButton(ImageButton),IndentButton=function(superClass){function IndentButton(){return IndentButton.__super__.constructor.apply(this,arguments)}return extend(IndentButton,superClass),IndentButton.prototype.name="indent",IndentButton.prototype.icon="indent",IndentButton.prototype._init=function(){return this.title=this._t(this.name)+" (Tab)",IndentButton.__super__._init.call(this)},IndentButton.prototype._status=function(){},IndentButton.prototype.command=function(){return this.editor.indentation.indent()},IndentButton}(Button),Simditor.Toolbar.addButton(IndentButton),OutdentButton=function(superClass){function OutdentButton(){return OutdentButton.__super__.constructor.apply(this,arguments)}return extend(OutdentButton,superClass),OutdentButton.prototype.name="outdent",OutdentButton.prototype.icon="outdent",OutdentButton.prototype._init=function(){return this.title=this._t(this.name)+" (Shift + Tab)",OutdentButton.__super__._init.call(this)},OutdentButton.prototype._status=function(){},OutdentButton.prototype.command=function(){return this.editor.indentation.indent(!0)},OutdentButton}(Button),Simditor.Toolbar.addButton(OutdentButton),HrButton=function(superClass){function HrButton(){return HrButton.__super__.constructor.apply(this,arguments)}return extend(HrButton,superClass),HrButton.prototype.name="hr",HrButton.prototype.icon="minus",HrButton.prototype.htmlTag="hr",HrButton.prototype._status=function(){},HrButton.prototype.command=function(){var $hr,$newBlock,$nextBlock,$rootBlock;return $rootBlock=this.editor.selection.rootNodes().first(),$nextBlock=$rootBlock.next(),$nextBlock.length>0?this.editor.selection.save():$newBlock=$("<p/>").append(this.editor.util.phBr),$hr=$("<hr/>").insertAfter($rootBlock),$newBlock?($newBlock.insertAfter($hr),this.editor.selection.setRangeAtStartOf($newBlock)):this.editor.selection.restore(),this.editor.trigger("valuechanged")},HrButton}(Button),Simditor.Toolbar.addButton(HrButton),TableButton=function(superClass){function TableButton(){return TableButton.__super__.constructor.apply(this,arguments)}return extend(TableButton,superClass),TableButton.prototype.name="table",TableButton.prototype.icon="table",TableButton.prototype.htmlTag="table",TableButton.prototype.disableTag="pre, li, blockquote",TableButton.prototype.menu=!0,TableButton.prototype._init=function(){return TableButton.__super__._init.call(this),$.merge(this.editor.formatter._allowedTags,["thead","th","tbody","tr","td","colgroup","col"]),$.extend(this.editor.formatter._allowedAttributes,{td:["rowspan","colspan"],col:["width"]}),$.extend(this.editor.formatter._allowedStyles,{td:["text-align"],th:["text-align"]}),this._initShortcuts(),this.editor.on("decorate",function(_this){return function(e,$el){return $el.find("table").each(function(i,table){return _this.decorate($(table))})}}(this)),this.editor.on("undecorate",function(_this){return function(e,$el){return $el.find("table").each(function(i,table){return _this.undecorate($(table))})}}(this)),this.editor.on("selectionchanged.table",function(_this){return function(e){var $container,range;if(_this.editor.body.find(".simditor-table td, .simditor-table th").removeClass("active"),range=_this.editor.selection.range())return $container=_this.editor.selection.containerNode(),range.collapsed&&$container.is(".simditor-table")&&($container=_this.editor.selection.rangeAtStartOf($container)?$container.find("th:first"):$container.find("td:last"),_this.editor.selection.setRangeAtEndOf($container)),$container.closest("td, th",_this.editor.body).addClass("active")}}(this)),this.editor.on("blur.table",function(_this){return function(e){return _this.editor.body.find(".simditor-table td, .simditor-table th").removeClass("active")}}(this)),this.editor.keystroke.add("up","td",function(_this){return function(e,$node){return _this._tdNav($node,"up"),!0}}(this)),this.editor.keystroke.add("up","th",function(_this){return function(e,$node){return _this._tdNav($node,"up"),!0}}(this)),this.editor.keystroke.add("down","td",function(_this){return function(e,$node){return _this._tdNav($node,"down"),!0}}(this)),this.editor.keystroke.add("down","th",function(_this){return function(e,$node){return _this._tdNav($node,"down"),!0}}(this))},TableButton.prototype._tdNav=function($td,direction){var $anotherTr,$tr,action,index,ref;return null==direction&&(direction="up"),action="up"===direction?"prev":"next",ref="up"===direction?["tbody","thead"]:["thead","tbody"],ref[0],ref[1],$tr=$td.parent("tr"),$anotherTr=this["_"+action+"Row"]($tr),!($anotherTr.length>0)||(index=$tr.find("td, th").index($td),this.editor.selection.setRangeAtEndOf($anotherTr.find("td, th").eq(index)))},TableButton.prototype._nextRow=function($tr){var $nextTr;return $nextTr=$tr.next("tr"),$nextTr.length<1&&$tr.parent("thead").length>0&&($nextTr=$tr.parent("thead").next("tbody").find("tr:first")),$nextTr},TableButton.prototype._prevRow=function($tr){var $prevTr;return $prevTr=$tr.prev("tr"),$prevTr.length<1&&$tr.parent("tbody").length>0&&($prevTr=$tr.parent("tbody").prev("thead").find("tr")),$prevTr},TableButton.prototype.initResize=function($table){var $colgroup,$resizeHandle,$wrapper;return $wrapper=$table.parent(".simditor-table"),$colgroup=$table.find("colgroup"),$colgroup.length<1&&($colgroup=$("<colgroup/>").prependTo($table),$table.find("thead tr th").each(function(i,td){return $("<col/>").appendTo($colgroup)}),this.refreshTableWidth($table)),$resizeHandle=$("<div />",{class:"simditor-resize-handle",contenteditable:"false"}).appendTo($wrapper),$wrapper.on("mousemove","td, th",function(e){var $col,$td,index,ref,ref1,x;if(!$wrapper.hasClass("resizing"))return $td=$(e.currentTarget),x=e.pageX-$(e.currentTarget).offset().left,x<5&&$td.prev().length>0&&($td=$td.prev()),$td.next("td, th").length<1?void $resizeHandle.hide():(null!=(ref=$resizeHandle.data("td"))?ref.is($td):void 0)?void $resizeHandle.show():(index=$td.parent().find("td, th").index($td),$col=$colgroup.find("col").eq(index),(null!=(ref1=$resizeHandle.data("col"))?ref1.is($col):void 0)?void $resizeHandle.show():$resizeHandle.css("left",$td.position().left+$td.outerWidth()-5).data("td",$td).data("col",$col).show())}),$wrapper.on("mouseleave",function(e){return $resizeHandle.hide()}),$wrapper.on("mousedown",".simditor-resize-handle",function(e){var $handle,$leftCol,$leftTd,$rightCol,$rightTd,minWidth,startHandleLeft,startLeftWidth,startRightWidth,startX,tableWidth;return $handle=$(e.currentTarget),$leftTd=$handle.data("td"),$leftCol=$handle.data("col"),$rightTd=$leftTd.next("td, th"),$rightCol=$leftCol.next("col"),startX=e.pageX,startLeftWidth=1*$leftTd.outerWidth(),startRightWidth=1*$rightTd.outerWidth(),startHandleLeft=parseFloat($handle.css("left")),tableWidth=$leftTd.closest("table").width(),minWidth=50,$(document).on("mousemove.simditor-resize-table",function(e){var deltaX,leftWidth,rightWidth;return deltaX=e.pageX-startX,leftWidth=startLeftWidth+deltaX,rightWidth=startRightWidth-deltaX,leftWidth<minWidth?(leftWidth=minWidth,deltaX=minWidth-startLeftWidth,rightWidth=startRightWidth-deltaX):rightWidth<minWidth&&(rightWidth=minWidth,deltaX=startRightWidth-minWidth,leftWidth=startLeftWidth+deltaX),$leftCol.attr("width",leftWidth/tableWidth*100+"%"),$rightCol.attr("width",rightWidth/tableWidth*100+"%"),$handle.css("left",startHandleLeft+deltaX)}),$(document).one("mouseup.simditor-resize-table",function(e){return $(document).off(".simditor-resize-table"),$wrapper.removeClass("resizing")}),$wrapper.addClass("resizing"),!1})},TableButton.prototype._initShortcuts=function(){return this.editor.hotkeys.add("ctrl+alt+up",function(_this){return function(e){return _this.editMenu.find(".menu-item[data-param=insertRowAbove]").click(),!1}}(this)),this.editor.hotkeys.add("ctrl+alt+down",function(_this){return function(e){return _this.editMenu.find(".menu-item[data-param=insertRowBelow]").click(),!1}}(this)),this.editor.hotkeys.add("ctrl+alt+left",function(_this){return function(e){return _this.editMenu.find(".menu-item[data-param=insertColLeft]").click(),!1}}(this)),this.editor.hotkeys.add("ctrl+alt+right",function(_this){return function(e){return _this.editMenu.find(".menu-item[data-param=insertColRight]").click(),!1}}(this))},TableButton.prototype.decorate=function($table){var $headRow,$tbody,$thead;return $table.parent(".simditor-table").length>0&&this.undecorate($table),$table.wrap('<div class="simditor-table"></div>'),$table.find("thead").length<1&&($thead=$("<thead />"),$headRow=$table.find("tr").first(),$thead.append($headRow),this._changeCellTag($headRow,"th"),$tbody=$table.find("tbody"),$tbody.length>0?$tbody.before($thead):$table.prepend($thead)),this.initResize($table),$table.parent()},TableButton.prototype.undecorate=function($table){if($table.parent(".simditor-table").length>0)return $table.parent().replaceWith($table)},TableButton.prototype.renderMenu=function(){var $table;return $('<div class="menu-create-table">\n</div>\n<div class="menu-edit-table">\n  <ul>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteRow">\n        <span>'+this._t("deleteRow")+'</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertRowAbove">\n        <span>'+this._t("insertRowAbove")+' ( Ctrl + Alt + ↑ )</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertRowBelow">\n        <span>'+this._t("insertRowBelow")+' ( Ctrl + Alt + ↓ )</span>\n      </a>\n    </li>\n    <li><span class="separator"></span></li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteCol">\n        <span>'+this._t("deleteColumn")+'</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertColLeft">\n        <span>'+this._t("insertColumnLeft")+' ( Ctrl + Alt + ← )</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertColRight">\n        <span>'+this._t("insertColumnRight")+' ( Ctrl + Alt + → )</span>\n      </a>\n    </li>\n    <li><span class="separator"></span></li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteTable">\n        <span>'+this._t("deleteTable")+"</span>\n      </a>\n    </li>\n  </ul>\n</div>").appendTo(this.menuWrapper),this.createMenu=this.menuWrapper.find(".menu-create-table"),this.editMenu=this.menuWrapper.find(".menu-edit-table"),$table=this.createTable(6,6).appendTo(this.createMenu),this.createMenu.on("mouseenter","td, th",function(_this){return function(e){var $td,$tr,$trs,num;return _this.createMenu.find("td, th").removeClass("selected"),$td=$(e.currentTarget),$tr=$td.parent(),num=$tr.find("td, th").index($td)+1,$trs=$tr.prevAll("tr").addBack(),$tr.parent().is("tbody")&&($trs=$trs.add($table.find("thead tr"))),$trs.find("td:lt("+num+"), th:lt("+num+")").addClass("selected")}}(this)),this.createMenu.on("mouseleave",function(e){return $(e.currentTarget).find("td, th").removeClass("selected")}),this.createMenu.on("mousedown","td, th",function(_this){return function(e){var $closestBlock,$td,$tr,colNum,rowNum;if(_this.wrapper.removeClass("menu-on"),_this.editor.inputManager.focused)return $td=$(e.currentTarget),$tr=$td.parent(),colNum=$tr.find("td").index($td)+1,rowNum=$tr.prevAll("tr").length+1,$tr.parent().is("tbody")&&(rowNum+=1),$table=_this.createTable(rowNum,colNum,!0),$closestBlock=_this.editor.selection.blockNodes().last(),_this.editor.util.isEmptyNode($closestBlock)?$closestBlock.replaceWith($table):$closestBlock.after($table),_this.decorate($table),_this.editor.selection.setRangeAtStartOf($table.find("th:first")),_this.editor.trigger("valuechanged"),!1}}(this))},TableButton.prototype.createTable=function(row,col,phBr){var $table,$tbody,$td,$thead,$tr,k,l,r,ref,ref1;for($table=$("<table/>"),$thead=$("<thead/>").appendTo($table),$tbody=$("<tbody/>").appendTo($table),r=k=0,ref=row;0<=ref?k<ref:k>ref;r=0<=ref?++k:--k)for($tr=$("<tr/>"),$tr.appendTo(0===r?$thead:$tbody),l=0,ref1=col;0<=ref1?l<ref1:l>ref1;0<=ref1?++l:--l)$td=$(0===r?"<th/>":"<td/>").appendTo($tr),phBr&&$td.append(this.editor.util.phBr);return $table},TableButton.prototype.refreshTableWidth=function($table){var cols,tableWidth;return tableWidth=$table.width(),cols=$table.find("col"),$table.find("thead tr th").each(function(i,td){var $col;return $col=cols.eq(i),$col.attr("width",$(td).outerWidth()/tableWidth*100+"%")})},TableButton.prototype.setActive=function(active){return TableButton.__super__.setActive.call(this,active),active?(this.createMenu.hide(),this.editMenu.show()):(this.createMenu.show(),this.editMenu.hide())},TableButton.prototype._changeCellTag=function($tr,tagName){return $tr.find("td, th").each(function(i,cell){var $cell;return $cell=$(cell),$cell.replaceWith("<"+tagName+">"+$cell.html()+"</"+tagName+">")})},TableButton.prototype.deleteRow=function($td){var $newTr,$tr,index;return $tr=$td.parent("tr"),$tr.closest("table").find("tr").length<1?this.deleteTable($td):($newTr=this._nextRow($tr),$newTr.length>0||($newTr=this._prevRow($tr)),index=$tr.find("td, th").index($td),$tr.parent().is("thead")&&($newTr.appendTo($tr.parent()),this._changeCellTag($newTr,"th")),$tr.remove(),this.editor.selection.setRangeAtEndOf($newTr.find("td, th").eq(index)))},TableButton.prototype.insertRow=function($td,direction){var $newTr,$table,$tr,cellTag,colNum,index,k,ref;for(null==direction&&(direction="after"),$tr=$td.parent("tr"),$table=$tr.closest("table"),colNum=0,$table.find("tr").each(function(i,tr){return colNum=Math.max(colNum,$(tr).find("td").length)}),index=$tr.find("td, th").index($td),$newTr=$("<tr/>"),cellTag="td","after"===direction&&$tr.parent().is("thead")?$tr.parent().next("tbody").prepend($newTr):"before"===direction&&$tr.parent().is("thead")?($tr.before($newTr),$tr.parent().next("tbody").prepend($tr),this._changeCellTag($tr,"td"),cellTag="th"):$tr[direction]($newTr),k=1,ref=colNum;1<=ref?k<=ref:k>=ref;1<=ref?++k:--k)$("<"+cellTag+"/>").append(this.editor.util.phBr).appendTo($newTr);return this.editor.selection.setRangeAtStartOf($newTr.find("td, th").eq(index))},TableButton.prototype.deleteCol=function($td){var $newTd,$table,$tr,index,noOtherCol,noOtherRow;return $tr=$td.parent("tr"),noOtherRow=$tr.closest("table").find("tr").length<2,noOtherCol=$td.siblings("td, th").length<1,noOtherRow&&noOtherCol?this.deleteTable($td):(index=$tr.find("td, th").index($td),$newTd=$td.next("td, th"),$newTd.length>0||($newTd=$tr.prev("td, th")),$table=$tr.closest("table"),$table.find("col").eq(index).remove(),$table.find("tr").each(function(i,tr){return $(tr).find("td, th").eq(index).remove()}),this.refreshTableWidth($table),this.editor.selection.setRangeAtEndOf($newTd))},TableButton.prototype.insertCol=function($td,direction){var $col,$newCol,$newTd,$table,$tr,index,tableWidth,width;return null==direction&&(direction="after"),$tr=$td.parent("tr"),index=$tr.find("td, th").index($td),$table=$td.closest("table"),$col=$table.find("col").eq(index),$table.find("tr").each(function(_this){return function(i,tr){var $newTd,cellTag;return cellTag=$(tr).parent().is("thead")?"th":"td",$newTd=$("<"+cellTag+"/>").append(_this.editor.util.phBr),$(tr).find("td, th").eq(index)[direction]($newTd)}}(this)),$newCol=$("<col/>"),$col[direction]($newCol),tableWidth=$table.width(),width=Math.max(parseFloat($col.attr("width"))/2,50/tableWidth*100),$col.attr("width",width+"%"),$newCol.attr("width",width+"%"),this.refreshTableWidth($table),$newTd="after"===direction?$td.next("td, th"):$td.prev("td, th"),this.editor.selection.setRangeAtStartOf($newTd)},TableButton.prototype.deleteTable=function($td){var $block,$table;if($table=$td.closest(".simditor-table"),$block=$table.next("p"),$table.remove(),$block.length>0)return this.editor.selection.setRangeAtStartOf($block)},TableButton.prototype.command=function(param){var $td;if($td=this.editor.selection.containerNode().closest("td, th"),$td.length>0){if("deleteRow"===param)this.deleteRow($td);else if("insertRowAbove"===param)this.insertRow($td,"before");else if("insertRowBelow"===param)this.insertRow($td);else if("deleteCol"===param)this.deleteCol($td);else if("insertColLeft"===param)this.insertCol($td,"before");else if("insertColRight"===param)this.insertCol($td);else{if("deleteTable"!==param)return;this.deleteTable($td)}return this.editor.trigger("valuechanged")}},TableButton}(Button),Simditor.Toolbar.addButton(TableButton),StrikethroughButton=function(superClass){function StrikethroughButton(){return StrikethroughButton.__super__.constructor.apply(this,arguments)}return extend(StrikethroughButton,superClass),StrikethroughButton.prototype.name="strikethrough",StrikethroughButton.prototype.icon="strikethrough",StrikethroughButton.prototype.htmlTag="strike",StrikethroughButton.prototype.disableTag="pre",StrikethroughButton.prototype._activeStatus=function(){var active;return active=!0===document.queryCommandState("strikethrough"),this.setActive(active),this.active},StrikethroughButton.prototype.command=function(){return document.execCommand("strikethrough"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),$(document).trigger("selectionchange")},StrikethroughButton}(Button),Simditor.Toolbar.addButton(StrikethroughButton),AlignmentButton=function(superClass){function AlignmentButton(){return AlignmentButton.__super__.constructor.apply(this,arguments)}return extend(AlignmentButton,superClass),AlignmentButton.prototype.name="alignment",AlignmentButton.prototype.icon="align-left",AlignmentButton.prototype.htmlTag="p, h1, h2, h3, h4, td, th",AlignmentButton.prototype._init=function(){return this.menu=[{name:"left",text:this._t("alignLeft"),icon:"align-left",param:"left"},{name:"center",text:this._t("alignCenter"),icon:"align-center",param:"center"},{name:"right",text:this._t("alignRight"),icon:"align-right",param:"right"}],AlignmentButton.__super__._init.call(this)},AlignmentButton.prototype.setActive=function(active,align){return null==align&&(align="left"),"left"!==align&&"center"!==align&&"right"!==align&&(align="left"),"left"===align?AlignmentButton.__super__.setActive.call(this,!1):AlignmentButton.__super__.setActive.call(this,active),this.el.removeClass("align-left align-center align-right"),active&&this.el.addClass("align-"+align),this.setIcon("align-"+align),this.menuEl.find(".menu-item").show().end().find(".menu-item-"+align).hide()},AlignmentButton.prototype._status=function(){return this.nodes=this.editor.selection.nodes().filter(this.htmlTag),this.nodes.length<1?(this.setDisabled(!0),this.setActive(!1)):(this.setDisabled(!1),this.setActive(!0,this.nodes.first().css("text-align")))},AlignmentButton.prototype.command=function(align){if("left"!==align&&"center"!==align&&"right"!==align)throw new Error("simditor alignment button: invalid align "+align);return this.nodes.css({"text-align":"left"===align?"":align}),this.editor.trigger("valuechanged"),this.editor.inputManager.throttledSelectionChanged()},AlignmentButton}(Button),Simditor.Toolbar.addButton(AlignmentButton),Simditor}),angular.module("ng.simditor",[]),angular.module("ng.simditor").directive("simditor",function(){var e=["title","bold","italic","underline","strikethrough","|","ol","ul","blockquote","code","table","|","link","image","hr","|","indent","outdent"];return{require:"?^ngModel",link:function(i,t,r,n){function d(){if(n.$setViewValue(u.html()),void 0!==r.ngRequired&&"false"!==r.ngRequired){""===u.text().trim()?n.$setValidity("required",!1):n.$setValidity("required",!0)}}t.append("<div></div>");var o=i.$eval(r.config)||{},a={textarea:t.children()[0],pasteImage:!0,toolbar:e,defaultImage:"images/preload.png"};for(var l in a)!o.hasOwnProperty(l)&&a.hasOwnProperty(l)&&(o[l]=a[l]);i.simditor=new Simditor(o);var u=t.find(".simditor-body");n.$render=function(){i.simditor.focus(),u.html(n.$viewValue)},i.simditor.on("valuechanged",function(){i.$apply(d)})}}}),define("ng.simditor",["angular","simple-module","hotkeys","simditor","simple-uploader"],function(){}),function(a,b){"function"==typeof define&&define.amd?define("angular-file-upload",["angular"],function(a){return b(a)}):b(a)}("undefined"==typeof angular?null:angular,function(a){var b=a.module("angularFileUpload",[]);return b.value("fileUploaderOptions",{url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1}).factory("FileUploader",["fileUploaderOptions","$rootScope","$http","$window","$compile",function(b,c,d,e,f){function g(c){var d=a.copy(b);a.extend(this,d,c,{isUploading:!1,_nextIndex:0,_failFilterIndex:-1,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.filters.unshift({name:"folder",fn:this._folderFilter})}function h(b){var c=a.isElement(b),d=c?b.value:b;this["_createFrom"+(a.isString(d)?"FakePath":"Object")](d)}function i(b,c,d){var e=a.isElement(c),f=e?a.element(c):null,h=e?null:c;a.extend(this,{url:b.url,alias:b.alias,headers:a.copy(b.headers),formData:a.copy(b.formData),removeAfterUpload:b.removeAfterUpload,withCredentials:b.withCredentials,method:b.method},d,{uploader:b,file:new g.FileLikeObject(c),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:h,_input:f}),f&&this._replaceNode(f)}function j(b){a.extend(this,b),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}function k(){k.super_.apply(this,arguments),this.uploader.isHTML5||this.element.removeAttr("multiple"),this.element.prop("value",null)}function l(){l.super_.apply(this,arguments)}function m(){m.super_.apply(this,arguments)}return g.prototype.isHTML5=!(!e.File||!e.FormData),g.prototype.addToQueue=function(b,c,d){var e=this.isArrayLikeObject(b)?b:[b],f=this._getFilters(d),h=this.queue.length,i=[];a.forEach(e,function(a){var b=new g.FileLikeObject(a);if(this._isValidFile(b,f,c)){var d=new g.FileItem(this,a,c);i.push(d),this.queue.push(d),this._onAfterAddingFile(d)}else{var e=this.filters[this._failFilterIndex];this._onWhenAddingFileFailed(b,e,c)}},this),this.queue.length!==h&&(this._onAfterAddingAll(i),this.progress=this._getTotalProgress()),this._render(),this.autoUpload&&this.uploadAll()},g.prototype.removeFromQueue=function(a){var b=this.getIndexOfItem(a),c=this.queue[b];c.isUploading&&c.cancel(),this.queue.splice(b,1),c._destroy(),this.progress=this._getTotalProgress()},g.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},g.prototype.uploadItem=function(a){var b=this.getIndexOfItem(a),c=this.queue[b],d=this.isHTML5?"_xhrTransport":"_iframeTransport";c._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[d](c))},g.prototype.cancelItem=function(a){var b=this.getIndexOfItem(a),c=this.queue[b],d=this.isHTML5?"_xhr":"_form";c&&c.isUploading&&c[d].abort()},g.prototype.uploadAll=function(){var b=this.getNotUploadedItems().filter(function(a){return!a.isUploading});b.length&&(a.forEach(b,function(a){a._prepareToUploading()}),b[0].upload())},g.prototype.cancelAll=function(){var b=this.getNotUploadedItems();a.forEach(b,function(a){a.cancel()})},g.prototype.isFile=function(a){var b=e.File;return b&&a instanceof b},g.prototype.isFileLikeObject=function(a){return a instanceof g.FileLikeObject},g.prototype.isArrayLikeObject=function(b){return a.isObject(b)&&"length"in b},g.prototype.getIndexOfItem=function(b){return a.isNumber(b)?b:this.queue.indexOf(b)},g.prototype.getNotUploadedItems=function(){return this.queue.filter(function(a){return!a.isUploaded})},g.prototype.getReadyItems=function(){return this.queue.filter(function(a){return a.isReady&&!a.isUploading}).sort(function(a,b){return a.index-b.index})},g.prototype.destroy=function(){a.forEach(this._directives,function(b){a.forEach(this._directives[b],function(a){a.destroy()},this)},this)},g.prototype.onAfterAddingAll=function(){},g.prototype.onAfterAddingFile=function(){},g.prototype.onWhenAddingFileFailed=function(){},g.prototype.onBeforeUploadItem=function(){},g.prototype.onProgressItem=function(){},g.prototype.onProgressAll=function(){},g.prototype.onSuccessItem=function(){},g.prototype.onErrorItem=function(){},g.prototype.onCancelItem=function(){},g.prototype.onCompleteItem=function(){},g.prototype.onCompleteAll=function(){},g.prototype._getTotalProgress=function(a){if(this.removeAfterUpload)return a||0;var b=this.getNotUploadedItems().length,c=b?this.queue.length-b:this.queue.length,d=100/this.queue.length,e=(a||0)*d/100;return Math.round(c*d+e)},g.prototype._getFilters=function(b){if(a.isUndefined(b))return this.filters;if(a.isArray(b))return b;var c=b.match(/[^\s,]+/g);return this.filters.filter(function(a){return-1!==c.indexOf(a.name)},this)},g.prototype._render=function(){c.$$phase||c.$apply()},g.prototype._folderFilter=function(a){return!(!a.size&&!a.type)},g.prototype._queueLimitFilter=function(){return this.queue.length<this.queueLimit},g.prototype._isValidFile=function(a,b,c){return this._failFilterIndex=-1,!b.length||b.every(function(b){return this._failFilterIndex++,b.fn.call(this,a,c)},this)},g.prototype._isSuccessCode=function(a){return a>=200&&300>a||304===a},g.prototype._transformResponse=function(b,c){var e=this._headersGetter(c);return a.forEach(d.defaults.transformResponse,function(a){b=a(b,e)}),b},g.prototype._parseHeaders=function(b){var c,d,e,f={};return b?(a.forEach(b.split("\n"),function(a){e=a.indexOf(":"),c=a.slice(0,e).trim().toLowerCase(),d=a.slice(e+1).trim(),c&&(f[c]=f[c]?f[c]+", "+d:d)}),f):f},g.prototype._headersGetter=function(a){return function(b){return b?a[b.toLowerCase()]||null:a}},
g.prototype._xhrTransport=function(b){var c=b._xhr=new XMLHttpRequest,d=new FormData,e=this;e._onBeforeUploadItem(b),a.forEach(b.formData,function(b){a.forEach(b,function(a,b){d.append(b,a)})}),d.append(b.alias,b._file,b.file.name),c.upload.onprogress=function(a){var c=Math.round(a.lengthComputable?100*a.loaded/a.total:0);e._onProgressItem(b,c)},c.onload=function(){var a=e._parseHeaders(c.getAllResponseHeaders()),d=e._transformResponse(c.response,a),f=e._isSuccessCode(c.status)?"Success":"Error";e["_on"+f+"Item"](b,d,c.status,a),e._onCompleteItem(b,d,c.status,a)},c.onerror=function(){var a=e._parseHeaders(c.getAllResponseHeaders()),d=e._transformResponse(c.response,a);e._onErrorItem(b,d,c.status,a),e._onCompleteItem(b,d,c.status,a)},c.onabort=function(){var a=e._parseHeaders(c.getAllResponseHeaders()),d=e._transformResponse(c.response,a);e._onCancelItem(b,d,c.status,a),e._onCompleteItem(b,d,c.status,a)},c.open(b.method,b.url,!0),c.withCredentials=b.withCredentials,a.forEach(b.headers,function(a,b){c.setRequestHeader(b,a)}),c.send(d),this._render()},g.prototype._iframeTransport=function(b){var c=a.element('<form style="display: none;" />'),d=a.element('<iframe name="iframeTransport'+Date.now()+'">'),e=b._input,f=this;b._form&&b._form.replaceWith(e),b._form=c,f._onBeforeUploadItem(b),e.prop("name",b.alias),a.forEach(b.formData,function(b){a.forEach(b,function(b,d){var e=a.element('<input type="hidden" name="'+d+'" />');e.val(b),c.append(e)})}),c.prop({action:b.url,method:"POST",target:d.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"}),d.bind("load",function(){try{var a=d[0].contentDocument.body.innerHTML}catch(c){}var e={response:a,status:200,dummy:!0},g={},h=f._transformResponse(e.response,g);f._onSuccessItem(b,h,e.status,g),f._onCompleteItem(b,h,e.status,g)}),c.abort=function(){var a,g={status:0,dummy:!0},h={};d.unbind("load").prop("src","javascript:false;"),c.replaceWith(e),f._onCancelItem(b,a,g.status,h),f._onCompleteItem(b,a,g.status,h)},e.after(c),c.append(e).append(d),c[0].submit(),this._render()},g.prototype._onWhenAddingFileFailed=function(a,b,c){this.onWhenAddingFileFailed(a,b,c)},g.prototype._onAfterAddingFile=function(a){this.onAfterAddingFile(a)},g.prototype._onAfterAddingAll=function(a){this.onAfterAddingAll(a)},g.prototype._onBeforeUploadItem=function(a){a._onBeforeUpload(),this.onBeforeUploadItem(a)},g.prototype._onProgressItem=function(a,b){var c=this._getTotalProgress(b);this.progress=c,a._onProgress(b),this.onProgressItem(a,b),this.onProgressAll(c),this._render()},g.prototype._onSuccessItem=function(a,b,c,d){a._onSuccess(b,c,d),this.onSuccessItem(a,b,c,d)},g.prototype._onErrorItem=function(a,b,c,d){a._onError(b,c,d),this.onErrorItem(a,b,c,d)},g.prototype._onCancelItem=function(a,b,c,d){a._onCancel(b,c,d),this.onCancelItem(a,b,c,d)},g.prototype._onCompleteItem=function(b,c,d,e){b._onComplete(c,d,e),this.onCompleteItem(b,c,d,e);var f=this.getReadyItems()[0];return this.isUploading=!1,a.isDefined(f)?void f.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),void this._render())},g.isFile=g.prototype.isFile,g.isFileLikeObject=g.prototype.isFileLikeObject,g.isArrayLikeObject=g.prototype.isArrayLikeObject,g.isHTML5=g.prototype.isHTML5,g.inherit=function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.super_=b},g.FileLikeObject=h,g.FileItem=i,g.FileDirective=j,g.FileSelect=k,g.FileDrop=l,g.FileOver=m,h.prototype._createFromFakePath=function(a){this.lastModifiedDate=null,this.size=null,this.type="like/"+a.slice(a.lastIndexOf(".")+1).toLowerCase(),this.name=a.slice(a.lastIndexOf("/")+a.lastIndexOf("\\")+2)},h.prototype._createFromObject=function(b){this.lastModifiedDate=a.copy(b.lastModifiedDate),this.size=b.size,this.type=b.type,this.name=b.name},i.prototype.upload=function(){this.uploader.uploadItem(this)},i.prototype.cancel=function(){this.uploader.cancelItem(this)},i.prototype.remove=function(){this.uploader.removeFromQueue(this)},i.prototype.onBeforeUpload=function(){},i.prototype.onProgress=function(){},i.prototype.onSuccess=function(){},i.prototype.onError=function(){},i.prototype.onCancel=function(){},i.prototype.onComplete=function(){},i.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},i.prototype._onProgress=function(a){this.progress=a,this.onProgress(a)},i.prototype._onSuccess=function(a,b,c){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(a,b,c)},i.prototype._onError=function(a,b,c){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(a,b,c)},i.prototype._onCancel=function(a,b,c){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(a,b,c)},i.prototype._onComplete=function(a,b,c){this.onComplete(a,b,c),this.removeAfterUpload&&this.remove()},i.prototype._destroy=function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input},i.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},i.prototype._replaceNode=function(a){var b=f(a.clone())(a.scope());b.prop("value",null),a.css("display","none"),a.after(b)},j.prototype.events={},j.prototype.bind=function(){for(var a in this.events){var b=this.events[a];this.element.bind(a,this[b])}},j.prototype.unbind=function(){for(var a in this.events)this.element.unbind(a,this.events[a])},j.prototype.destroy=function(){var a=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(a,1),this.unbind()},j.prototype._saveLinks=function(){for(var a in this.events){var b=this.events[a];this[b]=this[b].bind(this)}},g.inherit(k,j),k.prototype.events={$destroy:"destroy",change:"onChange"},k.prototype.prop="select",k.prototype.getOptions=function(){},k.prototype.getFilters=function(){},k.prototype.isEmptyAfterSelection=function(){return!!this.element.attr("multiple")},k.prototype.onChange=function(){var a=this.uploader.isHTML5?this.element[0].files:this.element[0],b=this.getOptions(),c=this.getFilters();this.uploader.isHTML5||this.destroy(),this.uploader.addToQueue(a,b,c),this.isEmptyAfterSelection()&&this.element.prop("value",null)},g.inherit(l,j),l.prototype.events={$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},l.prototype.prop="drop",l.prototype.getOptions=function(){},l.prototype.getFilters=function(){},l.prototype.onDrop=function(b){var c=this._getTransfer(b);if(c){var d=this.getOptions(),e=this.getFilters();this._preventAndStop(b),a.forEach(this.uploader._directives.over,this._removeOverClass,this),this.uploader.addToQueue(c.files,d,e)}},l.prototype.onDragOver=function(b){var c=this._getTransfer(b);this._haveFiles(c.types)&&(c.dropEffect="copy",this._preventAndStop(b),a.forEach(this.uploader._directives.over,this._addOverClass,this))},l.prototype.onDragLeave=function(b){b.currentTarget===this.element[0]&&(this._preventAndStop(b),a.forEach(this.uploader._directives.over,this._removeOverClass,this))},l.prototype._getTransfer=function(a){return a.dataTransfer?a.dataTransfer:a.originalEvent.dataTransfer},l.prototype._preventAndStop=function(a){a.preventDefault(),a.stopPropagation()},l.prototype._haveFiles=function(a){return!!a&&(a.indexOf?-1!==a.indexOf("Files"):!!a.contains&&a.contains("Files"))},l.prototype._addOverClass=function(a){a.addOverClass()},l.prototype._removeOverClass=function(a){a.removeOverClass()},g.inherit(m,j),m.prototype.events={$destroy:"destroy"},m.prototype.prop="over",m.prototype.overClass="nv-file-over",m.prototype.addOverClass=function(){this.element.addClass(this.getOverClass())},m.prototype.removeOverClass=function(){this.element.removeClass(this.getOverClass())},m.prototype.getOverClass=function(){return this.overClass},g}]).directive("nvFileSelect",["$parse","FileUploader",function(a,b){return{link:function(c,d,e){var f=c.$eval(e.uploader);if(!(f instanceof b))throw new TypeError('"Uploader" must be an instance of FileUploader');var g=new b.FileSelect({uploader:f,element:d});g.getOptions=a(e.options).bind(g,c),g.getFilters=function(){return e.filters}}}}]).directive("nvFileDrop",["$parse","FileUploader",function(a,b){return{link:function(c,d,e){var f=c.$eval(e.uploader);if(!(f instanceof b))throw new TypeError('"Uploader" must be an instance of FileUploader');if(f.isHTML5){var g=new b.FileDrop({uploader:f,element:d});g.getOptions=a(e.options).bind(g,c),g.getFilters=function(){return e.filters}}}}}]).directive("nvFileOver",["FileUploader",function(a){return{link:function(b,c,d){var e=b.$eval(d.uploader);if(!(e instanceof a))throw new TypeError('"Uploader" must be an instance of FileUploader');new a.FileOver({uploader:e,element:c}).getOverClass=function(){return d.overClass||this.overClass}}}}]),b}),function(){"use strict";!function(){var a;a=angular.module("ng.ueditor",[]),a.directive("ueditor",[function(){return{restrict:"C",require:"ngModel",scope:{config:"=",ready:"="},link:function(a,b,c,d){var f;f=!1,new(function(){function e(){this.bindRender(),this.initEditor()}return e.prototype.initEditor=function(){var e,g,h;return h=this,"undefined"==typeof UE?void console.error("Please import the local resources of ueditor!"):(e=a.config?a.config:{},g=c.id?c.id:"_editor"+Date.now(),b[0].id=g,this.editor=new UE.getEditor(g,e),this.editor.ready(function(){h.editorReady=!0,h.editor.addListener("contentChange",function(){d.$setViewValue(h.editor.getContent()),f||a.$$phase||a.$apply(),f=!1}),h.modelContent.length>0&&h.setEditorContent(),"function"==typeof a.ready&&a.ready(h.editor)}))},e.prototype.setEditorContent=function(a){null==a&&(a=this.modelContent),this.editor&&this.editorReady&&this.editor.setContent(a)},e.prototype.bindRender=function(){var a;a=this,d.$render=function(){a.modelContent=d.$isEmpty(d.$viewValue)?"":d.$viewValue,f=!0,a.setEditorContent()}},e}())}}}])}()}.call(this),define("ng.ueditor",["angular"],function(){}),angular.module("ab-base64",[]).constant("base64",function(){var a={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",lookup:null,ie:/MSIE /.test(navigator.userAgent),ieo:/MSIE [67]/.test(navigator.userAgent),encode:function(b){var c,d,e,f,g=a.toUtf8(b),h=-1,i=g.length,j=[,,,];if(a.ie){for(c=[];++h<i;)d=g[h],e=g[++h],j[0]=d>>2,j[1]=(3&d)<<4|e>>4,isNaN(e)?j[2]=j[3]=64:(f=g[++h],j[2]=(15&e)<<2|f>>6,j[3]=isNaN(f)?64:63&f),c.push(a.alphabet.charAt(j[0]),a.alphabet.charAt(j[1]),a.alphabet.charAt(j[2]),a.alphabet.charAt(j[3]));return c.join("")}for(c="";++h<i;)d=g[h],e=g[++h],j[0]=d>>2,j[1]=(3&d)<<4|e>>4,isNaN(e)?j[2]=j[3]=64:(f=g[++h],j[2]=(15&e)<<2|f>>6,j[3]=isNaN(f)?64:63&f),c+=a.alphabet[j[0]]+a.alphabet[j[1]]+a.alphabet[j[2]]+a.alphabet[j[3]];return c},decode:function(b){if(b=b.replace(/\s/g,""),b.length%4)throw new Error("InvalidLengthError: decode failed: The string to be decoded is not the correct length for a base64 encoded string.");if(/[^A-Za-z0-9+\/=\s]/g.test(b))throw new Error("InvalidCharacterError: decode failed: The string contains characters invalid in a base64 encoded string.");var c,d=a.fromUtf8(b),e=0,f=d.length;if(a.ieo){for(c=[];f>e;)c.push(d[e]<128?String.fromCharCode(d[e++]):d[e]>191&&d[e]<224?String.fromCharCode((31&d[e++])<<6|63&d[e++]):String.fromCharCode((15&d[e++])<<12|(63&d[e++])<<6|63&d[e++]));return c.join("")}for(c="";f>e;)c+=String.fromCharCode(d[e]<128?d[e++]:d[e]>191&&d[e]<224?(31&d[e++])<<6|63&d[e++]:(15&d[e++])<<12|(63&d[e++])<<6|63&d[e++]);return c},toUtf8:function(a){var b,c=-1,d=a.length,e=[];if(/^[\x00-\x7f]*$/.test(a))for(;++c<d;)e.push(a.charCodeAt(c));else for(;++c<d;)b=a.charCodeAt(c),128>b?e.push(b):2048>b?e.push(b>>6|192,63&b|128):e.push(b>>12|224,b>>6&63|128,63&b|128);return e},fromUtf8:function(b){var c,d=-1,e=[],f=[,,,];if(!a.lookup){for(c=a.alphabet.length,a.lookup={};++d<c;)a.lookup[a.alphabet.charAt(d)]=d;d=-1}for(c=b.length;++d<c&&(f[0]=a.lookup[b.charAt(d)],f[1]=a.lookup[b.charAt(++d)],e.push(f[0]<<2|f[1]>>4),f[2]=a.lookup[b.charAt(++d)],64!==f[2])&&(e.push((15&f[1])<<4|f[2]>>2),f[3]=a.lookup[b.charAt(++d)],64!==f[3]);)e.push((3&f[2])<<6|f[3]);return e}},b={decode:function(b){b=b.replace(/-/g,"+").replace(/_/g,"/");var c=b.length%4;if(c){if(1===c)throw new Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");b+=new Array(5-c).join("=")}return a.decode(b)},encode:function(b){return a.encode(b).replace(/\+/g,"-").replace(/\//g,"_").split("=",1)[0]}};return{decode:a.decode,encode:a.encode,urldecode:b.decode,urlencode:b.encode}}()),define("ab-base64",["angular"],function(){}),function(e){"use strict";"function"==typeof define&&define.amd?define("perfect-scrollbar",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){"use strict";function t(e){return"string"==typeof e?parseInt(e,10):~~e}var o={wheelSpeed:1,wheelPropagation:!1,swipePropagation:!0,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},n=0,r=function(){var e=n++;return function(t){var o=".perfect-scrollbar-"+e;return void 0===t?o:t+o}},l="WebkitAppearance"in document.documentElement.style;e.fn.perfectScrollbar=function(n,i){return this.each(function(){function a(e,o){var n=e+o,r=D-R;j=0>n?0:n>r?r:n;var l=t(j*(Y-D)/(D-R));M.scrollTop(l)}function s(e,o){var n=e+o,r=E-k;W=0>n?0:n>r?r:n;var l=t(W*(C-E)/(E-k));M.scrollLeft(l)}function c(e){return P.minScrollbarLength&&(e=Math.max(e,P.minScrollbarLength)),P.maxScrollbarLength&&(e=Math.min(e,P.maxScrollbarLength)),e}function u(){var e={width:I};e.left=B?M.scrollLeft()+E-C:M.scrollLeft(),N?e.bottom=_-M.scrollTop():e.top=Q+M.scrollTop(),H.css(e);var t={top:M.scrollTop(),height:A};Z?t.right=B?C-M.scrollLeft()-V-J.outerWidth():V-M.scrollLeft():t.left=B?M.scrollLeft()+2*E-C-$-J.outerWidth():$+M.scrollLeft(),G.css(t),U.css({left:W,width:k-z}),J.css({top:j,height:R-et})}function p(){M.removeClass("ps-active-x"),M.removeClass("ps-active-y"),E=P.includePadding?M.innerWidth():M.width(),D=P.includePadding?M.innerHeight():M.height(),C=M.prop("scrollWidth"),Y=M.prop("scrollHeight"),!P.suppressScrollX&&C>E+P.scrollXMarginOffset?(X=!0,I=E-F,k=c(t(I*E/C)),W=t(M.scrollLeft()*(I-k)/(C-E))):(X=!1,k=0,W=0,M.scrollLeft(0)),!P.suppressScrollY&&Y>D+P.scrollYMarginOffset?(O=!0,A=D-tt,R=c(t(A*D/Y)),j=t(M.scrollTop()*(A-R)/(Y-D))):(O=!1,R=0,j=0,M.scrollTop(0)),W>=I-k&&(W=I-k),j>=A-R&&(j=A-R),u(),X&&M.addClass("ps-active-x"),O&&M.addClass("ps-active-y")}function d(){var t,o,n=function(e){s(t,e.pageX-o),p(),e.stopPropagation(),e.preventDefault()},r=function(){M.removeClass("ps-in-scrolling"),e(q).unbind(K("mousemove"),n)};U.bind(K("mousedown"),function(l){o=l.pageX,t=U.position().left,M.addClass("ps-in-scrolling"),e(q).bind(K("mousemove"),n),e(q).one(K("mouseup"),r),l.stopPropagation(),l.preventDefault()}),t=o=null}function f(){var t,o,n=function(e){a(t,e.pageY-o),p(),e.stopPropagation(),e.preventDefault()},r=function(){M.removeClass("ps-in-scrolling"),e(q).unbind(K("mousemove"),n)};J.bind(K("mousedown"),function(l){o=l.pageY,t=J.position().top,M.addClass("ps-in-scrolling"),e(q).bind(K("mousemove"),n),e(q).one(K("mouseup"),r),l.stopPropagation(),l.preventDefault()}),t=o=null}function v(e,t){var o=M.scrollTop();if(0===e){if(!O)return!1;if(0===o&&t>0||o>=Y-D&&0>t)return!P.wheelPropagation}var n=M.scrollLeft();if(0===t){if(!X)return!1;if(0===n&&0>e||n>=C-E&&e>0)return!P.wheelPropagation}return!0}function g(e,t){var o=M.scrollTop(),n=M.scrollLeft(),r=Math.abs(e),l=Math.abs(t);if(l>r){if(0>t&&o===Y-D||t>0&&0===o)return!P.swipePropagation}else if(r>l&&(0>e&&n===C-E||e>0&&0===n))return!P.swipePropagation;return!0}function b(){function e(e){var t=e.originalEvent.deltaX,o=-1*e.originalEvent.deltaY;return(void 0===t||void 0===o)&&(t=-1*e.originalEvent.wheelDeltaX/6,o=e.originalEvent.wheelDeltaY/6),e.originalEvent.deltaMode&&1===e.originalEvent.deltaMode&&(t*=10,o*=10),t!==t&&o!==o&&(t=0,o=e.originalEvent.wheelDelta),[t,o]}function t(t){if(l||!(M.find("select:focus").length>0)){var n=e(t),r=n[0],i=n[1];o=!1,P.useBothWheelAxes?O&&!X?(i?M.scrollTop(M.scrollTop()-i*P.wheelSpeed):M.scrollTop(M.scrollTop()+r*P.wheelSpeed),o=!0):X&&!O&&(r?M.scrollLeft(M.scrollLeft()+r*P.wheelSpeed):M.scrollLeft(M.scrollLeft()-i*P.wheelSpeed),o=!0):(M.scrollTop(M.scrollTop()-i*P.wheelSpeed),M.scrollLeft(M.scrollLeft()+r*P.wheelSpeed)),p(),(o=o||v(r,i))&&(t.stopPropagation(),t.preventDefault())}}var o=!1;void 0!==window.onwheel?M.bind(K("wheel"),t):void 0!==window.onmousewheel&&M.bind(K("mousewheel"),t)}function h(){var t=!1;M.bind(K("mouseenter"),function(){t=!0}),M.bind(K("mouseleave"),function(){t=!1});var o=!1;e(q).bind(K("keydown"),function(n){if((!n.isDefaultPrevented||!n.isDefaultPrevented())&&t){var r=document.activeElement?document.activeElement:q.activeElement;if(r){for(;r.shadowRoot;)r=r.shadowRoot.activeElement;if(e(r).is(":input,[contenteditable]"))return}var l=0,i=0;switch(n.which){case 37:l=-30;break;case 38:i=30;break;case 39:l=30;break;case 40:i=-30;break;case 33:i=90;break;case 32:case 34:i=-90;break;case 35:i=n.ctrlKey?-Y:-D;break;case 36:i=n.ctrlKey?M.scrollTop():D;break;default:return}M.scrollTop(M.scrollTop()-i),M.scrollLeft(M.scrollLeft()+l),(o=v(l,i))&&n.preventDefault()}})}function w(){function e(e){e.stopPropagation()}J.bind(K("click"),e),G.bind(K("click"),function(e){var o=t(R/2),n=e.pageY-G.offset().top-o,r=D-R,l=n/r;0>l?l=0:l>1&&(l=1),M.scrollTop((Y-D)*l)}),U.bind(K("click"),e),H.bind(K("click"),function(e){var o=t(k/2),n=e.pageX-H.offset().left-o,r=E-k,l=n/r;0>l?l=0:l>1&&(l=1),M.scrollLeft((C-E)*l)})}function m(){function t(){var e=window.getSelection?window.getSelection():document.getSlection?document.getSlection():{rangeCount:0};return 0===e.rangeCount?null:e.getRangeAt(0).commonAncestorContainer}function o(){r||(r=setInterval(function(){return x()?(M.scrollTop(M.scrollTop()+l.top),M.scrollLeft(M.scrollLeft()+l.left),void p()):void clearInterval(r)},50))}function n(){r&&(clearInterval(r),r=null),M.removeClass("ps-in-scrolling"),M.removeClass("ps-in-scrolling")}var r=null,l={top:0,left:0},i=!1;e(q).bind(K("selectionchange"),function(){e.contains(M[0],t())?i=!0:(i=!1,n())}),e(window).bind(K("mouseup"),function(){i&&(i=!1,n())}),e(window).bind(K("mousemove"),function(e){if(i){var t={x:e.pageX,y:e.pageY},r=M.offset(),a={left:r.left,right:r.left+M.outerWidth(),top:r.top,bottom:r.top+M.outerHeight()};t.x<a.left+3?(l.left=-5,M.addClass("ps-in-scrolling")):t.x>a.right-3?(l.left=5,M.addClass("ps-in-scrolling")):l.left=0,t.y<a.top+3?(l.top=5>a.top+3-t.y?-5:-20,M.addClass("ps-in-scrolling")):t.y>a.bottom-3?(l.top=5>t.y-a.bottom+3?5:20,M.addClass("ps-in-scrolling")):l.top=0,0===l.top&&0===l.left?n():o()}})}function T(t,o){function n(e,t){M.scrollTop(M.scrollTop()-t),M.scrollLeft(M.scrollLeft()-e),p()}function r(){h=!0}function l(){h=!1}function i(e){return e.originalEvent.targetTouches?e.originalEvent.targetTouches[0]:e.originalEvent}function a(e){var t=e.originalEvent;return!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)}function s(e){if(a(e)){w=!0;var t=i(e);d.pageX=t.pageX,d.pageY=t.pageY,f=(new Date).getTime(),null!==b&&clearInterval(b),e.stopPropagation()}}function c(e){if(!h&&w&&a(e)){var t=i(e),o={pageX:t.pageX,pageY:t.pageY},r=o.pageX-d.pageX,l=o.pageY-d.pageY;n(r,l),d=o;var s=(new Date).getTime(),c=s-f;c>0&&(v.x=r/c,v.y=l/c,f=s),g(r,l)&&(e.stopPropagation(),e.preventDefault())}}function u(){!h&&w&&(w=!1,clearInterval(b),b=setInterval(function(){return x()?.01>Math.abs(v.x)&&.01>Math.abs(v.y)?void clearInterval(b):(n(30*v.x,30*v.y),v.x*=.8,void(v.y*=.8)):void clearInterval(b)},10))}var d={},f=0,v={},b=null,h=!1,w=!1;t&&(e(window).bind(K("touchstart"),r),e(window).bind(K("touchend"),l),M.bind(K("touchstart"),s),M.bind(K("touchmove"),c),M.bind(K("touchend"),u)),o&&(window.PointerEvent?(e(window).bind(K("pointerdown"),r),e(window).bind(K("pointerup"),l),M.bind(K("pointerdown"),s),M.bind(K("pointermove"),c),M.bind(K("pointerup"),u)):window.MSPointerEvent&&(e(window).bind(K("MSPointerDown"),r),e(window).bind(K("MSPointerUp"),l),M.bind(K("MSPointerDown"),s),M.bind(K("MSPointerMove"),c),M.bind(K("MSPointerUp"),u)))}function y(){M.bind(K("scroll"),function(){p()})}function L(){M.unbind(K()),e(window).unbind(K()),e(q).unbind(K()),M.data("perfect-scrollbar",null),M.data("perfect-scrollbar-update",null),M.data("perfect-scrollbar-destroy",null),U.remove(),J.remove(),H.remove(),G.remove(),M=H=G=U=J=X=O=E=D=C=Y=k=W=_=N=Q=R=j=V=Z=$=B=K=null}var P=e.extend(!0,{},o),M=e(this),x=function(){return!!M};if("object"==typeof n?e.extend(!0,P,n):i=n,"update"===i)return M.data("perfect-scrollbar-update")&&M.data("perfect-scrollbar-update")(),M;if("destroy"===i)return M.data("perfect-scrollbar-destroy")&&M.data("perfect-scrollbar-destroy")(),M;if(M.data("perfect-scrollbar"))return M.data("perfect-scrollbar");M.addClass("ps-container");var E,D,C,Y,X,k,W,I,O,R,j,A,B="rtl"===M.css("direction"),K=r(),q=this.ownerDocument||document,H=e("<div class='ps-scrollbar-x-rail'>").appendTo(M),U=e("<div class='ps-scrollbar-x'>").appendTo(H),_=t(H.css("bottom")),N=_===_,Q=N?null:t(H.css("top")),z=t(H.css("borderLeftWidth"))+t(H.css("borderRightWidth")),F=t(H.css("marginLeft"))+t(H.css("marginRight")),G=e("<div class='ps-scrollbar-y-rail'>").appendTo(M),J=e("<div class='ps-scrollbar-y'>").appendTo(G),V=t(G.css("right")),Z=V===V,$=Z?null:t(G.css("left")),et=t(G.css("borderTopWidth"))+t(G.css("borderBottomWidth")),tt=t(G.css("marginTop"))+t(G.css("marginBottom")),ot="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,nt=null!==window.navigator.msMaxTouchPoints;return function(){p(),y(),d(),f(),w(),m(),b(),(ot||nt)&&T(ot,nt),P.useKeyboard&&h(),M.data("perfect-scrollbar",M),M.data("perfect-scrollbar-update",p),M.data("perfect-scrollbar-destroy",L)}(),M})}}),angular.module("perfect_scrollbar",[]).directive("perfectScrollbar",["$parse","$window",function($parse,$window){var psOptions=["wheelSpeed","wheelPropagation","minScrollbarLength","useBothWheelAxes","useKeyboard","suppressScrollX","suppressScrollY","scrollXMarginOffset","scrollYMarginOffset","includePadding"];return{restrict:"EA",transclude:!0,template:"<div><div ng-transclude></div></div>",replace:!0,link:function($scope,$elem,$attr){function update(event){$scope.$evalAsync(function(){"true"==$attr.scrollDown&&"mouseenter"!=event&&setTimeout(function(){$($elem).scrollTop($($elem).prop("scrollHeight"))},100),$elem.perfectScrollbar("update")})}for(var jqWindow=angular.element($window),options={},i=0,l=psOptions.length;i<l;i++){var opt=psOptions[i];void 0!==$attr[opt]&&(options[opt]=$parse($attr[opt])())}$scope.$evalAsync(function(){$elem.perfectScrollbar(options);var onScrollHandler=$parse($attr.onScroll);$elem.scroll(function(){var scrollTop=$elem.scrollTop(),scrollHeight=$elem.prop("scrollHeight")-$elem.height();$scope.$apply(function(){onScrollHandler($scope,{scrollTop:scrollTop,scrollHeight:scrollHeight})})})}),$elem.bind("mouseenter",update("mouseenter")),$attr.refreshOnChange&&$scope.$watchCollection($attr.refreshOnChange,function(){update()}),$attr.refreshOnResize&&jqWindow.on("resize",update),$elem.bind("$destroy",function(){jqWindow.off("resize",update),$elem.perfectScrollbar("destroy")})}}}]),define("perfect_scrollbar",["angular","perfect-scrollbar"],function(){}),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(a){var b=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(b,c,d,e,f,g){function h(){d.cancel(j),g.complete(),l=0,k=0}function i(b){var d,e=c.get("$http"),f=a.defaults;!b.cache&&!f.cache||!1===b.cache||"GET"!==b.method&&"JSONP"!==b.method||(d=angular.isObject(b.cache)?b.cache:angular.isObject(f.cache)?f.cache:e);var g=void 0!==d&&void 0!==d.get(b.url);return void 0!==b.cached&&g!==b.cached?b.cached:(b.cached=g,g)}var j,k=0,l=0,m=g.latencyThreshold;return{request:function(a){return a.ignoreLoadingBar||i(a)||(e.$broadcast("cfpLoadingBar:loading",{url:a.url}),0===k&&(j=d(function(){g.start()},m)),k++,g.set(l/k)),a},response:function(a){return a&&a.config?(a.config.ignoreLoadingBar||i(a.config)||(l++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url,result:a}),l>=k?h():g.set(l/k)),a):(f.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),a)},responseError:function(a){return a&&a.config?(a.config.ignoreLoadingBar||i(a.config)||(l++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url,result:a}),l>=k?h():g.set(l/k)),b.reject(a)):(f.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),b.reject(a))}}}];a.interceptors.push(b)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(a,b,c,d){function e(){if(k||(k=a.get("$animate")),c.cancel(m),!r){var e=b[0],g=e.querySelector?e.querySelector(n):b.find(n)[0];g||(g=e.getElementsByTagName("body")[0]);var h=angular.element(g),i=g.lastChild&&angular.element(g.lastChild);d.$broadcast("cfpLoadingBar:started"),r=!0,v&&k.enter(o,h,i),u&&k.enter(q,h,o),f(w)}}function f(a){if(r){var b=100*a+"%";p.css("width",b),s=a,t&&(c.cancel(l),l=c(function(){g()},250))}}function g(){if(!(h()>=1)){var a=0,b=h();a=b>=0&&.25>b?(3*Math.random()+3)/100:b>=.25&&.65>b?3*Math.random()/100:b>=.65&&.9>b?2*Math.random()/100:b>=.9&&.99>b?.005:0;f(h()+a)}}function h(){return s}function i(){s=0,r=!1}function j(){k||(k=a.get("$animate")),d.$broadcast("cfpLoadingBar:completed"),f(1),c.cancel(m),m=c(function(){var a=k.leave(o,i);a&&a.then&&a.then(i),k.leave(q)},500)}var k,l,m,n=this.parentSelector,o=angular.element(this.loadingBarTemplate),p=o.find("div").eq(0),q=angular.element(this.spinnerTemplate),r=!1,s=0,t=this.autoIncrement,u=this.includeSpinner,v=this.includeBar,w=this.startSize;return{start:e,set:f,status:h,inc:g,complete:j,autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),define("angular-loading-bar",["angular"],function(){}),angular.module("progressButton",[]).directive("progressButton",["$timeout",function(a){return{restrict:"AE",transclude:!0,replace:!0,scope:{value:"&",type:"@",inProgressText:"@inProgress",completionText:"@complete"},template:'<a class="progress-button"><span class="progress-button-text" ng-transclude></span><span class="progress-button-bar progress-button-{{type}}"></span></a>',link:function(b,c,d){var e=angular.element(c[0].querySelectorAll(".progress-button-bar")),f=angular.element(c[0].querySelectorAll(".progress-button-text"));b.defaultText=f.text(),d.$observe("type",function(a){b.type=a||"horizontal"}),d.$observe("inProgress",function(a){b.inProgressText=a||"Loading…"}),d.$observe("complete",function(a){b.completionText=a||"Complete."}),b.$watch("value()",function(c){c||(c=0),c>1&&(c=1),0===c?(f.text(b.defaultText),e.css("display","none")):1===c?(f.text(b.completionText),e.css("display","block"),a(function(){g(e)},500)):(f.text(b.inProgressText),e.css("display","block")),a(function(){"vertical"===b.type?e.css("height",100*c+"%"):e.css("width",100*c+"%")})});var g=function(a,b){a.css("opacity",1);var c=+new Date,d=function(){a.css("opacity",+a.css("opacity")-(new Date-c)/400),c=+new Date,+a.css("opacity")>0?window.requestAnimationFrame&&requestAnimationFrame(d)||setTimeout(d,16):(a.css("display","none"),a.css("opacity",1),"function"==typeof b&&b())};d()}}}}]),define("progressButton",["angular"],function(){}),define("controllers/controllers",["angular"],function(angular){return angular.module("huijiaControllers",[])}),define("controllers/_base",["controllers/controllers"],function(mod){mod.run(["$rootScope","$state","$stateParams","$http",function($rootScope,$state,$stateParams,$http){$rootScope.$state=$state,$rootScope.$stateParams=$stateParams,$rootScope.http_notification=""}]),mod.config(["$httpProvider","$compileProvider","cfpLoadingBarProvider","$provide",function($httpProvider,$compileProvider,cfpLoadingBarProvider,$provide){$provide.decorator("$log",["$delegate",function($delegate){var originalWarn=$delegate.warn;return $delegate.warn=function(msg){msg="HJM Decorated at controllers Warn: "+msg,originalWarn.apply($delegate,arguments)},$delegate}])}])}),define("states/states",["angular"],function(angular){return angular.module("huijiaStates",[])}),define("cons/common",[],function(){var api={},env="",env_name="",domain="",web_domain="",qiniu_domain="",wx_domain="";return location.href.indexOf("//bpm.ahaschool.com")>0||location.href.indexOf("//bpm.huijiame.com")>0?(env="prod",env_name="线上系统",domain="https://mgrapi.ahaschool.com",web_domain="https://www.ahaschool.com",qiniu_domain="https://bpm.ahaschool.com",wx_domain="https://n.ahaschool.com"):location.href.indexOf("//uat.ahaschool.com/bpm")>0?(env="prod",env_name="线上系统uat",domain="https://uat.ahaschool.com/mgrapi",web_domain="https://uat.ahaschool.com/bpm",qiniu_domain="https://uat.ahaschool.com",wx_domain="https://n.ahaschool.com"):location.href.indexOf("//test.ahaschool.com/bpm")>0||location.href.indexOf("//bpm.hjm.com")>0?(env="test",env_name="测试系统2",domain="https://test.ahaschool.com/mgrapi",web_domain="https://test.ahaschool.com/bpm",qiniu_domain="https://testbpm.ahaschool.com",wx_domain="https://testm.ahaschool.com"):location.href.indexOf("//testbpm.ahaschool.com")>0?(env="test",env_name="测试系统",domain="https://testmgrapi.ahaschool.com",web_domain="https://testbpm.ahaschool.com",qiniu_domain="https://testbpm.ahaschool.com",wx_domain="https://testm.ahaschool.com"):(env="dev",env_name="开发系统",domain="https://dev.ahaschool.com/mgrapi",web_domain="https://devbpm.ahaschool.com",web_domain="https://dev.ahaschool.com/bpm",qiniu_domain="https://devbpm.ahaschool.com",wx_domain="https://devm.ahaschool.com"),api={account_check:domain+"/account/check",account_login:domain+"/account/login",account_mans:domain+"/account/mans"},{api:api,env:env,env_name:env_name,domain:domain,live_domain:domain+"/mobile",web_domain:web_domain,qiniu_domain:qiniu_domain,wx_domain:wx_domain,sku:[],act_checkbox_week:[{text:"周一",value:"0"},{text:"周二",value:"1"},{text:"周三",value:"2"},{text:"周四",value:"3"},{text:"周五",value:"4"},{text:"周六",value:"5"},{text:"周日",value:"6"}],week:[{text:"选择",value:void 0},{text:"周日",value:"1"},{text:"周一",value:"2"},{text:"周二",value:"3"},{text:"周三",value:"4"},{text:"周四",value:"5"},{text:"周五",value:"6"},{text:"周六",value:"7"}],hour:[{text:"选择小时",value:void 0},{text:"0",value:"0"},{text:"1",value:"1"},{text:"2",value:"2"},{text:"3",value:"3"},{text:"4",value:"4"},{text:"5",value:"5"},{text:"6",value:"6"},{text:"7",value:"7"},{text:"8",value:"8"},{text:"9",value:"9"},{text:"10",value:"10"},{text:"11",value:"11"},{text:"12",value:"12"},{text:"13",value:"13"},{text:"14",value:"14"},{text:"15",value:"15"},{text:"16",value:"16"},{text:"17",value:"17"},{text:"18",value:"18"},{text:"19",value:"19"},{text:"20",value:"20"},{
text:"21",value:"21"},{text:"22",value:"22"},{text:"23",value:"23"}],minute:[{text:"选择分钟",value:void 0},{text:"00",value:"0"},{text:"05",value:"5"},{text:"10",value:"10"},{text:"15",value:"15"},{text:"20",value:"20"},{text:"25",value:"25"},{text:"30",value:"30"},{text:"35",value:"35"},{text:"40",value:"40"},{text:"45",value:"45"},{text:"50",value:"50"},{text:"55",value:"55"}],district:[]}}),define("cons/groupbuy",[],function(){return{groupbuyList:{columns:[{name:"拼团ID",field:"groupbuy_id",className:"text-center"},{name:"订单ID",field:"order_id",className:"text-center"},{name:"活动",fieldDirective:'<p>活动ID:  <span ng-bind="item.product_id"></span><br/>活动标题: <span ng-bind="item.product.title"></span></p>'},{name:"拼团规则",fieldDirective:'<div groupbuy-pattern data="item"></div>'},{name:"开团用户",fieldDirective:'<div groupbuy-order data="item"></div>'},{name:"团订单数",fieldDirective:'<div groupbuy-order-copies data="item"></div>'},{name:"剩余时间",fieldDirective:'<span ng-show="item.groupbuy_end_type==1&&item.accomplish_status==3">已结束</span><span ng-bind="item.group_end_time|null2empty|remaining_time" ng-show="item.groupbuy_end_type==2&&item.accomplish_status==3"></span><span ng-bind="item.group_end_time|null2empty|remaining_time" ng-show="item.accomplish_status!=3"></span>'},{name:"拼团状态",fieldDirective:'<div groupbuy-accomplish-status data="item"></div>'},{name:"管理备注",field:"product.admin_remark",truncateText:!0,truncateTextLength:10,truncateTextBreakOnWord:!1,tooltip:"product.admin_remark",tooltipPlacement:"bottom"},{name:"操作",fieldDirective:'<div groupbuy-change data="item" ></div>'}],config:{title:"拼团列表",api:"/groupbuys",paginationSupport:!0,searchSupport:!0,rowItemName:"item",searchItems:[{text:"(开团时间)--开始",value:"date_min",type:"datetime"},{text:"(开团时间)--结束",value:"date_max",type:"datetime"},{text:"活动ID",value:"product_id",placeholder:"商品ID"},{text:"拼团ID",value:"groupbuy_id",placeholder:"拼团ID"},{text:"开团用户",value:"contact_name",placeholder:"开团联系人"},{text:"开团手机",value:"contact_mobile",placeholder:"开团手机号"},{value:"flag",text:"状态",type:"btnGroupArray2",default:1,width:"6",enum_text:"accomplish_status",enum:[{value:[],text:"全部"},{value:[1,2],text:"正在进行"},{value:[3],text:"拼团完成"},{value:[4],text:"拼团取消"}]}],preSelectionSearch:{},pageInfo:{count:20,page:1,maxSize:5},ext:{showNum:[{text:"总数",type:"total"}]}}}}}),define("cons/account",[],function(){return{accountList:{columns:[{name:"编号",field:"account_id",className:"text-right"},{name:"用户名",field:"username"},{name:"手机",field:"mobile",truncateText:!0,truncateTextLength:11,truncateTextBreakOnWord:!1},{name:"角色",field:"role"},{name:"定位城市",field:"city_name"},{name:"重置密码",fieldDirective:'<div reset-pwd data="item"></div>'},{name:"操作",fieldDirective:'<div change-account-status data="item"></div>'},{name:"更新",fieldDirective:'<div update-account data="item"></div>'}],config:{title:"账户管理",api:"/accounts",rowItemName:"item",searchSupport:!0,searchItems:[{value:"role",text:"角色",type:"btnGroup",default:"",enum:[{value:"bd",text:"BD"},{value:"op",text:"运营"},{value:"merchant",text:"供应商"},{value:"pm",text:"产品"},{value:"user",text:"用户"},{value:"teacher",text:"教师"},{value:"admin",text:"超管"},{value:"",text:"所有角色"}]}],preSelectionSearch:{status:"0"},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[{value:"main.account.add",text:"新增账户"}]}},roleList:{columns:[{name:"ID",field:"id",className:"text-right"},{name:"标示",field:"key"},{name:"角色名称",field:"name"},{name:"菜单",fieldDirective:'<div show-menu data="item.menus">菜单</div>'},{name:"操作",fieldDirective:'<div change-role data="item">菜单</a>'}],config:{title:"角色管理",api:"/accounts/roles",rowItemName:"item",searchSupport:!1,searchItems:[{value:"account_id",text:"账户ID",placeholder:"账户ID"},{value:"mobile",text:"手机号码",placeholder:"手机号码"},{value:"cityname",text:"城市",placeholder:"城市",type:"date"}],preSelectionSearch:{status:"0"},paginationSupport:!0,pageInfo:{count:50,page:1,maxSize:5}}},menuList:{columns:[{name:"ID",field:"id",className:"text-right"},{name:"标示",field:"key"},{name:"角色名称",field:"name"},{name:"菜单",fieldDirective:'<show_str str="item.menus | arraySub2String:\'name\'" split="" title="\'菜单\'" btn_str="\'菜单\'"></show_str>'},{name:"操作",fieldDirective:'<a class="btn btn-primary" ng-click="menu(item.id,item.menus)">菜单</a>'}],config:{title:"菜单管理",api:"/accounts/menus",rowItemName:"item",searchSupport:!0,searchItems:[{value:"menus_id",text:"账户ID",placeholder:"账户ID"},{value:"mobile",text:"手机号码",placeholder:"手机号码"},{value:"cityname",text:"城市",placeholder:"城市",type:"date"}],preSelectionSearch:{status:"0"},paginationSupport:!0,pageInfo:{count:5,page:1,maxSize:5}}}}}),define("cons/product",["angular","./common"],function(angular,common){return{productList:{columns:[{name:"ID",field:"product_id",className:"text-center"},{name:"排序",field:"order_by"},{name:"标题",field:"title"},{name:"上线时间",fieldDirective:'<p>上架时间<br/> <span ng-bind="item.start_time"></span><br/>下架时间<br/><span ng-bind="item.end_time"></span></p>'},{name:"拼团规则",fieldDirective:'<div groupbuy-pattern data="item"></div>'},{name:"配送规则",fieldDirective:'<div product-pattern data="item"></div>'},{name:"拼团成<br/>功数量",field:"order.groupbuy_count"},{name:"支付成<br/>功订单",field:"order.order_count"},{name:"已售<br/>份数",field:"order.order_copies"},{name:"剩余<br/>库存",fieldDirective:'<span ng-bind="item.origin_inventory-item.inventory.used_count"></span>'},{name:"商品<br/>状态",field:"status",filter:"product_status"},{name:"商品备注",field:"admin_remark"},{name:"操作",fieldDirective:'<div product-edit data="item" ></div><div change-product-type data="item" ></div><div product-change-status data="item" ></div>'}],config:{title:"商品列表",api:"/products",rowItemName:"item",searchSupport:!0,searchItems:[{type:"btnGroupArray",value:"flag",text:"状态",default:1,width:"6",enum_text:["status","available_type"],enum:[{value:["",""],text:"全部"},{value:["1","1"],text:"正在进行"},{value:["3",""],text:"已下线"},{value:["1","2"],text:"待上线"}]},{value:"visible",text:"是否显示",type:"btnGroup",default:"0",width:"6",enum:[{value:"0",text:"全部"},{value:"1",text:"是"},{value:"2",text:"否"}]}],preSelectionSearch:{category:[1,2]},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[{routeDirective:'<div product-add data="">新增商品</div>'},{routeDirective:'<div product-act-add data="">新增活动类商品</div>'}]},act_columns:[{name:"ID和排序",className:"mobile_show",fieldDirective:'<div><p><span ng-bind="\'ID:\'+item.product_id"></span></p><p><span ng-bind="\'排序:\'+item.order_by"></span></p><p><div account_id_to_name data="item"></div></p></div>'},{name:"课程信息",className:"width100 mobile_show",fieldDirective:"<div><p><span ng-bind=\"'标题:'+item.title\"></span></p><p><span ng-bind=\"'SKU:'+(item.sku|common:'sku')\"></span></p><p><span ng-bind=\"'活动类型:'+(item.category|product_category)\"></span></p><p><span ng-bind=\"'活动类别:'+item.act_type\"></span></p></div>"},{name:"报名时间",fieldDirective:'<div><p>开始时间:<br/> <span ng-bind="item.act_apply_start_time"></span></p><p>结束时间:<br/><span ng-bind="item.act_apply_end_time"></span></p></div>'},{name:"活动时间、地点",fieldDirective:'<div><p>开始时间:<br/> <span ng-bind="item.act_start_time"></span></p><p>结束时间:<br/><span ng-bind="item.act_end_time"></span></p><p>活动时间类型:<br/> <span ng-bind="item.act_time_type|act_time_type"></span></p><p ng-show="item.act_time_type==2"><span ng-bind="item.act_week_desc"></span></p><span ng-show="item.addresses.length>0">地点:</span><p ng-repeat=" obj in item.addresses " ng-show="item.addresses.length>0"><span ng-bind="($index+1)+\':\'+obj.detail_address"></span></p></div>'},{name:"活动类目",className:"width250 mobile_show",fieldDirective:'<div product-option data="item"></div>'},{name:"拼团成<br/>功数量",field:"order.groupbuy_count"},{name:"订单数",className:"mobile_show",fieldDirective:'<div act-order-copies data="item"></div>'},{name:"报名人数",className:"mobile_show",field:"order.order_count"},{name:"已售份数",className:"mobile_show",fieldDirective:'<div product-order-copies data="item"></div>'},{name:"销售总金额",className:"mobile_show",field:"order.amounts"},{name:"剩余<br/>库存",field:"options",filter:"arraySum:'left_inventory'"},{name:"抢购进度",fieldDirective:'<div><p>抢购进度<br/> <span ng-bind="((item.order && item.order.order_copies)||0)| process:(item.options|arraySum:\'option_inventory\')"></span></p><p>已售份数<br/><span ng-bind="(item.order && item.order.order_copies)||0"></span></p><p>库存<br/><span ng-bind="item.options|arraySum:\'option_inventory\'"></span></p></div>'},{name:"上下架时间",fieldDirective:'<div><p>上架时间<br/> <span ng-bind="item.start_time"></span></p><p>下架时间<br/><span ng-bind="item.end_time"></span></p></div>'},{name:"活动状态",field:"status",filter:"product_status"},{name:"配送规则",fieldDirective:'<div product-pattern data="item"></div>'},{name:"覆盖城市",field:"citys",filter:"arraySub2String:'city_name'"},{name:"管理<br/>备注",field:"admin_remark",truncateText:!0,truncateTextLength:7,truncateTextBreakOnWord:!1,tooltip:"admin_remark",tooltipPlacement:"bottom"},{name:"操作",className:"mobile_show",fieldDirective:'<div weinxi-view data="item" ></div><div act-edit data="item" ></div><div product-change-status data="item" ></div><div change-product-type data="item" ></div><div act-crowdfunding data="item" ></div><div act-change-notice data="item" ></div>'}],act_config:{title:"活动列表",api:"/products",rowItemName:"item",rowItemClass:[{product_id:"hjm.act.product_id"}],searchSupport:!0,searchItems:[{type:"btnGroupArray",value:"flag2",text:"活动状态",default:1,width:"6",enum_text:["status","available_type","process_type"],enum:[{value:["","",""],text:"全 部"},{value:["1","1","5"],text:"进行中"},{value:["1","1","1"],text:"即将开始"},{value:["1","1","3"],text:"已结束"},{value:["3","",""],text:"已下线"},{value:["1","2",""],text:"待上线"}]},{text:"SKU",width:"6",paramDirective:'<select class="form-control" ng-model="params.sku" ng-options="item.value as item.text for item in $root.common.sku"><option value="">-- 全部 --</option></select>'},{value:"visible",text:"是否显示",type:"btnGroup",default:"0",width:"6",enum:[{value:"0",text:"全 部"},{value:"1",text:"&nbsp;&nbsp;&nbsp;是&nbsp;&nbsp;&nbsp;"},{value:"2",text:"&nbsp;&nbsp;&nbsp;否&nbsp;&nbsp;&nbsp;"}]},{value:"product_id",text:"活动ID",placeholder:"活动ID",default:""},{value:"group_strange",text:"陌生人拼团",type:"btnGroup",default:"0",width:"6",enum:[{value:"0",text:"全 部"},{value:"2",text:"&nbsp;&nbsp;&nbsp;是&nbsp;&nbsp;&nbsp;"},{value:"1",text:"&nbsp;&nbsp;&nbsp;否&nbsp;&nbsp;&nbsp;"}]},{value:"keyword",text:"关键字",placeholder:"活动标题,管理备注",default:""},{type:"btnGroupArray2",value:"flag1",text:"活动类型",default:0,width:"6",enum_text:"category",enum:[{value:[2,3,4],text:"全 部"},{value:[3],text:"直接买"},{value:[2],text:"人数团"},{value:[4],text:"人数团和直接买"}]}],preSelectionSearch:{sku:"",category:[2,3,4]},paginationSupport:!0,pageInfo:{count:10,page:1,maxSize:5},route:[{routeDirective:'<div act-add data="" >新增活动</div>'}],scopeSearchParam:"actPageInfo",ext:{showNum:[{text:"总数",type:"total"}]}},columns_by_subject:[{name:"活动类型",field:"product.category",filter:"product_category"},{name:"活动ID",field:"product_id",className:"text-center"},{name:"标题",field:"product.title",truncateText:!0,truncateTextLength:5,truncateTextBreakOnWord:!1,tooltip:"product.title",tooltipPlacement:"bottom"},{name:"简介",field:"product.brief"},{name:"报名时间",fieldDirective:'<p>开始时间<br/> <span ng-bind="item.product.act_apply_start_time"></span><br/>结束时间<br/><span ng-bind="item.product.act_apply_end_time"></span></p>'},{name:"活动类目",fieldDirective:'<div product-option data="item.product"></div>'},{name:"已售份数",fieldDirective:'<div product-order-copies data="item.product"></div>'},{name:"剩余<br/>库存",field:"product.options",filter:"arraySum:'left_inventory'"},{name:"当前<br/>状态",field:"product.status",filter:"product_status"},{name:"操作",fieldDirective:'<div del-subject-products data="item" ></div>'}],config_by_subject:{title:"专题活动列表",api:"/subjects/products",rowItemName:"item",searchSupport:!1,searchItems:[{type:"btnGroupArray2",value:"flag1",text:"活动类别",default:0,width:"6",enum_text:"category",enum:[{value:[3,4],text:"全部"},{value:[3],text:"众筹"},{value:[4],text:"一起玩"}]},{type:"btnGroupArray",value:"flag2",text:"活动状态",default:1,width:"6",enum_text:["status","available_type"],enum:[{value:["",""],text:"全部"},{value:["1","1"],text:"正在进行"},{value:["3",""],text:"已下线"},{value:["1","2"],text:"待上线"}]},{value:"visible",text:"是否显示",type:"btnGroup",default:"0",width:"12",enum:[{value:"0",text:"全部"},{value:"1",text:"是"},{value:"2",text:"否"}]},{value:"keyword",text:"活动标题"}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[]}}}}),define("cons/order",[],function(){return{orderList:{columns_by_act_all:[{name:"订单ID",field:"order_id",className:"text-right"},{name:"拼团ID",field:"groupbuy_id",className:"text-center"},{name:"是否是团长",field:"open_group|keyVal:'1':'是':'2':'--'",className:"text-center"},{name:"支付类型",field:"payment_from",filter:"payment_from"},{name:"支付状态",field:"payment_status",filter:"payment_status"},{name:"订单号/推荐人",fieldDirective:'<span ng-bind="item.order_no"></span><br/><span  ng-if="item.referee">推荐人:</span><span ng-bind="item.referee" ng-if="item.referee"></span>'},{name:"订单类型",field:"order_type",filter:"order_type"},{name:"课程信息",fieldDirective:'SKU:<span ng-bind="item.sku|common:\'sku\'"></span><br/><span ng-bind="\'ID:\'+item.product.product_id"></span><br/>标题:<span ng-bind="item.product.title"></span><br/>活动开始时间:<br/><span ng-bind="item.product.start_time"></span><br/>报名截止时间:<br/><span ng-bind="item.product.end_time"></span>'},{name:"课程类目",fieldDirective:'<span ng-bind="item.option_name +\':\'" ng-if="item.option_name"></span><span ng-bind="item.option_price"></span>'},{name:"用户、收货人信息",className:"width200",fieldDirective:'<span ng-bind="\'用户ID:\'+item.user_id"></span><br/> <span ng-bind="\'用户手机:\'+item.user.mobile"></span><br/> <span ng-bind="\'用户名:\'+item.user.name"></span><br/> <span ng-bind="\'收货联系人:\'+item.address.contact_name|characters: 10 : false" uib-tooltip="{{item.address.contact_name}}" tooltip-placement="bottom"></span><br/>收货手机号<br/><span ng-bind="item.address.contact_mobile"></span><span ng-if="item.address"><br/>收货地址:</span><span ng-bind="item.address.province+item.address.city_name+item.address.address"  uib-tooltip="{{item.address.province+item.address.city_name+item.address.address}}" tooltip-placement="bottom"></span><span ng-if="item.address.email"><br/>收货人邮件:</span><span ng-bind="item.address.email"  uib-tooltip="{{item.address.email}}" tooltip-placement="bottom"></span><span ng-if="item.address.baby_name"><br/>孩子姓名:</span><span ng-bind="item.address.baby_name"  uib-tooltip="{{item.address.baby_name}}" tooltip-placement="bottom"></span><span ng-if="item.address.baby_id_card"><br/>孩子身份证:</span><span ng-bind="item.address.baby_id_card"  uib-tooltip="{{item.address.baby_id_card}}" tooltip-placement="bottom"></span>'},{name:"订单详情",fieldDirective:'<span ng-bind="\'份数:\'+item.order_count"></span><br/>金额<br/><span ng-bind="item.order_price"></span>'},{name:"使用<br/>优惠券",field:"coupon_price"},{name:"会员<br/>折扣",fieldDirective:'<span ng-bind="item.vip_discount" ng-show="item.is_vip==1"></span><br/><span ng-show="item.is_vip==2">无折扣</span>'},{name:"下单时间",field:"order_time"},{name:"订单<br/>状态",field:"order_status",filter:"order_status"},{name:"马甲<br/>状态",field:"is_mj",filter:"keyVal:'1':'马甲':'0':''"},{name:"utm<br/>source",fieldDirective:'<p ng-bind="item.stat.utm_source"></p>'},{name:"备注",fieldDirective:'<p ng-bind="item.remark"></p>'},{name:"操作",fieldDirective:'<div order-cancel data="item"></div><div order-change-address-of-act data="item"></div><div order-change-remark data="item"></div><div order-self-introduction data="item"></div><div order-value-explain data="item"></div>'}],columns_by_act:[{name:"订单ID",field:"order_id",className:"text-right"},{name:"拼团ID",field:"groupbuy_id",className:"text-right"},{name:"支付类型",field:"payment_from",filter:"payment_from"},{name:"支付状态",field:"payment_status",filter:"payment_status"},{name:"订单号/推荐人",fieldDirective:'<span ng-bind="item.order_no"></span><br/><span  ng-if="item.referee">推荐人:</span><span ng-bind="item.referee" ng-if="item.referee"></span>'},{name:"订单类型",field:"order_type",filter:"order_type"},{name:"活动类目",fieldDirective:'<span ng-bind="item.option_name +\':\'" ng-if="item.option_name"></span><span ng-bind="item.option_price"></span>'},{name:"收货人信息",fieldDirective:'<span ng-bind="\'联系人:\'+item.address.contact_name|characters: 10 : false" uib-tooltip="{{item.address.contact_name}}" tooltip-placement="bottom"></span><br/>手机号<br/><span ng-bind="item.address.contact_mobile"></span><span ng-if="item.address.address"><br/>详细地址:</span><span ng-bind="item.address.address"  uib-tooltip="{{item.address.address}}" tooltip-placement="bottom"></span><span ng-if="item.address.email"><br/>邮件:</span><span ng-bind="item.address.email"  uib-tooltip="{{item.address.email}}" tooltip-placement="bottom"></span><span ng-if="item.address.baby_name"><br/>孩子姓名:</span><span ng-bind="item.address.baby_name"  uib-tooltip="{{item.address.baby_name}}" tooltip-placement="bottom"></span><span ng-if="item.address.baby_id_card"><br/>孩子身份证:</span><span ng-bind="item.address.baby_id_card"  uib-tooltip="{{item.address.baby_id_card}}" tooltip-placement="bottom"></span>'},{name:"订单详情",fieldDirective:'<span ng-bind="\'份数:\'+item.order_count"></span><br/>金额<br/><span ng-bind="item.order_price"></span>'},{name:"使用<br/>优惠券",field:"coupon_price"},{name:"下单时间",field:"order_time"},{name:"订单<br/>状态",field:"order_status",filter:"order_status"},{name:"马甲<br/>状态",field:"is_mj",filter:"keyVal:'1':'马甲':'0':''"},{name:"utm<br/>source",fieldDirective:'<p ng-bind="item.stat.utm_source"></p>'},{name:"备注",fieldDirective:'<p ng-bind="item.remark"></p>'},{name:"操作",fieldDirective:'<div order-cancel data="item"></div><div order-change-address-of-act data="item"></div><div order-change-remark data="item"></div>'}],config_by_act_2:{title:"当前活动订单列表",api:"/orders",rowItemName:"item",searchSupport:!0,searchItems:[{value:"app_type",text:"课程类型",type:"btnGroup",default:"",width:"12",enum:[{value:"",text:"全 部"},{value:"1",text:"公众号课程"},{value:"2",text:"小程序课程"}]},{value:"payment_from",text:"支付类型",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全部"},{value:1,text:"微信"},{value:2,text:"支付宝"},{value:3,text:"微信H5"},{value:6,text:"支付宝H5"}]},{value:"payment_status",text:"支付状态",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全部"},{value:1,text:"支付中"},{value:2,text:"支付失败"},{value:3,text:"支付成功"}]},{value:"flag2",text:"订单状态",type:"btnGroupArray2",default:0,width:"12",enum_text:"order_status",enum:[{value:[],text:"全部"},{value:[1,2],text:"待支付"},{value:[3],text:"已支付"},{value:[5],text:"已完成"},{value:[4,6],text:"已取消"},{value:[3,5],text:"已支付和已完成"}]},{value:"is_mj",text:"马甲状态",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全 部"},{value:"1",text:"&nbsp;&nbsp;&nbsp;是&nbsp;&nbsp;&nbsp;"},{value:"0",text:"&nbsp;&nbsp;&nbsp;否&nbsp;&nbsp;&nbsp;"}]}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:10,page:1,maxSize:5},ext:{showNum:[{text:"总数",type:"total"}]}},config_by_act:{title:"活动订单列表",api:"/orders",rowItemName:"item",searchSupport:!0,searchItems:[{value:"app_type",text:"课程类型",type:"btnGroup",default:"",width:"12",enum:[{value:"",text:"全 部"},{value:"1",text:"公众号课程"},{value:"2",text:"小程序课程"}]},{value:"payment_from",text:"支付类型",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全部"},{value:1,text:"微信"},{value:2,text:"支付宝"},{value:3,text:"微信H5"},{value:6,text:"支付宝H5"}]},{value:"payment_status",text:"支付状态",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全部"},{value:1,text:"支付中"},{value:2,text:"支付失败"},{value:3,text:"支付成功"}]},{value:"flag1",text:"订单类型",type:"btnGroupArray2",default:0,width:"6",enum_text:"order_type",enum:[{value:[],text:"全部"},{value:[3],text:"直接买"},{value:[2],text:"人数团"},{value:[4],text:"购买礼包"},{value:[5],text:"领取礼包"}]},{value:"flag2",text:"订单状态",type:"btnGroupArray2",default:0,width:"6",enum_text:"order_status",enum:[{value:[],text:"全部"},{value:[1,2],text:"待支付"},{value:[3],text:"已支付"},{value:[5],text:"已完成"},{value:[4,6],text:"已取消"},{value:[3,5],text:"已支付和已完成"}]},{value:"date_min",text:"(下单时间)--开始",type:"datetime"},{value:"date_max",text:"(下单时间)--结束",type:"datetime"},{value:"product_id",text:"活动ID"},{value:"groupbuy_id",text:"拼团ID"},{value:"order_id",text:"订单ID"},{value:"order_no",text:"订单号"},{value:"user_id",text:"用户ID"},{value:"contact_name",text:"联系人"},{value:"contact_mobile",text:"订单手机号"},{value:"utm_source",text:"utm_source"},{value:"is_mj",text:"马甲状态",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全 部"},{value:"1",text:"&nbsp;&nbsp;&nbsp;是&nbsp;&nbsp;&nbsp;"},{value:"0",text:"&nbsp;&nbsp;&nbsp;否&nbsp;&nbsp;&nbsp;"}]}],preSelectionSearch:{order_type:[]},paginationSupport:!0,pageInfo:{count:10,page:1,maxSize:5},ext:{showNum:[{text:"总数",type:"total"}]}},config_by_groupbuy:{title:"当前拼团订单列表",api:"/orders",rowItemName:"item",searchSupport:!0,searchItems:[{value:"app_type",text:"课程类型",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全 部"},{value:"1",text:"公众号课程"},{value:"2",text:"小程序课程"}]},{value:"payment_from",text:"支付类型",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全部"},{value:1,text:"微信"},{value:2,text:"支付宝"},{value:3,text:"微信H5"},{value:6,text:"支付宝H5"}]},{value:"payment_status",text:"支付状态",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全部"},{value:0,text:"待支付"},{value:1,text:"支付中"},{value:2,text:"支付失败"},{value:3,text:"支付成功"}]},{value:"flag",text:"订单状态",type:"btnGroupArray2",default:0,width:"6",enum_text:"order_status",enum:[{value:[],text:"全部"},{value:[1,2],text:"待支付"},{value:[3],text:"已支付"},{value:[5],text:"已完成"},{value:[4,6],text:"已取消"}]},{value:"is_mj",text:"马甲状态",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全 部"},{value:"1",text:"&nbsp;&nbsp;&nbsp;是&nbsp;&nbsp;&nbsp;"},{value:"0",text:"&nbsp;&nbsp;&nbsp;否&nbsp;&nbsp;&nbsp;"}]}],preSelectionSearch:{},paginationSupport:!1,pageInfo:{count:1e6,page:1,maxSize:2},ext:{showNum:[{text:"总数",type:"total"}]}},columns_by_groupbuy:[{name:"订单ID",field:"order_id",className:"text-right"},{name:"拼团ID",field:"groupbuy_id",className:"text-right"},{name:"支付类型",field:"payment_from",filter:"payment_from"},{name:"支付状态",field:"payment_status",filter:"payment_status"},{name:"母订单号",field:"order_no"},{name:"收货<br/>信息",fieldDirective:'<span ng-bind="\'联系人:\'+item.address.contact_name"></span><br/>手机<br/><span ng-bind="item.address.contact_mobile"></span><span ng-if="item.address.address"><br/>详细地址:</span><span ng-bind="item.address.address"  uib-tooltip="{{item.address.address}}" tooltip-placement="bottom"></span><span ng-if="item.address.email"><br/>邮件:</span><span ng-bind="item.address.email"  uib-tooltip="{{item.address.email}}" tooltip-placement="bottom"></span><span ng-if="item.address.baby_name"><br/>孩子姓名:</span><span ng-bind="item.address.baby_name"  uib-tooltip="{{item.address.baby_name}}" tooltip-placement="bottom"></span><span ng-if="item.address.baby_id_card"><br/>孩子身份证:</span><span ng-bind="item.address.baby_id_card"  uib-tooltip="{{item.address.baby_id_card}}" tooltip-placement="bottom"></span><br/>标签:<span ng-bind="item.address.poi_type |poi_type"></span>'},{name:"购买<br/>份数",field:"order_count"},{name:"支付<br/>金额",field:"order_price"},{name:"配送<br/>时间",field:"pattern.arrive_pm",filter:"num2week"},{name:"下单时间",field:"order_time"},{name:"订单<br/>状态",field:"order_status",filter:"order_status"},{name:"马甲<br/>状态",field:"is_mj",filter:"keyVal:'1':'马甲':'0':''"},{name:"utm<br/>source",fieldDirective:'<p ng-bind="item.stat.utm_source"></p>'},{name:"备注",fieldDirective:'<p ng-bind="item.remark"></p>'},{name:"操作",fieldDirective:'<div order-cancel data="item"></div><div order-change-address data="item"></div><div order-change-pattern data="item"></div><div order-change-remark data="item"></div>'}],columns_by_user:[{name:"订单ID",field:"order_id",className:"text-right"},{name:"拼团ID",field:"groupbuy_id",className:"text-right"},{name:"母订单号",field:"order_no"},{name:"课程信息",fieldDirective:'<span ng-bind="\'活动ID:\'+item.product.product_id"></span><br/>标题:<br/><span ng-bind="item.product.title"></span> '},{name:"收货<br/>信息",fieldDirective:'<p><span ng-bind="\'联系人:\'+item.address.contact_name"></span><br/>手机<br/><span ng-bind="item.address.contact_mobile"></span><br/>详细地址:<br/><span ng-bind="item.address.address" uib-tooltip="{{item.address.address}}" tooltip-placement="bottom"></span><span ng-if="item.address.email"><br/>邮件:</span><span ng-bind="item.address.email"  uib-tooltip="{{item.address.email}}" tooltip-placement="bottom"></span><span ng-if="item.address.baby_name"><br/>孩子姓名:</span><span ng-bind="item.address.baby_name"  uib-tooltip="{{item.address.baby_name}}" tooltip-placement="bottom"></span><span ng-if="item.address.baby_id_card"><br/>孩子身份证:</span><span ng-bind="item.address.baby_id_card"  uib-tooltip="{{item.address.baby_id_card}}" tooltip-placement="bottom"></span><br/>标签:<span ng-bind="item.address.poi_type |poi_type"></span></p>'},{name:"购买<br/>份数",field:"order_count"},{name:"支付<br/>金额",field:"order_price"},{name:"配送<br/>时间",field:"pattern.arrive_pm",filter:"num2week"},{name:"下单时间",field:"order_time"},{name:"订单<br/>状态",field:"order_status",filter:"order_status"},{name:"马甲<br/>状态",field:"is_mj",filter:"keyVal:'1':'马甲':'0':''"},{name:"utm<br/>source",fieldDirective:'<p ng-bind="item.stat.utm_source"></p>'},{name:"备注",fieldDirective:'<p ng-bind="item.remark"></p>'}],config_by_user:{title:"用户的订单列表",api:"/orders",rowItemName:"item",searchSupport:!0,searchItems:[{value:"payment_from",text:"支付类型",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全部"},{value:1,text:"微信"},{value:2,text:"支付宝"},{value:3,text:"微信H5"},{value:6,text:"支付宝H5"}]},{value:"payment_status",text:"支付状态",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全部"},{value:1,text:"支付中"},{value:2,text:"支付失败"},{value:3,text:"支付成功"}]},{value:"flag",text:"订单状态",type:"btnGroupArray2",default:0,width:"12",enum_text:"order_status",enum:[{value:[],text:"全部"},{value:[1,2],text:"待支付"},{value:[3],text:"已支付"},{value:[5],text:"已完成"},{value:[4,6],text:"已取消"},{value:[3,5],text:"已支付和已完成"}]}],paginationSupport:!0,pageInfo:{count:10,page:1,maxSize:2}}}}}),define("cons/banner",[],function(){return{bannerList:{columns:[{name:"ID",field:"banner_id",className:"text-center"},{name:"标题",field:"title",truncateText:!0,truncateTextLength:7,truncateTextBreakOnWord:!1,tooltipPlacement:"bottom",tooltip:"title"},{name:"当前排序",field:"sort_num"},{name:"缩略图",fieldDirective:'<show_image url="item.pic_url" width="100"></show_image>'},{name:"URL",field:"url",truncateText:!0,truncateTextLength:10,truncateTextBreakOnWord:!1,tooltipPlacement:"bottom",tooltip:"url"},{name:"当前状态",field:"status",filter:"banner_status"},{name:"展示时间",fieldDirective:'<p ng-bind="((item.start_time || \'\')+(item.end_time || \'\')) |characters:6:true" tooltip-placement="bottom" uib-tooltip="上线时间: {{item.start_time}} 下线时间: {{item.end_time}}">'},{name:"创建时间",field:"created_at",truncateText:!0,truncateTextLength:10,truncateTextBreakOnWord:!1,tooltip:"created_at",tooltipPlacement:"bottom"},{name:"操作",fieldDirective:'<div banner-update data="item"></div><div banner-change-status data="item"></div>'}],config:{title:"运营位列表",api:"/banners",rowItemName:"item",searchSupport:!0,searchItems:[{value:"category",text:"类型",type:"btnGroup",default:"1",width:"6",enum:[{value:"1",text:"城市首页"},{value:"",text:"全部类型"}]},{value:"flag1",text:"状态",type:"btnGroupArray",default:1,width:"6",enum_text:["status","available_type"],enum:[{value:["",""],text:"全部"},{value:["1","1"],text:"正在进行"},{value:["2",""],text:"已下线"},{value:["1","2"],text:"待上线"}]},{value:"keyword",text:"关键字",placeholder:"标题,URL,备注"}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{value:"main.banner.add",text:"新增运营位"}]}}}}),define("cons/export",[],function(){return{exportList:{columns:[{name:"描述",field:"desc",className:"text-center width300"},{name:"操作",fieldDirective:'<div export-run data="item" class="text-center"></div>'}],config:{title:"导出管理",api:"/exports",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:50,page:1,maxSize:2}}}}}),define("cons/user",[],function(){return{userList:{columns:[{name:"ID",field:"user_id",className:"text-center"},{name:"头像",fieldDirective:'<show_image url="item.avatar" width="100"></show_image>'},{name:"微信昵称",field:"name",filter:"null2empty"},{name:"性别",field:"gender",filter:"gender"},{name:"手机号",field:"mobile"},{name:"获取验证码",fieldDirective:'<div user-captcha data="item"></div>'},{name:"关联订单",fieldDirective:'<div user-order data="item"></div>'},{name:"收货地址",fieldDirective:'<div user-address data="item"></div>'},{name:"优惠券",fieldDirective:'<div user-coupon data="item"></div>'},{name:"时间",fieldDirective:'<span ng-bind="\'用户注册:\'+item.created_at" ng-if="item.created_at"></span><br>  <span ng-bind="\'最后使用:\'+item.authed_at" ng-if="item.authed_at"></span><br> <span ng-bind="\'禁言到期:\'+item.imblocktime" ng-if="item.imblocktime"></span>'},{name:"直播禁言管理",fieldDirective:'<span user-live-block data="item"></span>'},{name:"模拟登陆",fieldDirective:'<div user-token data="item"></div>'},{name:"绑定与解绑手机号",fieldDirective:'<div user-mobile-unbind data="item"></div>'}],columns_by_read:[{name:"ID",field:"user_id",className:"text-center"},{name:"头像",fieldDirective:'<show_image url="item.avatar" width="100"></show_image>'},{name:"微信昵称",field:"name",filter:"null2empty"},{name:"性别",field:"gender",filter:"gender"},{name:"手机号",field:"mobile"},{name:"关联订单",fieldDirective:'<div user-order data="item"></div>'},{name:"收货地址",fieldDirective:'<div user-address data="item"></div>'},{name:"优惠券",fieldDirective:'<div user-coupon data="item"></div>'},{name:"注册时间",field:"created_at"},{name:"最近一次使用时间",field:"authed_at",filter:"null2empty"},{name:"绑定与解绑手机号",fieldDirective:'<div user-mobile-unbind data="item"></div>'}],config:{title:"用户列表",api:"/users",rowItemName:"item",searchSupport:!0,searchItems:[{value:"mobile",text:"手机号码"},{value:"name",text:"微信昵称"},{value:"user_id",text:"用户ID"},{value:"openid",text:"微信ID"}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:50,page:1,maxSize:2},ext:{showNum:[{text:"总数",type:"total"}]}}},vipUserList:{columns:[{name:"会员编号",field:"vip_number"},{name:"ID",field:"user_id",className:"text-center"},{name:"头像",fieldDirective:'<show_image url="item.avatar" width="100"></show_image>'},{name:"微信昵称",field:"name"},{name:"性别",field:"gender",filter:"gender"},{name:"手机号",field:"mobile"},{name:"关联订单",fieldDirective:'<div user-order data="item"></div>'},{name:"收货地址",fieldDirective:'<div user-address data="item"></div>'},{name:"优惠券",fieldDirective:'<div user-coupon data="item"></div>'},{name:"会员期限",fieldDirective:'开始:<span ng-bind="item.vip_start_time"></span><br/>结束:<span ng-bind="item.vip_end_time"></span><br/>最近一次登陆:<br/><span ng-bind="item.authed_at"></span>'},{name:"模拟登陆",fieldDirective:'<div user-token data="item"></div>'},{name:"会员",field:"is_vip",filter:"is_vip"},{name:"马甲",field:"role_type",filter:"keyVal:'2':'马甲':'1':''"},{name:"更新会员信息",fieldDirective:'<div vip-user-info-update data="item"></div>'}],config:{title:"VIP用户列表",api:"/users",rowItemName:"item",searchSupport:!0,searchItems:[{value:"mobile",text:"手机号码"},{value:"name",text:"微信昵称"},{value:"openid",text:"微信ID"},{value:"role_type",text:"马甲",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全 部"},{value:"2",text:"&nbsp;&nbsp;&nbsp;是&nbsp;&nbsp;&nbsp;"},{value:"1",text:"&nbsp;&nbsp;&nbsp;否&nbsp;&nbsp;&nbsp;"}]}],preSelectionSearch:{is_vip:[1,3],order_by:"vip_start_time",sort_asc:"1"},paginationSupport:!0,pageInfo:{count:50,page:1,maxSize:2}}},customersList:{columns:[{name:"ID",field:"user_id",className:"text-center"},{name:"头像",fieldDirective:'<show_image url="item.avatar" width="100"></show_image>'},{name:"头像",field:"avatar",filter:"null2empty"},{name:"微信昵称",field:"name",filter:"null2empty"},{name:"性别",field:"gender",filter:"gender"},{name:"手机号",field:"mobile"},{name:"创建时间",field:"created_at"}],config:{title:"马甲列表",api:"/users/customers",rowItemName:"item",searchSupport:!1,
searchItems:[],preSelectionSearch:{role_type:2},paginationSupport:!0,pageInfo:{count:50,page:1,maxSize:5},route:[{value:"main.user.customersAdd",text:"新增马甲"}]}},userblockList:{columns:[{name:"ID",field:"user_id",className:"text-center"},{name:"头像",fieldDirective:'<show_image url="item.user.avatar" width="100"></show_image>'},{name:"微信昵称",field:"user.name",filter:"null2empty"},{name:"性别",field:"user.gender",filter:"gender"},{name:"手机号",field:"user.mobile"},{name:"禁言管理",className:"text-center",fieldDirective:'<span user-live-block data="item"></span>'}],config:{title:"马甲列表",api:"/users/blockUsers",rowItemName:"item",searchSupport:!0,searchItems:[{value:"mobile",text:"手机号码"},{value:"name",text:"微信昵称"}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:50,page:1,maxSize:5},route:[{value:"main.user.customersAdd",text:"新增马甲"}]}}}}),define("cons/refund",[],function(){return{refundList:{columns:[{name:"退款编号",field:"refund_id",className:"text-right"},{name:"退款类型",field:"refund_type",filter:"refund_type"},{name:"母订单号",field:"order_no"},{name:"商品名称",field:"order.order_title"},{name:"收货地址",fieldDirective:'联系人:<span ng-bind="item.order.address.contact_name"></span><br/>手机号:<br/><span ng-bind="item.order.address.contact_mobile"></span><br/>详细地址:<br/><span ng-bind="item.order.address.address|characters: 10 : false"uib-tooltip="详细地址:{{item.order.address.address}}" tooltip-placement="bottom"></span>'},{name:"退款金额",field:"refund_price"},{name:"支付方式",field:"refund_channel",filter:"refund_channel"},{name:"申请时间",field:"created_at",filter:"date2break"},{name:"退款时间",field:"verified_at",filter:"null2empty"},{name:"退款原因",field:"refund_reason"},{name:"失败原因",field:"fail_reason"},{name:"更新时间",field:"updated_at",filter:"null2empty"},{name:"退款来源",field:"cancel_from",filter:"refund_cancel_from"},{name:"退款状态",field:"refund_status",filter:"refund_status"},{name:"操作",fieldDirective:'<div order-single-refund data="item"></div>'}],config:{title:"退款列表",api:"/orders/refunds",rowItemName:"item",searchSupport:!0,searchItems:[{value:"refund_channel",text:"支付方式",type:"btnGroup",default:"",width:"12",enum:[{value:"",text:"全部"},{value:"1",text:"APP微信"},{value:"2",text:"APP支付宝"},{value:"3",text:"H5微信"},{value:"6",text:"H5支付宝"}]},{value:"refund_type",text:"退款类型",type:"btnGroup",default:"1",width:"6",enum:[{value:"1",text:"订单退款"},{value:"2",text:"返现"}]},{value:"refund_status",text:"退款状态",type:"btnGroup",default:"1",width:"6",enum:[{value:"0",text:"未退款"},{value:"1",text:"退款中"},{value:"2",text:"退款失败"},{value:"3",text:"退款成功"}]},{value:"date_min",text:"(申请退款时间)----开始",type:"datetime"},{value:"date_max",text:"----结束",type:"datetime"},{value:"order_no",text:"母订单号"},{value:"contact_name",text:"联系人"},{value:"contact_mobile",text:"手机号"}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2}}}}}),define("cons/deliver",[],function(){return{deliveryList:{columns:[{name:"子订单号",field:"order_sub_no"},{name:"商品标题",field:"order.order_title"},{name:"购买份数",field:"order.order_count"},{name:"收货信息",fieldDirective:'<span ng-bind="\'联系人:\'+item.address.contact_name"></span><br/>手机<br/><span ng-bind="item.address.contact_mobile"></span><br/>详细地址:<br/><span ng-bind="item.address.address|characters: 10 : false" uib-tooltip="{{item.address.address}}" tooltip-placement="bottom"></span><br/>标签:<span ng-bind="item.address.poi_type |poi_type"></span>'},{name:"预计配送时间",field:"expect_date",filter:"null2empty:'无配送时间'"},{name:"子订单状态",field:"delivery_status",filter:"order_deliver_status"},{name:"管理备注",fieldDirective:'<span ng-bind="item.order.remark|characters: 5 : false" uib-tooltip="{{item.order.remark}}" tooltip-placement="bottom"></span>'}],config:{title:"配送列表",api:"/orders/deliveries",rowItemName:"item",searchSupport:!0,searchItems:[{value:"delivery_status",text:"子单状态",type:"btnGroup",default:"1",width:"6",enum:[{value:"1",text:"待发货"},{value:"2",text:"已发货"},{value:"3",text:"已签收"},{value:"4",text:"已取消"}]},{text:"预计配送时间",type:"date",value:"date",width:"6"},{text:"商品ID",value:"product_id"},{text:"子订单号",value:"order_sub_no"},{text:"联系人",value:"contact_name"},{text:"手机号",value:"contact_mobile"}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:50,page:1,maxSize:2},ext:{checked:{text:"",value:"_checked"},showNum:[{text:"总数",type:"total"},{text:"已选",type:"selected"}],eventBtn:[{text:"全选",event:"all_select"},{text:"取消全选",event:"cancel_all_select"},{text:"修改子订单状态",fieldFirective:'<div change-deliveries-status data="list"></div>'}]}},columnsByOrder:[{name:"子订单号",field:"order_sub_no"},{name:"预计配送时间",field:"expect_date",filter:"null2empty:'无配送时间'"},{name:"子订单状态",field:"delivery_status",filter:"order_deliver_status"},{name:"操作",fieldDirective:'<div deliver-delay data="item"></div>'}],configByOrder:{title:"子订单列表",api:"/orders/{order_id}/delivers",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!1,pageInfo:{count:20,page:1,maxSize:2}}}}}),define("cons/coupon",[],function(){return{couponList:{columns:[{name:"ID",field:"id",className:"text-right"},{name:"优惠券属性",fieldDirective:'适用范围:<span ng-bind="item.coupon.category|coupon_category"></span><br/>商品品类:<span ng-bind="item.coupon.sku|coupon_sku"></span><br/>商品类型(频率):<span ng-bind="item.coupon.frequency_type |coupon_frequency_type"></span>'},{name:"满(金额)",field:"coupon.over_price"},{name:"减(金额)",field:"coupon.price"},{name:"优惠券名称",field:"coupon.title"},{name:"生成时间",field:"coupon.created_at"},{name:"发送数量",field:"send_count"},{name:"指定ID",field:"coupon.product_id",filter:"zero2empty"},{name:"有效期",fieldDirective:"<span ng-bind=\"item.coupon.start_time+'-'+item.coupon.expire_time\"></span>"},{name:"手机号码",fieldDirective:'<div modal-textarea title="查看" content="item.mobile_list"></div>'},{name:"操作账户",field:"account.username"}],config:{title:"优惠券管理",api:"/coupons",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{value:"main.coupon.add",text:"新增优惠劵"}]},columns_by_user:[{name:"ID",field:"coupon_id",className:"text-right"},{name:"适用范围",field:"category",filter:"coupon_category"},{name:"商品品类",field:"sku",filter:"coupon_sku"},{name:"商品类型(频率)",field:"frequency_type",filter:"coupon_frequency_type"},{name:"金额",field:"price"},{name:"优惠券名称",field:"title"},{name:"生成时间",field:"created_at"},{name:"有效期",fieldDirective:"<span ng-bind=\"item.start_time+'-'+item.expire_time\"></span>"},{name:"操作账户",field:"account.username"}],config_by_user:{title:"优惠券",api:"/coupons",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2}}}}}),define("cons/exchangecode",[],function(){return{exchangecodeList:{columns:[{name:"ID",field:"id",className:"text-right"},{name:"活动ID",field:"product_id",filter:"zero2empty"},{name:"总量",field:"total"},{name:"适用范围",field:"category",filter:"coupon_category"},{name:"商品品类",field:"sku",filter:"coupon_sku"},{name:"商品类型(频率)",field:"frequency_type",filter:"coupon_frequency_type"},{name:"金额",field:"price"},{name:"优惠券名称",field:"title"},{name:"优惠券领取数",field:"coupon_receive_num"},{name:"优惠券有效天数",field:"valid_days"},{name:"生成时间",field:"created_at",truncateText:!0,truncateTextLength:10,truncateTextBreakOnWord:!1,tooltip:"created_at",tooltipPlacement:"bottom"},{name:"有效期",fieldDirective:'<span ng-bind="((item.start_time || \'\')+(item.expire_time || \'\')) |characters:6:true" tooltip-placement="bottom" uib-tooltip="上线时间: {{item.start_time}} 过期时间: {{item.expire_time}}"></span>'},{name:"导出兑换码",fieldDirective:'<div exchangecode-export data="item"></div>'},{name:"操作账户",field:"account.username"}],config:{title:"兑换码",api:"/exchangecodes",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{value:"main.exchangecode.add",text:"新增兑换码"}]}}}}),define("cons/address",[],function(){return{addressList:{columns:[{name:"编号",field:"address_id",className:"text-center"},{name:"联系人",field:"contact_name"},{name:"手机号",field:"contact_mobile"},{name:"城市",field:"city_name"},{name:"收货地址",field:"address"},{name:"地址标签",field:"poi_type",filter:"address_poi_type"},{name:"地址状态",field:"status",filter:"address_status"}],config:{title:"收货地址列表",api:"/address",itemList:"data",rowItemName:"item",searchSupport:!1,searchItems:[{value:"mobile",text:"手机号码"},{value:"name",text:"微信昵称"},{value:"authed_at",text:"登陆日期",type:"date"}],preSelectionSearch:{},paginationSupport:!1,pageInfo:{count:50,page:1,maxSize:2}}}}}),define("cons/community",[],function(){return{communityList:{columns:[{name:"ID",field:"community_id",className:"text-center"},{name:"小区名称",field:"name",truncateText:!0,truncateTextLength:5,truncateTextBreakOnWord:!1,tooltipPlacement:"bottom",tooltip:"name"},{name:"别名",field:"alias",truncateText:!0,truncateTextLength:4,truncateTextBreakOnWord:!1,tooltipPlacement:"bottom",tooltip:"alias"},{name:"城市",field:"city_name"},{name:"行政区",field:"district"},{name:"板块",field:"area"},{name:"建筑时间",field:"completed_time"},{name:"住宅类型",field:"property_type",truncateText:!0,truncateTextLength:4,truncateTextBreakOnWord:!1,tooltipPlacement:"bottom",tooltip:"property_type"},{name:"创建时间",field:"created_at",filter:"limitTo:10"},{name:"操作",fieldDirective:'<a class="btn btn-primary btn-rounded btn-sm" ui-sref="main.community.update({community_id:item.community_id})">编辑</a>'},{name:"搜房ID",field:"cell_biz_id",truncateText:!0,truncateTextLength:4,truncateTextBreakOnWord:!1,tooltipPlacement:"bottom",tooltip:"cell_biz_id"}],config:{title:"小区列表",api:"/communities",rowItemName:"item",searchSupport:!0,searchItems:[{value:"poi_type",text:"位置类型",type:"btnGroup",default:"1",width:"6",enum:[{value:"1",text:"小区"},{value:"2",text:"写字楼"}]},{value:"keyword",text:"小区名称"}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:50,page:1,maxSize:10},route:[{value:"main.community.add",text:"新增小区"}]}}}}),define("cons/sms",[],function(){return{smsList:{columns:[{name:"ID",field:"id",className:"text-center"},{name:"内容",field:"content"},{name:"发送时间",field:"send_time",filter:"null2empty"},{name:"状态",field:"status",filter:"null2empty"},{name:"操作",fieldDirective:'<div show-sms data="item"></div>'}],config:{title:"短信列表",api:"/markets/sms",rowItemName:"item",searchSupport:!1,searchItems:[{value:"mobile",text:"小区名称"}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{value:"main.sms.add",text:"发送短信"}]}}}}),define("cons/supports",["./common"],function(common){return{supportsCitiesList:{columns:[{name:"编号",field:"support_city_id",className:"text-center"},{name:"国家",field:"country"},{name:"城市",field:"city_name"},{name:"更新时间",field:"updated_at"}],config:{title:"开通城市",api:"/supports/cities",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,route:[{value:"main.support.opencitiesadd",text:"新增开通城市"}],pageInfo:{count:5e3,page:1,maxSize:5}}},supportUpgradeList:{columns:[{name:"时间",field:"created_at",className:"width200"},{name:"版本号",field:"version",className:"width200"},{name:"更新说明",fieldDirective:'<textarea style="resize: none;" class="form-control" style="height: 100%; " rows="7" ng-bind="item.content" disabled></textarea>'},{name:"环境",field:"environment|null2empty|keyVal:'test':'测试':'product':'线上'",className:"width200"},{name:"强制更新",field:"force_update|keyVal:'1':'是':'0':'——'",className:"width200"},{name:"列表管理",fieldDirective:'<h5><a class="btn btn-primary btn-rounded btn-sm" target="_blank" ng-href="{{item.update_url}}">下载</a><a class="btn btn-success btn-rounded btn-sm" ui-sref="main.support.upgradesUpdate({id:item.id})">编辑</a></h5>'}],config:{title:"版本更新",api:common.live_domain+"/supports/upgrades",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[{routeDirective:"<div support-imei ></div>"},{routeDirective:'<a class="btn btn-success btn-rounded btn-sm pull-right" ui-sref="main.support.upgradesAdd">上传新版本</a>'}]}},supportsImeiList:{columns:[{name:"测试手机IMEI",field:"imei",className:"text-center"},{name:"操作",fieldDirective:'<h5><span change-imei-status data="item"></span></h5>'}],config:{title:"开通城市",api:common.live_domain+"/supports/imeis",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{status:"1"},paginationSupport:!0,pageInfo:{count:5e3,page:1,maxSize:5},route:[{routeDirective:"<span support-imei-add></span>"}]}},supportBannerList:{columns:[{name:"广告ID",field:"id",className:"text-center"},{name:"当前排序",field:"sort_num"},{name:"URL",fieldDirective:'<textarea style="resize: none;" class="form-control" style="height: 100%; " rows="2" ng-bind="item.url" disabled></textarea>'},{name:"广告位置",field:"category",filter:"keyVal:'1':'首页'"},{name:"缩略图",fieldDirective:'<show_image url="item.pic_url" width="100"></show_image>'},{name:"创建时间",field:"created_at",truncateText:!0,truncateTextLength:20,truncateTextBreakOnWord:!1,tooltip:"created_at",tooltipPlacement:"bottom"},{name:"状态/开关",fieldDirective:"<h5><span ng-bind=\"item.status|keyVal:'1':'上线':'2':'删除':'3':'——'\"></span>&nbsp;&nbsp;&nbsp;<span change-support-banner-status data=\"item\"></span></h5>"},{name:"操作",fieldDirective:'<h5><a class="btn btn-success btn-rounded btn-sm" ui-sref="main.support.bannerUpdate({id:item.id})">编辑</a>&nbsp;&nbsp;&nbsp;<a del-support-banner data="item"></a></h5>'}],config:{title:"直播运营位列表",api:common.live_domain+"/supports/banners",rowItemName:"item",searchSupport:!0,searchItems:[],preSelectionSearch:{status:[1,3]},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{value:"main.support.bannerAdd",text:"新增直播运营位"}]}}}}),define("cons/subject",[],function(){return{subjectList:{columns:[{name:"运营专题ID",field:"subject_id"},{name:"名称",field:"name"},{name:"简介",field:"brief"},{name:"缩略图",fieldDirective:'<show_image url="item.share_pic.pic_url" width="100"></show_image>'},{name:"专题活动列表",fieldDirective:'<div subject-product data="item"></div>'},{name:"创建时间",field:"created_at"},{name:"状态",field:"groups",filter:"subject_groups"},{name:"操作",fieldDirective:'<div subject-edit data="item"></div>'}],config:{title:"运营专题列表管理",api:"/subjects",rowItemName:"item",searchSupport:!0,searchItems:[{value:"visible",text:"专题状态",type:"btnGroup",default:"",enum:[{value:"",text:"全部"},{value:"1",text:"正在进行"},{value:"2",text:"已下线"}]},{value:"subject_id",text:"专题ID",placeholder:""},{value:"keyword",text:"专题名称",placeholder:""}],preSelectionSearch:{status:"0"},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[{value:"main.subject.add",text:"新增运营专题"}]}}}}),define("cons/resource",[],function(){return{resourceList:{columns:[{name:"ID",field:"pic_id",className:"text-center"},{name:"名称",field:"name"},{name:"资源文件",fieldDirective:'<show_image url="item.pic_url" width="100"></show_image>'},{name:"新URL",fieldDirective:"<span ng-bind=\"item.pic_url.replace('huijiame','bucket.ahaschool');\" ng-if=\"item.pic_url.substr(item.pic_url.length-4)!='.mp4'\"></span><span ng-bind=\"item.pic_url|change_domain_mp4\" ng-if=\"item.pic_url.substr(item.pic_url.length-4)=='.mp4'\"></span>"},{name:"创建时间",field:"created_at",filter:"null2empty"}],config:{title:"资源库列表",api:"/supports/resources",rowItemName:"item",searchSupport:!0,searchItems:[{value:"date_min",text:"开始日期",type:"date"},{value:"date_max",text:"结束日期",type:"date"},{value:"keyword",text:"图片名称",placeholder:""}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},ext:{eventBtn:[{text:"新增图片",fieldFirective:'<div add-resource-image data=""></div>'},{text:"新增音频",fieldFirective:'<div add-resource-media data=""></div>'}]}}}}}),define("cons/wechat",[],function(){return{qrcodeList:{columns:[{name:"二维码ID",field:"qrcode_id",className:"text-right"},{name:"场景编号",field:"scene_id"},{name:"长久or临时",field:"type",filter:"qrcode_type"},{name:"描述",field:"desc"},{name:"微信二维码",fieldDirective:'<show_image url="item.url" width="200" ></show_image>'},{name:"微信二维码地址",fieldDirective:'<textarea class="form-control" style="height: 100%; " rows="5" ng-bind="item.url"></textarea>'},{name:"创建时间",field:"created_at"},{name:"操作",fieldDirective:'<div qrcode-delete data="item" ></div>'}],config:{title:"微信二维码管理",api:"/wechat/qrcodelist",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[{value:"main.wechat.qrcodeAdd",text:"新增二维码"}]}}}}),define("cons/web",[],function(){return{webList:{columns:[{name:"ID",field:"id",className:"text-right"},{name:"描述",field:"remark"},{name:"URL",className:"text-center width500",fieldDirective:'<textarea class="form-control" style="width: 500px; resize: none;" rows="5" ng-bind="item.full_url" disabled></textarea>'},{name:"utm_source",field:"utm_source",filter:"null2empty"},{name:"utm_medium",field:"utm_medium",filter:"null2empty"},{name:"utm_campaign",field:"utm_campaign",filter:"null2empty"},{name:"创建时间",field:"created_at"}],config:{title:"微信二维码管理",api:"/markets/urls",searchSupport:!0,searchItems:[{value:"keyword",text:"关键字",placeholder:"关键字",default:""}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[{value:"main.web.add",text:"新生成WEB页面"}]}}}}),define("cons/hotkey",[],function(){return{hotkeyList:{columns:[{name:"ID",field:"id",className:"text-right"},{name:"热搜词",field:"keyword"},{name:"创建时间",field:"created_at"},{name:"更新时间",field:"updated_at"},{name:"操作",fieldDirective:'<div hotkey-del data="item"></div>'}],config:{title:"热搜词列表",api:"/product/hotkey",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!1,pageInfo:{count:20,page:1,maxSize:5},route:[{routeDirective:'<div hotkey-add data="">新增热搜词</div>'}]}}}}),define("cons/captcha",[],function(){return{captchaList:{columns:[{name:"ID",field:"captcha_id",className:"text-center"},{name:"手机号码",field:"mobile"},{name:"验证码",field:"code"},{name:"创建时间",field:"created_at",filter:"null2empty"},{name:"过期时间",field:"expire_time",filter:"null2empty"}],config:{title:"手机验证码列表",api:"/supports/captchas",rowItemName:"item",searchSupport:!0,searchItems:[{value:"mobile",text:"手机号码",placeholder:"手机号码"}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{value:"main.captcha.add",text:"新增手机验证码"}]}}}}),define("cons/survey_category",[],function(){return{surveyCategoryList:{columns:[{name:"ID",field:"id",className:"text-center"},{name:"维度",field:"name"},{name:"操作",fieldDirective:'<div survey-category-edit data="item" ></div>&nbsp;&nbsp;&nbsp;<div survey-category-del data="item" ></div>&nbsp;&nbsp;&nbsp;<div survey-category-download data="item" style="display:inline-block"></div>'}],config:{title:"题库维度列表",api:"/surveys/categories",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{status:1,type:2},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[{routeDirective:'<div survey-category-add data="">新增维度</div>'}]}}}}),define("cons/survey_question",[],function(){return{surveyQuestionList:{columns:[{name:"ID",field:"id",className:"text-center"},{name:"维度类别",fieldDirective:'<div survey-question-category data="item"></div>'},{name:"选项带分",field:"option_type",filter:"question_option_type"},{name:"是否必答",field:"required",filter:"yes1no2"},{name:"题型",field:"type",filter:"survey_question_type"},{name:"年龄段",fieldDirective:"<span ng-bind=\"item.age_min+(item.age_min==10?'以上':('-'+item.age_max))\"></span>"},{name:"文字描述",fieldDirective:'<p style="width:300px;" ng-bind="item.title"></p>'},{name:"答题人次",field:"problem.count"},{name:"做对人次",field:"problem.right_count"},{name:"上线时间",field:"created_at"},{name:"状态",field:"status",filter:"survey_question_status"},{name:"操作",fieldDirective:'<div survey-question-edit data="item" ></div><div survey-question-copy data="item" ></div><div survey-question-del data="item" ></div><div survey-question-change-status data="item" ></div>'}],config:{title:"题库列表",api:"/surveys/questions",rowItemName:"item",searchSupport:!0,searchItems:[{text:"关键字",value:"keyword"},{text:"维度",paramDirective:'<select class="form-control" ng-model="params.category_id" ng-options="item.value as item.text for item in $root.survey_question_category_list_general"></select>'},{value:"status",text:"状态",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全部"},{value:"1",text:"正在进行"},{value:"2",text:"暂停"},{value:"3",text:"删除"},{value:"4",text:"草稿"}]},{type:"btnGroupArray",value:"flag",text:"年龄段",default:0,width:"6",enum_text:["age_min","age_max"],enum:[{value:["",""],text:"全部"},{value:["0","3"],text:"0-3"},{value:["4","6"],text:"4-6"},{value:["7","9"],text:"7-9"},{value:["10",""],text:"10岁以上"}]}],preSelectionSearch:{age_min:"",age_max:"",status:"",category_type:"2"},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[{value:"main.survey_question.add",text:"新增题库"}],ext:{showNum:[{text:"总数",type:"total"}]}}},surveyQuestionAttachmentList:{columns:[{name:"ID",field:"id",className:"text-center"},{name:"类型",field:"type",filter:"survey_question_type"},{name:"文字描述",field:"title"},{name:"上线时间",field:"created_at"},{name:"操作",fieldDirective:'<div survey-question-edit data="item" attachment="1"></div><div survey-question-del data="item" ></div>'}],config:{title:"附加信息列表",api:"/surveys/questions",rowItemName:"item",searchSupport:!1,searchItems:[{value:"status",text:"状态",type:"btnGroup",default:"1",width:"6",enum:[{value:"",text:"全部"},{value:"1",text:"正在进行"},{value:"2",text:"暂停"},{value:"3",text:"删除"},{value:"4",text:"草稿"}]}],preSelectionSearch:{age_min:"",age_max:"",status:"1",category_type:"1"},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[{value:"main.survey_question_attachment.add",text:"新增附加信息"}]}}}}),define("cons/survey_plan",[],function(){return{surveyPlanList:{columns:[{name:"ID",field:"id",className:"text-center"},{name:"商品ID",field:"product_id",filter:"zero2empty"},{name:"题型",field:"type",filter:"survey_plan_type"},{name:"年龄段",fieldDirective:"<span ng-bind=\"item.age_min+'-'+item.age_max\"></span>"},{name:"维度",field:"categories",filter:"arraySub2String:'name'"},{name:"测评名称",field:"name"},{name:"文字描述",fieldDirective:'<p style="width:700px;" ng-bind="item.brief"></p>'},{name:"操作",fieldDirective:'<div survey-plan-edit data="item" ></div><div survey-plan-del data="item" ></div><div survey-plan-download data="item"></div>'}],config:{title:"测评列表",api:"/surveys/plans",rowItemName:"item",searchSupport:!1,searchItems:[{value:"status",text:"状态",type:"btnGroup",default:"1",enum:[{value:"",text:"全部"},{value:"1",text:"正在进行"},{value:"2",text:"已下线"}]}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5,status:"1"},route:[{value:"main.survey_plan.add",text:"新增测评"}]}}}}),define("cons/lessons",[],function(){return{lessonsList:{columns:[{name:"ID",field:"lesson_id",className:"text-right"},{name:"活动ID/已选择类目",className:"width200",fieldDirective:'<ul><li ng-repeat="obj in item.products"><span ng-bind="obj.product_id|null2empty"></span><span ng-if="obj.option" ng-bind="\' ): \'+obj.option.option_name"></span><span ng-if="obj.option.option_name" ng-bind="\'/￥\' +obj.option.option_price"></span></li></ul>'},{name:"课程名称",field:"name",className:"width100"},{name:"负责教师",field:"teacher.name",filter:"null2empty"},{name:"任务发布时间",fieldDirective:"<div><p ng-bind=\"item.pubtime_at|null2empty\"></p><p ng-repeat=\"obj in item.schedules\"><span ng-bind=\"obj.week|common:'week'\"></span><span ng-bind=\"(obj.hour|common:'hour')+'时'\"></span><span ng-bind=\"(obj.minute|common:'minute')+'分'\"></span></p></div>"},{name:"报名人数",field:"stat_student.user_count"},{name:"备注",fieldDirective:'<div modal-textarea content="item.remark" title="备注" ng-show="item.remark" size="sm"></div>'},{name:"已上线任务",fieldDirective:'<p><a class="btn btn-info btn-rounded btn-sm" ui-sref="main.mission.list({lesson_id:item.lesson_id})" ng-bind="\'已上线(\'+(item.stat_mission && item.stat_mission.mission_count || 0)+\')\'" ></a></p><div mission-import data="item" ></div><div lessons-mission-order data="item" ></div>'},{name:"状态",fieldDirective:"<span ng-bind=\"item.status|keyVal:'1':'已上线':'2':'已下线':'3':'草稿'\"></span><span lessons-change-status data=\"item\" ></span>"},{name:"操作",fieldDirective:'<div lessons-mission-add data="item" ></div><div lessons-edit data="item" ></div>'}],config:{title:"课程列表",api:"/lessons",rowItemName:"item",searchSupport:!0,searchItems:[{value:"keyword",text:"关键字",placeholder:"关键字",default:""},{value:"status",text:"状态",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全部"},{value:"1",text:"进行中"},{value:"2",text:"已下线"},{value:"3",text:"草稿"}]}],preSelectionSearch:{status:""},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{value:"main.lessons.add",text:"新增课程"}]}}}}),define("cons/mission",[],function(){return{missionList:{columns_by_online:[{name:"排序",field:"order_by",className:"text-right"},{name:"任务ID",field:"mission_id",className:"text-right"},{name:"任务名称",field:"title"},{name:"任务状态",field:"status|mission_status"},{name:"知识点",fieldDirective:'<div knowledge-edit data="item"></div>'},{name:"备注",field:"remark|null2empty"},{name:"操作",fieldDirective:'<a class="btn btn-primary btn-sm btn-bordered" ui-sref="main.mission.update({lesson_id:item.lesson_id,mission_id:item.mission_id})">编辑</a><span mission-notify data="item"></span>'}],config_by_online:{title:"课程上线任务",api:"/teacher/missions",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{status:"1"},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2}}}}}),define("cons/teacher",[],function(){return{teacherList:{columns:[{name:"ID",field:"account_id",className:"text-right"},{name:"教师名",field:"name"},{name:"手机",field:"mobile"},{name:"邮箱",field:"email"},{name:"课程类型",field:"lesson_type|null2empty"},{name:"课程",field:"stat_lesson.lesson_count|null2empty"},{name:"备注",field:"remark|null2empty"},{name:"操作",fieldDirective:'<div teacher-edit data="item" ></div>'}],config:{title:"教师列表",api:"/teachers",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{status:"1"},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{value:"main.teacher.add",text:"添加老师"}]}}}}),define("cons/student",[],function(){return{studentList:{columns:[{name:"ID",field:"user_id",className:"text-right"},{name:"微信昵称",field:"name|null2empty"},{name:"手机号",field:"mobile"},{name:"课程",fieldDirective:'<div student-lessons data="item" ></div>'},{name:"作业",fieldDirective:'<div student-plans data="item" ></div>'}],config:{title:"学生列表",api:"/students",rowItemName:"item",searchSupport:!0,searchItems:[{value:"keyword",text:"搜索",placeholder:"关键字",default:""}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2}},columns_by_lesson:[{name:"ID",field:"id",className:"text-right"},{name:"课程ID",field:"lesson_id",className:"text-right"},{name:"课程名称",field:"lesson.name"},{name:"已下发任务",field:"current_mission"},{name:"总课时",field:"lesson.mission_num"},{name:"第一次收到任务时间",fieldDirective:'<span ng-show="item.plans.length>0" bo-text="item.plans[0].created_at"></span>'},{name:"购买课程时间",field:"created_at|null2empty"},{name:"操作",fieldDirective:'<div student-lessons-change-status data="item"></div>'}],config_by_lesson:{title:"课程列表",api:"/students",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2}},columns_by_plan:[{name:"课程ID",field:"lesson_id",className:"text-right"},{name:"任务编号",field:"plan_id",className:"text-right"},{name:"上交时间",field:"works[0].created_at"},{name:"作业状态",fieldDirective:"<span ng-bind=\" (item.works[0]&&item.works[0].appraise_at)?'已评价':'未评价'\"></span>"},{name:"是否有提问",fieldDirective:'<span class="label label-danger fa fa-check" ng-show="(item.works[0]&&item.works[0].ask&&!item.appraise_at)">&nbsp;</span>'},{name:"操作",fieldDirective:'<div student-plan-works data="item" ></div>'}],config_by_plan:{title:"作业列表",api:"/students",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2}}}}}),define("cons/work",[],function(){return{workList:{columns:[{name:"作业ID",field:"work_id",className:"text-right"},{name:"任务编号",field:"plan_id",className:"text-right"},{name:"用户",field:"user_name"},{name:"手机号码",field:"mobile"},{name:"课程",field:"lesson_name"},{name:"任务",field:"title"},{name:"交作业时间",field:"created_at"},{name:"作业状态",className:"text-center",fieldDirective:"<span ng-bind=\" (item.appraise_at)?'已评价':'未评价'\"></span>"},{name:"是否有提问",className:"text-center",fieldDirective:'<span class="label label-danger fa fa-check" ng-show="item.ask&&!item.appraise_at">&nbsp;</span>'},{name:"操作",className:"text-center",fieldDirective:'<div student-plan-works data="item" ></div>'}],config:{title:"作业列表",api:"/planworks",rowItemName:"item",searchSupport:!0,searchItems:[{value:"date_min",text:"交作业时间-开始",type:"datetime"},{value:"date_max",text:"结束",type:"datetime"},{value:"mobile",text:"手机号码",placeholder:"手机号码",default:""},{value:"user_keyword",text:"用户",placeholder:"用户关键字",default:""},{value:"lesson_keyword",text:"课程",placeholder:"课程关键字",default:""},{value:"mission_keyword",text:"任务",placeholder:"任务关键字",default:""}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2}}}}}),define("cons/live_rooms",["./common"],function(common){return{liveRoomsList:{columns:[{name:"ID",field:"id",className:"text-center"},{name:"房间号/URL地址",fieldDirective:'<p ng-bind="item.room_no"></p><span ng-bind="$root.common.wx_domain+\'/chatroomdetail?room_no=\'+item.room_no"></span>'},{name:"排序",field:"order_by"},{name:"标题",field:"title"},{name:"问题列表",className:"text-center",fieldDirective:'<span room-question data="item"></span>'},{name:"流名称",field:"cloud.stream_name",filter:"null2empty"},{name:"直播时间",fieldDirective:'<div><p ng-show="item.start_time">开始时间:<br/> <span ng-bind="item.start_time"></span></p><p ng-show="item.end_time">结束时间:<br/><span ng-bind="item.end_time"></span></p></div>'},{name:"关联测评",fieldDirective:'<p ng-show="item.survey">测评ID:<span ng-bind="item.survey.plan_id"></span></p><p ng-show="item.survey">查看答案有效时间:<span ng-bind="item.survey.show_result_time+\'s\'"></span></p><span live-room-plan-add data="item"></span>'},{name:"订单类型",field:"sku|common:'live_sku'"},{name:"房间状态/开关",fieldDirective:"<h5><span ng-bind=\"item.status|keyVal:'1':'开启':'2':'——'\"></span>&nbsp;&nbsp;&nbsp;<span change-live-room-status data=\"item\"></span></h5>"},{name:"直播流状态/开关",fieldDirective:"<h5><span ng-bind=\"item.live_status|keyVal:'1':'未开启&nbsp;&nbsp;&nbsp;&nbsp;':'2':'直播中&nbsp;&nbsp;&nbsp;&nbsp;':'3':'直播结束'\"></span>&nbsp;&nbsp;&nbsp;<span change-live-room-live-status data=\"item\"></span></h5>"},{name:"直播预告",fieldDirective:'<h5><span ng-bind="\'开始:\'+item.plans[0].start_time" ng-show="item.plans[0].start_time"></span></h5><h5><span ng-bind="\'结束:\'+item.plans[0].end_time" ng-show="item.plans[0].end_time"></span></h5><h5 ng-show="!item.plans[0].start_time||!item.plans[0].end_time"><span ng-bind="\'无\'"></span>&nbsp;&nbsp;&nbsp;</h5>'},{name:"操作",fieldDirective:'<p><span live-room-edit data="item" ></span>&nbsp;&nbsp;&nbsp;<span live-room-plan data="item" ></span>&nbsp;&nbsp;&nbsp;<span live-room-download data="item"></span>&nbsp;&nbsp;&nbsp;</p><span live-room-block data="item"></span>&nbsp;&nbsp;&nbsp;<span to-record-room-edit data="item" ></span>'}],config:{title:"直播列表",api:common.live_domain+"/live/rooms",rowItemName:"item",searchSupport:!0,searchItems:[{value:"status",text:"房间状态",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全部"},{value:"1",text:"开启的"},{value:"2",text:"关闭的"}]},{value:"keyword",text:"关键字",placeholder:"标题",default:""}],preSelectionSearch:{type:1},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[{routeDirective:'<div live-room-add data=""></div>'}]}}}}),define("cons/record_rooms",["./common"],function(common){return{recordRoomsList:{columns:[{name:"ID",field:"id",className:"text-center"},{name:"排序",field:"order_by"},{name:"房间号/URL地址",
fieldDirective:'<div modal-textarea title="{{item.room_no}}" content="$root.common.wx_domain+\'/chatroomdetail?room_no=\'+item.room_no"></div>'},{name:"标题",field:"title",className:"text-left"},{name:"问题列表",className:"text-center",fieldDirective:'<span room-question data="item"></span>'},{name:"苹果标示",field:"ios_audit|keyVal:'1':'是':'2':'—'"},{name:"发布时间",field:"record.created_at"},{name:"播放次数",field:"record.play_count"},{name:"关联测评",fieldDirective:'<p ng-show="item.survey">测评ID:<span ng-bind="item.survey.plan_id"></span></p><p ng-show="item.survey">查看答案有效时间:<span ng-bind="item.survey.show_result_time+\'s\'"></span></p><span live-room-plan-add data="item"></span>'},{name:"评论次数",fieldDirective:'<a class="btn btn-link btn-rounded" ui-sref="main.record_comment.list({id:item.record.id})">详情</a>&nbsp;&nbsp;&nbsp;<span ng-bind="item.record.comment_count|null2empty|zero2empty"></span>'},{name:"状态/开关",fieldDirective:"<span ng-bind=\"item.status|keyVal:'1':'开启':'2':'——'\"></span>&nbsp;&nbsp;&nbsp;<span change-live-room-status data=\"item\"></span>"},{name:"操作",fieldDirective:'<a class="btn btn-success btn-rounded btn-sm" ui-sref="main.record_rooms.update({id:item.id})">编辑</a>&nbsp;&nbsp;<span record-room-download data="item"></span>&nbsp;&nbsp;<span record-rooms-copy data="item"></span>'}],config:{title:"点播列表",api:common.live_domain+"/live/rooms",rowItemName:"item",searchSupport:!0,searchItems:[{value:"status",text:"房间状态",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全部"},{value:"1",text:"开启的"},{value:"2",text:"关闭的"}]},{value:"keyword",text:"关键字",placeholder:"标题",default:""},{value:"id",text:"点播房间ID",placeholder:"点播房间ID",default:""}],preSelectionSearch:{type:2},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[{value:"main.record_rooms.add",text:"新增视频"}]}}}}),define("cons/record_comment",["./common"],function(common){return{recordCommentsList:{columns:[{name:"ID",field:"id",className:"width100"},{name:"时间",field:"created_at",className:"width200"},{name:"用户id",field:"user_id",className:"width200"},{name:"评论",fieldDirective:'<textarea style="resize: none;" class="form-control" style="height: 100%; " rows="3" ng-bind="item.content" disabled></textarea>'},{name:"置顶",className:"width200",fieldDirective:"<h5><span ng-bind=\"item.on_top|keyVal:'1':'置顶':'2':'——'\"></span>&nbsp;&nbsp;&nbsp;<span change-record-comment-ontop data=\"item\"></span></h5>"},{name:"操作",className:"width200",fieldDirective:'<h5><div del-record-comment data="item" ></div></h5>'}],config:{title:"评论列表",api:common.live_domain+"/live/comments",rowItemName:"item",searchSupport:!0,searchItems:[{value:"keyword",text:"关键字",placeholder:"标题",default:""},{value:"user_id",text:"用户ID",placeholder:"用户ID",default:""}],preSelectionSearch:{status:1},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[]}}}}),define("cons/zhibo_qr_code",["./common"],function(common){return{zhibo_qr_codeList:{columns:[{name:"描述",field:"name",className:"width100"},{name:"资源文件",fieldDirective:'<show_image url="item.url" width="100"></show_image>',className:"width100 text-center "},{name:"二维码地址",field:"url",className:"width200"},{name:"操作",className:"width100",fieldDirective:'<span zhibo-qr-code-change-status data="item"></span>'}],config:{title:"直播二维码",api:"/cctalk/qrcodes",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{status:1},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[],ext:{eventBtn:[{text:"新增cctalk二维码",fieldFirective:'<div add-zhibo-qr-code data=""></div>'}]}}}}}),define("cons/cert",["./common"],function(common){return{certList:{columns:[{name:"ID",field:"id",className:"text-center"},{name:"名称",field:"name"},{name:"视频组ID",field:"video_group_id"},{name:"测评活动",field:"activity.title||(item.activity_id|null2empty)"},{name:"正确率",fieldDirective:'<span ng-bind="item.pass_rate+\'%\'" ng-show="item.pass_rate"></span>',className:"text-center"},{name:"证书获取情况",className:"text-center",fieldDirective:"<span show-table data=\"{text:'证书获取用户列表',modid:'certUserList',config:'config',columns:'columns',extApi:$root.common.live_domain+'/live/certs/'+item.id+'/users'}\"></span>"},{name:"证书预览",field:"created_at",className:"text-center"},{name:"备注",field:"remark|null2empty"},{name:"操作",fieldDirective:'<div cert-update data="item"></div>'}],config:{title:"问答证书列表",api:common.live_domain+"/live/certs",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{value:"main.cert.add",text:"新增问答证书"}]}}}}),define("cons/cert_user",[],function(){return{certUserList:{columns:[{name:"用户ID",field:"user_id",className:"text-center"},{name:"用户名",field:"user.name"}],config:{title:"证书获取用户列表",api:"",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2}}}}}),define("cons/market/activitycoupons",[],function(){return{activitycouponsList:{columns:[{name:"ID",field:"id",className:"text-right"},{name:"优惠券名称",field:"title",className:"text-center"},{name:"活动ID",field:"product_id",filter:"zero2empty"},{name:"领取链接",fieldDirective:'<div ng-show="item.type==1" modal-textarea title="查看单个券链接" content="$root.common.wx_domain + \'/marketing/activitycoupon/code/\'+item.code"></div><div ng-show="item.type==2" modal-textarea title="查看组合券链接" content="$root.common.wx_domain + \'/marketing/combinationcoupons/code/\'+item.code"></div>'},{name:"满(金额)",field:"over_price",filter:"null2empty"},{name:"减(金额)",field:"price",filter:"null2empty"},{name:"兑换有效期",fieldDirective:"<span ng-bind=\"(item.start_time|null2empty)+'-'+(item.end_time|null2empty)\"></span>"},{name:"优惠券时间",field:"days",filter:"null2empty"},{name:"发放总数量",field:"total",filter:"null2empty"},{name:"已使用/已领取",fieldDirective:'<span activity-coupons data="item"></span>',className:"text-center"},{name:"领取对象",field:"target",filter:"null2empty"},{name:"创建时间",field:"created_at",filter:"null2empty"},{name:"备注",fieldDirective:'<div modal-textarea title="查看" content="item.remark|null2empty"></div>'},{name:"管理",fieldDirective:'<span activity-coupons-update data="item"></span>'}],config:{title:"活动优惠券",api:"/markets/activitycoupons",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{value:"main.activitycoupons.add",text:"新增优惠劵"}]}}}}),define("cons/market/activitycouponslogs",[],function(){return{activitycouponslogsList:{columns:[{name:"ID",field:"id"},{name:"手机号",field:"user.mobile"},{name:"领取时间",field:"created_at",filter:"null2empty"},{name:"优惠券到期时间",field:"coupon.expire_time",filter:"null2empty"},{name:"使用时间",field:"order.order_time",filter:"null2empty"},{name:"支付金额",field:"order.order_price",filter:"null2empty"},{name:"优惠券状态",field:"coupon.status",filter:"keyVal:'1':'正常':'2':'正在使用':'3':'已经用过':'4':'过期'"}],config:{title:"活动优惠券使用情况",api:"这个是其他地方关联过来的了",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2}}}}}),define("cons/market/combinationcoupons",[],function(){return{combinationcouponsList:{columns:[{name:"ID",field:"id",className:"text-right"},{name:"优惠券名称",field:"title"},{name:"领取链接",fieldDirective:'<div modal-textarea title="查看组合券链接" content="$root.common.wx_domain + \'/marketing/combinationcoupons/code/\'+item.code"></div>'},{name:"优惠券数量",fieldDirective:"<span show-table data=\"{text:item.combination_count,modid:'combinationcouponsList',config:'listconfig',columns:'listcolumns',extApi:$root.common.domain+'/markets/combinationcoupons/'+item.id+'/lists'}\"></span>"},{name:"兑换有效期",fieldDirective:"<span ng-bind=\"item.start_time+' - '+item.end_time\"></span>"},{name:"发放总数量",field:"total"},{name:"创建时间",field:"created_at"},{name:"备注",field:"remark"},{name:"操作",fieldDirective:'<a class="btn btn-primary btn-rounded btn-sm" ui-sref="main.combinationcoupons.update({id:item.id})">编辑</a>'}],config:{title:"组合优惠券管理",api:"/markets/combinationcoupons",rowItemName:"item",searchSupport:!0,searchItems:[{value:"keyword",text:"关键字",placeholder:""}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{value:"main.combinationcoupons.add",text:"新增组合优惠劵"}]},listcolumns:[{name:"优惠券ID",field:"id"},{name:"名称",field:"combination_coupon_name"},{name:"领取数量",field:"logs_count"},{name:"使用数量",field:"use_count"},{name:"过期数量",field:"expire_count"},{name:"待使用数量",fieldDirective:'<span ng-bind="item.logs_count-item.expire_count-item.use_count"></span>'}],listconfig:{title:"优惠券数量",api:"/coupons",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2}}}}}),define("cons/market/exchanges",[],function(){return{exchangesList:{columns:[{name:"ID",field:"exchange_id",className:"text-right"},{name:"渠道名",field:"channel_name",className:"text-center"},{name:"视频组名",field:"group.group_title",filter:"null2empty"},{name:"视频组ID",field:"video_group_id",filter:"null2empty"},{name:"发放总数量",field:"number",filter:"null2empty"},{name:"操作",fieldDirective:'<span open-url="$root.common.domain + item.url" class="text-center">下载Excel</span>'}],config:{title:"生成兑换码列表",api:"/markets/exchanges",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[{value:"main.exchanges.add",text:"生成兑换码"}]}}}}),define("cons/market/orders",[],function(){return{marketOrders:{columns:[{name:"ID",field:"id",className:"text-right"},{name:"订单ID",field:"order_id",className:"text-left"},{name:"SKUNO",field:"skuno"},{name:"视频组ID",field:"video_group_id"},{name:"用户信息",fieldDirective:'用户ID:<span ng-bind="item.user_id"></span><br/>手机:<span ng-bind="item.mobile"></span>'},{name:"创建时间",field:"created_at"},{name:"状态",field:"status"},{name:"备注",fieldDirective:'<p ng-bind="item.remark"></p>'},{name:"观看记录",fieldDirective:'<div user-video-group-record data="item" class="text-center"></div>'},{name:"添加权限",field:"user_group_status|keyVal:'1':'--':'2':'添加失败':'3':'已添加'"},{name:"取消权限",field:"hjm_return_status|keyVal:'1':'--':'2':'取消失败':'3':'已取消'"},{name:"管理",fieldDirective:"<span delete-data data=\"\" config=\"{url:$root.common.domain+'/markets/orders/'+item.id+'/cancel',method:'PUT',text:'取消订单'}\" param=\"{}\"></span> "}],config:{title:"云集订单列表",api:"/markets/orders",rowItemName:"item",searchSupport:!0,searchItems:[{value:"mobile",text:"电话号码",placeholder:"手机，电话",width:"6"},{value:"video_group_id",text:"视频组ID",placeholder:"视频组ID",width:"6"}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[]}}}}),define("cons/market/skuno",[],function(){return{skunos:{columns:[{name:"ID",field:"id",className:"text-right"},{name:"SKUNO",field:"skuno"},{name:"视频组ID",field:"video_group_id"},{name:"创建时间",field:"created_at"},{name:"状态",field:"status"},{name:"操作",fieldDirective:'<div skuno-update data="item" class="text-center"></div>'}],config:{title:"视频组映射sku",api:"/markets/skunos",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[{routeDirective:"<div skuno-update></div>"}]}}}}),define("cons/market/_conf",["./activitycoupons","./activitycouponslogs","./combinationcoupons","./exchanges","./orders","./skuno"],function(){return arguments}),define("cons/batchproduct/batchproducts",[],function(){return{batchproductsList:{columns:[{name:"ID",field:"id",className:"text-right"},{name:"母活动ID",field:"parent_id",className:"text-center"},{name:"同步商品基数",fieldDirective:"<p><span ng-bind=\"item.sync_base|keyVal:'1':'同步':'2':'不同步'\"></span></p><span batchproducts-update data=\"item\"></span>"},{name:"活动信息",className:"width100 mobile_show",fieldDirective:"<div><p><span ng-bind=\"'标题:'+item.product.title\"></span></p><p><span ng-bind=\"'SKU:'+(item.product.sku|product_sku)\"></span></p><p><span ng-bind=\"'活动类型:'+(item.product.category|product_category)\"></span></p><p><span ng-bind=\"'活动类别:'+item.product.act_type\"></span></p></div>"},{name:"报名时间",fieldDirective:'<div><p>开始时间:<br/> <span ng-bind="item.product.act_apply_start_time"></span></p><p>结束时间:<br/><span ng-bind="item.product.act_apply_end_time"></span></p></div>'},{name:"活动时间、地点",fieldDirective:'<div><p>开始时间:<br/> <span ng-bind="item.product.act_start_time"></span></p><p>结束时间:<br/><span ng-bind="item.product.act_end_time"></span></p><p>活动时间类型:<br/> <span ng-bind="item.product.act_time_type|act_time_type"></span></p><p ng-show="item.product.act_time_type==2"><span ng-bind="item.product.act_week_desc"></span></p><span ng-show="item.product.addresses.length>0">地点:</span><p ng-repeat=" obj in item.product.addresses " ng-show="item.product.addresses.length>0"><span ng-bind="($index+1)+\':\'+obj.detail_address"></span></p></div>'},{name:"覆盖活动",className:"text-center",fieldDirective:"<span show-table data=\"{text:item.count,modid:'productsonsList',config:'config',columns:'columns',extApi:$root.common.domain+'/product/'+item.parent_id+'/sons'}\"></span>"},{name:"管理备注",field:"product.admin_remark",truncateText:!0,truncateTextLength:7,truncateTextBreakOnWord:!1,tooltip:"product.admin_remark",tooltipPlacement:"bottom"},{name:"管理",fieldDirective:'<div act-edit data="item.product" ></div><span <div act-copy data="item.product" ext-data="item"></span><span product-son-add data="item"></span><span product-cover data="item"></span><span batchproducts-del data="item"></span>'}],config:{title:"批量活动管理",api:"/product/batchproducts",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{routeDirective:"<span batchproducts-add></span>"}]}}}}),define("cons/batchproduct/productsons",[],function(){return{productsonsList:{columns:[{name:"活动ID",field:"son_id",className:"text-center"},{name:"活动名称",field:"son_product.title",className:"text-left"},{name:"管理备注",field:"son_product.admin_remark",truncateText:!0,truncateTextLength:7,truncateTextBreakOnWord:!1,tooltip:"son_product.admin_remark",tooltipPlacement:"bottom"},{name:"管理",fieldDirective:'<div product-son-edit data="item.son_product" ></div><span product-son-del data="item"></span>'}],config:{title:"覆盖活动列表",api:"子活动在母活动配置",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2}}}}}),define("cons/batchproduct/_conf",["./batchproducts","./productsons"],function(){return arguments}),define("cons/live/marketshare",[".././common"],function(common){return{marketsharesList:{columns:[{name:"ID",field:"id",className:"text-right"},{name:"视频ID",field:"obj_id",filter:"zero2empty"},{name:"视频组名称",field:"videgroup.group_title",className:"text-center"},{name:"领取链接",className:"text-center",fieldDirective:'<div modal-textarea title="查看链接" content="$root.common.wx_domain + \'/marketvideoshare/code/\'+item.market.code"></div>'},{name:"发放总数量",field:"total_count",filter:"null2empty"},{name:"已领取",className:"text-center",fieldDirective:"<span show-table data=\"{text:item.receive_count,modid:'marketsharesreceiveList',config:'config',columns:'columns',extApi:$root.common.live_domain+'/live/marketshares/'+item.id+'/receives'}\"></span>"},{name:"领取对象",field:"receive_type|keyVal:'1':'不限':'2':'新用户':'3':'老用户':'4':'手机号码列表'"},{name:"导入用户/列表",className:"text-center",fieldDirective:'<span marketshare-import-user ng-show="item.receive_type==4"  data="item" ></span>'+"<span show-table ng-show=\"item.receive_type==4\" data=\"{text:'查看',modid:'marketshareUserList',config:'config',columns:'columns',extApi:$root.common.live_domain+'/live/marketshares/'+item.id+'/mobiles'}\"></span>"},{name:"创建时间",field:"created_at",filter:"null2empty"},{name:"备注",fieldDirective:'<div modal-textarea title="查看" content="item.remark|null2empty"></div>',className:"text-center"},{name:"管理",className:"text-center",fieldDirective:'<a class="btn btn-primary btn-rounded btn-sm" ui-sref="main.marketshare.update({id:item.id})">编辑</a>'}],config:{title:"运营分享视频组权限列表",api:common.live_domain+"/live/marketshares",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{value:"main.marketshare.add",text:"新增运营分享视频组权限"}]}}}}),define("cons/live/marketsharereceive",[".././common"],function(common){return{marketsharesreceiveList:{columns:[{name:"ID",field:"id",className:"text-right"},{name:"用户ID",field:"user.user_id",className:"text-center"},{name:"手机号",field:"user.mobile",className:"text-center"},{name:"领取时间",field:"created_at",className:"text-center"}],config:{title:"观看权限-已领取列表",api:common.live_domain+"/live/marketshares/{id}/receives",rowItemName:"item",searchSupport:!0,searchItems:[{text:"(领取时间)--开始",value:"start_time",type:"datetime"},{text:"(领取时间)--结束",value:"end_time",type:"datetime"}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},ext:{showNum:[{text:"总数",type:"total"}]}}}}}),define("cons/live/videogroup",[".././common"],function(common){return{videogroupsList:{columns:[{name:"ID",field:"id",className:"text-right"},{name:"排序",field:"order_by"},{name:"是否显示",field:"visible",filter:"keyVal:'1':'是':'2':'--'"},{name:"URL地址",fieldDirective:'<div modal-textarea title="查看" content="$root.common.wx_domain+\'/groupvideolist/video_group_id/\'+item.id"></div>',className:"text-center"},{name:"发布时间",field:"created_at",filter:"null2empty"},{name:"权限发放时间",field:"open_time",filter:"null2empty"},{name:"首播时间",field:"first_time",filter:"null2empty"},{name:"视频组名称",field:"group_title",className:"text-left"},{name:"视频数量",className:"text-center",fieldDirective:"<span show-table data=\"{text:item.video_count||0,modid:'videogroupsroomList',config:'config',columns:'columns',extApi:$root.common.live_domain+'/live/videogroups/'+item.id+'/rooms'}\"></span>"},{name:"关联活动",className:"text-center",fieldDirective:"<span ng-show=\"item.pay_type!=2\">免费</span> <span ng-show=\"item.pay_type==2\" show-table data=\"{text:'查看',modid:'videogroupsoptionList',config:'config',columns:'columns',extApi:$root.common.live_domain+'/live/videogroups/'+item.id+'/options'}\"></span>"},{name:"关联SKU",className:"text-center",fieldDirective:"<span ng-show=\"item.pay_type!=2\">免费</span> <span ng-show=\"item.pay_type==2\" show-table data=\"{text:'查看',modid:'videogroupsskuoptionList',config:'config',columns:'columns',extApi:$root.common.live_domain+'/live/videogroups/'+item.id+'/skuoptions'}\"></span>"},{name:"导入用户/列表",className:"text-center",fieldDirective:"<span videogroup-import-user data=\"item\" ></span><span show-table data=\"{text:'查看',modid:'videogroupUserList',config:'config',columns:'columns',extApi:$root.common.live_domain+'/live/videogroups/'+item.id+'/users'}\"></span>"},{name:"备注",fieldDirective:'<div modal-textarea title="查看" content="item.remark|null2empty"></div>',className:"text-center"},{name:"管理",className:"text-center",fieldDirective:'<a class="btn btn-primary btn-rounded btn-sm" ui-sref="main.videogroups.update({id:item.id})">编辑</a>'}],config:{title:"视频组列表",api:common.live_domain+"/live/videogroups",rowItemName:"item",searchSupport:!0,searchItems:[{value:"visible",text:"是否显示",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全 部"},{value:"1",text:"是"},{value:"2",text:"否"}]},{text:"关键字",value:"keyword",type:"text"}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{value:"main.videogroups.add",text:"新增视频组"}]}}}}),define("cons/live/videogrouproom",[".././common"],function(common){return{videogroupsroomList:{columns:[{name:"房间/视频ID",field:"room_id",className:"text-center"},{name:"视频名称",field:"room.title",className:"text-center"},{name:"播放次数",field:"room.record.play_count",filter:"zero2empty"},{name:"评论次数",field:"room.record.comment_count",filter:"zero2empty"}],config:{title:"视频组-关联视频列表",api:common.live_domain+"/live/videogroups/{id}/rooms",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{status:"1"},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2}}}}}),define("cons/live/videogroupskuoption",[".././common"],function(common){return{videogroupsskuoptionList:{columns:[{name:"活动类目ID",field:"option_id",className:"text-center"},{name:"名称",field:"product.title",className:"text-center"},{name:"SKU",field:"product.sku|common:sku|null2empty"},{name:"活动类目",field:"option_name"}],config:{title:"视频组-关联SKU类目列表",api:common.live_domain+"/live/videogroups",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2}}}}}),define("cons/live/videogroupoption",[".././common"],function(common){return{videogroupsoptionList:{columns:[{name:"ID",field:"id",className:"text-center"},{name:"类目ID",field:"option_id",className:"text-center"},{name:"活动名称",field:"product.title",className:"text-center"},{name:"活动类目",field:"option.option_name",filter:"zero2empty"}],config:{title:"视频组-关联活动类目列表",api:common.live_domain+"/live/videogroups",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2}}}}}),define("cons/live/videogroupuser",[".././common"],function(common){return{videogroupUserList:{columns:[{name:"用户ID",field:"user_id"},{name:"手机号码",field:"mobile"},{name:"用户姓名",field:"user.name|null2empty",className:"text-center"},{name:"头像",fieldDirective:'<div class="text-center" show-image url="item.user.avatar" width="50"></div>'}],config:{title:"视频组-关联用户列表",api:"",rowItemName:"item",searchSupport:!0,searchItems:[{value:"mobile",text:"手机号码",placeholder:"手机号码",default:""}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},ext:{showNum:[{text:"总数",type:"total"}]}}}}}),define("cons/live/marketshareuser",[".././common"],function(common){return{marketshareUserList:{columns:[{name:"用户ID",field:"user_id|keyVal:'0':'未领取'"},{name:"手机号码",field:"mobile"},{name:"用户姓名",field:"user.name|null2empty",className:"text-center"},{name:"头像",fieldDirective:'<div class="text-center" show-image url="item.user.avatar" width="50"></div>'},{name:"操作",fieldDirective:' <span ng-show="item.user_id" del-marketshare-user data="item" ></span>'}],config:{title:"观看权限-关联用户列表",api:"",rowItemName:"item",searchSupport:!0,searchItems:[{value:"mobile",text:"手机号码",placeholder:"手机号码",default:""}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},ext:{showNum:[{text:"总数",type:"total"}]}}}}}),define("cons/live/notice",[".././common"],function(common){return{noticeList:{columns:[{name:"ID",field:"id",className:"text-right"},{name:"公告标题",field:"title",className:"text-center"},{name:"公告内容",field:"content",className:"text-center"},{name:"发公告人",field:"account.username"},{name:"公告房间列表",className:"text-center",fieldDirective:"<span show-table data=\"{text:'查看',modid:'noticeroomList',config:'config',columns:'columns',extApi:$root.common.live_domain+'/live/notice/'+item.id+'/rooms'}\"></span>"},{name:"管理",fieldDirective:'<div live-notice-sending data="item"></div>'}],config:{title:"公告管理",api:common.live_domain+"/live/notices",rowItemName:"item",searchSupport:!0,searchItems:[{text:"公告id",value:"id",type:"text"}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{routeDirective:"<span live-notice-add></span>"}],ext:{showNum:[{text:"总数",type:"total"}]}}}}}),define("cons/live/noticeroom",[".././common"],function(common){return{noticeroomList:{columns:[{name:"ID",field:"id",className:"text-right"},{name:"房间ID",field:"room_id",className:"text-center"},{name:"房间号",field:"room.room_no",className:"text-center"},{name:"房间名称",field:"room.title",className:"text-center"},{name:"发送时间",field:"created_at|null2empty",className:"text-center"},{name:"过期时间",field:"expire_time|null2empty",className:"text-center"}],config:{title:"公告房间",api:"",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},ext:{showNum:[{text:"总数",type:"total"}]}}}}}),define("cons/live/permission",[".././common"],function(common){return{permissionsList:{columns:[{name:"ID",field:"id",className:"text-center"},{name:"角色",field:"role_type",filter:"live_role_type",className:"text-center"},{name:"用户昵称",field:"user.name",className:"text-center"},{name:"用户ID",field:"user_id"},{name:"关联视频组",field:"permissions_count"},{name:"管理",fieldDirective:'<div live-permission-edit data="item"></div><span delete-data data="" config="{url:$root.common.live_domain+\'/live/permissions/\'+item.id}" param="{}"></span> ',className:"text-center width150"}],config:{title:"权限配置",api:common.live_domain+"/live/permissions",rowItemName:"item",searchSupport:!0,searchItems:[{value:"role_type",text:"角色",type:"btnGroup",default:"",width:"6",enum:[{value:"",text:"全部"},{value:"1",text:"老师"},{value:"2",text:"学生"}]},{text:"用户ID",value:"user_id",type:"text"}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:5},route:[{routeDirective:"<span live-permission-edit></span>"}],ext:{showNum:[{text:"总数",type:"total"}]}}}}}),define("cons/live/appmessages",[".././common"],function(common){return{appmessagesList:{columns:[{name:"ID",field:"id",className:"text-center width100"},{name:"标题",field:"title"},{name:"文案",className:"text-center width100",fieldDirective:'<div modal-textarea title="查看" content="item.description"></div>'},{name:"跳转",field:"url",className:"text-left"}],config:{title:"推送记录",api:common.live_domain+"/live/appmessages",rowItemName:"item",searchSupport:!1,searchItems:[],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{routeDirective:"<span live-appmessages-send></span>"}],ext:{showNum:[{text:"总数",type:"total"}]}}}}}),define("cons/live/_conf",["./marketshare","./marketsharereceive","./videogroup","./videogrouproom","./videogroupskuoption","./videogroupoption","./videogroupuser","./marketshareuser","./notice","./noticeroom","./permission","./appmessages"],function(){return arguments}),define("cons/merchant/merchant",[],function(){return{merchantList:{columns:[{name:"供应商ID",field:"account_id",className:"text-center"},{name:"供应商全名",field:"company_name|null2empty"},{name:"utm_source",field:"utm_source|null2empty"},{name:"联系方式",field:"contact_mobile|null2empty"},{name:"联系人",field:"contact_name|null2empty"},{name:"登录账号",field:"account.username|null2empty"},{name:"营业执照",fieldDirective:'<div ng-repeat="obj in item.business_license"><show-image  url="obj.pic_url" width="100"></show-image></div>'},{name:"负责人",field:"charge_bd|null2empty"},{name:"管理",className:"text-center",fieldDirective:'<span merchant-forbidden data="item"></span><a class="btn btn-primary btn-rounded btn-sm" ui-sref="main.merchant.update({merchant_id:item.id})">编辑账户</a>'}],config:{title:"供应商账户管理",api:"/merchant/merchants",rowItemName:"item",searchSupport:!0,searchItems:[{value:"company_name",text:"供应商名称"}],paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{value:"main.merchant.add",text:"新增供应商"}]}}}}),define("cons/merchant/merchantProduct",[],function(){return{merchantProductList:{columns:[{name:"ID和排序",className:"mobile_show",fieldDirective:"<div><p><span ng-bind=\"'ID:'+item.product_id\"></span></p><p><span ng-bind=\"'排序:'+item.order_by\"></span></p>"},{name:"供应商",className:"mobile_show",fieldDirective:'<div ng-show="item.merchant_product"><p><span ng-bind="\'供应商ID:\'+item.merchant_product.merchant.account_id"></span></p><p><span ng-bind="\'全名:\'+item.merchant_product.merchant.company_name"></span></p></div>'},{name:"是否可看<br/>联系人信息",field:"merchant_product.show_contact|keyVal:'1':'是':'2':'--'|null2empty"},{name:"拼团成<br/>功数量",field:"order.groupbuy_count"},{name:"订单数",className:"mobile_show",fieldDirective:'<div act-order-copies data="item"></div>'},{name:"报名人数",className:"mobile_show",field:"order.order_count"},{name:"已售份数",className:"mobile_show",fieldDirective:'<div product-order-copies data="item"></div>'},{name:"剩余<br/>库存",field:"options",filter:"arraySum:'left_inventory'"},{name:"抢购进度",fieldDirective:'<div><p>抢购进度<br/> <span ng-bind="((item.order && item.order.order_copies)||0)| process:(item.options|arraySum:\'option_inventory\')"></span></p><p>已售份数<br/><span ng-bind="(item.order && item.order.order_copies)||0"></span></p><p>库存<br/><span ng-bind="item.options|arraySum:\'option_inventory\'"></span></p></div>'},{name:"上下架时间",fieldDirective:'<div><p>上架时间<br/> <span ng-bind="item.start_time"></span></p><p>下架时间<br/><span ng-bind="item.end_time"></span></p></div>'},{name:"活动状态",field:"status",filter:"product_status"},{name:"配送规则",fieldDirective:'<div product-pattern data="item"></div>'},{name:"覆盖城市",field:"citys",filter:"arraySub2String:'city_name'"},{name:"总金额",field:"merchant_product.real_order.amount"},{name:"管理<br/>备注",field:"admin_remark",truncateText:!0,truncateTextLength:7,truncateTextBreakOnWord:!1,tooltip:"admin_remark",tooltipPlacement:"bottom"}],config:{title:"供应商活动列表",api:"/merchant/merchantproducts",rowItemName:"item",searchSupport:!0,searchItems:[{value:"company_name",text:"供应商名字",placeholder:"供应商名字",default:""},{value:"account_id",text:"供应商ID",placeholder:"供应商ID",default:""}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:10,page:1,maxSize:5},route:[{routeDirective:'<div act-add data="" >新增活动</div>'}],scopeSearchParam:"actPageInfo",ext:{showNum:[{text:"总数",type:"total"}]}},columns_by_merchant:[{name:"活动ID",field:"product_id"},{name:"utm_source",field:"merchant_product.utm_source"},{name:"链接",fieldDirective:"<span ng-bind=\"$root.common.wx_domain+'/product/detail/product_id/'+item.product_id+'?utm_source='+item.merchant_product.utm_source+'&utm_medium=&utm_campaign='\"></span>"},{name:"活动标题",field:"title",className:"width100"},{name:"拼团成<br/>功数量",field:"order.groupbuy_count"},{name:"订单数",field:"order.order_count"},{name:"已售份数",field:"order.order_copies"},{name:"退订数",field:"merchant_product.real_product.fail_order"},{name:"剩余<br/>库存",field:"options",filter:"arraySum:'left_inventory'"},{name:"抢购进度",fieldDirective:'<div><p>抢购进度<br/> <span ng-bind="((item.order && item.order.order_copies)||0)| process:(item.options|arraySum:\'option_inventory\')"></span></p><p>已售份数<br/><span ng-bind="(item.order && item.order.order_copies)||0"></span></p><p>库存<br/><span ng-bind="item.options|arraySum:\'option_inventory\'"></span></p></div>'},{name:"总金额",field:"order.amounts"},{name:"操作",fieldDirective:'<div del-merchant-product data="item" ></div>'}],config_by_merchant:{title:"供应商活动列表",api:"/merchant/merchantproducts",rowItemName:"item",searchSupport:!1,searchItems:[{value:"company_name",text:"供应商名字",placeholder:"供应商名字",default:""},{value:"account_id",text:"供应商ID",placeholder:"供应商ID",default:""}],preSelectionSearch:{},paginationSupport:!0,pageInfo:{count:10,page:1,maxSize:5},route:[],scopeSearchParam:"actPageInfo",ext:{showNum:[{text:"总数",type:"total"}]}}}}}),define("cons/merchant/merchantstatics",[],function(){return{merchantStaticsList:{columns:[{name:"供应商ID",field:"account_id",className:"text-right"},{name:"供应商全名",field:"company_name|null2empty"},{name:"utm_source",field:"utm_source|null2empty"},{name:"关联活动",fieldDirective:'<div merchant-product data="item" class="text-center"></div>'},{name:"总订单数",field:"stat.count|null2empty"},{name:"已售份数",field:"stat.copies|null2empty"},{name:"退订数",field:"stat.refund_count|null2empty"},{name:"总金额",field:"stat.amount|null2empty"},{name:"管理",fieldDirective:'<div add-merchant-product data="item" class="text-center"></div>'}],config:{title:"供应商管理",api:"/merchant/merchantstatics",rowItemName:"item",searchSupport:!0,searchItems:[{value:"company_name",text:"供应商名称"}],paginationSupport:!0,pageInfo:{count:10,page:1,maxSize:5}}}}}),define("cons/merchant/_conf",["./merchant","./merchantProduct","./merchantstatics"],function(){return arguments}),define("cons/support/sku",[],function(){return{skuList:{columns:[{name:"名称",field:"name|null2empty"},{name:"对应值",field:"value|null2empty"},{name:"标签",field:"tags|arraySub2String:'name'"},{name:"管理",className:"text-center",
fieldDirective:'<span support-sku-update data="item"></span>'}],config:{title:"SKU列表",api:"/supports/skus",rowItemName:"item",searchSupport:!0,searchItems:[{value:"keyword",text:"名称"}],paginationSupport:!0,pageInfo:{count:1e3,page:1,maxSize:2},route:[{routeDirective:"<span support-sku-add></span>"},{routeDirective:"<span show-table data=\"{text:'SKU标签列表',modid:'tagList',config:'config',columns:'columns'}\" class=\"pull-right\"></span>"}]}}}}),define("cons/support/tag",[],function(){return{tagList:{columns:[{name:"名称",field:"name|null2empty"},{name:"类型值",field:"type|null2empty"},{name:"管理",className:"text-center",fieldDirective:'<span support-tag-update data="item"></span>'}],config:{title:"标签列表",api:"/supports/tags",rowItemName:"item",searchSupport:!1,searchItems:[],paginationSupport:!0,pageInfo:{count:20,page:1,maxSize:2},route:[{routeDirective:"<span support-tag-add></span>"}]}}}}),define("cons/support/_conf",["./sku","./tag"],function(){return arguments}),define("cons/simpleCons",["./common","./groupbuy","./account","./product","./order","./banner","./export","./user","./refund","./deliver","./coupon","./exchangecode","./address","./community","./sms","./supports","./subject","./resource","./wechat","./web","./hotkey","./captcha","./survey_category","./survey_question","./survey_plan","./lessons","./mission","./teacher","./student","./work","./live_rooms","./record_rooms","./record_comment","./zhibo_qr_code","./cert","./cert_user","./market/_conf","./batchproduct/_conf","./live/_conf","./merchant/_conf","./support/_conf"],function(common){var confs={},conf_index=0;angular.forEach(arguments,function(val,key){conf_index++,val.length>0?angular.forEach(val,function(v,k){conf_index++,confs[conf_index]=v}):confs[conf_index]=val});var common=common,default_param={page:1,count:20},state={main:"main",biz:"biz",demo:"demo",live:"live"};return{VIEW_PATH:"scripts/views/",view_path:"scripts/views/",main_path:"scripts/views/"+state.main+"/",biz_path:"scripts/views/"+state.biz+"/",live_path:"scripts/views/"+state.live+"/",demo_path:"scripts/views/"+state.demo+"/",DIRECTIVE_PATH:"scripts/views/directive/",DIRECTIVE_LIST_PATH:"scripts/views/directive/list/",PARTIALS_PATH:"scripts/partials/",env:common.env,env_name:common.env_name,domain:common.domain,live_domain:common.domain+"/mobile",web_domain:common.web_domain,qiniu_domain:common.qiniu_domain,wx_domain:common.wx_domain,default_param:default_param,api:common.api,state:state,modsconfs:confs,common:common,last:"ooo:)"}}),define("services/services",["angular"],function(angular){return angular.module("huijiaServices",[])}),define("services/widget",["./services","../cons/simpleCons"],function(mod,cons){mod.factory("widget",function($q,$http,$state,$compile,$timeout,$location,$rootScope,$filter){var toastTimer=null;return{msgToast:function(msg,time){if(!angular.element(document.querySelector(".mod_msg")).length){var toastTpl=$compile('<div class="mod_msg" ng-click="notification=null" ng-show="notification"><span>{{notification}}</span></div>');angular.element(document.getElementsByTagName("body")[0]).append(toastTpl($rootScope))}$timeout(function(){$rootScope.notification=msg},0),$timeout.cancel(toastTimer),toastTimer=$timeout(function(){$rootScope.notification=""},time||2e3)},ajaxRequest:function(params){var self=this;if(params){var options={success:function(){},msgerr:""};angular.extend(options,params);var ajaxConfig={headers:{"x-requested-with":"XMLHttpRequest","Content-Type":"application/json;charset=UTF-8","X-Request-Page":location.href},method:params.method||"POST",url:0==params.url.indexOf("http")?params.url:cons.domain+params.url,timeout:params.timeout||6e4};"GET"==$filter("uppercase")(params.method)?(ajaxConfig.url+="?",angular.forEach(options.data,function(val,key){!val||angular.isUndefined(val)||(angular.isArray(val)?angular.forEach(val,function(v,k){angular.isArray(v)?angular.forEach(v,function(second_v,second_k){ajaxConfig.url+=key+"["+k+"][]="+encodeURIComponent(second_v)+"&"}):ajaxConfig.url+=key+"[]="+encodeURIComponent(v)+"&"}):angular.isUndefined(val)||(ajaxConfig.url+=key+"="+encodeURIComponent(val)+"&"))}),"&"!=ajaxConfig.url.charAt(ajaxConfig.url.length-1)&&"?"!=ajaxConfig.url.charAt(ajaxConfig.url.length-1)||(ajaxConfig.url=ajaxConfig.url.substring(0,ajaxConfig.url.length-1))):ajaxConfig.data=options.data,$http(ajaxConfig).then(function(res){if(200==res.status)if(0==res.data.code){if("GET"==$filter("uppercase")(params.method)){var current_page_version_number=$filter("date")("timestamp"==version?"2018-10-01 00:00:00":version,"yyyy-MM-dd HH:mm:ss"),new_version_number=$filter("date")(res.data.versions.version,"yyyy-MM-dd HH:mm:ss");if(new_version_number>current_page_version_number){var obj_version=[{"当前页面版本时间":current_page_version_number,"服务端版本时间":new_version_number}];console.table?console.table(obj_version):console.log(JSON.stringify(obj_version)),$rootScope.new_version||($rootScope.new_version=!0,confirm("当前版本不是最新的,点击确定立即刷新页面?")&&$rootScope.func.get_new_version())}else $rootScope.new_version=!1}options.success&&"function"==typeof options.success&&options.success(res.data)}else options.failure&&"function"==typeof options.failure?options.failure(res.data):self.msgToast(res.data.message);else console.error(res),self.msgToast(res.statusText)},function(err){options.error&&"function"==typeof options.error?options.error(err):self.msgToast("网络错误，请稍候再试")})}}}})}),define("controllers/loginController",["./controllers","../cons/simpleCons"],function(mod,cons){function loginController($scope,$http,$rootScope,$uibModal,base64,widget,$interval,$timeout){$scope.loading=0,localStorage.getItem("login_account")&&($rootScope.login_account=JSON.parse(base64.decode(localStorage.getItem("login_account")))),$scope.uname="",$scope.pwd="",$scope.disabled_get_verify_code=!1,$scope.time_count=30,$scope.remain_time=$scope.time_count,$rootScope.current_city_name=localStorage.getItem("hjm")?localStorage.getItem("hjm").current_city_name:"未登录",localStorage.getItem("hjm")&&$rootScope.$state.go(cons.state.main+".act.list"),$rootScope.search="",$scope.get_verify_code=function(){if($scope.verify_praram={username:$scope.uname,userpass:$scope.pwd},!$scope.uname||!$scope.pwd)return widget.msgToast("请输入账号和密码"),!1;$scope.disabled_get_verify_code=!0,$scope.remain_time=$scope.time_count,widget.ajaxRequest({url:cons.api.account_check,scope:$scope,data:$scope.verify_praram,success:function(json){$interval(function(count){--$scope.remain_time<=0&&($scope.disabled_get_verify_code=!1,$scope.remain_time=$scope.time_count)},1e3,$scope.time_count),widget.msgToast("短信发送成功,注意手机查收")},failure:function(err){widget.msgToast(err.message),$scope.disabled_get_verify_code=!1,$scope.time_count=30,$scope.remain_time=$scope.time_count}})},$scope.login=function(){if(!$scope.uname||!$scope.pwd)return widget.msgToast("请输入账号和密码"),!1;$scope.param={username:$scope.uname,userpass:$scope.pwd,usercode:$scope.usercode},$scope.loading=0,widget.ajaxRequest({url:cons.api.account_login,scope:$scope,data:$scope.param,success:function(json){$scope.baseAuth="Basic :"+base64.encode(json.username+":"+json.password),$rootScope.hjm={account_id:json.data.account_id,city_name:json.data.city_name,city_list:json.data.city_list,current_city_list:json.data.city_list,menus:json.data.menus,username:json.data.username,pwd:$scope.pwd,role:json.data.role,mobile:json.data.mobile,email:json.data.email,weixin_nickname:json.data.weixin_nickname,weixin_qrcode:json.data.weixin_qrcode,remark:json.data.remark,pubData:json.pubData,Authorization:$scope.baseAuth},$http.defaults.headers.common.Authorization=$scope.baseAuth,$rootScope.nowlogintimestamp=(new Date).getTime(),$rootScope.lastlogintimestamp=JSON.parse($rootScope.nowlogintimestamp),$rootScope.login_account={uname:$scope.uname,pwd:$scope.pwd,username:json.username,password:json.password},localStorage.setItem("login_account",base64.encode(JSON.stringify($rootScope.login_account))),localStorage.setItem("hjm",JSON.stringify($rootScope.hjm)),localStorage.setItem("lastlogintimestamp",$rootScope.lastlogintimestamp),$rootScope.login_init(),$scope.success_time=1;var interval=$interval(function(){$scope.loading+=.1,$scope.loading>=.5&&($scope.loading=1,$interval.cancel(interval))},$scope.success_time/10*500),interval_success_time=$interval(function(){$interval.cancel(interval_success_time),"cw"==$rootScope.hjm.type?$rootScope.$state.go(cons.state.main+".refund.list"):$rootScope.$state.go(cons.state.main+".act.list")},500*$scope.success_time)}})},$scope.login_keypress=function(event){13===event.keyCode&&$scope.login()}}mod.controller("loginController",loginController),loginController.$injector=["$scope","$http","$rootScope","$uibModal","ab-base64","widget","$interval","$timeout"]}),define("states/hjm/container",["./../states","../../cons/simpleCons","../../services/widget","../../controllers/loginController"],function(stateModule,cons,widget){stateModule.config(["$stateProvider","$urlRouterProvider","$httpProvider",function($stateProvider,$urlRouterProvider,$httpProvider){$httpProvider.interceptors.push("bpmHttpInterceptor"),$urlRouterProvider.when("","login"),$stateProvider.state("login",{url:"/login",views:{"":{controller:"loginController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.VIEW_PATH+"container/login.html")}}}}).state(cons.state.main,{url:"/"+cons.state.main,views:{"":{templateProvider:function($templateCache){return $templateCache.get("app/"+cons.VIEW_PATH+"container/main.html")}}}})}])}),define("states/hjm/groupbuy",["../states","../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".groupbuy",{url:"/groupbuy",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".groupbuy.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"groupbuy/list.html")}}}}).state(cons.state.main+".groupbuy.update",{url:"/update.html/:activity_id",views:{"":{templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"groupbuy/update.html")}}}})}])}),define("controllers/biz/menusController",["./../controllers","../../cons/simpleCons"],function(mod,simpleCons){function menusController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget){$scope.init_url=simpleCons.domain+"/accounts/menus/tree",$scope.update_url=simpleCons.domain+"/accounts/menus/",$scope.add_url=simpleCons.domain+"/accounts/menus",$scope.swap_url=simpleCons.domain+"/accounts/menus",$scope.getapi=function(){$rootScope.loading=!0,widget.ajaxRequest({method:"GET",url:$scope.init_url,scope:$scope,data:{},success:function(json){$scope.menus=json.data,$rootScope.hjm.menus=json.data,$scope.param=[],$rootScope.common&&($rootScope.common.menus_key_val=[]);var menus_options="";$scope.menus.map(function(val){return menus_options+="<option value="+val.id+" >"+val.name+"</option>",val}),$scope.param.push({key:"id",val:"",name:"id",isprimary:!0},{key:"key",val:"",name:"key",allownull:!0},{key:"icon",val:"",name:"图标"},{key:"name",val:"",name:"名称"},{key:"type",val:"",name:"类型"},{key:"route",val:"",name:"路由"},{key:"sort",val:"",name:"排序"}),$scope.param_sub=[],$scope.param_sub.push({key:"id",val:"",name:"id",isprimary:!0},{key:"key",val:"",name:"key",allownull:!0},{key:"icon",val:"",name:"图标"},{key:"name",val:"",name:"名称"},{key:"type",val:"",name:"类型"},{key:"route",val:"",name:"路由"},{key:"sort",val:"",name:"排序"},{key:"pid",val:"",name:"父节点ID"})}})},$scope.refresh=function(){$scope.getapi()},$scope.getapi(),$scope.swap=function(source_id,target_id){$rootScope.loading=!0,widget.ajaxRequest({method:"PUT",url:$scope.swap_url+"/"+source_id+"/"+target_id,scope:$scope,data:{},success:function(json){$scope.getapi()}})}}mod.controller("menusController",menusController),menusController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget"]}),define("controllers/biz/accountController",["./../controllers","../../cons/simpleCons"],function(mod,con){function profileController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$timeout,base64){$scope.param={},$timeout(function(){$scope.param={account_id:$rootScope.hjm.account_id,username:$rootScope.hjm.username,mobile:$rootScope.hjm.mobile,remark:$rootScope.hjm.remark,userpass:$rootScope.hjm.pwd,city_name:"上海市"}},0),$scope.aaa=function(){console.log("$scope.param",$scope.param)},$scope.submit=function(status){$scope.param.password=$scope.param.userpass,/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}$/.test($scope.param.userpass)?widget.ajaxRequest({url:"/account/"+$rootScope.hjm.account_id,method:"PUT",scope:$scope,data:$scope.param,success:function(json){$rootScope.hjm.mobile=json.data.mobile,$rootScope.hjm.remark=json.data.remark,$rootScope.hjm.pwd!=$scope.param.password?(widget.msgToast("修改成功,重新登录"),$http.defaults.headers.common.Authorization="",delete $rootScope.hjm,delete $rootScope.selected,delete $rootScope.login_account,localStorage.clear(),$rootScope.$state.go("login")):(widget.msgToast("更新成功！"),$state.go(con.state.main+".account.list"))}}):widget.msgToast("密码必须包含字母和数字,并8~16位")}}function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$timeout){$scope.param={},$scope.roles=[],$rootScope.hjm.pubData.roles&&($scope.roles.push({text:"供应商",value:"merchant"}),angular.forEach($rootScope.hjm.pubData.roles,function(val,key){"merchant"!==val.value&&$scope.roles.push({text:val,value:key})})),$timeout(function(){$stateParams.account_id&&$rootScope.account_obj?$stateParams.account_id==$rootScope.account_obj.account_id&&($scope.param=$rootScope.account_obj):$stateParams.account_id&&$state.go(con.state.main+".account.list")},0),$scope.aaa=function(){console.log("$scope.param",$scope.param)},$scope.submit=function(status){$scope.param.city_name="上海市",$scope.param.userpass=$scope.userpass,$scope.param.password=$scope.userpass,widget.ajaxRequest({url:"/accounts"+($stateParams.account_id?"/"+$stateParams.account_id:""),method:$stateParams.account_id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".account.list")}})}}mod.controller("account.updateController",updateController),mod.controller("account.profileController",profileController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"],profileController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout","base64"]}),define("states/hjm/account",["../states","../../cons/simpleCons","../../controllers/biz/menusController","../../controllers/biz/accountController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".account",{url:"/account",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".account.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"account/list.html")}}}}).state(cons.state.main+".account.roles",{url:"/role.html",views:{"":{templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"role/list.html")}}}}).state(cons.state.main+".account.menus",{url:"/menus.html",views:{"":{controller:"menusController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"menu/menus.html")}}}}).state(cons.state.main+".account.update",{url:"/update.html/:account_id",views:{"":{controller:"account.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"account/update.html")}}}}).state(cons.state.main+".account.add",{url:"/add.html",views:{"":{controller:"account.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"account/update.html")}}}}).state(cons.state.main+".account.profile",{url:"/profile.html",views:{"":{controller:"account.profileController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"account/profile.html")}}}})}])}),define("controllers/biz/productController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,comfunc){$stateParams.product_id&&widget.ajaxRequest({url:"/products/"+$stateParams.product_id,method:"get",scope:$scope,data:{},success:function(json){$scope.param=angular.copy(json.data),$scope.hours=comfunc.numDiv($scope.param.group_seconds||0,3600).toFixed(2)}}),$scope.aaa=function(){console.log("$scope.param",$scope.param)},$scope.$watch("hours",function(val){val&&($scope.hours=parseFloat(val).toFixed(2),$scope.param.group_seconds=comfunc.numMulti(val,3600))}),$scope.$watch("param.delivery_type",function(val){val&&"3"==val?$scope.param.frequency_num=0:val&&"3"!=val&&($scope.param.frequency_num=$scope.param.frequency_num>0?$scope.param.frequency_num:1)}),$scope.$watch("param.frequency_num",function(frequency_num){if(frequency_num||0==frequency_num){var delivery_type=($scope.param||{}).delivery_type||"3";"3"==delivery_type?$scope.param.frequency_num=0:"3"!=delivery_type&&($scope.param.frequency_num=frequency_num>0?frequency_num:1)}}),$scope.submit=function(status){return comfunc.isEmptyArray($scope.param.visible_cities)?(widget.msgToast("配送城市没有选择"),!1):comfunc.isEmptyArray($scope.param.pics)?(widget.msgToast("运营大图没有上传"),!1):comfunc.isEmptyArray($scope.param.thumbnail_pics)?(widget.msgToast("缩略图片没有上传"),!1):comfunc.isEmptyArray($scope.param.contents)?(widget.msgToast("图文详情没有上传"),!1):($scope.param.status=status||0==status?status:1,void widget.ajaxRequest({url:"/products"+($stateParams.product_id?"/"+$stateParams.product_id:""),method:$stateParams.product_id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".product.list")}}))}}mod.controller("product.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","comfunc"]}),define("controllers/biz/productActController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,comfunc){$stateParams.product_id&&widget.ajaxRequest({url:"/products/"+$stateParams.product_id,method:"get",scope:$scope,data:{},success:function(json){$scope.param=angular.copy(json.data),$scope.hours=comfunc.numDiv($scope.param.group_seconds||0,3600).toFixed(2)}}),$scope.getlocation=function(){return angular.isUndefined($scope.city_name)?(widget.msgToast("没有城市"),!1):angular.isUndefined($scope.param.act_detailed_address)?(widget.msgToast("没有地址"),!1):void($scope.timeStamp=(new Date).getTime())},$scope.aaa=function(){console.log("$scope.param",$scope.param)},$scope.$watch("hours",function(val){val&&($scope.hours=parseFloat(val).toFixed(2),$scope.param.group_seconds=comfunc.numMulti(val,3600))}),$scope.$watch("param.delivery_type",function(val){val&&"3"==val?$scope.param.frequency_num=0:val&&"3"!=val&&($scope.param.frequency_num=$scope.param.frequency_num>0?$scope.param.frequency_num:1)}),$scope.$watch("param.frequency_num",function(frequency_num){if(frequency_num||0==frequency_num){var delivery_type=($scope.param||{}).delivery_type||"3";"3"==delivery_type?$scope.param.frequency_num=0:"3"!=delivery_type&&($scope.param.frequency_num=frequency_num>0?frequency_num:1)}}),$scope.submit=function(status){return comfunc.isEmptyArray($scope.param.visible_cities)?(widget.msgToast("配送城市没有选择"),!1):comfunc.isEmptyArray($scope.param.pics)?(widget.msgToast("运营大图没有上传"),!1):comfunc.isEmptyArray($scope.param.thumbnail_pics)?(widget.msgToast("缩略图片没有上传"),!1):comfunc.isEmptyArray($scope.param.contents)?(widget.msgToast("图文详情没有上传"),!1):($scope.param.status=status||0==status?status:1,void widget.ajaxRequest({url:"/products"+($stateParams.product_id?"/"+$stateParams.product_id:""),method:$stateParams.product_id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".product.list")}}))}}mod.controller("product.act.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","comfunc"]}),define("controllers/biz/actController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter){$scope.copy=!1,$state.current.name.indexOf("act.copy")>-1&&($scope.copy=!0),$stateParams.product_id&&widget.ajaxRequest({url:"/products/"+$stateParams.product_id,method:"get",scope:$scope,data:{},success:function(json){$rootScope.hjm.act={product_id:$stateParams.product_id},$state.current.name.indexOf("act.copy")>-1&&(json.data.parent_id=$stateParams.product_id,delete json.data.product_id,delete json.data.account_id,delete json.data.status,delete json.data.created_at,delete json.data.updated_at,delete json.data.sale_count,angular.forEach(json.data.addresses,function(val,key){delete val.address_id,delete val.product_id,delete val.created_at,delete val.updated_at}),angular.forEach(json.data.contents,function(val,key){delete val.product_id,delete val.content_id,delete val.created_at,delete val.updated_at,angular.forEach(val.pics,function(val,key){delete val.pic_id,delete val.imageable_id,delete val.imageable_type,delete val.status,delete val.created_at,delete val.updated_at})}),angular.forEach(json.data.gift_contents,function(val,key){delete val.product_id,delete val.content_id,delete val.created_at,delete val.updated_at,angular.forEach(val.pics,function(val,key){delete val.pic_id,delete val.imageable_id,delete val.imageable_type,delete val.status,delete val.created_at,delete val.updated_at})}),angular.forEach(json.data.course_contents,function(val,key){delete val.product_id,delete val.content_id,delete val.created_at,delete val.updated_at,angular.forEach(val.pics,function(val,key){delete val.pic_id,delete val.imageable_id,delete val.imageable_type,delete val.status,delete val.created_at,delete val.updated_at})}),angular.forEach(json.data.pics,function(val,key){delete val.pic_id,delete val.imageable_id,delete val.imageable_type,delete val.status,delete val.created_at,delete val.updated_at}),angular.forEach(json.data.thumbnail_pics,function(val,key){delete val.pic_id,delete val.imageable_id,delete val.imageable_type,delete val.status,delete val.created_at,delete val.updated_at}),angular.forEach(json.data.options,function(val,key){delete val.option_id,delete val.option_status,delete val.option_type,delete val.product_id,delete val.created_at,delete val.updated_at}),angular.forEach(json.data.groupbuy_options,function(val,key){delete val.option_id,delete val.option_status,delete val.option_type,delete val.product_id,delete val.created_at,delete val.updated_at}),angular.forEach(json.data.gift_options,function(val,key){delete val.option_id,delete val.option_status,delete val.option_type,delete val.product_id,delete val.created_at,delete val.updated_at}),angular.forEach(json.data.gift_pics,function(val,key){delete val.pic_id,delete val.imageable_id,delete val.imageable_type,delete val.status,delete val.created_at,delete val.updated_at})),$scope.param=angular.copy(json.data),$scope.delivery_type=$scope.param.delivery_type,$scope.is_default_category=$scope.param.category,$scope.hours=comfunc.numDiv($scope.param.group_seconds||0,3600),$scope.groupbuy_auto_hours=comfunc.numDiv($scope.param.groupbuy_auto_seconds||0,3600),$scope.ability_label=$scope.param.ability_label.split(",")||[],$scope.course_ability_label=$scope.param.course_ability_label.split(",")||[],"1"==$scope.param.vip_promotion_type?$scope.vip_discount=comfunc.numMulti($scope.param.vip_discount,100):$scope.vip_discount=$scope.param.vip_discount,$scope.gift_discount=comfunc.numMulti($scope.param.gift_discount,100),0==new Date($scope.param.act_start_time).getHours()&&0==new Date($scope.param.act_start_time).getMinutes()&&0==new Date($scope.param.act_end_time).getHours()&&0==new Date($scope.param.act_end_time).getMinutes()?$scope.showTime=!0:$scope.showTime=!1,$scope.param.act_week&&($scope.act_week=$scope.param.act_week.split(","))}}),$scope.$watch("hours",function(val){val&&($scope.hours=parseFloat(val),$scope.param.group_seconds=comfunc.numMulti(val,3600))},!0),$scope.$watch("groupbuy_auto_hours",function(val){val||0==val?0==val?($scope.groupbuy_auto_hours=0,$scope.param.groupbuy_auto_seconds=0):val>1&&($scope.groupbuy_auto_hours=parseFloat(val),$scope.param.groupbuy_auto_seconds=comfunc.numMulti(val,3600)):$scope.param&&($scope.param.groupbuy_auto_seconds=0)},!0),$scope.datetimeTodate=function(date_time){return $scope.date_time_tmp=date_time?new Date(date_time):new Date,$scope.date_time_tmp.getFullYear()+"-"+($scope.date_time_tmp.getMonth()+1)+"-"+$scope.date_time_tmp.getDate()+" 00:00:00"},$scope.toggleShowTime=function(){$scope.showTime=!$scope.showTime,$scope.param.act_start_time=$scope.showTime?$scope.datetimeTodate($scope.param.act_start_time):$scope.param.act_start_time,$scope.param.act_end_time=$scope.showTime?$scope.datetimeTodate($scope.param.act_end_time):$scope.param.act_end_time},$scope.$watch("param.delivery_type",function(val){val&&"3"==val?$scope.param.frequency_num=0:val&&"1"==val&&($scope.param.frequency_num=1)},!0),$scope.reset_vip_discount=function(){var val=$scope.vip_discount;$scope.param&&"1"==$scope.param.vip_promotion_type?(val=parseInt(val),$scope.vip_discount=val>=100?99:val<0?0:val):$scope.param&&"2"==$scope.param.vip_promotion_type&&(val=parseFloat(val),2==val.toString().split(".").length?$scope.vip_discount=val.toFixed(1):$scope.vip_discount=parseInt(val))},$scope.reset_gift_discount=function(){var tmp_gift=parseInt($scope.gift_discount);$scope.gift_discount=tmp_gift>=100?99:tmp_gift<0?0:tmp_gift},$scope.$watch("param.vip_promotion_type",function(val){$scope.reset_vip_discount()},!0),$scope.$watch("ability_label",function(val,oldVal){val?$scope.param.ability_label=$scope.ability_label.join(","):$scope.param&&($scope.param.ability_label="")},!0),$scope.$watch("course_ability_label",function(val,oldVal){val?$scope.param.course_ability_label=$scope.course_ability_label.join(","):$scope.param&&($scope.param.course_ability_label="")},!0),$scope.$watch("param.gift_share_title",function(val){$scope.title="土豪",$scope.nickname="张三"},!0),$scope.compare_hours=function(){return $scope.hours<=$scope.groupbuy_auto_hours?(widget.msgToast("拼团有效时间 > 自动成团剩余时间  点击取消",5e3),!1):!($scope.groupbuy_auto_hours<=1&&$scope.groupbuy_auto_hours>0)||(widget.msgToast("自动成团剩余时间 > 1小时,或 = 0 小时  点击取消",5e6),!1)},$scope.submit=function(status){var supscope=$scope;if($scope.goon=!0,$scope.param.act_time_type&&"1"==$scope.param.act_time_type?($scope.act_week=[],$scope.param.act_week=""):$scope.param.act_time_type&&"2"==$scope.param.act_time_type&&($scope.param.act_week=$scope.act_week.join(",")),$scope.param.act_start_time=$filter("date")($scope.param.act_start_time,"yyyy-MM-dd HH:mm:ss"),$scope.param.act_end_time=$filter("date")($scope.param.act_end_time,"yyyy-MM-dd HH:mm:ss")||"","1"==$scope.param.vip_promotion_type?$scope.param.vip_discount=comfunc.numDiv($scope.vip_discount,100):"2"==$scope.param.vip_promotion_type&&($scope.param.vip_discount=$scope.vip_discount),2==$scope.param.gift_buy);else{if(1==$scope.param.gift_promotion_type)if(0==$scope.gift_discount)$scope.param.gift_discount=0;else{if(!$scope.gift_discount)return widget.msgToast("sorry!礼包折扣不能为空"),!1;$scope.param.gift_discount=comfunc.numDiv($scope.gift_discount||99,100)}if(!$scope.param.gift_options||$scope.param.gift_options&&0==$scope.param.gift_options.length)return widget.msgToast("sorry!礼包类目不能为空"),!1;if(comfunc.hasEmptyFieldArray($scope.param.gift_options))return widget.msgToast("sorry!礼包类目有空值"),!1}if($scope.param.video_url){var reg_https=/^(([hH][tT]{2}[pP][sS]:\/\/)+[^\s]*)$/,reg_http=/^(([hH][tT]{2}[pP]:\/\/)+[^\s]*)$/;if(!reg_https.test($scope.param.video_url)&&!reg_http.test($scope.param.video_url))return widget.msgToast("视频或者音频网址不是以https://或者http://开头，或者不是网址！"),!1}if($scope.param.addresses&&!comfunc.isEmptyArray($scope.param.addresses)?angular.forEach($scope.param.addresses,function(val,key){if(delete val.timeStamp,!val.detail_address)return widget.msgToast("详细地址没有填写"),!1}):$scope.param.addresses=[],$scope.param.pics&&!comfunc.isEmptyArray($scope.param.pics)){var tmp_pics_err=0;if(angular.forEach($scope.param.pics,function(val,key){val.pic_url||tmp_pics_err++}),tmp_pics_err>0)return widget.msgToast("运营大图还没有完成上传"),!1}if($scope.param.thumbnail_pics&&!comfunc.isEmptyArray($scope.param.thumbnail_pics)){var tmp_thumbnail_pics_err=0;if(angular.forEach($scope.param.thumbnail_pics,function(val,key){val.pic_url||tmp_thumbnail_pics_err++}),tmp_thumbnail_pics_err>0)return widget.msgToast("运营缩略图还没有完成上传"),!1}if($scope.param.gift_pics&&!comfunc.isEmptyArray($scope.param.gift_pics)){var tmp_gift_pics_err=0;if(angular.forEach($scope.param.gift_pics,function(val,key){val.pic_url||tmp_gift_pics_err++}),tmp_gift_pics_err>0)return widget.msgToast("礼包图片还没有完成上传"),!1}if($scope.param.contents&&!comfunc.isEmptyArray($scope.param.contents)){var tmp_content_err=0;if(angular.forEach($scope.param.contents,function(val,key){val?angular.forEach(val.pics,function(v,k){v.pic_url||tmp_content_err++}):tmp_content_err++}),tmp_content_err>0)return widget.msgToast("图文详情中有图片还没有完成上传"),!1}if(1==$scope.param.content_type&&comfunc.isEmptyArray($scope.param.contents))return widget.msgToast("图文详情没有上传"),!1;if(2==$scope.param.content_type&&(!$scope.param.rich_text||""==$scope.param.rich_text))return widget.msgToast("富文本内容未填写"),!1;if(2==$scope.param.category||4==$scope.param.category){if(!$scope.param.group_min_num&&$scope.param.group_min_num<=0)return widget.msgToast("人数团de拼团人数要大于零"),!1;if(!$scope.hours&&$scope.hours<=0)return widget.msgToast("人数团de拼团有效时间要大于零"),!1;if(!$scope.compare_hours())return!1}if($scope.param.status=status||0==status?status:1,$scope.param.order_by||($scope.param.order_by=0),$scope.param.act_min_age||($scope.param.act_min_age=0),$scope.param.act_max_age||($scope.param.act_max_age=0),"4"==$scope.param.category){if(!$scope.param.options||$scope.param.options&&0==$scope.param.options.length||!$scope.param.groupbuy_options||$scope.param.groupbuy_options&&0==$scope.param.groupbuy_options.length)return widget.msgToast("sorry!直接买or人数团de活动类目为空"),!1;if(comfunc.hasEmptyFieldArray($scope.param.options)||comfunc.hasEmptyFieldArray($scope.param.groupbuy_options))return widget.msgToast("sorry!直接买or人数团de活动类目有空值"),!1}else if("2"==$scope.param.category){if(delete $scope.param.options,!$scope.param.groupbuy_options||$scope.param.groupbuy_options&&0==$scope.param.groupbuy_options.length)return widget.msgToast("sorry!人数团类目为空"),!1;if(comfunc.hasEmptyFieldArray($scope.param.groupbuy_options))return widget.msgToast("sorry!人数团类目有空值"),!1}else if("3"==$scope.param.category){if(delete $scope.param.groupbuy_options,!$scope.param.options||$scope.param.options&&0==$scope.param.options.length)return widget.msgToast("sorry!直接买类目为空"),!1;if(comfunc.hasEmptyFieldArray($scope.param.options))return widget.msgToast("sorry!直接买类目有空值"),!1}if($stateParams.product_id&&$scope.is_default_category!=$scope.param.category){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="切换活动类型警告",
$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate disabled-role="\'admin,op\'" ><h4 class="text-muted">确认前，请注意一下几点：</h4><h5 class="text-danger">1.原未支付订单（直接买订单，开团用户订单，参团用户订单）仍可以支付成功;</h5><h5 class="text-danger">2.人数团切直接买，原开团用户或者参团用户支付成功后，再次进到拼团详情会报错;</h5><h5 class="text-danger">3.人数团切直接买，用户不可以再开团或者参团，即下订单</h5><h4 class="text-muted">建议:</h4><h5 class="text-danger">切换活动类型前，最好不要有未支付订单，或者正在进行中的拼团</h5><a class="btn btn-success btn-rounded pull-right" ng-click="submit()">确定</a><a class="btn btn-warning btn-rounded pull-right" ng-click="cancel()">取消</a> &nbsp;&nbsp;&nbsp;</form>',$scope.submit=function(){supscope.onsubmit(),$scope.cancel()},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}else $scope.onsubmit()},$scope.onsubmit=function(){widget.ajaxRequest({url:"/products"+(!$stateParams.product_id||$scope.param.parent_id?"":"/"+$stateParams.product_id),method:!$stateParams.product_id||$scope.param.parent_id?"POST":"PUT",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！",500),$state.go(con.state.main+".act.list")},failure:function(err){localStorage.setItem("hjm-act-failure-"+(new Date).getTime(),JSON.stringify({param:$scope.param})),console.log($scope.param.addresses,JSON.stringify($scope.param.addresses),$scope.param.pics,JSON.stringify($scope.param.pics),$scope.param.thumbnail_pics,JSON.stringify($scope.param.thumbnail_pics),$scope.param.contents,JSON.stringify($scope.param.contents)),widget.msgToast(err.message+"\n点击取消",2e3)}})}}mod.controller("act.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter"]}),define("states/hjm/product",["../states","../../cons/simpleCons","../../controllers/biz/productController","../../controllers/biz/productActController","../../controllers/biz/actController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".product",{url:"/product",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".product.act",{url:"/act",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".product.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="productList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".product.add",{url:"/add",views:{"":{controller:"product.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"product/update.html")}}}}).state(cons.state.main+".product.update",{url:"/update.html/:product_id",views:{"":{controller:"product.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"product/update.html")}}}}).state(cons.state.main+".product.act.add",{url:"/add",views:{"":{controller:"product.act.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"product_act/update.html")}}}}).state(cons.state.main+".product.act.update",{url:"/update.html/:product_id",views:{"":{controller:"product.act.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"product_act/update.html")}}}}).state(cons.state.main+".act",{url:"/act",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".act.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="productList" config="act_config" columns="act_columns"></div>'}}}}).state(cons.state.main+".act.add",{url:"/add",views:{"":{controller:"act.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"act/update.html")}}}}).state(cons.state.main+".act.update",{url:"/update.html/:product_id",views:{"":{controller:"act.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"act/update.html")}}}}).state(cons.state.main+".act.copy",{url:"/copy.html/:product_id",views:{"":{controller:"act.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"act/update.html")}}}})}])}),define("states/hjm/order",["../states","../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".order",{url:"/order",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".order.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="orderList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".act_order",{url:"/act_order",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".act_order.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="orderList" config="config_by_act" columns="columns_by_act_all"></div>'}}}})}])}),define("controllers/biz/bannerController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter){$scope._param={pics:[]},$scope.param={},$scope.toggle="1",$stateParams.banner_id&&widget.ajaxRequest({url:"/banners/"+$stateParams.banner_id,method:"GET",scope:$scope,success:function(json){$scope.param=json.data,$scope.param.pic_url&&($scope._param={pics:[{pic_url:$scope.param.pic_url,pic_width:$scope.param.pic_width,pic_height:$scope.param.pic_height}]}),$scope.param.url?$scope.toggle="2":$scope.toggle="1",console.log($scope.param,$scope._param)}}),$scope.aaa=function(){$scope.param.pic_url=$scope._param.pics[0].pic_url,$scope.param.pic_width=$scope._param.pics[0].pic_width,$scope.param.pic_height=$scope._param.pics[0].pic_height,console.log("$scope.param",$scope.param,$scope._param)},$scope.submit=function(status){if($scope.param.category="1",comfunc.isEmptyArray($scope._param.pics))return widget.msgToast("运营图片没有上传"),!1;if(!$scope._param.pics||!$scope._param.pics[0].pic_url)return widget.msgToast("运营图片没有上传"),!1;if($scope.param.pic_url=$scope._param.pics[0].pic_url,$scope.param.pic_width=$scope._param.pics[0].pic_width,$scope.param.pic_height=$scope._param.pics[0].pic_height,"1"==$scope.toggle)$scope.param.url="";else if("2"==$scope.toggle&&!$scope.param.url)return widget.msgToast("没有填写URL"),!1;widget.ajaxRequest({url:"/banners"+($stateParams.banner_id?"/"+$stateParams.banner_id:""),method:$stateParams.banner_id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".banner.list")}})}}mod.controller("banner.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter"]}),define("states/hjm/banner",["../states","../../cons/simpleCons","../../controllers/biz/bannerController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".banner",{url:"/banner",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".banner.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="bannerList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".banner.add",{url:"/add.html",views:{"":{controller:"banner.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"banner/update.html")}}}}).state(cons.state.main+".banner.update",{url:"/update.html/:banner_id",views:{"":{controller:"banner.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"banner/update.html")}}}})}])}),define("states/hjm/export",["../states","../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".export",{url:"/export",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".export.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"export/list.html")}}}}).state(cons.state.main+".export.update",{url:"/update.html/:export_id",views:{"":{templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"export/update.html")}}}})}])}),define("controllers/biz/customersController",["./../controllers","../../cons/simpleCons"],function(mod,con){function customersAddController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,comfunc){$scope.submit=function(){if(comfunc.isEmptyArray($scope.avatar))return widget.msgToast("头像没有上传"),!1;$scope.param.gender=Number($scope.param.gender),$scope.param.mobile=$scope.mobile+"",$scope.param.avatar=$filter("arraySub2String")($scope.avatar,"pic_url"),widget.ajaxRequest({url:"/users/customers",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("添加马甲成功！"),$state.go("main.user.customers")}})}}mod.controller("user.customersAddController",customersAddController),customersAddController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","comfunc"]}),define("states/hjm/user",["../states","../../cons/simpleCons","../../controllers/biz/customersController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".user",{url:"/user",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".user.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="userList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".user.blocklist",{url:"/blocklist",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="userblockList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".user.readlist",{url:"/readlist",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="userList" config="config" columns="columns_by_read"></div>'}}}}).state(cons.state.main+".vipuser",{url:"/vipuser",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".vipuser.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="vipUserList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".user.customers",{url:"/customers/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="customersList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".user.customersAdd",{url:"/customers/add",views:{"":{controller:"user.customersAddController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"user/customers.html")}}}})}])}),define("states/hjm/refund",["../states","../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".refund",{url:"/refund",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".refund.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"refund/list.html")}}}})}])}),define("states/hjm/delivery",["../states","../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".delivery",{url:"/delivery",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".delivery.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="deliveryList" config="config" columns="columns"></div>'}}}})}])}),define("controllers/biz/couponController",["./../controllers","../../cons/simpleCons"],function(mod,con){function addController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,$timeout){$scope.aaa=function(){console.log("$scope.param",$scope.param)},$timeout(function(){$scope.is_nofity=0},1e3),$scope.submit=function(status){return $scope.param.scope_type=3,$scope.param.mobile_list?($scope.param.mobile_list=$scope.param.mobile_list.replace(/\n/g,",").replace(/，/g,","),$scope.param.mobile_list.split(",").length>50?(widget.msgToast("手机号码超过50个不能添加优惠券"),!1):!$scope.param.price||$scope.param.price<=0?(widget.msgToast("优惠劵金额不能小于等于0"),!1):$scope.param.over_price&&$scope.param.over_price<=0?(widget.msgToast("满减优惠条件的金额不能小于等于0"),!1):$scope.param.price&&$scope.param.over_price&&$scope.param.over_price<=$scope.param.price?(widget.msgToast("满减优惠条件的金额不能小于等于优惠劵金额"),!1):void widget.ajaxRequest({url:"/coupons",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("已发布成功！可继续发送优惠券",2e3)}})):(widget.msgToast("手机号码没有填写"),!1)}}mod.controller("coupon.addController",addController),addController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"]}),define("states/hjm/coupon",["../states","../../cons/simpleCons","../../controllers/biz/couponController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".coupon",{url:"/coupon",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".coupon.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="couponList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".coupon.add",{url:"/add.html",views:{"":{controller:"coupon.addController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"coupon/update.html")}}}})}])}),define("controllers/biz/exchangecodeController",["./../controllers","../../cons/simpleCons"],function(mod,con){function addController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter){$scope.aaa=function(){console.log("$scope.param",$scope.param)},$scope.submit=function(status){return $scope.param.price<=0?(widget.msgToast("金额不能小于等于0"),!1):$scope.param.total<=0?(widget.msgToast("总数不能小于等于0"),!1):void widget.ajaxRequest({url:"/exchangecodes",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".exchangecode.list")}})}}mod.controller("exchangecode.addController",addController),addController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter"]}),define("states/hjm/exchangecode",["../states","../../cons/simpleCons","../../controllers/biz/exchangecodeController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".exchangecode",{url:"/exchangecode",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".exchangecode.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="exchangecodeList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".exchangecode.add",{url:"/add.html",views:{"":{controller:"exchangecode.addController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"exchangecode/update.html")}}}})}])}),define("controllers/biz/communityController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter){$scope._param={pics:[]},$scope.param={},$stateParams.community_id&&widget.ajaxRequest({url:"/communities/"+$stateParams.community_id,method:"GET",scope:$scope,success:function(json){$scope.param=json.data,console.log($scope.param,$scope._param)}}),$scope.aaa=function(){console.log("$scope.param",$scope.param)},$scope.submit=function(status){widget.ajaxRequest({url:"/communities"+($stateParams.community_id?"/"+$stateParams.community_id:""),method:$stateParams.community_id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".community.list")}})}}mod.controller("community.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter"]}),define("states/hjm/community",["../states","../../cons/simpleCons","../../controllers/biz/communityController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".community",{url:"/community",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".community.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="communityList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".community.add",{url:"/add.html",views:{"":{controller:"community.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"community/update.html")}}}}).state(cons.state.main+".community.update",{url:"/update.html/:community_id",views:{"":{controller:"community.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"community/update.html")}}}})}])}),define("states/hjm/sms",["../states","../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".sms",{url:"/sms",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".sms.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="smsList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".sms.add",{url:"/add.html",views:{"":{controller:function($scope,widget,$state){$scope.param={mobiles:[]},$scope.mobiles="",$scope.submit=function(status){$scope.param.mobiles=$scope.mobiles.replace(/\n/g,",").split(","),widget.ajaxRequest({url:"/markets/sms",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(cons.state.main+".sms.list")}})}},templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"sms/add.html")}}}})}])}),define("controllers/biz/supportController",["./../controllers","../../cons/simpleCons"],function(mod,simpleCons){function bannerUpdateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter){$scope._param={pics:[]},$scope.param={},$scope.toggle="1",$stateParams.id&&widget.ajaxRequest({url:simpleCons.live_domain+"/supports/banners/"+$stateParams.id,method:"GET",scope:$scope,success:function(json){$scope.param=json.data,$scope.param.sort_num=Number($scope.param.sort_num),$scope.param.pic_url&&($scope._param={pics:[{pic_url:$scope.param.pic_url,pic_width:$scope.param.pic_width||100,pic_height:$scope.param.pic_height||100,updated_at:$scope.param.updated_at||""}]})}}),$scope.submit=function(status){return $scope.param.category="1",comfunc.isEmptyArray($scope._param.pics)?(widget.msgToast("运营位图片没有上传"),!1):$scope._param.pics&&$scope._param.pics[0].pic_url?($scope.param.pic_url=$scope._param.pics[0].pic_url,void widget.ajaxRequest({url:simpleCons.live_domain+"/supports/banners"+($stateParams.id?"/"+$stateParams.id:""),method:$stateParams.id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(simpleCons.state.main+".support.banner")}})):(widget.msgToast("运营位图片没有上传."),!1)}}function upgradesUpdateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$timeout){$stateParams.id&&widget.ajaxRequest({url:simpleCons.live_domain+"/supports/upgrades/"+$stateParams.id,method:"get",scope:$scope,data:{},success:function(json){$scope.param=angular.copy(json.data)}}),$scope.submit=function(){return $scope.param.update_url?$scope.param&&$scope.param.version?void widget.ajaxRequest({url:simpleCons.live_domain+"/supports/upgrades"+($stateParams.id?"/"+$stateParams.id:""),method:$stateParams.id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("上传成功"),$state.go("main.support.upgrade")}}):(widget.msgToast("未输入新版本的日期"),!1):(widget.msgToast("没有上传Android安装包,不能提交更新"),!1)}}function configsController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$timeout){$scope.param={},$scope.flag="app_block_keywords",$scope.init=function(){widget.ajaxRequest({url:simpleCons.live_domain+"/supports/configs",method:"get",scope:$scope,data:{key:$scope.flag},success:function(json){$scope.$eval("(param."+$scope.flag+"= '"+(json.data[$scope.flag]||"")+"')")}})},$scope.$watch("flag",function(){$scope.init()}),$scope.submit=function(){widget.ajaxRequest({url:simpleCons.live_domain+"/supports/configs",method:"put",scope:$scope,data:{key:$scope.flag,value:$scope.$eval("param."+$scope.flag)},success:function(json){widget.msgToast("更新成功")}})}}function versionController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$timeout){$scope.init=function(){widget.ajaxRequest({url:"/supports/version",method:"get",scope:$scope,data:{},success:function(json){$scope.current_page_version_number=$filter("date")("timestamp"==version?0:version,"yyyy-MM-dd HH:mm:ss"),$scope.param=json.data}})},$scope.init(),$scope.submit=function(){widget.ajaxRequest({url:"/supports/version",method:"put",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("更新成功")}})}}function weappconfigController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$timeout){$scope.init=function(){widget.ajaxRequest({url:"/supports/weappconfig",method:"get",scope:$scope,data:{},success:function(json){$scope.param=json.data}})},$scope.init(),$scope.submit=function(){widget.ajaxRequest({url:"/supports/weappconfig",method:"put",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("更新成功")}})}}function appshareconfigController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$timeout){$scope.init=function(){widget.ajaxRequest({url:"/supports/appshareconfig",method:"get",scope:$scope,data:{},success:function(json){$scope.param=json.data}})},$scope.init(),$scope.submit=function(){widget.ajaxRequest({url:"/supports/appshareconfig",method:"put",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("更新成功")}})}}function opencitiesController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$timeout){$scope.param={city_name:null},$scope.conDomain=simpleCons.domain,$scope.remoteUrlRequestFn=function(str){return{city_name:str}},$scope.selectedCommunity=function(selected){$scope.param.city_name=selected?selected.originalObject.city_name:null},$scope.submit=function(){if(!$scope.param.city_name)return widget.msgToast("未输入城市"),!1;widget.ajaxRequest({url:"/supports/cities",method:"post",scope:$scope,data:{city_name:$scope.param.city_name},success:function(json){widget.msgToast("提交成功"),$state.go(simpleCons.state.main+".support.opencities")}})}}mod.controller("supports.opencitiesController",opencitiesController),mod.controller("supports.versionController",versionController),mod.controller("supports.weappconfigController",weappconfigController),mod.controller("supports.appshareconfigController",appshareconfigController),mod.controller("supports.configsController",configsController),mod.controller("supports.upgradesUpdateController",upgradesUpdateController),mod.controller("supports.bannerUpdateController",bannerUpdateController),opencitiesController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"],upgradesUpdateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"],configsController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"],versionController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"],weappconfigController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"],appshareconfigController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"],bannerUpdateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"]}),define("states/hjm/supports",["../states","../../cons/simpleCons","../../controllers/biz/supportController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".support",{url:"/support",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".support.opencities",{url:"/opencities/list.html",templateProvider:function($templateCache){return'<div hjm-grid modid="supportsCitiesList" config="config" columns="columns"></div>'}}).state(cons.state.main+".support.opencitiesadd",{url:"/opencities/add.html",controller:"supports.opencitiesController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"support/opencities.html")}}).state(cons.state.main+".support.version",{url:"/version.html",controller:"supports.versionController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"support/version.html")}}).state(cons.state.main+".support.weappconfig",{url:"/weappconfig.html",controller:"supports.weappconfigController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"support/weappconfig.html")}}).state(cons.state.main+".support.appshareconfig",{url:"/appshareconfig.html",controller:"supports.appshareconfigController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"support/appshareconfig.html")}}).state(cons.state.main+".support.configs",{url:"/configs.html",controller:"supports.configsController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"support/configs.html")}}).state(cons.state.main+".support.upgrade",{url:"/upgrade.html",templateProvider:function($templateCache){return'<div hjm-grid modid="supportUpgradeList" config="config" columns="columns"></div>'}}).state(cons.state.main+".support.upgradesAdd",{url:"/upgradesAdd.html",controller:"supports.upgradesUpdateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"support/upgradesAdd.html")}}).state(cons.state.main+".support.upgradesUpdate",{url:"/upgradesUpdate.html/:id",controller:"supports.upgradesUpdateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"support/upgradesAdd.html")}}).state(cons.state.main+".support.banner",{url:"/banner.html",templateProvider:function($templateCache){return'<div hjm-grid modid="supportBannerList" config="config" columns="columns"></div>'}}).state(cons.state.main+".support.bannerAdd",{url:"/bannerAdd.html",controller:"supports.bannerUpdateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"support/bannerUpdate.html")}}).state(cons.state.main+".support.bannerUpdate",{url:"/bannerUpdate.html/:id",controller:"supports.bannerUpdateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"support/bannerUpdate.html")}})}])}),define("controllers/biz/webController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,$timeout){$scope.param={},$timeout(function(){$scope.param={url:con.wx_domain+"/"}},0),$scope.$watch("param",function(val){if(!$scope.param.url)return!1;if($scope.param.url.indexOf("#!")>-1)return widget.msgToast("推广网址不能有 #! 等符号"),$scope.param.full_url=" ",!1;if(val.url&&val.utm_source){val.utm_source=val.utm_source.replace(/_/g,"");var tmp=val.url.indexOf("?")>0?"&":"?";$scope.param.full_url=encodeURI(val.url+tmp+"utm_source="+val.utm_source+"&utm_medium="+(val.utm_medium||"")+"&utm_campaign="+(val.utm_campaign||""))}else $scope.param.full_url=" "},!0),$scope.submit=function(status){if($scope.param.url.indexOf("#!")>-1||$scope.param.full_url&&$scope.param.full_url.indexOf("#!")>-1)return widget.msgToast("推广网址不能有 #! 等符号"),!1;widget.ajaxRequest({url:"/markets/urls",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("保存成功！")}})}}mod.controller("web.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"]}),define("states/hjm/web",["../states","../../cons/simpleCons","../../controllers/biz/webController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".web",{url:"/web",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".web.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="webList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".web.add",{url:"/add",views:{"":{controller:"web.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"web/update.html")}}}})}])}),define("controllers/biz/subjectController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,$timeout){$scope.intro_pics=[],$scope.share_pics=[],$scope.searchparams={},$scope.param={},$stateParams.subject_id&&widget.ajaxRequest({url:"/subjects/"+$stateParams.subject_id,method:"get",scope:$scope,data:{},success:function(json){$scope.param=angular.copy(json.data),json.data.intro_pic?$scope.intro_pics=[{pic_id:json.data.intro_pic.pic_id,pic_url:json.data.intro_pic.pic_url,pic_width:json.data.intro_pic.pic_width||100,pic_height:json.data.intro_pic.pic_height||100,pic_size:json.data.intro_pic.pic_size||100}]:$scope.intro_pics.length=0,json.data.share_pic?$scope.share_pics=[{pic_id:json.data.share_pic.pic_id,
pic_url:json.data.share_pic.pic_url,pic_width:json.data.share_pic.pic_width||100,pic_height:json.data.share_pic.pic_height||100,pic_size:json.data.share_pic.pic_size||100}]:$scope.share_pics.length=0}}),$timeout(function(){$scope.param.products=[]},0),$scope.search=function(){widget.ajaxRequest({url:"/products/",method:"get",scope:$scope,data:angular.extend($scope.searchparams,{page:1,count:50}),success:function(json){angular.forEach(json.data,function(val,key){angular.forEach(($scope.param||{}).products,function(v,k){v.product_id==val.product_id&&(val.in_subject=!0)})}),$scope.products_source=json.data}})},$scope.add_subject=function(item,index){$scope.products_source[index].in_subject=!0,console.log($scope.param),$scope.param.products.push(item)},$scope.sub_subject=function(item,index){angular.forEach($scope.products_source,function(val,key){item.product_id==val.product_id&&($scope.products_source[key].in_subject=!1)}),$scope.param.products.splice(index,1)},$scope.$watch("orderby",function(val){val&&(val+="",console.log($scope.param),$scope.param.products=$filter("orderBy")(($scope.param||{}).products,val))}),$scope.$watch("searchparamsExt.status",function(val){switch(val+=""){case"1":$scope.searchparams.status="",$scope.searchparams.available_type="";break;case"2":$scope.searchparams.status="1",$scope.searchparams.available_type="1";break;case"3":$scope.searchparams.status="2",$scope.searchparams.available_type="1";break;case"4":$scope.searchparams.status="1",$scope.searchparams.available_type="2"}}),$scope.aaa=function(){console.log("$scope.param",$scope.param)},$scope.submit=function(status){$scope.param.product_ids={};var tmp_pid=$filter("arraySub2Array")($scope.param.products,"product_id");return angular.forEach(tmp_pid,function(val,key){$scope.param.product_ids[val]={order_by:tmp_pid.length-key}}),0==Object.keys($scope.param.product_ids).length?(widget.msgToast("专题活动和商品没有添加"),!1):comfunc.isEmptyArray($scope.share_pics)?(widget.msgToast("缩略图没有上传"),!1):($scope.param.share_pic=$scope.share_pics[0],comfunc.isEmptyArray($scope.intro_pics)?(widget.msgToast("运营专题介绍图没有上传"),!1):($scope.param.intro_pic=$scope.intro_pics[0],void widget.ajaxRequest({url:"/subjects"+($stateParams.subject_id?"/"+$stateParams.subject_id:""),method:$stateParams.subject_id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".subject.list")}})))}}mod.controller("subject.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"]}),define("controllers/biz/subjectGroupController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,$timeout){$scope.param={},$scope.subjects_group=[];var sup_scope=$scope;widget.ajaxRequest({url:"/subjects/groups",method:"get",scope:$scope,data:{},success:function(json){angular.forEach(json.data,function(val,key){val.disabled=!0}),$scope.subjects_group=json.data}}),$scope.add_subject_group=function(){var subject_group_tmp_key=(new Date).getTime();if(0==$scope.subjects_group.length){var subjects_group_tmp=new Object;subjects_group_tmp["group_"+subject_group_tmp_key]=[],$scope.subjects_group=subjects_group_tmp}else $scope.subjects_group["group_"+subject_group_tmp_key]=[]},$scope.save_subject_group=function(key,value){if($scope.save_subject_group_confirm=function(){if($scope.save_subject_param={group_tag:key},$scope.tmp_subject_ids=[],angular.forEach(value,function(v,k){v.subject_id&&$scope.tmp_subject_ids.push({subject_id:v.subject_id})}),value){if($scope.tmp_subject_ids.length<2||4==$scope.tmp_subject_ids.length)return widget.msgToast("每个专题组至少需要2个专题并且不能是4个专题，否则无法提交，请调整！"),!1;$scope.save_subject_param.subjects=$scope.tmp_subject_ids}else $scope.save_subject_param.subjects=[];widget.ajaxRequest({url:"/subjects/groups",method:"put",scope:$scope,data:$scope.save_subject_param,success:function(json){$scope.subjects_group[key].disabled=!0,value||delete $scope.subjects_group[key],widget.msgToast(value?"保存成功":"删除成功")}})},value)$scope.save_subject_group_confirm();else{$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="删除专题组",$scope.save_subject_group_delete_confirm=function(){sup_scope.save_subject_group_confirm(),$scope.cancel()},$scope.tmpl='<div class="form-horizontal" name="FormBody" novalidate><div ><h4>删除后，首页将不再显示该运营组。是否确定删除？</h4></div><a class="btn btn-danger btn-rounded col-sm-2 pull-right" ng-click="save_subject_group_delete_confirm()">移除</a></div>',$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}},$scope.add_update_subject=function(key,value,index){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="运营专题",$scope.search_subject=function(){if(!$scope.subject_id)return widget.msgToast("专题ID未填写"),!1;widget.ajaxRequest({url:"/subjects",method:"get",scope:$scope,data:{subject_id:$scope.subject_id},success:function(json){var tmp_data=json.data[0];if(tmp_data){var err=!1;if(angular.forEach(sup_scope.subjects_group[key],function(v,k){tmp_data.subject_id==v.subject_id&&(err=!0)}),err)return widget.msgToast("专题ID已经存在"),!1;"number"==typeof index?sup_scope.subjects_group[key].splice(index,1,{subject_id:tmp_data.subject_id,name:tmp_data.name,brief:tmp_data.brief,share_pic:tmp_data.share_pic}):(sup_scope.subjects_group[key].push({subject_id:tmp_data.subject_id,name:tmp_data.name,brief:tmp_data.brief,share_pic:tmp_data.share_pic}),sup_scope.subjects_group[key].empty.length--),sup_scope.subjects_group[key].disabled=!1,$scope.cancel(),widget.msgToast("添加成功")}else $scope.subject_id="",widget.msgToast("添加失败,专题ID不存在")}})},$scope.tmpl='<div class="form-horizontal" name="FormBody" novalidate><div class="col-sm-8" form-input text="专题ID" ng-model="subject_id" label-width="4" content-width="8"></div><a class="btn btn-primary btn-sm btn-rounded col-sm-2" ng-click="search_subject()">添加</a></div>',$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})},$scope.sub_subject=function(key,value,index){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="移除专题",$scope.sub_subject_confirm=function(){sup_scope.subjects_group[key].splice(index,1),sup_scope.subjects_group[key].empty.length++,sup_scope.subjects_group[key].disabled=!1,$scope.cancel()},$scope.tmpl='<div class="form-horizontal" name="FormBody" novalidate><div ><h4>确定移除该专题吗？移除后，该专题将从该运营组消失。</h4></div><a class="btn btn-danger btn-rounded col-sm-2 pull-right" ng-click="sub_subject_confirm()">移除</a></div>',$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}mod.controller("subjectGroup.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"]}),define("states/hjm/subject",["../states","../../cons/simpleCons","../../controllers/biz/subjectController","../../controllers/biz/subjectGroupController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".subject",{url:"/subject",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".subject.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="subjectList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".subject.update",{url:"/update.html/:subject_id",views:{"":{controller:"subject.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"subject/update.html")}}}}).state(cons.state.main+".subject.add",{url:"/add.html",views:{"":{controller:"subject.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"subject/update.html")}}}}).state(cons.state.main+".subject_group",{url:"/subject_group",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".subject_group.update",{url:"/update.html",views:{"":{controller:"subjectGroup.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"subject_group/update.html")}}}})}])}),define("controllers/biz/resourceController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,$timeout){$scope.aaa=function(){console.log("$scope.param",$scope.param)},$scope.submit=function(status){$scope.param.product_ids={};var tmp_pid=$filter("arraySub2Array")($scope.param.products,"product_id");return angular.forEach(tmp_pid,function(val,key){$scope.param.product_ids[val]={order_by:tmp_pid.length-key}}),0==Object.keys($scope.param.product_ids).length?(widget.msgToast("专题活动和商品没有添加"),!1):comfunc.isEmptyArray($scope.share_pics)?(widget.msgToast("缩略图没有上传"),!1):($scope.param.share_pic=$scope.share_pics[0],comfunc.isEmptyArray($scope.intro_pics)?(widget.msgToast("运营专题介绍图没有上传"),!1):($scope.param.intro_pic=$scope.intro_pics[0],void widget.ajaxRequest({url:"/subjects"+($stateParams.subject_id?"/"+$stateParams.subject_id:""),method:$stateParams.subject_id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".subject.list")}})))}}mod.controller("resource.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"]}),define("states/hjm/resource",["../states","../../cons/simpleCons","../../controllers/biz/resourceController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".resource",{url:"/resource",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".resource.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="resourceList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".resource.add",{url:"/add.html",views:{"":{controller:"resource.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"resource/update.html")}}}})}])}),define("controllers/biz/ordersController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,comfunc){$scope.param={},$scope.user_ids="",$scope.aaa=function(){console.log("$scope.param",$scope.param)},$scope.count=200,$scope.$watch("param.product_id",function(val){$scope.options=[],$scope.param.option_id=""}),$scope.search=function(){widget.ajaxRequest({url:"/products/"+$scope.param.product_id+"/options",method:"GET",scope:$scope,data:{count:200},success:function(json){$scope.options=[{text:"-请选择-",value:""}],angular.forEach(json.data,function(val,key){1==val.option_status&&$scope.options.push({text:$filter("product_category")(val.option_type)+"  |  类目:"+val.option_name+"    /    价格:"+val.option_price,value:val.option_id+"",option_type:val.option_type})}),$scope.options=$filter("orderBy")($scope.options,"option_type","desc")},failure:function(err){widget.msgToast("活动ID不存在")}})},$scope.$watch("param.option_id",function(val){angular.forEach($scope.options,function(v,k){val==v.value&&(2==v.option_type?$scope.param.apply_mode=3==$scope.param.apply_mode?1:$scope.param.apply_mode:3==v.option_type&&($scope.param.apply_mode=3))})}),$scope.$watch("param.apply_mode",function(val){var option_type="";angular.forEach($scope.options,function(v,k){$scope.param.option_id==v.value&&(option_type=v.option_type)}),3==val&&3!=option_type?$scope.param.option_id="":3!=val&&3==option_type&&($scope.param.option_id="")}),$scope.submit=function(){return $scope.param.product_id?$scope.param.option_id?($scope.param.user_ids=[],$scope.param.user_ids=$scope.user_ids.replace(/\n/g,",").split(","),$scope.param.user_ids&&$scope.param.user_ids.length>($scope.count||200)?(widget.msgToast("马甲数不能超过"+($scope.count||200)+"个!"),!1):comfunc.isEmptyArray($scope.param.user_ids)?(widget.msgToast("没有填写用户ID"),!1):void widget.ajaxRequest({url:"/orders",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("订单数据维护成功！"),$scope.user_ids="",$scope.param.user_ids=[]}})):(widget.msgToast("类目没有选择"),!1):(widget.msgToast("活动ID没有"),!1)}}mod.controller("orders.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","comfunc"]}),define("states/hjm/orders",["../states","../../cons/simpleCons","../../controllers/biz/ordersController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".orders",{url:"/orders",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".orders.add",{url:"/add",views:{"":{controller:"orders.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"orders/update.html")}}}})}])}),define("controllers/biz/wechatController",["./../controllers","../../cons/simpleCons"],function(mod,con){function menuController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,comfunc){$scope.index=[void 0,void 0],widget.ajaxRequest({url:"/wechat/menu/",method:"GET",scope:$scope,data:{},success:function(json){$scope.menu=angular.toJson(json.data,!0),$scope.menus=json.data.button,$scope.edit_menu(0)}}),$scope.edit_menu=function(sup_index,sub_index){$scope.index=[sup_index,sub_index],$scope.menus_title=[1,1,1],$scope.menus_title[sup_index]++,void 0!=sup_index&&void 0!=sub_index?$scope.edit_obj=$scope.menus[sup_index].sub_button[sub_index]:void 0!=sup_index&&void 0==sub_index&&($scope.edit_obj=$scope.menus[sup_index])},$scope.edit_menu_sub=function(index,sup_index,sub_obj,$event){sub_obj&&($scope.index=[sup_index,index],$scope.edit_obj=sub_obj,$event.stopPropagation())},$scope.del_menu=function(){var sup_index=$scope.index[0],sub_index=$scope.index[1];if(void 0!=sup_index&&void 0!=sub_index){if(confirm("确认删除子菜单吗?")){var sub_menu=$scope.menus[sup_index].sub_button;1==sub_menu.length?delete $scope.menus[sup_index].sub_button:sub_menu.length>1&&sub_menu.splice(sub_index,1),$scope.edit_menu(sup_index)}}else if(void 0!=sup_index&&void 0==sub_index){if(confirm("确认删除主菜单吗?")){if($scope.menus&&1==$scope.menus.length)return widget.msgToast("不能把菜单全部删除"),!1;$scope.menus&&$scope.menus.length>1&&$scope.menus.splice(sup_index,1),$scope.edit_menu(0)}}else widget.msgToast("请选择一个菜单再删除")},$scope.add_sub_button=function(index){$scope.menus[index].sub_button?($scope.menus[index].sub_button.push({name:"子菜单名称"}),$scope.edit_menu(index,$scope.menus[index].sub_button.length-1)):confirm("添加子菜单后，一级菜单的内容将被清除。确定添加子菜单？")&&($scope.menus[index]={name:$scope.menus[index].name,sub_button:[{name:"子菜单名称"}]},$scope.edit_menu(index,0))},$scope.add_sup_menu=function(){$scope.menus?($scope.menus.push({name:"菜单名称"}),$scope.edit_menu($scope.menus.length-1)):($scope.menus=[{name:"菜单名称"}],$scope.edit_menu(0))},$scope.show_tmp_msg=function(msg,flag){return flag&&widget.msgToast(msg),!1},$scope.verify=function(){var flag=!0;return angular.forEach($scope.menus,function(val,key){val.name?val.sub_button&&0!=val.sub_button.length?val.sub_button&&val.sub_button.length>0&&angular.forEach(val.sub_button,function(v,k){v.name?v.sub_button&&0!=v.sub_button.length||("view"!=v.type||v.url?"click"!=v.type||v.key&&v.reply_info.type&&v.reply_info.content?v.type||(flag=$scope.show_tmp_msg(val.name+" 的子菜单 "+v.name+" 没有选择类型",flag)):flag=$scope.show_tmp_msg(val.name+" 的子菜单 "+v.name+" 有选项未添加完整",flag):flag=$scope.show_tmp_msg(val.name+" 的子菜单 "+v.name+" 未添加URL地址",flag)):flag=$scope.show_tmp_msg(val.name+" 的第"+(k+1)+" 个子菜单的没有名称",flag)}):"view"!=val.type||val.url?"click"!=val.type||val.key&&val.reply_info.type&&val.reply_info.content?val.type||(flag=$scope.show_tmp_msg(val.name+" 没有选择类型",flag)):(console.log(val),flag=$scope.show_tmp_msg(val.name+" 有选项未添加完整",flag)):flag=$scope.show_tmp_msg(val.name+" 未添加URL地址",flag):flag=$scope.show_tmp_msg("第"+(key+1)+" 个菜单没有名称",flag)}),flag},$scope.submit=function(){if(!$scope.verify())return!1;widget.ajaxRequest({url:"/wechat/menu/",method:"POST",scope:$scope,data:{menu:angular.toJson({button:$scope.menus},!0)},success:function(json){widget.msgToast("微信菜单维护成功！")}})}}function autoreplyController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,comfunc){widget.ajaxRequest({url:"/wechat/autoreply/",method:"GET",scope:$scope,data:{},success:function(json){$scope.auto_reply=json.data,$scope.add_friend_autoreply_info={content:json.data.add_friend_autoreply_info.content},$scope.message_default_autoreply_info={content:json.data.message_default_autoreply_info.content},$scope.keyword_autoreply_info_list=json.data.keyword_autoreply_info.list}}),$scope.add=function(){if($scope.keyword_autoreply_info_list.length>100)return widget.msgToast("设定规则超出限制数量"),!1;$scope.keyword_autoreply_info_list.push({rule_name:"",reply_mode:"reply_all",create_time:(new Date).getTime(),keyword_list_info:[],reply_list_info:[]}),$scope.title_info[$scope.keyword_autoreply_info_list.length-1]=1},$scope.del=function(index){confirm("确认删除规则:"+$scope.keyword_autoreply_info_list.rule_name)&&$scope.keyword_autoreply_info_list.splice(index,1)},$scope.submit=function(){$scope.auto_reply.add_friend_autoreply_info.content=$scope.add_friend_autoreply_info.content,$scope.auto_reply.message_default_autoreply_info.content=$scope.message_default_autoreply_info.content,$scope.auto_reply.keyword_autoreply_info.list=$scope.keyword_autoreply_info_list,widget.ajaxRequest({url:"/wechat/autoreply/",method:"POST",scope:$scope,data:{auto_reply:angular.toJson($scope.auto_reply,!0)},success:function(json){widget.msgToast("微信自动回复维护成功！")}})}}function qrcodeController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,comfunc){$scope.submit=function(){widget.ajaxRequest({url:"/wechat/qrcode/",method:"GET",scope:$scope,data:$scope.param,success:function(json){$scope.qrcode=json.data,widget.msgToast("二维码已生成,可以复制地址了")}})}}mod.controller("wechat.menuController",menuController).controller("wechat.autoreplyController",autoreplyController).controller("wechat.qrcodeController",qrcodeController),autoreplyController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","comfunc"],qrcodeController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","comfunc"],menuController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","comfunc"]}),define("states/hjm/wechat",["../states","../../cons/simpleCons","../../controllers/biz/wechatController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".wechat",{url:"/wechat",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".wechat.menu",{url:"/menu",views:{"":{controller:"wechat.menuController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"wechat/menu.html")}}}}).state(cons.state.main+".wechat.autoreply",{url:"/autoreply",views:{"":{controller:"wechat.autoreplyController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"wechat/autoreply.html")}}}}).state(cons.state.main+".wechat.qrcode",{url:"/qrcode",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="qrcodeList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".wechat.qrcodeAdd",{url:"/qrcode/add",views:{"":{controller:"wechat.qrcodeController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"wechat/qrcode.html")}}}})}])}),define("states/hjm/hotkey",["../states","../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".hotkey",{url:"/hotkey",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".hotkey.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="hotkeyList" config="config" columns="columns"></div>'}}}})}])}),define("controllers/biz/captchaController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter){$scope.submit=function(status){$scope.param.expire_time=$filter("date")($scope.param.expire_time,"yyyy-MM-dd HH:mm:ss"),widget.ajaxRequest({url:"/supports/captchas",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".captcha.list")}})}}mod.controller("captcha.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter"]}),define("states/hjm/captcha",["../states","../../cons/simpleCons","../../controllers/biz/captchaController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".captcha",{url:"/captcha",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".captcha.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="captchaList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".captcha.add",{url:"/add.html",views:{"":{controller:"captcha.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"captcha/update.html")}}}})}])}),define("states/hjm/survey_category",["../states","../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".survey_category",{url:"/survey_category",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".survey_category.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="surveyCategoryList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".survey_category.add",{url:"/add",views:{"":{controller:"survey_category.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"product/update.html")}}}}).state(cons.state.main+".survey_category.update",{url:"/update.html/:id",views:{"":{controller:"product.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"product/update.html")}}}})}])}),define("controllers/biz/surveyQuestionController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter){if($state.current.name.indexOf("survey_question_attachment")>-1)var survey_question_attachment=1;$stateParams.id&&widget.ajaxRequest({url:"/surveys/questions/"+$stateParams.id,method:"get",scope:$scope,data:{},success:function(json){$state.current.name.indexOf("survey_question.add")>-1&&(delete json.data.id,delete json.data.status,delete json.data.created_at,delete json.data.updated_at,angular.forEach(json.data.options,function(val,key){delete val.id,delete val.question_id,delete val.status,delete val.created_at,delete val.updated_at})),$scope.param=angular.copy(json.data),$scope.image=$scope.param.image?[{pic_url:$scope.param.image}]:[],3==$scope.param.option_type&&($scope.option_type3_options=angular.copy($scope.param.options))}}),$scope.$watch("param.option_type",function(val,defval){3==val||2==val?($scope.param.type=3,$scope.param.need_score=1,$scope.add_option_type_3()):1==val&&($scope.param.need_score=2)}),$scope.$watch("option_count",function(val){$scope.add_option_type_3()}),$scope.add_option_type_3=function(){3==$scope.option_count&&3==$scope.param.option_type&&(!$scope.option_type3_options||$scope.option_type3_options&&3!=$scope.option_type3_options.length)&&($scope.option_type3_options=[{name:"",score:1},{name:"",score:2},{name:"",score:3}],console.log($scope.option_type3_options))},$scope.add_option_type3_options=function(){$scope.option_type3_options&&$scope.option_type3_options.length<3?($scope.option_type3_options.push({name:"",score:$scope.option_type3_options.length+1}),angular.forEach($scope.option_type3_options,function(val,key){val.score=key+1})):widget.msgToast("不能添加超过3个选项")},$scope.del_option_type3_options=function(index){$scope.option_type3_options&&3==$scope.option_type3_options.length?$scope.option_type3_options.splice(index,1):widget.msgToast("不能删除,至少2个选项"),angular.forEach($scope.option_type3_options,function(val,key){val.score=key+1})},$scope.$watch("param.type",function(val,defval){2!=val||2!=$scope.param.option_type&&3!=$scope.param.option_type||(widget.msgToast("选项计分题只能为单选题,已切换为单选题。"),$scope.param.type=3)}),$scope.submit=function(status){if($scope.image&&1==$scope.image.length?$scope.param.image=$scope.image[0].pic_url:$scope.param.image="",!$scope.param.title&&!$scope.param.image)return widget.msgToast("题目,题图必须有其一才能提交"),!1;if(survey_question_attachment&&!$stateParams.id&&(angular.extend($scope.param,{status:"1"}),$scope.param.category_id=$rootScope.survey_question_category_list_attachments[0].value),1==$scope.param.option_type||2==$scope.param.option_type){var options_correct_count=0;if(!$scope.param.options||0==$scope.param.options.length)return widget.msgToast("选项未填写,请添加"),!1;if(angular.forEach($scope.param.options,function(val,key){1==val.selected&&options_correct_count++}),2==$scope.param.need_score){if(3==$scope.param.type&&1!=options_correct_count)return widget.msgToast("单选题型的正确选项只能是一个"),!1;if(2==$scope.param.type&&options_correct_count<1)return widget.msgToast("多选题型的正确选项至少是一个"),!1}}else 3==$scope.param.option_type&&($scope.param.options=[],angular.forEach($scope.option_type3_options,function(val,key){val.id?$scope.param.options.push({id:val.id||"",name:val.name,score:val.score}):$scope.param.options.push({name:val.name,score:val.score})}));widget.ajaxRequest({url:"/surveys/questions"+($scope.param.id?"/"+$scope.param.id:""),method:$scope.param.id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！",500),$rootScope.get_survey_question_list(),$state.go(con.state.main+"."+(survey_question_attachment?"survey_question_attachment":"survey_question")+".list")},failure:function(err){(1202==err.code||1303==err.code)&&err.validates&&Object.keys(err.validates).length>0?(console.log(err.code,Object.keys(err.validates),err.validates[Object.keys(err.validates)[0]],Object.keys(err.validates).length),widget.msgToast(err.validates[Object.keys(err.validates)[0]]+"\n点击取消",5e3)):widget.msgToast(err.message+"\n点击取消",2e3)}})}}mod.controller("surveyQuestion.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter"]}),define("states/hjm/survey_question",["../states","../../cons/simpleCons","../../controllers/biz/surveyQuestionController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".survey_question",{url:"/survey_question",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".survey_question.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="surveyQuestionList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".survey_question.add",{url:"/add.html/:id",views:{"":{controller:"surveyQuestion.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"survey_question/update.html")}}}}).state(cons.state.main+".survey_question.update",{url:"/update.html/:id",views:{"":{controller:"surveyQuestion.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"survey_question/update.html")}}}})}])}),define("states/hjm/survey_question_attachment",["../states","../../cons/simpleCons","../../controllers/biz/surveyQuestionController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".survey_question_attachment",{url:"/survey_question_attachment",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".survey_question_attachment.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="surveyQuestionAttachmentList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".survey_question_attachment.add",{url:"/add.html",views:{"":{controller:"surveyQuestion.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"survey_question_attachment/update.html")}}}}).state(cons.state.main+".survey_question_attachment.update",{url:"/update.html/:id",views:{"":{controller:"surveyQuestion.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"survey_question_attachment/update.html")}}}})}])}),define("controllers/biz/surveyPlanController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter){$stateParams.id&&widget.ajaxRequest({url:"/surveys/plans/"+$stateParams.id,method:"get",scope:$scope,data:{},success:function(json){angular.forEach(json.data.attachments,function(attachments_val,attachments_key){attachments_val.pivot.question_id+=""}),angular.forEach(json.data.categories,function(categories_val,categories_key){categories_val.pivot.category_id+=""}),$scope.param=angular.copy(json.data),$scope.banner=$scope.param.banner?[{pic_url:$scope.param.banner}]:[],$scope.search_product_id(),$scope.param.categories&&$scope.param.categories.length>0?$scope.question_source=1:$scope.question_source=2,3==$scope.param.type&&($scope.type3_suggestions=angular.copy($scope.param.suggestions))}}),$scope.$watch("question_option_count",function(val,defval){val!=defval&&defval?$scope.add_type_3():defval||$scope.add_type_3()}),$scope.add_type_3=function(){2==$scope.question_option_count&&3==$scope.param.type&&(!$scope.type3_suggestions||$scope.type3_suggestions&&3!=$scope.type3_suggestions.length)?$scope.type3_suggestions=[{result:"",score_min:1,score_max:1},{result:"",score_min:2,score_max:2},{result:"",score_min:12,score_max:12
}]:3==$scope.question_option_count&&3==$scope.param.type&&(!$scope.type3_suggestions||$scope.type3_suggestions&&6!=$scope.type3_suggestions.length)&&(console.log($scope.type3_suggestions,$scope.type3_suggestions&&$scope.type3_suggestions.length),$scope.type3_suggestions=[{result:"",score_min:1,score_max:1},{result:"",score_min:2,score_max:2},{result:"",score_min:3,score_max:3},{result:"",score_min:12,score_max:12},{result:"",score_min:23,score_max:23},{result:"",score_min:13,score_max:13},{result:"",score_min:123,score_max:123}])},$scope.search_product_id=function(){if(!$scope.param.product_id)return widget.msgToast("没有活动ID"),!1;widget.ajaxRequest({url:"/products",method:"GET",data:{product_id:$scope.param.product_id,sku:"2",page:1,count:1},success:function(json){json.data[0]?($scope.product_id=json.data[0].product_id,$scope.product_title=json.data[0].title||"无题目描述"):widget.msgToast("未找到测评的活动ID")}})},$scope.search_question_id=function(){if(!$scope.question_id)return widget.msgToast("没有输入问题ID,点击取消"),!1;widget.ajaxRequest({url:"/surveys/questions",method:"GET",data:{question_id:$scope.question_id,page:1,count:1,category_type:2},success:function(json){json.data[0]?$scope.question_title=json.data[0].title||"无题目描述":($scope.question_title="",widget.msgToast("未查询到问题ID,点击取消"))}})},$scope.add_question=function(){if(!$scope.question_id||!$scope.question_title)return widget.msgToast("问题ID未填写或者题目不存在,点击取消"),!1;var is_question_repeat=!1;if(angular.forEach($scope.param.questions,function(v,k){v.pivot&&v.pivot.question_id==$scope.question_id&&(is_question_repeat=!0)}),is_question_repeat)return widget.msgToast("题目已存在,点击取消"),!1;$scope.param.questions||($scope.param.questions=[]),$scope.param.questions.push({pivot:{order_by:"0",question_id:$scope.question_id},title:$scope.question_title}),$scope.question_id="",$scope.question_title=""},$scope.$watch("param.questions",function(val){angular.forEach(val,function(v,k){v.pivot.order_by=k+1})},!0),$scope.$watch("question_id",function(val){$scope.question_title=""}),$scope.$watch("param.product_id",function(val){$scope.product_title=""}),$scope.submit=function(status){if($scope.banner&&1==$scope.banner.length&&($scope.param.banner=$scope.banner[0].pic_url),3==$scope.param.type&&($scope.param.suggestions=angular.copy($scope.type3_suggestions)),1==$scope.question_source){if($scope.param.need_score=2,$scope.param.questions=[],!$scope.param.categories||0==$scope.param.categories.length)return widget.msgToast("未添加维度,不能提交"),!1;var tmp_categories_err=0,hash_categories={};if(angular.forEach($scope.param.categories,function(val,key){if(hash_categories[val.pivot.category_id])return tmp_categories_err++,!0;hash_categories[val.pivot.category_id]=!0}),tmp_categories_err>0)return console.log(hash_categories),widget.msgToast("涉及维度有重复"),!1}else if(2==$scope.question_source&&($scope.param.need_score=1,$scope.param.categories=[],0==$scope.param.questions.length))return widget.msgToast("未添加一道题目,不能提交(查询出题目后,要点击添加到测评题目)"),!1;widget.ajaxRequest({url:"/surveys/plans"+($stateParams.id?"/"+$stateParams.id:""),method:$stateParams.id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！",500),$state.go(con.state.main+".survey_plan.list")},failure:function(err){(1202==err.code||1303==err.code)&&err.validates&&Object.keys(err.validates).length>0?(console.log(err.code,Object.keys(err.validates),err.validates[Object.keys(err.validates)[0]],Object.keys(err.validates).length),widget.msgToast(err.validates[Object.keys(err.validates)[0]]+"\n点击取消",5e3)):widget.msgToast(err.message+"\n点击取消",2e3)}})}}mod.controller("surveyPlan.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter"]}),define("states/hjm/survey_plan",["../states","../../cons/simpleCons","../../controllers/biz/surveyPlanController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".survey_plan",{url:"/survey_plan",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".survey_plan.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="surveyPlanList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".survey_plan.add",{url:"/add.html",views:{"":{controller:"surveyPlan.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"survey_plan/update.html")}}}}).state(cons.state.main+".survey_plan.update",{url:"/update.html/:id",views:{"":{controller:"surveyPlan.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"survey_plan/update.html")}}}})}])}),define("controllers/biz/surveyListController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$timeout){$scope.init=function(){widget.ajaxRequest({url:"/surveys/lists/",method:"get",scope:$scope,data:{},success:function(json){$scope.param=angular.copy(json.data)}})},$scope.init(),$scope.$watch("param",function(lists){angular.forEach(lists,function(val,key){val.order_by=key+1})},!0),$scope.del=function(index){if(!confirm("确认要删除吗?"))return!1;$scope.param.splice(index,1)},$scope.update=function(update_index){$scope.add(update_index)},$scope.add=function(update_index){var supscope=$scope;$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.param=update_index||0==update_index?{plan_id:supscope.param[update_index].plan_id,plan_name:supscope.param[update_index].name}:{},$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div class="form-group">    <label class="col-sm-2 control-label">对应测评ID    <span class="form_label_dangus">*</span></label>    <div class="col-sm-2">    <input class="form-control" ng-model="param.plan_id" required></div><div class="col-sm-1">    <a class="btn btn-primary btn-rounded" ng-click="search_plan_id()">查询</a>    </div>    <div class="col-sm-5">    <input class="form-control" ng-model="param.plan_name" ng-disabled="true"placeholder="点击查询确认测评存在" required></div></div><a class="btn btn-primary btn-rounded pull-right " ng-click="submit()">确定</a></form>',$scope.title="添加测评",$scope.search_plan_id=function(){if(!$scope.param.plan_id)return widget.msgToast("测评ID未填写"),!1;widget.ajaxRequest({url:"/surveys/plans/"+$scope.param.plan_id,method:"get",scope:$scope,data:{},success:function(json){$scope.param.plan_name=json.data.name}})},$scope.submit=function(){if(!$scope.param.plan_id||!$scope.param.plan_name)return widget.msgToast("测评ID或名称未填写完整"),!1;supscope.param.splice(update_index||0==update_index?update_index:0,update_index||0==update_index?1:0,{plan_id:$scope.param.plan_id,order_by:void 0,plan:{id:$scope.param.plan_id,name:$scope.param.plan_name}}),$scope.cancel()},$scope.$watch("param.plan_id",function(val){$scope.param.plan_name=""}),$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})},$scope.submit=function(status){if(!confirm("确认要提交此次更新吗?"))return!1;widget.ajaxRequest({url:"/surveys/lists",method:"PUT",scope:$scope,data:{items:$scope.param},success:function(json){widget.msgToast("更新成功！",500),$scope.init()},failure:function(err){widget.msgToast(err.message+"\n点击取消",2e3)}})}}mod.controller("surveyList.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$timeout"]}),define("states/hjm/survey_list",["../states","../../cons/simpleCons","../../controllers/biz/surveyListController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".survey_list",{url:"/survey_list",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".survey_list.update",{url:"/update.html",views:{"":{controller:"surveyList.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"survey_list/update.html")}}}})}])}),define("controllers/biz/lessonsController",["./../controllers","../../cons/simpleCons"],function(mod,con){function orderController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter){$stateParams.lesson_id&&($scope.lesson_id=$stateParams.lesson_id),$stateParams.lesson_id&&widget.ajaxRequest({url:"/lessons/"+$stateParams.lesson_id+"/missions",method:"get",scope:$scope,data:{page:1,count:1e3},success:function(json){$scope.mission_edit_status=[],$scope.mission_online_status=[],$scope.max_order_by=0,angular.forEach(json.data,function(val,key){1==val.status?($scope.mission_online_status.push(val),$scope.max_order_by=Number.parseInt(val.order_by)&&Number.parseInt($scope.max_order_by)>Number.parseInt(val.order_by)?$scope.max_order_by:val.order_by):3==val.status&&$scope.mission_edit_status.push(val)})}}),$scope.notify=function(mission_id){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="任务修改通知",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate ><a class="btn btn-rounded pull-right btn-primary"  ng-click="submit()">发送通知</a></form>',$scope.submit=function(){widget.ajaxRequest({url:"/missions/"+mission_id+"/notify",method:"post",scope:$scope,data:{status:status},success:function(json){widget.msgToast("发送成功"),$scope.cancel()},failure:function(json){widget.msgToast(json.message),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"sm"})},$scope.del=function(index,mission_id){var superscope=$scope;$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="删除任务",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate ><a class="btn btn-rounded pull-right btn-primary"  ng-click="submit()">删除</a></form>',$scope.submit=function(){widget.ajaxRequest({url:"/missions/"+mission_id,method:"delete",scope:$scope,data:{},success:function(json){widget.msgToast("删除任务成功"),superscope.mission_edit_status.splice(index,1),$scope.cancel()},failure:function(json){widget.msgToast(json.message),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"sm"})},$scope.submit=function(status){if($scope.status_text=1==status?"上线":"草稿",!$scope.mission_edit_status||0==$scope.mission_edit_status.length)return widget.msgToast("没有任何草稿需要上线。"),!1;if($scope.param={missions:[],status:status},angular.forEach($scope.mission_edit_status,function(val,key){$scope.param.missions.push({mission_id:val.mission_id,order_by:val.order_by})}),1==status){var superscope=$scope,err_knowledge_count=0;if(angular.forEach($scope.mission_edit_status,function(val,key){val.stat_knowledge&&0!=val.stat_knowledge.knowledge_count||err_knowledge_count++}),err_knowledge_count>0)return widget.msgToast("有任务下没有添加知识点,不能上线任务。"),!1;$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="任务上线提醒",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate ><h3 class="text-danger">上线后，以上任务顺序将不能再修改，请确定。</h3><a class="btn btn-rounded pull-right btn-success" ng-click="submit()">上线</a></form>',$scope.submit=function(){superscope.onsubmit(status),$scope.cancel()},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}else $scope.onsubmit()},$scope.onsubmit=function(status){widget.ajaxRequest({url:"/lessons/"+$stateParams.lesson_id+"/missions",method:"PUT",scope:$scope,data:$scope.param,success:function(json){widget.msgToast($scope.status_text+"保存成功",1500),1==status&&$state.go(con.state.main+".lessons.list")}})}}function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter){$stateParams.lesson_id?widget.ajaxRequest({url:"/lessons/"+$stateParams.lesson_id,method:"get",scope:$scope,data:{},success:function(json){$scope.param=angular.copy(json.data),$scope.product_id=$scope.param.products[0]&&$scope.param.products[0].product_id}}):$scope.param={},$scope._tmp_={options:[],options_selected:[]},$scope.add_schedule=function(){$scope.param.schedules||($scope.param.schedules=[]),$scope.param.schedules.push({week:void 0,hour:void 0,minute:void 0,type:1})},$scope.del_schedule=function(index){$scope.param.schedules&&$scope.param.schedules.splice(index,1)},$scope.verify_product=function(product_id){return!!product_id||"请输入活动ID!!"},$scope.add_product=function(json){0==json.code&&($scope._tmp_.options=[],angular.forEach(json.data,function(val,key){$scope._tmp_.options.push({option:{option_type:val.option_type,option_status:val.option_status,option_name:val.option_name},option_id:val.option_id,product_id:val.product_id,text:val.option_name+"("+$filter("product_option_status")(val.option_status)+")",value:val.option_id})}),$scope._tmp_.options_selected=[],angular.forEach($scope.param.products,function(val,key){val.option_id&&angular.forEach($scope._tmp_.options,function(_tmp_options_val,_tmp_options_key){val.option_id==_tmp_options_val.option_id&&$scope._tmp_.options_selected.push(_tmp_options_val.option_id)})}))},$scope.update_option=function(){angular.forEach($scope._tmp_.options,function(_tmp_option_val,_tmp_option_key){if(("|"+$scope._tmp_.options_selected.join("|")+"|").indexOf("|"+_tmp_option_val.option_id+"|")>-1)-1==$filter("arraySub2String")($scope.param.products,"option_id").indexOf(_tmp_option_val.option_id)?(console.log(1),$scope.param.products.push(_tmp_option_val)):console.log(2);else if($filter("arraySub2String")($scope.param.products,"option_id").indexOf(_tmp_option_val.option_id)>-1){console.log(3);var tmp_index=0;angular.forEach($scope.param.products,function(options,options_key){_tmp_option_val.option_id==options.option_id&&(tmp_index=options_key)}),$scope.param.products.splice(tmp_index,1)}else console.log(4)})},$scope.$watch("param.products",function(products){},!0),$scope.$watch("_tmp_",function(options_val,old_options_val){$filter("arraySub2String")(options_val.options,"option_id"),$filter("arraySub2String")(old_options_val.options,"option_id");$filter("arraySub2String")(options_val.options,"option_id")==$filter("arraySub2String")(old_options_val.options,"option_id")?$scope.update_option():angular.forEach(options_val.options,function(tmp_options,tmp_options_key){angular.forEach($scope.param.products,function(options,options_key){tmp_options.option_id==options.option_id&&$scope._tmp_.options_selected.push(tmp_options.option_id)})})},!0),$scope.submit=function(status){var err_schedules=!1;return comfunc.isEmptyArray($scope.param.schedules)?(widget.msgToast("每周任务发布时间没有添加,赶紧添加一下吧。"),!1):(angular.forEach($scope.param.schedules,function(val,key){(!val.week&&0!==val.week||!val.hour&&0!==val.hour||!val.minute&&0!==val.minute)&&(widget.msgToast("每周任务发布时间的第"+(key+1)+"行没有完成添加,赶紧添加一下吧。"),err_schedules=!0)}),!err_schedules&&void widget.ajaxRequest({url:"/lessons"+($stateParams.lesson_id?"/"+$stateParams.lesson_id:""),method:$stateParams.lesson_id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！",500),$state.go(con.state.main+".lessons.list")}}))}}mod.controller("lessons.updateController",updateController).controller("order.updateController",orderController),orderController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter"],updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter"]}),define("states/hjm/lessons",["../states","../../cons/simpleCons","../../controllers/biz/lessonsController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".lessons",{url:"/lessons",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".lessons.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="lessonsList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".lessons.add",{url:"/add.html",views:{"":{controller:"lessons.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"lessons/update.html")}}}}).state(cons.state.main+".lessons.update",{url:"/update.html/:lesson_id",views:{"":{controller:"lessons.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"lessons/update.html")}}}}).state(cons.state.main+".lessons.order",{url:"/order.html/:lesson_id/:status",views:{"":{controller:"order.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"lessons/order.html")}}}})}])}),define("controllers/biz/missionController",["./../controllers","../../cons/simpleCons"],function(mod,con){function knowledgeController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter){$stateParams.mission_id||(widget.msgToast("任务ID未选择,已跳转至课程列表。",3e3),$state.go(con.state.main+".lessons.list")),$scope.getknowledges=function(){widget.ajaxRequest({url:"/missions/"+$stateParams.mission_id+"/knowledges",method:"get",scope:$scope,data:{},success:function(json){$scope.knowledge_list=angular.copy(json.data),$scope.knowledge_title=[],$scope.title="1111111111",angular.forEach(json.data,function(val,key){$scope.knowledge_title.push({value:val.knowledge_id,text:val.title})})}})},$stateParams.mission_id&&$scope.getknowledges(),$scope.go_lesson_order=function(){history.back()},$scope.selected=function(item){if($scope.param={},!item)return $scope.title="1111111111",!1;$scope.title=item.value,widget.ajaxRequest({url:"/knowledges/"+item.value,method:"get",scope:$scope,data:{},success:function(json){$scope.param=angular.copy(json.data),console.log($scope.param.imagetexts)}})},$scope.submit=function(status){var err_audios=!1;if(angular.forEach($scope.param.audios,function(val,key){val.url||(widget.msgToast("音频第"+(key+1)+"行没有完成上传。"),err_audios=!0),val.id=val.id||void 0}),err_audios)return!1;var err_videos=!1;if(angular.forEach($scope.param.videos,function(val,key){val.url||(widget.msgToast("视频第"+(key+1)+"行没有完成上传。"),err_videos=!0),val.id=val.id||void 0}),err_videos)return!1;if($scope.param.imagetexts&&!comfunc.isEmptyArray($scope.param.imagetexts)){var tmp_imagetexts_err=0;if(angular.forEach($scope.param.imagetexts,function(val,key){val?angular.forEach(val.sources,function(v,k){v.url||tmp_imagetexts_err++}):tmp_imagetexts_err++}),tmp_imagetexts_err>0)return widget.msgToast("图文详情中有图片还没有完成上传"),!1}if(angular.extend($scope.param,{mission_id:$stateParams.mission_id}),2==status){if(!confirm("确认删除这个知识点吗?"))return!1;widget.ajaxRequest({url:"/knowledges/"+$scope.param.knowledge_id,method:"delete",scope:$scope,data:{},success:function(json){widget.msgToast("删除成功！",500),$scope.param={},$scope.getknowledges()}})}else widget.ajaxRequest({url:$scope.param.knowledge_id?"/knowledges/"+$scope.param.knowledge_id:"/missions/"+$stateParams.mission_id+"/knowledges",method:$scope.param.knowledge_id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！",500),$scope.param={},$scope.getknowledges()}})}}function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter){!$stateParams.lesson_id&&$stateParams.mission_id&&(widget.msgToast("课程ID未选择,已跳转至课程列表。",3e3),$state.go(con.state.main+".lessons.list")),$stateParams.mission_id?widget.ajaxRequest({url:"/missions/"+$stateParams.mission_id,method:"get",scope:$scope,data:{},success:function(json){$scope.param=angular.copy(json.data)}}):$scope.param={},$scope.submit=function(status){var err_sources=!1;if(angular.forEach($scope.param.sources,function(val,key){val.url||(widget.msgToast("任务图片第"+(key+1)+"行没有完成上传。"),err_sources=!0),val.id=val.id||void 0}),err_sources)return!1;angular.extend($scope.param,{lesson_id:$stateParams.lesson_id}),widget.ajaxRequest({url:"/missions"+($stateParams.mission_id?"/"+$stateParams.mission_id:""),method:$stateParams.mission_id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！",500),$state.go(con.state.main+".lessons.order",{lesson_id:$stateParams.lesson_id,status:$scope.param.status})}})}}mod.controller("mission.updateController",updateController).controller("knowledge.updateController",knowledgeController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter"],knowledgeController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter"]}),define("states/hjm/mission",["../states","../../cons/simpleCons","../../controllers/biz/missionController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".mission",{url:"/mission",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".mission.list",{url:"/:lesson_id/list",views:{"":{templateProvider:function($templateCache,$stateParams){return'<div hjm-grid modid="missionList" config="config_by_online" columns="columns_by_online" ext-api-string="/teacher/lessons/'+$stateParams.lesson_id+'/missions"></div>'}}}}).state(cons.state.main+".mission.add",{url:"/add.html/:lesson_id",views:{"":{controller:"mission.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"mission/update.html")}}}}).state(cons.state.main+".mission.update",{url:"/update.html/:lesson_id/:mission_id",views:{"":{controller:"mission.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"mission/update.html")}}}}).state(cons.state.main+".mission.knowledge",{url:"/knowledge.html/:mission_id",views:{"":{controller:"knowledge.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"mission/knowledge.html")}}}})}])}),define("controllers/biz/teacherController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter){$stateParams.teacher_id?widget.ajaxRequest({url:"/teachers/"+$stateParams.teacher_id,method:"get",scope:$scope,data:{},success:function(json){$scope.param=angular.copy(json.data)}}):$scope.param={},$scope.submit=function(status){widget.ajaxRequest({url:"/teachers"+($stateParams.teacher_id?"/"+$stateParams.teacher_id:""),method:$stateParams.teacher_id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！",500),$state.go(con.state.main+".teacher.list"),$rootScope.get_teacher_list()}})}}mod.controller("teacher.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter"]}),define("states/hjm/teacher",["../states","../../cons/simpleCons","../../controllers/biz/teacherController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".teacher",{url:"/teacher",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".teacher.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="teacherList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".teacher.update",{url:"/update.html/:teacher_id",views:{"":{controller:"teacher.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"teacher/update.html")}}}}).state(cons.state.main+".teacher.add",{url:"/add.html",views:{"":{controller:"teacher.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"teacher/update.html")}}}})}])}),define("controllers/biz/studentController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter){$stateParams.student_id?widget.ajaxRequest({url:"/students/"+$stateParams.student_id,method:"get",scope:$scope,data:{},success:function(json){$scope.param=angular.copy(json.data)}}):$scope.param={},$scope.submit=function(status){$scope.param.products=[],angular.forEach($scope.products,function(val,key){val.selected&&$scope.param.products.push({id:val.id||void 0,product_id:val.product_id,option_id:val.option_id})});var err_schedules=!1;return comfunc.isEmptyArray($scope.param.schedules)?(widget.msgToast("每周任务发布时间没有添加,赶紧添加一下吧。"),!1):(angular.forEach($scope.param.schedules,function(val,key){val.week&&val.hour&&val.minute||(widget.msgToast("每周任务发布时间的第"+(key+1)+"行没有完成添加,赶紧添加一下吧。"),err_schedules=!0)}),!err_schedules&&void widget.ajaxRequest({url:"/students"+($stateParams.student_id?"/"+$stateParams.student_id:""),method:$stateParams.student_id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！",500),$state.go(con.state.main+".student.list")}}))}}mod.controller("student.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter"]}),define("states/hjm/student",["../states","../../cons/simpleCons","../../controllers/biz/studentController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".student",{url:"/student",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".student.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="studentList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".student.update",{url:"/update.html/:student_id",views:{"":{controller:"student.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"student/update.html")}}}}).state(cons.state.main+".student.add",{url:"/add.html",views:{"":{controller:"student.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"student/update.html")}}}})}])}),define("states/hjm/work",["../states","../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".work",{url:"/work",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".work.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="workList" config="config" columns="columns"></div>'}}}})}])}),define("controllers/biz/redPacketCouponsController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$timeout){$scope.init=function(){widget.ajaxRequest({url:"/markets/redpacketcoupons",method:"get",scope:$scope,data:{status:1},success:function(json){$scope.param=angular.copy(json.data)}})},$scope.init(),$scope.$watch("param",function(lists){angular.forEach(lists,function(val,key){val.order_by=key+1})},!0),$scope.del=function(index){if(!confirm("确认要删除吗?"))return!1;$scope.param.splice(index,1)},$scope.update=function(update_index){$scope.add(update_index)},$scope.add=function(update_index){var supscope=$scope;$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.search_product_id=function(){if(!$scope.param.product_id)return widget.msgToast("活动ID未填写"),!1;widget.ajaxRequest({url:"/products",method:"get",scope:$scope,data:{product_id:$scope.param.product_id},success:function(json){json.data[0]&&($scope.param.title=json.data[0].title)}})},update_index||0==update_index?($scope.param={product_id:supscope.param[update_index].product.product_id,title:supscope.param[update_index].product.title,coupon_title:supscope.param[update_index].coupon_title,coupon_price:supscope.param[update_index].coupon_price},$scope.search_product_id()):$scope.param={},$scope.title="添加分享红包",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div class="form-group">    <label class="col-sm-2 control-label">对应活动ID    <span class="form_label_dangus">*</span></label>    <div class="col-sm-2">       <input class="form-control" ng-model="param.product_id" required>    </div>     <div class="col-sm-1">    <a class="btn btn-primary btn-rounded" ng-click="search_product_id()">查询</a>    </div>    <div class="col-sm-5">    <input class="form-control" ng-disabled="true" ng-model="param.title"        placeholder="点击查询确认活动存在" required>      </div></div><div form-input text="红包标题" ng-model="param.coupon_title"></div><div form-input text="优惠券金额" ng-model="param.coupon_price"></div><a class="btn btn-primary btn-rounded pull-right " ng-disabled="FormBody.$invalid" ng-click="submit()">确定</a></form>',$scope.submit=function(){if(!$scope.param.product_id||!$scope.title)return widget.msgToast("活动ID或名称未填写完整"),!1;supscope.param.splice(update_index||0==update_index?update_index:0,update_index||0==update_index?1:0,{id:$scope.param.id,order_by:void 0,coupon_title:$scope.param.coupon_title,coupon_price:$scope.param.coupon_price,product_id:$scope.param.product_id,product:{product_id:$scope.param.product_id,title:$scope.param.title}}),$scope.cancel()},$scope.$watch("param.product_id",function(val){$scope.param.title=""}),$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})},$scope.submit=function(status){if(!confirm("确认要提交此次更新吗?"))return!1;widget.ajaxRequest({url:"/markets/redpacketcoupons",method:"PUT",scope:$scope,data:{items:$scope.param},success:function(json){widget.msgToast("更新成功！",500),$scope.init()},failure:function(err){widget.msgToast(err.message+"\n点击取消",2e3)}})}}mod.controller("redPacketCoupons.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$timeout"]}),define("states/hjm/redpacketcoupons",["../states","../../cons/simpleCons","../../controllers/biz/redPacketCouponsController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".red_packet_coupons",{url:"/red_packet_coupons",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".red_packet_coupons.update",{url:"/update.html",views:{"":{controller:"redPacketCoupons.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"red_packet_coupons/update.html")}}}})}])}),define("controllers/biz/liveRoomsController",["./../controllers","../../cons/simpleCons"],function(mod,con){function planController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$timeout){$stateParams.id&&widget.ajaxRequest({url:con.live_domain+"/live/rooms/"+$stateParams.id,method:"get",scope:$scope,data:{},success:function(json){$scope.param=angular.copy(json.data)}}),
$scope.compare_plan_time=function(){var err_flag=!1;return angular.forEach($scope.param.plans,function(val,key){val.start_time>val.end_time&&(widget.msgToast("第"+(key+1)+"行的开始时间 > 结束时间了",5e3),err_flag=!0)}),err_flag},$scope.submit=function(status){if($scope.compare_plan_time())return!1;widget.ajaxRequest({url:con.live_domain+"/live/rooms"+($stateParams.id?"/"+$stateParams.id:""),method:$stateParams.id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".live_rooms.list")}})}}function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$timeout){$stateParams.id&&widget.ajaxRequest({url:con.live_domain+"/live/rooms/"+$stateParams.id,method:"get",scope:$scope,data:{},success:function(json){json.data.order_by=Number(json.data.order_by),$scope.param=angular.copy(json.data)}}),$scope.make_all_url=function(){var app_name=$scope.param.cloud.app_name||"",domain=$scope.param.cloud.domain||"",stream_name=$scope.param.cloud.stream_name||"",default_rtmp_url="rtmp://"+domain+"/"+app_name+"/"+stream_name,default_http_url="http://"+domain+"/"+app_name+"/"+stream_name;$scope.param.cloud.rtmp_url=default_rtmp_url+"_lsd",$scope.param.cloud.mu_url=default_http_url+".m3u8",$scope.param.cloud.flv_url=default_http_url+"_lsd.flv",$scope.param.cloud.high_rtmp_url=default_rtmp_url+"_lhd",$scope.param.cloud.high_mu_url=default_http_url+".m3u8",$scope.param.cloud.high_flv_url=default_http_url+"_lhd.flv",$scope.param.cloud.fluency_rtmp_url=default_rtmp_url+"_lld",$scope.param.cloud.fluency_mu_url=default_http_url+".m3u8",$scope.param.cloud.fluency_flv_url=default_http_url+"_lld.flv"},$scope.submit=function(status){var watch_point_text=angular.element($scope.param.watch_point).text();watch_point_text&&""!=watch_point_text||($scope.param.watch_point=""),$scope.param.type=1,widget.ajaxRequest({url:con.live_domain+"/live/rooms"+($stateParams.id?"/"+$stateParams.id:""),method:$stateParams.id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".live_rooms.list")}})}}mod.controller("liveRooms.updateController",updateController),mod.controller("liveRooms.planController",planController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"],planController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"]}),define("states/hjm/live_rooms",["../states","../../cons/simpleCons","../../controllers/biz/liveRoomsController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".live_rooms",{url:"/live_rooms",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".live_rooms.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="liveRoomsList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".live_rooms.update",{url:"/update.html/:id",views:{"":{controller:"liveRooms.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"live_rooms/update.html")}}}}).state(cons.state.main+".live_rooms.add",{url:"/add.html",views:{"":{controller:"liveRooms.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"live_rooms/update.html")}}}}).state(cons.state.main+".live_rooms.plan",{url:"/plan.html/:id",views:{"":{controller:"liveRooms.planController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"live_rooms/plan.html")}}}})}])}),define("controllers/biz/recordRoomsController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$timeout,$q){$stateParams.id&&widget.ajaxRequest({url:con.live_domain+"/live/rooms/"+$stateParams.id,method:"get",scope:$scope,data:{},success:function(json){$state.current.name.indexOf("record_rooms.copy")>-1&&(delete json.data.id,delete json.data.room_stream_id,delete json.data.room_no,delete json.data.created_at,delete json.data.updated_at,json.data.record&&(delete json.data.record.id,delete json.data.record.room_id,delete json.data.record.play_count,delete json.data.record.thumbup_count,delete json.data.record.show_play_count,delete json.data.record.created_at,delete json.data.record.updated_at),json.data.points&&angular.forEach(json.data.points,function(val,key){delete val.id,delete val.created_at,delete val.room_id,delete val.updated_at,val.pics&&angular.forEach(val.pics,function(v,k){delete v.created_at,delete v.id,delete v.imageable_id,delete v.imageable_type,delete v.pic_size,delete v.qiniu_key,delete v.status,delete v.updated_at})})),json.data.order_by=Number(json.data.order_by),$scope.param=angular.copy(json.data)}}),$scope.getDuration=function(){var url=$scope.param.record&&$scope.param.record.fluent_video_url||"";url&&""!=url?widget.ajaxRequest({url:con.live_domain+"/live/rooms/duration",method:"post",scope:$scope,data:{url:url},success:function(json){$scope.param.video_seconds=json.data.duration,$scope.param.record.video_duration=json.data.duration}}):widget.msgToast("没有URL,不能提交!")},$scope.submit=function(status){$scope.param.type=2,$scope.doSubmit(status)},$scope.doSubmit=function(status){widget.ajaxRequest({url:con.live_domain+"/live/rooms"+($scope.param.id?"/"+$scope.param.id:""),method:$scope.param.id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".record_rooms.list")}})}}mod.controller("recordRooms.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout","$q"]}),define("states/hjm/record_rooms",["../states","../../cons/simpleCons","../../controllers/biz/recordRoomsController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".record_rooms",{url:"/record_rooms",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".record_rooms.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="recordRoomsList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".record_rooms.update",{url:"/update.html/:id",views:{"":{controller:"recordRooms.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"record_rooms/update.html")}}}}).state(cons.state.main+".record_rooms.copy",{url:"/copy.html/:id",views:{"":{controller:"recordRooms.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"record_rooms/update.html")}}}}).state(cons.state.main+".record_rooms.add",{url:"/add.html",views:{"":{controller:"recordRooms.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"record_rooms/update.html")}}}}).state(cons.state.main+".record_comment",{url:"/record_room_comments",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".record_comment.list",{url:"/list.html/:id",views:{"":{controller:function($stateParams,$scope){$scope.ext={object_id:$stateParams.id,object_type:1}},templateProvider:function($templateCache){return'<div hjm-grid modid="recordCommentsList" config="config" columns="columns" ext-search="ext"></div>'}}}})}])}),define("controllers/biz/certController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$timeout){$scope.verify_activity=function(activiy_id){return!!activiy_id||(widget.msgToast("活动ID不存在!"),!1)},$scope.add_activity=function(json){console.log(json),json.data&&json.data.length>0?($scope.param.plan_ids||($scope.param.plan_ids=""),angular.forEach(json.data,function(val,key){("|"+$scope.param.plan_ids.split(",").join("|")+"|").indexOf("|"+val.plan_id+"|")>-1?val.selected=!0:val.selected=!1}),$scope.param.cert_survey=json.data):$scope.param.cert_survey=[]},$scope.updateSelection=function($event,index){var checkbox=$event.target,checked=checkbox.checked;$scope.param.cert_survey[index].selected=!!checked;var tmp_plans=$scope.param.cert_survey.filter(function(val){return val.selected});$scope.param.plan_ids=$filter("arraySub2String")(tmp_plans,"plan_id")},$stateParams.id&&widget.ajaxRequest({url:con.live_domain+"/live/certs/"+$stateParams.id,method:"get",scope:$scope,data:{},success:function(json){json.data.order_by=Number(json.data.order_by),$scope.param=angular.copy(json.data),$scope.param.cert_survey=$scope.param.cert_survey.map(function(val){return val=angular.extend(val,{selected:!0})})}}),$scope.submit=function(){if(""==$scope.param.plan_ids)return widget.msgToast("没有选择测评计划,不能提交!"),!1;widget.ajaxRequest({url:con.live_domain+"/live/certs"+($stateParams.id?"/"+$stateParams.id:""),method:$stateParams.id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".cert.list")}})}}mod.controller("cert.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"]}),define("states/hjm/cert",["../states","../../cons/simpleCons","../../controllers/biz/certController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".cert",{url:"/cert",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".cert.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="certList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".cert.add",{url:"/add.html",views:{"":{controller:"cert.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"cert/update.html")}}}}).state(cons.state.main+".cert.update",{url:"/update.html/:id",views:{"":{controller:"cert.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"cert/update.html")}}}})}])}),define("controllers/biz/cctalkInfoController",["./../controllers","../../cons/simpleCons"],function(mod,con){function sendController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$timeout,base64){$scope.mobile="",$scope.info={exchangecodes:[]},$scope.search=function(){if(!$scope.mobile)return widget.msgToast("没有对应手机号码,不能发送短信"),!1;widget.ajaxRequest({url:"/cctalk/info",method:"get",scope:$scope,data:{mobile:$scope.mobile},success:function(json){0==json.code?$scope.info=angular.copy(json.data):(widget.msgToast("没有查询到信息!"),$scope.info={})}})},$scope.send=function(){if(!$scope.info||!$scope.info.account||!$scope.info.account.mobile)return widget.msgToast("没有对应手机号码,不能发送短信"),!1;confirm("确认发送CCtalk账户和邀请码到手机号码为 "+$scope.info.account.mobile+" 的用户?")&&widget.ajaxRequest({url:"/cctalk/sms",method:"POST",scope:$scope,data:{mobile:$scope.info.account.mobile},success:function(json){0==json.code&&widget.msgToast("已发送!")}})}}mod.controller("cctalkInfo.sendController",sendController),sendController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout","base64"]}),define("states/hjm/cctalk_account",["../states","../../cons/simpleCons","../../controllers/biz/cctalkInfoController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".cctalk_info",{url:"/cctalk_info",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".cctalk_info.sendsms",{url:"/list",views:{"":{controller:"cctalkInfo.sendController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"cctalk_info/sendsms.html")}}}})}])}),define("states/hjm/zhibo_qr_code",["../states","../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".zhibo_qr_code",{url:"/zhibo_qr_code",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".zhibo_qr_code.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="zhibo_qr_codeList" config="config" columns="columns"></div>'}}}})}])}),define("controllers/biz/combinationcouponsController",["./../controllers","../../cons/simpleCons"],function(mod,con){function addController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,$timeout){$scope.aaa=function(){console.log("$scope.param",$scope.param)},$scope.param={},$stateParams.id&&widget.ajaxRequest({url:"/markets/combinationcoupons/"+$stateParams.id,method:"get",scope:$scope,data:{},success:function(json){0==json.code?$scope.param=angular.copy(json.data):widget.msgToast("数据返回错误!")}}),$scope.add=function(){$scope.param.combination&&0!=$scope.param.combination.length?$scope.param.combination.length<15?$scope.param.combination.push({}):widget.msgToast("最多只能添加15种优惠券"):$scope.param.combination=[{}]},$scope.submit=function(status){if(!$scope.param.combination||$scope.param.combination<=0)return widget.msgToast("优惠券不能为空!"),!1;widget.ajaxRequest({url:"/markets/combinationcoupons"+($stateParams.id?"/"+$stateParams.id:""),method:$stateParams.id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".combinationcoupons.list")}})}}mod.controller("combinationcoupons.addController",addController),addController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"]}),define("states/hjm/market/combinationcoupons",["../../states","../../../cons/simpleCons","../../../controllers/biz/combinationcouponsController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".combinationcoupons",{url:"/combinationcoupons",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".combinationcoupons.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="combinationcouponsList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".combinationcoupons.update",{url:"/update.html/:id",views:{"":{controller:"combinationcoupons.addController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"combinationcoupons/update.html")}}}}).state(cons.state.main+".combinationcoupons.add",{url:"/add.html",views:{"":{controller:"combinationcoupons.addController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"combinationcoupons/update.html")}}}})}])}),define("controllers/biz/activityCouponsController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,$timeout){$scope.param={},$stateParams.id&&widget.ajaxRequest({url:"/markets/activitycoupons/"+$stateParams.id,method:"GET",scope:$scope,success:function(json){$scope.param=json.data}}),$scope.submit=function(status){return $scope.param.price<=0?(widget.msgToast("优惠劵金额不能小于等于0"),!1):$scope.param.price&&$scope.param.over_price&&$scope.param.over_price<=$scope.param.price?(widget.msgToast("满减优惠条件的金额不能小于等于优惠劵金额"),!1):void widget.ajaxRequest({url:"/markets/activitycoupons"+($stateParams.id?"/"+$stateParams.id:""),method:$stateParams.id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".activitycoupons.list")}})}}mod.controller("activitycoupons.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","comfunc","$filter","$timeout"]}),define("states/hjm/market/activitycoupons",["../../states","../../../cons/simpleCons","../../../controllers/biz/activityCouponsController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".activitycoupons",{url:"/activitycoupons",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".activitycoupons.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="activitycouponsList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".activitycoupons.update",{url:"/update.html/:id",views:{"":{controller:"activitycoupons.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"activitycoupons/update.html")}}}}).state(cons.state.main+".activitycoupons.add",{url:"/add.html",views:{"":{controller:"activitycoupons.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"activitycoupons/update.html")}}}})}])}),define("controllers/biz/exchangesController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,$timeout){$scope.param={},$stateParams.id&&widget.ajaxRequest({url:"/markets/exchanges/"+$stateParams.id,method:"GET",scope:$scope,success:function(json){$scope.param=json.data}}),$scope.submit=function(status){widget.ajaxRequest({url:"/markets/exchanges"+($stateParams.id?"/"+$stateParams.id:""),method:$stateParams.id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".exchanges.list")}})}}mod.controller("exchanges.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","comfunc","$filter","$timeout"]}),define("states/hjm/market/exchanges",["../../states","../../../cons/simpleCons","../../../controllers/biz/exchangesController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".exchanges",{url:"/exchanges",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".exchanges.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="exchangesList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".exchanges.update",{url:"/update.html/:id",views:{"":{controller:"exchanges.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"exchanges/update.html")}}}}).state(cons.state.main+".exchanges.add",{url:"/add.html",views:{"":{controller:"exchanges.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"exchanges/update.html")}}}})}])}),define("states/hjm/market/order",["../../states","../../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".market.orders",{url:"/market/orders.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="marketOrders" config="config" columns="columns"></div>'}}}})}])}),define("states/hjm/market/skuno",["../../states","../../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".market.skunos",{url:"/market/skunos.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="skunos" config="config" columns="columns"></div>'}}}})}])}),define("states/hjm/market/market",["../../states","../../../cons/simpleCons","./order","./skuno"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".market",{url:"/market",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}})}])}),define("controllers/biz/marketsharesController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,$timeout){$scope.param={},$stateParams.id&&widget.ajaxRequest({url:con.live_domain+"/live/marketshares/"+$stateParams.id,method:"GET",scope:$scope,success:function(json){$scope.param=json.data}}),$scope.verify_obj_id=function(obj_id){return $scope.param.obj_id="",!(!obj_id||0==obj_id)||(widget.msgToast("未选择视频组ID,不能查询添加!"),!1)},$scope.add_obj_id=function(json){0==json.code?$scope.param.obj_id=json.data.id:widget.msgToast("添加失败,视频组ID不存在!")},$scope.submit=function(status){$scope.param.obj_type="1",widget.ajaxRequest({url:con.live_domain+"/live/marketshares"+($stateParams.id?"/"+$stateParams.id:""),method:$stateParams.id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".marketshare.list")}})}}mod.controller("marketshares.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","comfunc","$filter","$timeout"]}),define("states/hjm/live/marketshares",["../../states","../../../cons/simpleCons","../../../controllers/biz/marketsharesController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".marketshare",{url:"/marketshare",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".marketshare.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="marketsharesList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".marketshare.update",{url:"/update.html/:id",views:{"":{controller:"marketshares.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"marketshare/update.html")}}}}).state(cons.state.main+".marketshare.add",{url:"/add.html",views:{"":{controller:"marketshares.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"marketshare/update.html")}}}})}])}),define("controllers/biz/videogroupsController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,$timeout){$scope.param={skus:[],products:[]},$scope._tmp={skus:[],products:[]},$scope.chapters=[],$scope.chapters_length=0,$stateParams.id&&widget.ajaxRequest({url:con.live_domain+"/live/videogroups/"+$stateParams.id,method:"GET",scope:$scope,success:function(json){$scope.param=json.data,$scope._tmp={skus:angular.copy(json.data.skus),products:angular.copy(json.data.products)},$scope.getDataFlag=!0,angular.forEach($scope.param.chapters,function(val,key){$scope.chapters_length++;var tmp_val=angular.copy(val);delete tmp_val.videos,tmp_val.chapters_index=$scope.chapters_length,tmp_val.type=1,$scope.chapters.push(tmp_val),angular.forEach(val.videos,function(v,k){v.type=2,$scope.chapters.push(v)})})}}),$scope.$watch("chapters",function(chapters_val){if(chapters_val&&chapters_val.length>0&&1!=chapters_val[0].type)$scope.chapters.unshift({type:1,title:""});else{var chapters_index=0,video_index=0;$scope.param.chapters=[],angular.forEach(chapters_val,function(val,key){if(1==val.type){chapters_index++,val.chapters_index=chapters_index,val.order_by=chapters_index;var tmp_val=angular.copy(val);tmp_val.videos=[],delete tmp_val.chapters_index,delete tmp_val.type,$scope.param.chapters.push(tmp_val)}else{val.chapters_index=chapters_index,video_index++,val.order_by=video_index;var tmp_val=angular.copy(val);$scope.param.chapters[chapters_index-1].id!=tmp_val.chapter_id&&delete tmp_val.id,delete tmp_val.chapters_index,delete tmp_val.type,$scope.param.chapters[chapters_index-1].videos.push(tmp_val)}})}},!0),$scope.verify_room=function(){var has_room=!1;return angular.forEach($scope.chapters,function(val,key){val.room_id==$scope.room_id&&(has_room=!0)}),!(!$scope.room_id||has_room)||(has_room?"房间ID已存在!":"请输入房间ID!")},$scope.add_room=function(json){if(0!=json.code)return widget.msgToast("没有相关的房间ID"),!1;$scope.chapters.push({type:2,room_id:json.data.id,room:{title:json.data.title,status:json.data.status,plans:json.data.plans}}),$scope.room_id=""},$scope.verify_product=function(product_id,index){return!!product_id||"请输入活动ID!!"},$scope.add_product=function(json,index){0==json.code&&($scope.param.products[index]._tmp_options=[],angular.forEach(json.data,function(val,key){$scope.param.products[index]._tmp_options.push({option:{option_type:val.option_type,option_status:val.option_status,option_name:val.option_name},option_id:val.option_id,product_id:val.product_id,text:val.option_name+"("+$filter("product_option_status")(val.option_status)+")",value:val.option_id})}),$scope.param.products[index]._tmp_options_selected=[],angular.forEach($scope.param.products[index].options,function(val,key){val.option_id&&($scope.param.products[index]._tmp_options_selected.push(val.option_id),angular.forEach($scope.param.products[index]._tmp_options,function(_tmp_options_val,_tmp_options_key){val.option_id==_tmp_options_val.option_id&&(_tmp_options_val.id=val.id)}))}))},$scope.update_option=function(){$scope.param.products&&angular.forEach($scope.param.products,function(product,product_key){product._tmp_options&&product._tmp_options.length>0&&(product.options=[],angular.forEach(product._tmp_options,function(_tmp_option_val,_tmp_option_key){angular.forEach(product._tmp_options_selected,function(_tmp_options_selected_val,_tmp_options_selected_key){if(_tmp_option_val.option_id==_tmp_options_selected_val){var has_option=!1;angular.forEach(product.options,function(option_val,option_key){option_val.option_id==_tmp_options_selected_val&&(has_option=!0)}),has_option||product.options.push(_tmp_option_val)}})}))})},$scope.$watch("param.product_id",function(product_id){$scope.param.product_url=product_id&&0!=product_id?$rootScope.common.wx_domain+"/product/detail/product_id/"+product_id+"?utm_source=appbuy":""}),$scope.reset_open_time=function(type){console.log(type),$scope.param.open_time=$filter("date")(new Date,"yyyy-MM-dd HH:mm:ss"),$scope.param.onoff="1"},$scope.$watch("param.products",function(products_val,products_old_val){products_val&&($scope.update_option(),products_old_val&&products_val.length!=$scope._tmp.products.length?$scope.reset_open_time("products1"):angular.forEach(products_val,function(val,key){$scope._tmp.products[key]&&$scope._tmp.products[key].options?$scope._tmp.products[key]&&$scope._tmp.products[key].options&&JSON.stringify(val.options)!=JSON.stringify($scope._tmp.products[key].options)&&$scope.reset_open_time("products3"):$scope.reset_open_time("products2")}))},!0),$scope.$watch("param.skus",function(sku_val,sku_old_val){sku_val&&(sku_old_val&&sku_val.length!=$scope._tmp.skus.length?$scope.reset_open_time("sku1"):angular.forEach(sku_val,function(val,key){$scope._tmp.skus[key]&&$scope._tmp.skus[key].sku?$scope._tmp.skus[key]&&$scope._tmp.skus[key].sku&&val.sku!=$scope._tmp.skus[key].sku&&$scope.reset_open_time("sku3"):$scope.reset_open_time("sku2")}))},!0),$scope.submit=function(status){if($scope.param.open_time&&""!=$scope.param.open_time||$scope.reset_open_time("submit"),1==$scope.param.pay_type)$scope.param.skus=[],$scope.param.products=[],$scope.param.product_id="",$scope.param.product_url="",$scope.param.onoff=2;else if(2==$scope.param.pay_type){if(0==$scope.param.skus.length&&0==$scope.param.products.length)return widget.msgToast("收费模式下,关联SKU和关联活动类目不能同时为空!"),!1;if($scope.param.products.length>0){var err_option=!1;if(angular.forEach($scope.param.products,function(val,key){0==val.options.length&&(err_option=!0)}),err_option)return widget.msgToast("收费模式下,关联活动类目不能为空!"),!1}}widget.ajaxRequest({url:con.live_domain+"/live/videogroups"+($stateParams.id?"/"+$stateParams.id:""),method:$stateParams.id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".videogroups.list")}})}}mod.controller("videogroups.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","comfunc","$filter","$timeout"]}),define("states/hjm/live/videogroups",["../../states","../../../cons/simpleCons","../../../controllers/biz/videogroupsController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".videogroups",{url:"/videogroups",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".videogroups.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="videogroupsList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".videogroups.update",{url:"/update.html/:id",views:{"":{controller:"videogroups.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.live_path+"videogroups/update.html")}}}}).state(cons.state.main+".videogroups.add",{url:"/add.html",views:{"":{controller:"videogroups.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.live_path+"videogroups/update.html")}}}})}])}),define("states/hjm/live/notice",["../../states","../../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".notice",{url:"/notice",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".notice.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="noticeList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".notice.update",{url:"/update.html/:id",views:{"":{controller:"notices.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"notice/update.html")}}}}).state(cons.state.main+".notice.add",{url:"/add.html",views:{"":{controller:"notices.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"notice/update.html")}}}})}])}),define("controllers/biz/permissionsController",["./../controllers","../../cons/simpleCons"],function(mod,con){
function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,$timeout){$scope.param={},$stateParams.id&&widget.ajaxRequest({url:con.live_domain+"/live/permissions/"+$stateParams.id,method:"GET",scope:$scope,success:function(json){$scope.param=json.data}}),$scope.verify_obj_id=function(obj_id){return $scope.param.obj_id="",!(!obj_id||0==obj_id)||(widget.msgToast("未选择视频组ID,不能查询添加!"),!1)},$scope.add_obj_id=function(json){0==json.code?$scope.param.obj_id=json.data.id:widget.msgToast("添加失败,视频组ID不存在!")},$scope.submit=function(status){$scope.param.obj_type="1",widget.ajaxRequest({url:con.live_domain+"/live/permissions"+($stateParams.id?"/"+$stateParams.id:""),method:$stateParams.id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".permissions.list")}})}}mod.controller("permissions.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","comfunc","$filter","$timeout"]}),define("states/hjm/live/permissions",["../../states","../../../cons/simpleCons","../../../controllers/biz/permissionsController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".permissions",{url:"/permissions",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".permissions.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="permissionsList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".permissions.update",{url:"/update.html/:id",views:{"":{controller:"permissions.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"permissions/update.html")}}}}).state(cons.state.main+".permissions.add",{url:"/add.html",views:{"":{controller:"permissions.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"permissions/update.html")}}}})}])}),define("controllers/biz/questionsController",["./../controllers","../../cons/simpleCons"],function(mod,con){function questionsController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,$templateCache,$q,resolve_data){$scope.is_modal=resolve_data.is_modal,$scope.is_modal_room_id=resolve_data.room_id,console.log(resolve_data),$scope.searchItem={},$scope.init=function(page){if(!($scope.searchItem.start_time&&$scope.searchItem.end_time||!$scope.searchItem.start_time&&!$scope.searchItem.end_time))return widget.msgToast("开始和结束时间必须同时存在才能查询",2e3),!1;$scope.currentPage=page||$scope.currentPage||1,angular.extend($scope.searchItem,{page:$scope.currentPage,count:20,order_by:$scope.is_modal&&"on_top",room_id:$scope.is_modal&&$scope.is_modal_room_id||null}),widget.ajaxRequest({url:con.live_domain+"/live/questions",method:"get",scope:$scope,data:$scope.searchItem,success:function(json){$scope.totalItems=json.total,$scope.data=json.data}})},$scope.init(),$scope.$watch("searchItem",function(val,old_val){val!=old_val&&(void 0!=old_val.role_type&&val.role_type!=old_val.role_type||void 0!=old_val.status&&val.status!=old_val.status)&&$scope.init()},!0),$scope.selected=function(type){"all"==type?$scope.data.forEach(function(val,key){val.checked=!0}):"cancel"==type?$scope.data.forEach(function(val,key){val.checked=!1}):"reverse"==type&&$scope.data.forEach(function(val,key){val.checked=!val.checked})},$scope.on_top=function(item,index){confirm(" "+(1==item.on_top?"取消置顶":"置顶")+" 吗?")&&widget.ajaxRequest({url:con.live_domain+"/live/questions/"+($scope.is_modal&&item.id)+"/ontop/"+(1==item.on_top?0:1),method:"put",scope:$scope,data:{},success:function(json){0==json.code&&($scope.init(1),widget.msgToast("修改成功!"))}})},$scope.audit=function(status){var selected_array=[];if($scope.data.forEach(function(val,key){val.checked&&selected_array.push(val.id)}),0==selected_array.length)return widget.msgToast("未选择任何数据"),!1;confirm("确认审核"+(2==status?"通过":"不通过")+"?")&&widget.ajaxRequest({url:con.live_domain+"/live/questionstatus",method:"put",scope:$scope,data:{ids:selected_array,status:status},success:function(json){widget.msgToast("审核完成!"),angular.forEach($scope.data,function(val,key){selected_array.some(function(item,index){return item==val.id})&&(val.status=status)})}})},$scope.open_answer=function(item){$uibModal.open({templateUrl:"app/"+con.live_path+"answers/answers.html",controller:"answers.answersController",resolve:{question:function(){return item.question_id=item.id,item}},size:"lg"})}}mod.controller("questions.questionsController",questionsController),questionsController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$templateCache","$q","is_modal"]}),define("states/hjm/live/questions",["../../states","../../../cons/simpleCons","../../../controllers/biz/questionsController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".questions",{url:"/questions",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".questions.list",{url:"/list",views:{"":{controller:"questions.questionsController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.live_path+"questions/questions.html")},resolve:{resolve_data:function(){return{is_modal:!1,room_id:!1}}}}}})}])}),define("controllers/biz/answersController",["./../controllers","../../cons/simpleCons"],function(mod,con){function answersController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter,$templateCache,$q,question){$scope.question=question,$scope.searchItem={},$scope.init=function(){if(!($scope.searchItem.start_time&&$scope.searchItem.end_time||!$scope.searchItem.start_time&&!$scope.searchItem.end_time))return widget.msgToast("开始和结束时间必须同时存在才能查询",2e3),!1;angular.extend($scope.searchItem,{page:$scope.currentPage||1,count:20,question_id:question.question_id||""}),widget.ajaxRequest({url:con.live_domain+"/live/answers",method:"get",scope:$scope,data:$scope.searchItem,success:function(json){$scope.totalItems=json.total,$scope.data=json.data}})},$scope.init(),$scope.$watch("searchItem",function(val,old_val){val!=old_val&&(void 0!=old_val.role_type&&val.role_type!=old_val.role_type||void 0!=old_val.status&&val.status!=old_val.status)&&$scope.init()},!0),$scope.selected=function(type){"all"==type?$scope.data.forEach(function(val,key){val.checked=!0}):"cancel"==type?$scope.data.forEach(function(val,key){val.checked=!1}):"reverse"==type&&$scope.data.forEach(function(val,key){val.checked=!val.checked})},$scope.audit=function(status){var selected_array=[];if($scope.data.forEach(function(val,key){val.checked&&selected_array.push(val.id)}),0==selected_array.length)return widget.msgToast("未选择任何数据"),!1;confirm("确认审核"+(2==status?"通过":"不通过")+"?")&&widget.ajaxRequest({url:con.live_domain+"/live/answerstatus",method:"put",scope:$scope,data:{ids:selected_array,status:status},success:function(json){widget.msgToast("审核完成!"),angular.forEach($scope.data,function(val,key){selected_array.some(function(item,index){return item==val.id})&&(val.status=status)})}})}}mod.controller("answers.answersController",answersController),answersController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$templateCache","$q","question"]}),define("states/hjm/live/answers",["../../states","../../../cons/simpleCons","../../../controllers/biz/answersController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".answers",{url:"/answers",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".answers.list",{url:"/list",views:{"":{controller:"answers.answersController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.live_path+"answers/answers.html")},resolve:{question:function(){return""}}}}})}])}),define("states/hjm/live/appmessage",["../../states","../../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".appmessages",{url:"/appmessages",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".appmessages.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="appmessagesList" config="config" columns="columns"></div>'}}}})}])}),define("states/hjm/live/live",["../../states","../../../cons/simpleCons","./marketshares","./videogroups","./notice","./permissions","./questions","./answers","./appmessage"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".live",{url:"/live",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}})}])}),define("states/hjm/batchproduct/batchproducts",["../../states","../../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".batchproducts",{url:"/batchproducts",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".batchproducts.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="batchproductsList" config="config" columns="columns"></div>'}}}})}])}),define("controllers/biz/dashboardController",["./../controllers","../../cons/simpleCons"],function(mod,con){function groupbuysController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$q,table2Array,comfunc){$rootScope.dashboard={},$scope.searchItem={product_ids:"",period:void 0,start_time:$filter("date")(new Date,"yyyy-MM-dd 00:00:00"),end_time:$filter("date")(new Date,"yyyy-MM-dd HH:mm:ss")},$scope.$watch("searchItem.period",function(val){if(val&&10!=val){var periodDay=comfunc.getDatePeriod(val);$scope.searchItem.start_time=periodDay.start_time,$scope.searchItem.end_time=periodDay.end_time}}),$scope.getData=function(searchItem){if(searchItem.product_ids=searchItem.product_ids.replace(/，/g,",").replace(/ /g,""),$scope.param={},$scope.param.product_ids=searchItem.product_ids.replace(/\n/g,",").split(","),$scope.param.start_time=searchItem.start_time,$scope.param.end_time=searchItem.end_time,(new Date($scope.param.end_time)-new Date($scope.param.start_time))/864e5>30)return void widget.msgToast("日期区间不能大于30天!");widget.ajaxRequest({url:"/dashboard/groupbuys",method:"GET",scope:$scope,data:$scope.param,success:function(json){0==json.code&&($scope.groupbuy_list=json.data)}})},$scope.search=function(type){if(!$scope.searchItem.product_ids)return widget.msgToast("商品ID没有传!"),!1;$scope.getData($scope.searchItem)},$scope.export=function(){if(0==$scope.groupbuy_list.length)return widget.msgToast("没有数据可以导出!"),!1;var groupbuy_list_text=table2Array("groupbuy_list_text");widget.ajaxRequest({url:"/exports/file?name=groupbuy_list"+Math.ceil(9999999999*Math.random()),method:"POST",scope:$scope,data:{"订单数据":groupbuy_list_text},success:function(json){0==json.code?window.open(json.data.url):widget.msgToast("返回excel存在问题!")}})}}function sharesController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$q,table2Array,comfunc){$scope.searchItem={product_ids:"",period:void 0,start_time:"2016-01-01 00:00:00",end_time:$filter("date")(new Date,"yyyy-MM-dd HH:mm:ss")},$scope.$watch("searchItem.period",function(val){if(val&&10!=val){var periodDay=comfunc.getDatePeriod(val);$scope.searchItem.start_time=periodDay.start_time,$scope.searchItem.end_time=periodDay.end_time}}),$scope.getData=function(searchItem){if(searchItem.product_ids=searchItem.product_ids.replace(/，/g,",").replace(/ /g,""),$scope.param={},$scope.param.product_ids=searchItem.product_ids.replace(/\n/g,",").split(","),$scope.param.start_time=searchItem.start_time,$scope.param.end_time=searchItem.end_time,(new Date($scope.param.end_time)-new Date($scope.param.start_time))/864e5>30)return void widget.msgToast("日期区间不能大于30天!");widget.ajaxRequest({url:"/dashboard/shares",method:"GET",scope:$scope,data:$scope.param,success:function(json){0==json.code&&($scope.share_list=json.data)}})},$scope.search=function(type){if(!$scope.searchItem.product_ids)return widget.msgToast("商品ID没有传!"),!1;$scope.getData($scope.searchItem)},$scope.export=function(){if(0==$scope.share_list.length)return widget.msgToast("没有数据可以导出!"),!1;var share_list_text=table2Array("share_list_text");widget.ajaxRequest({url:"/exports/file?name=share_list"+Math.ceil(9999999999*Math.random()),method:"POST",scope:$scope,data:{"订单数据":share_list_text},success:function(json){0==json.code?window.open(json.data.url):widget.msgToast("返回excel存在问题!")}})}}function ordersController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$q,table2Array,comfunc){$scope.searchItem={product_ids:"",period:void 0,start_time:$filter("date")(new Date,"yyyy-MM-dd 00:00:00"),end_time:$filter("date")(new Date,"yyyy-MM-dd HH:mm:ss")},$scope.$watch("searchItem.period",function(val){if(val&&10!=val){var periodDay=comfunc.getDatePeriod(val);$scope.searchItem.start_time=periodDay.start_time,$scope.searchItem.end_time=periodDay.end_time}}),$scope.getData=function(searchItem){if(searchItem.product_ids=searchItem.product_ids.replace(/，/g,",").replace(/ /g,""),$scope.param={},$scope.param.product_ids=searchItem.product_ids.replace(/\n/g,",").split(","),$scope.param.start_time=searchItem.start_time,$scope.param.end_time=searchItem.end_time,(new Date($scope.param.end_time)-new Date($scope.param.start_time))/864e5>30)return void widget.msgToast("日期区间不能大于30天!");widget.ajaxRequest({url:"/dashboard/orders",method:"GET",scope:$scope,data:$scope.param,success:function(json){0==json.code&&($scope.order_list=json.data)}})},$scope.search=function(type){if(!$scope.searchItem.product_ids)return widget.msgToast("商品ID没有传!"),!1;$scope.getData($scope.searchItem)},$scope.export=function(){if(0==$scope.order_list.length)return widget.msgToast("没有数据可以导出!"),!1;var order_list_text=table2Array("order_list_text");widget.ajaxRequest({url:"/exports/file?name=order_list"+Math.ceil(9999999999*Math.random()),method:"POST",scope:$scope,data:{"订单数据":order_list_text},success:function(json){0==json.code?window.open(json.data.url):widget.msgToast("返回excel存在问题!")}})}}function listController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$q,table2Array){$scope.searchItem={product_ids:"",period:1},$scope.actData={},$scope.stat={order_list:[],groupbuy_list:[],share_list:[]},$scope.clear=function(){$scope.stat={order_list:[],groupbuy_list:[],share_list:[]}},$scope.getData=function(searchItem){var deferred=$q.defer(),promise=deferred.promise;return $scope.param=searchItem,$scope.param.count=100,widget.ajaxRequest({url:"/dashboard/stats",method:"GET",scope:$scope,data:$scope.param,success:function(json){var result={json:json};deferred.resolve(result)},failure:function(error){console.log("错误了",error),deferred.reject(error)}}),promise},$scope.getActData=function(product_id){widget.ajaxRequest({url:"/products/"+product_id,method:"GET",scope:$scope,data:{},success:function(json){0==json.code&&(json.data.status=$filter("product_status")(json.data.status),json.data.category=$filter("product_category")(json.data.category),$scope.actData=json.data,console.log($scope.actData))}})},$scope.search=function(){if(!$scope.searchItem.product_id)return widget.msgToast("商品ID没有传!"),!1;$scope.getData($scope.searchItem).then(function(result){$scope.getActData($scope.searchItem.product_id),$scope.clear(),angular.forEach(result.json.data,function(val,key){angular.extend(val.order,{data_type:val.data_type,stat_day:val.stat_day,stat_hous:val.stat_hous}),angular.extend(val.groupbuy,{data_type:val.data_type,stat_day:val.stat_day,stat_hous:val.stat_hous}),angular.extend(val.share,{data_type:val.data_type,stat_day:val.stat_day,stat_hous:val.stat_hous}),$scope.stat.order_list.push(val.order),$scope.stat.groupbuy_list.push(val.groupbuy),$scope.stat.share_list.push(val.share)})},function(error){$scope.data="error!"},function(progress){$scope.progress=progress,$scope.show=!1})},$scope.export=function(){if(0==$scope.stat.order_list.length&&0==$scope.stat.groupbuy_list.length&&0==$scope.stat.share_list.length)return widget.msgToast("没有数据可以导出!"),!1;var order_list_text=table2Array("order_list_text"),groupbuy_list_text=table2Array("groupbuy_list_text"),share_list_text=table2Array("share_list_text");widget.ajaxRequest({url:"/exports/file",method:"POST",scope:$scope,data:{"订单数据":order_list_text,"拼团数据":groupbuy_list_text,"分享数据":share_list_text},success:function(json){0==json.code?window.open(json.data.url):widget.msgToast("返回excel存在问题!")}})}}mod.controller("dashboard.listController",listController).controller("dashboard.ordersController",ordersController).controller("dashboard.groupbuysController",groupbuysController).controller("dashboard.sharesController",sharesController),listController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$q","table2Array"],ordersController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$q","table2Array","comfunc"],groupbuysController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$q","table2Array","comfunc"],sharesController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$q","table2Array","comfunc"]}),define("states/hjm/dashboard/dashboard",["../../states","../../../cons/simpleCons","../../../controllers/biz/dashboardController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".dashboard",{url:"/dashboard",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".dashboard.list",{url:"/list.html",views:{"":{controller:"dashboard.listController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"dashboard/list.html")}}}}).state(cons.state.main+".dashboard.orders",{url:"/orders.html",views:{"":{controller:"dashboard.ordersController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"dashboard/orders.html")}}}}).state(cons.state.main+".dashboard.groupbuys",{url:"/groupbuys.html",views:{"":{controller:"dashboard.groupbuysController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"dashboard/groupbuys.html")}}}}).state(cons.state.main+".dashboard.shares",{url:"/shares.html",views:{"":{controller:"dashboard.sharesController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"dashboard/shares.html")}}}})}])}),define("controllers/biz/merchantController",["./../controllers","../../cons/simpleCons"],function(mod,con){function updateController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,comfunc,$filter){$scope.param={},$stateParams.merchant_id&&widget.ajaxRequest({url:"/merchant/merchants/"+$stateParams.merchant_id,method:"GET",scope:$scope,success:function(json){$scope.param=json.data}}),$scope.randomString=function(len){len=len||8;var $chars="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",maxPos=$chars.length,pwd="";for(i=0;i<len;i++)pwd+=$chars.charAt(Math.floor(Math.random()*maxPos));$scope.param.account||($scope.param.account={}),$scope.param.account.userpass=pwd},$scope.submit=function(status){$scope.param.utm_source=$scope.param.utm_source&&$scope.param.utm_source.replace(/_/g,""),widget.ajaxRequest({url:"/merchant/merchants"+($stateParams.merchant_id?"/"+$stateParams.merchant_id:""),method:$stateParams.merchant_id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发布成功！"),$state.go(con.state.main+".merchant.list")}})}}mod.controller("merchant.updateController",updateController),updateController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter"]}),define("states/hjm/merchant/merchant",["../../states","../../../cons/simpleCons","../../../controllers/biz/merchantController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".merchant",{url:"/merchant",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".merchant.list",{url:"/list.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="merchantList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".merchant.add",{url:"/add.html",views:{"":{controller:"merchant.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"merchant/update.html")}}}}).state(cons.state.main+".merchant.update",{url:"/update.html/:merchant_id",views:{"":{controller:"merchant.updateController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.biz_path+"merchant/update.html")}}}}).state(cons.state.main+".merchant.products",{url:"/products.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="merchantProductList" config="config" columns="columns"></div>'}}}}).state(cons.state.main+".merchant.statics",{url:"/merchantstatics.html",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="merchantStaticsList" config="config" columns="columns"></div>'}}}})}])}),define("states/hjm/support/sku",["../../states","../../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".sku",{url:"/sku",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".sku.list",{url:"/list",views:{"":{templateProvider:function($templateCache){return'<div hjm-grid modid="skuList" config="config" columns="columns"></div>'}}}})}])}),define("states/demo/demo",["../states","../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".demo",{url:"/demo",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.main_path+"container.html")}}).state(cons.state.main+".demo.test",{url:"/test.html",views:{"":{templateProvider:function($templateCache){return $templateCache.get("app/"+cons.demo_path+"test.html")}}}})}])}),define("states/demo/baidumap",["../states","../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".demo.baidumap",{url:"/baidumap.html",views:{"":{templateProvider:function($templateCache){return $templateCache.get("app/"+cons.demo_path+"baidumap.html")}}}})}])}),define("states/demo/datetime",["../states","../../cons/simpleCons"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".demo.datetime",{url:"/datetime.html",views:{"":{templateProvider:function($templateCache){return $templateCache.get("app/"+cons.demo_path+"datetime.html")}}}})}])}),define("controllers/demo/richContentController",["./../controllers","../../cons/simpleCons"],function(mod,con){function richContentController($scope,$http,$rootScope,$uibModal,$state,$stateParams,widget,$filter,$timeout){$scope.init=function(){widget.ajaxRequest({url:"/products/500463",method:"get",scope:$scope,data:{},success:function(json){$scope.rich_text=json.data.rich_text}})},$scope.init()}mod.controller("richContentController",richContentController),richContentController.$injector=["$scope","$http","$rootScope","$uibModal","$state","$stateParams","widget","$filter","$timeout"]}),define("states/demo/richcontent",["../states","../../cons/simpleCons","../../controllers/demo/richContentController"],function(stateModule,cons){stateModule.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state(cons.state.main+".demo.richcontent",{url:"/richcontent.html",views:{"":{controller:"richContentController",templateProvider:function($templateCache){return $templateCache.get("app/"+cons.demo_path+"richcontent.html")}}}})}])}),define("states/_base",["states/states","states/hjm/container","states/hjm/groupbuy","states/hjm/account","states/hjm/product","states/hjm/order","states/hjm/banner","states/hjm/export","states/hjm/user","states/hjm/refund","states/hjm/delivery","states/hjm/coupon","states/hjm/exchangecode","states/hjm/community","states/hjm/sms","states/hjm/supports","states/hjm/web","states/hjm/subject","states/hjm/resource","states/hjm/orders","states/hjm/wechat","states/hjm/hotkey","states/hjm/captcha","states/hjm/survey_category","states/hjm/survey_question","states/hjm/survey_question_attachment","states/hjm/survey_plan","states/hjm/survey_list","states/hjm/lessons","states/hjm/mission","states/hjm/teacher","states/hjm/student","states/hjm/work","states/hjm/redpacketcoupons","states/hjm/live_rooms","states/hjm/record_rooms","states/hjm/cert","states/hjm/cctalk_account","states/hjm/zhibo_qr_code","states/hjm/market/combinationcoupons","states/hjm/market/activitycoupons","states/hjm/market/exchanges","states/hjm/market/market","states/hjm/live/live","states/hjm/batchproduct/batchproducts","states/hjm/dashboard/dashboard","states/hjm/merchant/merchant","states/hjm/support/sku","states/demo/demo","states/demo/baidumap","states/demo/datetime","states/demo/richcontent"],function(){}),define("directives/directives",["angular"],function(angular){return angular.module("huijiaDirectives",[])}),define("directives/hjm-grid",["../directives/directives","../cons/simpleCons"],function(mod,cons){mod.directive("hjmGrid",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-grid.html"),controller:["$scope",function($scope){function buildExt(config){var showNum="",eventBtn="";return config.ext?(config.ext.showNum&&angular.forEach(config.ext.showNum,function(showNum_val,showNum_key){"total"==showNum_val.type?showNum+=(showNum_val.text||"总数")+":  {{ total }}   ":"selected"==showNum_val.type?showNum+=(showNum_val.text||"已选")+":  {{ _selected_num }}":showNum_val.field&&(showNum+=(showNum_val.text||"符合条件的")+":  {{ _json."+showNum_val.field+" }}")}),config.ext.eventBtn&&angular.forEach(config.ext.eventBtn,function(eventBtn_val,eventBtn_key){"all_select"==eventBtn_val.event?eventBtn+=' <a class="btn btn-info btn-rounded btn-sm" ng-click="all_select();" >'+eventBtn_val.text+"</a> ":"cancel_all_select"==eventBtn_val.event?eventBtn+=' <a class="btn btn-info btn-rounded btn-sm" ng-click="cancel_all_select();">'+eventBtn_val.text+"</a> ":eventBtn_val.fieldFirective&&(eventBtn+=eventBtn_val.fieldFirective)}),'<div class="row"><div class="col-sm-12"><div class="panel panel-default"><div class="panel-body"><div class="form-group form-control-static col-sm-12">'+eventBtn+"&nbsp;"+showNum+"</div></div></div></div></div>"):""}function buildHeader(columns,config){var headerContent="";return config.ext&&config.ext.checked&&(headerContent+='<th class="text-center">'+config.ext.checked.text+"</th>"),angular.forEach(columns,function(col){var cssProperty=col.className?' class="text-center '+col.className+'" ':' class="text-center" ';headerContent+="<th"+cssProperty+">"+col.name+"</th>"}),"<thead><tr>"+headerContent+"</tr></thead>"}function buildRows(columns,config){var useBindOnce=config.useBindOnce||"bindonce",itemList=config.itemList||"data",rowItemName=config.rowItemName||"item",rowItem=(config.rowItemClass,"");return config.ext&&config.ext.checked&&(rowItem+='<td><label class="checkbox-inline checkbox1" style="padding: 0;"><input type="checkbox" name="name{{$index}}" ng-model="item._checked" ng-true-value="true"  ng-false-value="false"  ng-change = "toggle_checked($index);" ><span></span></label></td>'),angular.forEach(columns,function(col){var cellContent=cellRender(col,rowItemName,useBindOnce),cssProperty=col.className||col.fieldDirective?' class="'+(col.className||"")+'" ':' class="text-center" ';rowItem+="<td"+cssProperty+">"+cellContent+"</td>"}),"<tbody><tr "+useBindOnce+' ng-repeat="'+rowItemName+" in "+itemList+'">'+rowItem+"</tr></tbody>"}function buildTfoot(columns,config){return config.paginationSupport?'<div hjm-pagination-bar page-info="pageInfo"><div>':""}function cellRender(colDef,rowItemName,useBindOnce){var cellContent="",cellFilter=colDef.filter,colField=colDef.field,itemString=rowItemName+"."+colField,fieldDirective=colDef.fieldDirective;if(fieldDirective)return fieldDirective;if(colField)if(cellFilter&&(angular.isArray(cellFilter)?itemString+="|"+cellFilter:angular.isString(cellFilter)&&(itemString+="|"+cellFilter)),colDef.truncateText){var textLength=colDef.truncateTextLength,textBreakOnWord=colDef.truncateTextBreakOnWord;itemString+="|"+("characters: "+textLength||10)+" : "+textBreakOnWord,cellContent=colDef.tooltip?'<span ng-bind="'+itemString+'" uib-tooltip="{{'+rowItemName+"."+colDef.tooltip+'}}" tooltip-placement="'+(colDef.tooltipPlacement||"bottom")+'" ></span>':'<span  a ng-bind="'+itemString+'" ></span>'}else if(0==useBindOnce)cellContent=colDef.htmlField?"<span ng-bind="+itemString+" ></span>":"{{"+itemString+"}}";else{var bindTag=colDef.htmlField?"bo-html":"bo-text";cellContent="<span "+bindTag+'="'+itemString+'"></span>'}return cellContent}$scope.initTableRequestSend=!1,$scope.modsconfs=angular.copy(cons.modsconfs),this.modsconfs=angular.extend({},$scope.modsconfs),this.buildSearchBar=function(config,element){var ext=buildExt(config),searchHtml="";if(config.searchSupport){var preSelectionSearch="";config.preSelectionSearch&&(preSelectionSearch=' pre-selection="searchParams"'),searchHtml='<div hjm-search-bar search-items="searchItems" search-text="searchParams"'+preSelectionSearch+'reset-search="refreshCurrentView" search-action="searchAction(searchParams)"></div>'}return ext?searchHtml+ext:searchHtml},this.buildTable=function(columns,config){return'<table class="table table-bordered table-striped table-hover">'+buildHeader(columns,config)+buildRows(columns,config)+"</table>"},this.buildPagination=function(columns,config){return buildTfoot(columns,config)},this.buildRouter=function(config){var close="",router="";return angular.isFunction($scope.$parent.$close)&&(close+='<button type="button" class="close" ng-click="$parent.$close();">×</button>'),config.route&&config.route.length>0?(angular.forEach(config.route,function(router_val,router_key){router_val.routeDirective?router+=router_val.routeDirective:router+='<a class="btn btn-success btn-rounded btn-sm pull-right" style="margin-top: -5.5px;" ui-sref="'+router_val.value+'" >'+router_val.text+"</a>"}),
router+'<h3 class="panel-title">'+(config.title||"")+"</h3>"):close+'<h3 class="panel-title">'+(config.title||"")+"</h3>"},this.refreshCurrentView=function(){$scope.searchParams={}}}],scope:{modid:"@",config:"@",columns:"@",extSearch:"=",extApi:"=",extApiString:"@",extDomain:"="},link:function($scope,$element,$attrs,$ctrl){var columnsDef="",configDef="";$scope.data=[],$scope.searchParams={},$scope.filterParams={},$scope.all_select=function(){$scope._selected_num=0,angular.forEach($scope.data,function(val,key){$scope._selected_num++,val._checked=!0})},$scope.cancel_all_select=function(){$scope._selected_num=0,angular.forEach($scope.data,function(val,key){val._checked=!1})},$scope.toggle_checked=function(index){$scope._selected_num=0,angular.forEach($scope.data,function(val,key){val._checked&&$scope._selected_num++})},$scope.searchAction=function(){$log.info("当前查询条件 :",$scope.searchParams),$scope.pageInfo.currentPage=1,$scope.updateList()},$scope.updateList=function(){$scope.api=$scope.extApi||$scope.extApiString||configDef.api,$scope.domain=$scope.extDomain||configDef.domain;var pageInfo={page:$scope.pageInfo.currentPage||1,count:configDef.pageInfo.count||1},searchItemsParamDefault={};angular.forEach(configDef.searchItems,function(searchItems_val,searchItems_key){"btnGroup"!=searchItems_val.type||!searchItems_val.default&&0!=searchItems_val.default?"btnGroupArray"!=searchItems_val.type||!searchItems_val.default&&0!=searchItems_val.default?"btnGroupArray2"!=searchItems_val.type||!searchItems_val.default&&0!=searchItems_val.default||eval("searchItemsParamDefault."+searchItems_val.enum_text+" = "+JSON.stringify(searchItems_val.enum[searchItems_val.default].value)):angular.forEach(searchItems_val.enum_text,function(enum_val,enum_key){eval("searchItemsParamDefault."+enum_val+' = "'+searchItems_val.enum[searchItems_val.default].value[enum_key]+'"')}):eval("searchItemsParamDefault."+searchItems_val.value+' = "'+searchItems_val.default+'"')});var searchParam=angular.extend({},configDef.preSelectionSearch,searchItemsParamDefault,$scope.searchParams,pageInfo,$scope.extSearch);widget.ajaxRequest({method:"GET",domain:$scope.domain,url:$scope.api,scope:$scope,data:searchParam,success:function(json){$scope.record(searchParam),$scope._json=json,$scope.list=json.list,$scope.data=json.data,$scope.total=json.total,$scope._selected_num=0,$scope.pageInfo.totalItems=0==json.total?0:json.total||$scope.pageInfo.totalItems}})},$scope.record=function(searchParam){$scope.currentSearchItems=configDef.searchItems,angular.forEach(searchParam,function(val,key){angular.forEach(configDef.searchItems,function(searchItems_val,searchItems_key){"btnGroupArray"==searchItems_val.type&&searchItems_val.enum_text==key&&($scope.currentSearchItems[searchItems_val.enum_text]=searchItems_val.enum[searchItems_val.default].value)})})},$scope.$watchCollection("[columns,config,modid]",function(gridDef){if(gridDef){var modidDef=gridDef[2];if(angular.forEach($ctrl.modsconfs,function(val,key){angular.forEach(val,function(v,k){k==modidDef&&($scope.modDef=v,columnsDef=$scope.$eval("modDef."+gridDef[0]),configDef=$scope.$eval("modDef."+gridDef[1]),$scope.configDef=configDef)})}),!columnsDef)return $log.error("未找到modid为"+modidDef+"的columns为"+$scope.columns+"的对象,请检查对应配置文件"),!1;if(!configDef)return $log.error("未找到modid为"+modidDef+"的config对象为"+$scope.config+"的对象,请检查对应配置文件"),!1;$scope.pageInfo={itemsPerPage:configDef.pageInfo.count,maxSize:!configDef.pageInfo.maxSize||configDef.pageInfo.maxSize<5?5:configDef.pageInfo.maxSize,currentPage:configDef.pageInfo.page},$scope.searchItems=configDef.searchItems||[],$ctrl.refreshCurrentView();var routerTitleBar=$ctrl.buildRouter(configDef),searchBar=$ctrl.buildSearchBar(configDef,$element),tableContent=$ctrl.buildTable(columnsDef,configDef),paginationContent=$ctrl.buildPagination(columnsDef,configDef);$element.find(".routerTitleSection").html(routerTitleBar),$element.find(".searchSection").html(searchBar),$element.find(".gridSection").html(tableContent),$element.find(".paginationSection").html(paginationContent),$compile($element.contents())($scope),$scope.updateList()}}),$scope.$watch("pageInfo",function(pageInfoDef,pageInfoOld){0==$scope.initTableRequestSend?$scope.initTableRequestSend=!0:pageInfoDef&&pageInfoDef.currentPage!=pageInfoOld.currentPage&&(console.log("pageInfoDef  ",pageInfoDef,pageInfoOld),$scope.updateList("$watch pageInfo"))},!0)}}}).directive("hjmSearchBar",function($rootScope,$state,$http,$uibModal,$filter,widget,$templateCache,$compile,$log){return{restrict:"EA",replace:!0,require:"^hjmGrid",scope:{searchItems:"=",searchText:"=",searchAction:"&"},controller:["$scope",function($scope){$scope.params={}}],template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-search-bar.html"),link:function($scope,$element,$attrs,$ctrl){$scope.searchParams={},$scope.autoSearch=!1,$scope.$watch("searchItems",function(searchItemsVal){if(searchItemsVal){$scope.searchItems=searchItemsVal;var searchItemsHtml="";angular.forEach(searchItemsVal,function(val,key){var placeholder="";if(val.paramDirective)searchItemsHtml+='<div class="form-group col-sm-6"><label class="col-sm-4 control-label">'+val.text+'</label><div class="col-sm-8">'+val.paramDirective+"</div></div>";else if("datetime"==val.type||"date"==val.type){var dateHtml="datetime"==val.type?'<hjm_date_time ng-model="params.'+val.value+'"></hjm_date_time>':'<hjm_date ng-model="params.'+val.value+'"></hjm_date>';12==val.width?searchItemsHtml+='<div class="form-group col-sm-'+val.width+'"><label class="col-sm-2 control-label">'+val.text+'</label><div class="col-sm-10">'+dateHtml+"</div></div>":6!=val.width&&val.width||(searchItemsHtml+='<div class="form-group col-sm-6"><label class="col-sm-4 control-label">'+val.text+'</label><div class="col-sm-8">'+dateHtml+"</div></div>")}else if("btnGroup"==val.type){var btnHtml="";$scope.$eval("params."+val.value+'="'+val.default+'"'),val.enum.length>0&&(angular.forEach(val.enum,function(enum_val,enum_key){var btnClassHtml='"btn-rounded":params.'+val.value+'=="'+enum_val.value+'","btn-bordered":params.'+val.value+'!=="'+enum_val.value+'"';btnHtml+=' <a class="btn btn-primary btn-sm"  ng-class={'+btnClassHtml+'} ng-model="params.'+val.value+'" ng-click="params.'+val.value+" = '"+enum_val.value+"';autoSearch=!autoSearch;\">"+enum_val.text+"</a>"}),btnHtml='<div class="">'+btnHtml+"</div>"),"6"==val.width?searchItemsHtml+='<div class="form-group col-sm-'+val.width+'"><label class="col-sm-4 control-label">'+val.text+'</label><div class="col-sm-8">'+btnHtml+"</div></div>":searchItemsHtml+='<div class="form-group col-sm-12"><label class="col-sm-2 control-label">'+val.text+'</label><div class="col-sm-10">'+btnHtml+"</div></div>"}else if("btnGroupArray2"==val.type){var btnHtml="";val.enum_text&&(angular.forEach(val.enum,function(enum_val){if(!angular.isArray(enum_val.value))return $log.warn("btnGroupArray2 enum_text is array, but enum value is not array"),!1}),(angular.isNumber(val.default)||(val.default=parseInt(val.default)))&&($scope.$eval(val.value+'="'+val.default+'"'),$scope.$eval("params."+val.enum_text+"="+JSON.stringify(val.enum[val.default].value))),val.enum.length>0&&(angular.forEach(val.enum,function(enum_val,enum_key){var btnClassHtml='"btn-rounded":'+val.value+"=='"+enum_key+'\',"btn-bordered":'+val.value+"!=='"+enum_key+"'",btnClickHtml="";btnClickHtml+="params."+val.enum_text+"="+JSON.stringify(enum_val.value)+";",btnClickHtml+="autoSearch=!!!autoSearch;"+val.value+"='"+enum_key+"'",btnHtml+=' <a class="btn btn-primary btn-sm"  ng-class={'+btnClassHtml+'} ng-model="'+val.value+'" ng-click="'+btnClickHtml+'">'+enum_val.text+"</a>"}),btnHtml='<div class="">'+btnHtml+"</div>")),"6"==val.width?searchItemsHtml+='<div class="form-group col-sm-'+val.width+'"><label class="col-sm-4 control-label">'+val.text+'</label><div class="col-sm-8">'+btnHtml+"</div></div>":searchItemsHtml+='<div class="form-group col-sm-12"><label class="col-sm-2 control-label">'+val.text+'</label><div class="col-sm-10">'+btnHtml+"</div></div>"}else if("btnGroupArray"==val.type){var btnHtml="";val.enum_text&&angular.isArray(val.enum_text)&&(angular.forEach(val.enum,function(enum_val){if(!angular.isArray(enum_val.value))return $log.warn("btnGroupArray enum_text is array, but enum value is not array"),!1}),(angular.isNumber(val.default)||(val.default=parseInt(val.default)))&&($scope.$eval(val.value+'="'+val.default+'"'),angular.forEach(val.enum[val.default].value,function(value_val,value_key){$scope.$eval("params."+val.enum_text[value_key]+'="'+value_val+'"')})),val.enum.length>0&&(angular.forEach(val.enum,function(enum_val,enum_key){var btnClassHtml='"btn-rounded":'+val.value+"=='"+enum_key+'\',"btn-bordered":'+val.value+"!=='"+enum_key+"'",btnClickHtml="";angular.forEach(enum_val.value,function(enum_val_arr,enum_key_arr){btnClickHtml+="params."+val.enum_text[enum_key_arr]+" = '"+enum_val_arr+"';"}),btnClickHtml+="autoSearch=!!!autoSearch;"+val.value+"='"+enum_key+"'",btnHtml+=' <a class="btn btn-primary btn-sm"  ng-class={'+btnClassHtml+'} ng-model="params.'+val.value+'" ng-click="'+btnClickHtml+'">'+enum_val.text+"</a>"}),btnHtml='<div class="">'+btnHtml+"</div>")),"6"==val.width?searchItemsHtml+='<div class="form-group col-sm-'+val.width+'"><label class="col-sm-4 control-label">'+val.text+'</label><div class="col-sm-8">'+btnHtml+"</div></div>":searchItemsHtml+='<div class="form-group col-sm-12"><label class="col-sm-2 control-label">'+val.text+'</label><div class="col-sm-10">'+btnHtml+"</div></div>"}else val.placeholder&&(placeholder='placeholder="'+val.placeholder+'"'),searchItemsHtml+='<div class="form-group col-sm-6"><label class="col-sm-4 control-label">'+val.text+'</label><div class="col-sm-8"><input type="input" class="form-control" '+placeholder+' ng-model="params.'+val.value+'"></div></div>'});var show_search_btn=!1;angular.forEach(searchItemsVal,function(val){"btnGroup"!==val.type&&"btnGroupArray"!==val.type&&"btnGroupArray2"!==val.type&&(show_search_btn=!0)}),show_search_btn&&(searchItemsHtml+='<div class="form-group col-sm-6"><label class="col-sm-4 control-label"></label> <button type="button" class="btn btn-success btn-bordered" ng-click="search()"><i class="fa fa-search"></i>&nbsp;&nbsp;&nbsp;查询&nbsp;&nbsp;&nbsp;</button></div>'),$element.find(".searchParam").html(searchItemsHtml),$compile($element.contents())($scope)}}),$scope.watch=[$scope.params,$scope.autoSearch],$scope.$watch("autoSearch",function(val,oldval){$scope.watch[1]=val}),$scope.$watch("params",function(val){$scope.watch[0]=val},!0),$scope.$watch("watch",function(newVal,oldVal){angular.extend($scope.searchText,$scope.params),newVal[1]!=oldVal[1]&&$scope.search()},!0),$scope.search=function(){$scope.searchAction()},$scope.resetSearch=function(){angular.forEach($scope.params,function(val,key){$scope.params[key]=void 0}),$ctrl.refreshCurrentView()},$scope.search_keyup=function(event){13==event.keyCode&&$scope.search()}}}}).directive("hjmPaginationBar",function($rootScope,$state,$http,$uibModal,$filter,widget,$templateCache,$compile){return{restrict:"EA",replace:!0,scope:{pageInfo:"="},template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-pagination-bar.html"),link:function($scope,$element,$attrs,$ctrl){$scope.$watch("pageInfo",function(pageInfoDef){$scope.pageInfo=pageInfoDef}),$scope.getapi=function(currentPage){$scope.pageInfo.currentPage=currentPage}}}})}),define("directives/hjm-compile",["../directives/directives","../cons/simpleCons"],function(mod,simpleCons){mod.directive("compile",function($compile){return function(scope,element,attrs){scope.$watch(function(scope){return scope.$eval(attrs.compile)},function(value){element.html(value),$compile(element.contents())(scope)})}})}),define("directives/hjm-form",["../directives/directives","../cons/simpleCons"],function(mod,cons){mod.directive("formInput",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",name:"@",required:"@",type:"@",placeholder:"@",maxlength:"@",minlength:"@",min:"@",max:"@",ngDisabled:"=",labelWidth:"@",contentWidth:"@",formShowRole:"@",requiredSpanShow:"="},link:function($scope,$element,$attrs,$ctrl){var labelWidth=$scope.labelWidth?"col-sm-"+$scope.labelWidth:"col-sm-2",contentWidth=$scope.contentWidth?"col-sm-"+$scope.contentWidth:$scope.labelWidth?"col-sm-"+(10-$scope.labelWidth):"col-sm-8",name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'" ',required=$scope.required?" required":"",required_span=$scope.required||$scope.requiredSpanShow?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",type=$scope.type?' type="'+$scope.type+'" ':"",min=$scope.min?' min="'+$scope.min+'" ':"",max=$scope.max?' max="'+$scope.max+'" ':"",placeholder=$scope.placeholder?' placeholder="'+$scope.placeholder+'" ':"",maxlength=$scope.maxlength?' maxlength="'+$scope.maxlength+'" ':"",minlength=$scope.minlength?' minlength="'+$scope.minlength+'" ':"",formShowRole=$scope.formShowRole?' show-role="'+$scope.formShowRole+'" ':"";$scope.init=function(){var disabledRole="";disabledRole=$scope.ngDisabled?' disabled="true" ':$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':" ";var content='<label class="'+labelWidth+' control-label" '+formShowRole+">"+$scope.text+required_span+'</label><div class="'+contentWidth+' " '+formShowRole+'><input class="form-control" ng-model="ngModel"'+min+max+type+name+placeholder+maxlength+minlength+required+disabledRole+"></div>";$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},$timeout(function(){$scope.init()},0),$scope.$watch("ngDisabled",function(){$scope.init()}),$scope.$watch("ngModel",function(val){"number"==$scope.type&&$scope.max&&(val>$scope.max?val=$scope.max:angular.noop())})}}}).directive("formTextarea",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",name:"@",required:"@",type:"@",placeholder:"@",ngMaxlength:"@max",ngMinlength:"@min",ngDisabled:"=",rows:"=",requiredSpanShow:"="},link:function($scope,$element,$attrs,$ctrl){var name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required ":"",required_span=$scope.required||$scope.requiredSpanShow?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",placeholder=($scope.type&&$scope.type,$scope.placeholder?' placeholder="'+$scope.placeholder+'"':""),ngMaxlength=$scope.ngMaxlength?' ng-maxlength="'+$scope.ngMaxlength+'"':"",ngMinlength=$scope.ngMinlength?' ng-minlength="'+$scope.ngMinlength+'"':"",rows=$scope.rows?' rows="'+$scope.rows+'"':'rows="5"',ngDisabled=$scope.ngDisabled&&' ng-disabled="ngDisabled"';$timeout(function(){var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':" ",content='<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8"><textarea class="form-control" '+rows+' ng-model="ngModel"'+name+placeholder+ngMaxlength+ngMinlength+required+ngDisabled+disabledRole+"></div>";$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},0)}}}).directive("formSelect",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",default:"@",text:"@",name:"@",required:"@",source:"=",needDefaultEmpty:"=?",sourceApi:"@",callback:"&",ngDisabled:"=",labelWidth:"@",contentWidth:"@"},link:function($scope,$element,$attrs,$ctrl){var labelWidth=$scope.labelWidth?"col-sm-"+$scope.labelWidth:"col-sm-2",contentWidth=$scope.contentWidth?"col-sm-"+$scope.contentWidth:$scope.labelWidth?"col-sm-"+(10-$scope.labelWidth):"col-sm-8",ngDisabled=$scope.ngDisabled?" disabled":"",name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required ":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",optionDefault="";$scope.needDefaultEmpty&&0==$scope.needDefaultEmpty||(optionDefault='<option value="">--  请选择  --</option>'),$timeout(function(){var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':" ",content='<label class="'+labelWidth+' control-label">'+$scope.text+required_span+'</label><div class="'+contentWidth+'">';content+='<select class="form-control"'+name+ngDisabled+' ng-model="ngModel" ng-options="item.value as item.text for item in source">'+optionDefault+"</select>",content+='<input class="hide" ng-model="ngModel" '+name+disabledRole+required+'"></div>',$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},0)}}}).directive("formRadio",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",default:"@",text:"@",name:"@",required:"@",source:"=",sourceApi:"@",type:"@?",callback:"&",ngDisabled:"=",labelWidth:"@",contentWidth:"@"},link:function($scope,$element,$attrs,$ctrl){$scope.ngModel||($scope.ngModel=$scope.default);var labelWidth=$scope.labelWidth?"col-sm-"+$scope.labelWidth:"col-sm-2",contentWidth=$scope.contentWidth?"col-sm-"+$scope.contentWidth:$scope.labelWidth?"col-sm-"+(10-$scope.labelWidth):"col-sm-8",date=($scope.ngDisabled,(new Date).getTime()),name=$scope.name?' name="'+$scope.name+date+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;";$scope.init=function(){var disabledRole="";disabledRole=$scope.ngDisabled?' disabled="true" ':$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':" ";var content='<label  class="'+labelWidth+' control-label">'+$scope.text+required_span+'</label><div class="'+contentWidth+'">';angular.forEach($scope.source,function(val,key){"number"!=$scope.type&&"number"!=typeof val.value||(val.value=Number(val.value)),content+='<label class="radio-inline radio1" ng-class="{\'disabled\':ngDisabled}" ><input  type="radio" ng-model="ngModel"'+name+'ng-value="source['+key+'].value"'+disabledRole+"><span></span>"+val.text+"</label>"}),content+='<input class="hide" ng-model="ngModel" '+name+required+"></div>",$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},$timeout(function(){$scope.init()},0),$scope.$watch("ngDisabled",function(){$scope.init()})}}}).directive("formCheckbox",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",default:"=",text:"@",name:"@",required:"@",source:"=",type:"@?",ngDisabled:"=",callback:"&"},link:function($scope,$element,$attrs,$ctrl){var date=(new Date).getTime(),name=$scope.name?' name="'+$scope.name+date+'"':' name="'+$scope.ngModelText+date+'"',nickname=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;";$scope.init=function(){var disabledRole="";disabledRole=$scope.ngDisabled?' disabled="true" ':$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':" ";var content='<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8">';angular.forEach($scope.source,function(val,key){if("number"==$scope.type)var value=val.value;else var value="'"+val.value+"'";content+='<label class="checkbox-inline checkbox1" ng-class="{\'disabled\':ngDisabled}" ><input  type="checkbox"'+disabledRole+name+' ng-checked="isChecked('+value+')" ng-click="updateSelection($event,'+value+","+key+')"  ><span></span>'+val.text+"</label>"}),content+='<div><input class="hide" ng-model="tmp_field" '+nickname+required+disabledRole+'" /></div>',content+="</div>",$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},$scope.tmp_source=[],$timeout(function(){$scope.init()},0),$scope.$watch("ngDisabled",function(){$scope.init()}),$scope.$watch("source",function(){$scope.init()}),$scope.$watch("ngModel",function(val){val&&val.length>0?$scope.tmp_field=!0:val?$scope.tmp_field=void 0:val||($scope.ngModel=$scope.default||[])},!0),$scope.isChecked=function(value){return!!($scope.ngModel&&$scope.ngModel.length>0)&&($scope.ngModel&&$scope.ngModel.indexOf(value)>=0)},$scope.updateSelection=function($event,value,key){$scope.ngModel=[];var source_html=$("["+name+"]");angular.forEach(source_html,function(val,key){val.checked&&$scope.ngModel.push($scope.source[key].value)})}}}}).directive("formImage",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout,formBody){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",name:"@",required:"@",min:"@",max:"@",callback:"&",token:"@",hideBar:"="},link:function($scope,$element,$attrs,$ctrl){var FormScope=formBody.getScope($scope),name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"';$scope.ngModelText=$scope.name||$scope.ngModelText;var nameText=angular.copy($scope.name||$scope.ngModelText),required=$scope.required?" required ":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",min=$scope.min?' min="'+$scope.min+'"':"",max=$scope.max?' max="'+$scope.max+'"':"",token=$scope.token?' token="'+$scope.token+'"':' token="activity"',hasPic=function(modelValue,viewValue){var hasPicFlag=!0,value=modelValue||viewValue;return value&&0!=value.length?angular.forEach(value,function(v,k){v&&v.pic_url||(hasPicFlag=!1)}):hasPicFlag=!1,hasPicFlag},times=0,valid_model=function(aaa){($scope.min||$scope.required)&&FormScope.FormBody[$scope.ngModelText]&&(times++,FormScope.FormBody[$scope.ngModelText].$setValidity("hasPic",hasPic($scope.ngModel)),FormScope.FormBody[$scope.ngModelText].$pristine&&times>1&&FormScope.FormBody[$scope.ngModelText].$setDirty())};$scope.init=function(){var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':"",uploadHtml='<show-upload-token images="ngModel" ng-model="ngModel"  hide-bar="hideBar"   '+name+min+max+required+disabledRole+token+"></show-upload-token>",content='<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8" style="">'+uploadHtml+"</div>";$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.ngModelText=nameText,FormScope&&FormScope.FormBody&&FormScope.FormBody[$scope.ngModelText]?(valid_model(),FormScope.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText):$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},$timeout(function(){$scope.init()},0),$scope.$watch("ngModel",function(val){nameText=$scope.name||$scope.ngModelText,valid_model()},!0)}}}).directive("formSources",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",name:"@",required:"@",max:"@",callback:"&",token:"@",type:"@"},link:function($scope,$element,$attrs,$ctrl){var name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required ":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",max=$scope.max?' max="'+$scope.max+'"':"",type=$scope.type?' type="'+$scope.type+'"':"",token=$scope.token?' token="'+$scope.token+'"':' token="activity"';$scope.hideBar=1!=$scope.type?[0,0,1,1]:$scope.hideBar,$timeout(function(){var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':"",uploadHtml='<hjm-upload-source sources="ngModel" hide-bar="hideBar"   '+type+name+max+required+disabledRole+token+"></hjm-upload-source>",content='<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8" style="border: 1px #ccc dashed;">'+uploadHtml+'<input class="hide" ng-model="ngModel" '+max+name+disabledRole+' ng-minlength="'+($scope.required?1:0)+'"></div>';$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},0)}}}).directive("formMedia",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",name:"@",required:"@",max:"@",callback:"&",token:"@"},link:function($scope,$element,$attrs,$ctrl){var name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required ":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",max=$scope.max?' max="'+$scope.max+'"':"",token=$scope.token?' token="'+$scope.token+'"':' token="resource"';$timeout(function(){var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':"",uploadHtml='<show-upload-media-token media="ngModel" '+name+max+required+disabledRole+token+"></show-upload-media-token>",content='<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8" style="border: 1px #ccc dashed;">'+uploadHtml+'<input class="hide" ng-model="ngModel" '+max+name+disabledRole+' ng-minlength="'+($scope.required?1:0)+'"></div>';$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},0)}}}).directive("formApk",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",name:"@",required:"@",callback:"&",token:"@"},link:function($scope,$element,$attrs,$ctrl){var name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required ":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",token=$scope.token?' token="'+$scope.token+'"':' token=""';$scope.tmpNgModel=[],$scope.$watch("ngModel",function(url){$scope.tmpNgModel=url?[{pic_url:url,pic_width:100,pic_hight:100,updated_at:new Date}]:[]},!0),$scope.$watch("tmpNgModel",function(arr_pic_val){$scope.tmpNgModel&&$scope.tmpNgModel[0]&&$scope.tmpNgModel[0].pic_url?$scope.ngModel=$scope.tmpNgModel[0].pic_url:$scope.ngModel=null},!0),$timeout(function(){var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':"",uploadHtml='<show-upload-apk-token apk="tmpNgModel" '+name+' max="1" '+required+disabledRole+token+"></show-upload-apk-token>",content='<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8" style="border: 1px #ccc dashed;">'+uploadHtml+'<input class="hide" ng-model="ngModel"  max="1" '+name+disabledRole+' ng-minlength="'+($scope.required?1:0)+'"></div>';$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},0)}}}).directive("formImageContent",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",name:"@",required:"@",max:"@",callback:"&"},link:function($scope,$element,$attrs,$ctrl){var name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;";$scope.max&&$scope.max;$timeout(function(){var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':"",content='<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8"><rich-content-or-img ng-model="ngModel"'+name+required+disabledRole+"></rich-content-or-img></div>";$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},0)}}}).directive("formRichText",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout,$sce){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=",ngModelText:"@ngModel",text:"@",required:"@"},link:function($scope,$element,$attrs,$ctrl){var required_span=($scope.name?$scope.name:$scope.ngModelText,$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;"),required=$scope.required?' ng-required="true" ':"";$timeout(function(){$scope.simditorConfig={placeholder:""};var content='<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8"><simditor ng-model="ngModel" config="simditorConfig" '+required+"></simditor></div>";$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText),$scope.$watch("ngModel",function(newVal){if($scope.required){var text=$element.find(".simditor-body").text();$scope.$parent.FormBody[$scope.ngModelText].$setViewValue(newVal),""===text.trim()?$scope.$parent.FormBody[$scope.ngModelText].$setValidity("required",!1):$scope.$parent.FormBody[$scope.ngModelText].$setValidity("required",!0)}},!0)},0)}}
}).directive("formRichContent",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout,$sce){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=",ngModelText:"@ngModel",text:"@",required:"@"},link:function($scope,$element,$attrs,$ctrl){var name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",required=$scope.required?" required":"";$scope.editorConfig={allowDivTransToP:!1},$timeout(function(){var content='<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8"><ueditor config="editorConfig" ng-model="ngModel"></ueditor><input class="hide" ng-model="ngModel"'+name+required+"></div>";$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)})}}}).directive("formDateTime",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",name:"@",required:"@",callback:"&",ngDisabled:"@",showtip:"@"},link:function($scope,$element,$attrs,$ctrl){var name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",showtip=($scope.max&&$scope.max,$scope.showtip?' showtip="'+$scope.showtip+'"':"");$timeout(function(){var disabledRole=$scope.ngDisabled?' disabled-role="aaaaaaaaa"':$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':" ",content='<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8"><hjm_date_time ng-model="ngModel"'+required+disabledRole+showtip+'></hjm_date_time><input class="hide" ng-model="ngModel"'+name+required+disabledRole+"></div>";$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},0)}}}).directive("formDate",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",name:"@",required:"@",callback:"&"},link:function($scope,$element,$attrs,$ctrl){var name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;";$scope.max&&$scope.max;$timeout(function(){var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':" ",content='<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8"><hjm_date ng-model="ngModel"'+required+disabledRole+' ></hjm_date><input class="hide" ng-model="ngModel"'+name+required+disabledRole+"></div>";$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},0)}}}).directive("formTable",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",columns:"=",config:"=?config",text:"@",name:"@",required:"=",max:"@",callBack:"&",ngDisabled:"="},link:function($scope,$element,$attrs,$ctrl){$timeout(function(){var columns=$scope.columns?' columns="columns" ':"";$scope.ngDisabled&&($scope.config=$scope.config||{},angular.extend($scope.config,{readonly:!0}));var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':"",config=$scope.config?" config="+JSON.stringify($scope.config):"",name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",max=$scope.max?' max="'+$scope.max+'"':"",content="";content=$scope.text?'<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8">':'<div class="col-sm-12 ">',$scope.columns&&(content+='<json-table ng-model="ngModel" '+columns+config+name+required+max+disabledRole+"></json-table>"),content+="</div>",$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},0),$scope.$watch("ngModel",function(val){val&&0==val.length&&($scope.ngModel=[])},!0)}}}).directive("formErrorBlock",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-err-block.html"),link:function($scope,$element,$attrs,$ctrl){}}}).directive("formAddress",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",name:"@",required:"@",max:"@",callback:"&"},link:function($scope,$element,$attrs,$ctrl){var name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required ":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",max=$scope.max?' max="'+$scope.max+'"':"";$timeout(function(){var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':"",uploadHtml='<show-addresses addresses="ngModel"   '+name+max+required+disabledRole+"></show-addresses>",content='<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8">'+uploadHtml+'<input class="hide" ng-model="ngModel" '+max+name+disabledRole+' ng-minlength="'+($scope.required?1:0)+'"></div>';$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},0)}}})}),define("directives/hjm-form-audio",["../directives/directives","../cons/simpleCons"],function(mod,cons){mod.directive("formAudio",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",name:"@",required:"@",max:"@",callback:"&",token:"@",hideBar:"="},link:function($scope,$element,$attrs,$ctrl){var name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required ":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",max=$scope.max?' max="'+$scope.max+'"':"",token=$scope.token?' token="'+$scope.token+'"':' token="resource"';$timeout(function(){var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':"",uploadHtml='<show-upload-audio-token audio="ngModel" hide-bar="hideBar"  '+name+max+required+disabledRole+token+"></show-upload-audio-token>",content='<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8" style="">'+uploadHtml+'<input class="hide" ng-model="ngModel" '+max+name+disabledRole+' ng-minlength="'+($scope.required?1:0)+'"></div>';$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},0)}}})}),define("directives/hjm-form-image",["../directives/directives","../cons/simpleCons"],function(mod,cons){mod.directive("formImageSingle",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",name:"@",required:"@",callback:"&",token:"@"},link:function($scope,$element,$attrs,$ctrl){var name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required ":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",token=$scope.token?' token="'+$scope.token+'"':' token="activity"';$scope.tmpNgModel=[],$scope.$watch("ngModel",function(url){$scope.tmpNgModel=url?[{pic_url:url,pic_width:100,pic_hight:100}]:[]},!0),$scope.$watch("tmpNgModel",function(arr_pic_val){$scope.tmpNgModel&&$scope.tmpNgModel[0]&&$scope.tmpNgModel[0].pic_url?$scope.ngModel=$scope.tmpNgModel[0].pic_url:$scope.ngModel=null},!0),$timeout(function(){$scope.hideBar=[1,1,1,1,1];var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':"",uploadHtml='<show-upload-token images="tmpNgModel" hide-bar="hideBar"   '+name+' max="1" '+required+disabledRole+token+"></show-upload-token>",content='<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8" style="">'+uploadHtml+'<input class="hide" ng-model="ngModel"  max="1" '+name+disabledRole+required+'"></div>';$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},0)}}})}),define("directives/hjm-form-search",["../directives/directives","../cons/simpleCons"],function(mod,cons){mod.directive("formSearch",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",btnText:"@",ajaxConfig:"=",returnData:"=?",placeholder:"@",verify:"&",callback:"&"},link:function($scope,$element,$attrs,$ctrl){$scope.name?$scope.name:$scope.ngModelText,$scope.placeholder&&$scope.placeholder;$timeout(function(){var content='<label class="col-sm-2 control-label">'+$scope.text+'&nbsp;&nbsp;</label><div class="col-sm-4"><div class="input-group" ><input type="text" class="form-control" placeholder="" ng-model="ngModel"><span class="input-group-addon btn" ng-click="search()">{{btnText||\'查询并添加\'}}</span></div></div>';$element.find(".form_element").html(content),$compile($element.contents())($scope)},0),$scope.search=function(){$scope.ajaxConfig=angular.extend($scope.ajaxConfig,{success:function(json){$scope.returnData=json.data,$scope.callback({json:json})},failure:function(err){$scope.callback({json:err})}});var rtn_verify=$scope.verify();"boolean"==typeof rtn_verify&&1==rtn_verify?widget.ajaxRequest($scope.ajaxConfig):"boolean"==typeof rtn_verify&&0==rtn_verify||widget.msgToast(rtn_verify)}}}})}),define("directives/hjm-form-date",["../directives/directives","../cons/simpleCons"],function(mod,cons){mod.directive("formDoubleDate",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModelStart:"=ngModelStart",ngModelEnd:"=ngModelEnd",ngModelTextStart:"@ngModelStart",ngModelTextEnd:"@ngModelEnd",textStart:"@",textEnd:"@",nameStart:"@",nameEnd:"@",required:"@",callback:"&"},link:function($scope,$element,$attrs,$ctrl){var nameStart=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelTextStart+'"',nameEnd=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelTextEnd+'"',required=$scope.required?" required":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;";$scope.max&&$scope.max;$timeout(function(){var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':" ",content='<label class="col-sm-2 control-label">'+$scope.textStart+required_span+'</label><div class="col-sm-8"><hjm_date ng-model="ngModelStart"'+required+disabledRole+' ></hjm_date><label class="col-sm-2 control-label">'+$scope.textEnd+required_span+'</label><hjm_date ng-model="ngModelEnd"'+required+disabledRole+' ></hjm_date><input class="hide" ng-model="ngModelStart"'+nameStart+required+disabledRole+'><input class="hide" ng-model="ngModelEnd"'+nameEnd+required+disabledRole+"></div>";$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelTextStart]&&$scope.$parent.FormBody[$scope.ngModelTextEnd]&&($scope.$parent.FormBody[$scope.ngModelTextStart].text=$scope.textStart||$scope.ngModelTextStart,$scope.$parent.FormBody[$scope.ngModelTextEnd].text=$scope.textEnd||$scope.ngModelTextEnd)},0)}}}).directive("formDoubleDateTime",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModelStart:"=ngModelStart",ngModelEnd:"=ngModelEnd",ngModelTextStart:"@ngModelStart",ngModelTextEnd:"@ngModelEnd",textStart:"@",textEnd:"@",nameStart:"@",nameEnd:"@",required:"@",callback:"&"},link:function($scope,$element,$attrs,$ctrl){var nameStart=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelTextStart+'"',nameEnd=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelTextEnd+'"',required=$scope.required?" required":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;";$scope.max&&$scope.max;$timeout(function(){var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':" ",content='<label class="col-sm-2 control-label">'+$scope.textStart+required_span+'</label><div class="col-sm-8"><hjm_date_time ng-model="ngModelStart" '+required+disabledRole+' ></hjm_date_time><label class="col-sm-2 control-label">'+$scope.textEnd+required_span+'</label><hjm_date_time ng-model="ngModelEnd" '+required+disabledRole+' ></hjm_date_time><input class="hide" ng-model="ngModelStart" text="aaa" '+nameStart+required+disabledRole+'><input class="hide" ng-model="ngModelEnd"'+nameEnd+required+disabledRole+"></div>";$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelTextStart]&&$scope.$parent.FormBody[$scope.ngModelTextEnd]&&($scope.$parent.FormBody[$scope.ngModelTextStart].text=$scope.textStart||$scope.ngModelTextStart,$scope.$parent.FormBody[$scope.ngModelTextEnd].text=$scope.textEnd||$scope.ngModelTextEnd)},0)}}})}),define("directives/hjm-form-valid",["../directives/directives","../cons/simpleCons"],function(mod,cons){mod.directive("noEmptyArray",function(){return{require:"ngModel",link:function(scope,ele,attrs,ctrls){}}})}),define("directives/hjm-ueditor",["../directives/directives","../cons/simpleCons"],function(mod,cons){mod.directive("ueditor",function(){return{restrict:"AE",transclude:!0,replace:!0,template:'<script name="content" type="text/plain" ng-transclude><\/script>',require:"?ngModel",scope:{config:"="},link:function(scope,element,attrs,ngModel){var editor=new UE.ui.Editor(scope.config||{});editor.render(element[0]),editor.ready(function(){ngModel.$viewValue&&editor.setContent(ngModel.$viewValue),ngModel.$render=function(){try{editor.setContent(ngModel.$viewValue)}catch(e){console.log(e)}},editor.addListener("contentChange",function(){setTimeout(function(){scope.$apply(function(){ngModel.$setViewValue(editor.getContent())})},0)})})}}})}),define("directives/hjm-upload-sources",["../directives/directives","../cons/simpleCons"],function(mod,simpleCons){mod.directive("hjmUploadSource",function($state,$rootScope,$timeout,FileUploader,$templateCache,$parse,widget){return{restrict:"E",replace:!0,scope:{sources:"=",required:"@",token:"@",type:"@",hideBar:"="},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"upload/hjmUploadSources.html"),controller:function($scope,$element,$attrs){function updatesources(){init=!0,$scope.default_sources=angular.copy($scope.sources),$scope.sources=[],angular.forEach($scope.uploader.queue,function(v,k){v.id||v.old?$scope.sources.push({id:v.id||void 0,url:v.url==$scope.upload_url?"":v.url,width:v.width,height:v.height,size:v.size,name:$scope.default_sources[k].name||v.name,type:$scope.type||1,duration:1!=$scope.type?v.duration:0}):$scope.sources.push({url:v.url==$scope.upload_url?"":v.url,width:v.width,height:v.height,size:v.size,name:$scope.default_sources[k].name||v.name,type:$scope.type||1,duration:1!=$scope.type?v.duration:0})}),console.log($scope.sources)}$timeout(function(){$scope.disabled=!!$attrs.disabled,$scope.disabledRole=$attrs.disabledRole||""},0),$scope.upload_url="https://up.qbox.me/",$scope.uploader=new FileUploader({url:$scope.upload_url});var init=!1;$scope.$watch("sources",function(sourcesVal){$scope.max=$attrs.max||100,sourcesVal&&sourcesVal.length>0&&!init&&0==$scope.uploader.queue.length&&(init=!0,$scope.sources&&$scope.sources.length>0&&angular.forEach($scope.sources,function(v,k){$scope.uploader.queue.push({id:v.id||void 0,name:v.name||"",url:v.url==$scope.upload_url?"":v.url,width:v.width||100,height:v.height||100,size:v.size||1,old:!0,progress:100,isUploaded:!0,type:$scope.type||1,duration:1!=$scope.type?v.duration:0})}))},!0),$scope.removeSource=function(key){$scope.uploader.queue.splice(key,1),updatesources()},$scope.uploader.onAfterAddingFile=function(fileItem){var fileItemTmpl={name:fileItem._file.name,type:$scope.token};widget.ajaxRequest({url:"/supports/uptoken",method:"get",scope:$scope,data:fileItemTmpl,success:function(json){fileItem.formData.push({key:json.data.key,token:json.data.token,name:fileItem._file.name})}})},$scope.uploader.onSuccessItem=function(fileItem,response,status,headers){response&&(1001==response.code?(alert(response.msg),fileItem.url="",fileItem.isReady=!1,fileItem.isError=!0,fileItem.isUploaded=!0,fileItem.isSuccess=!1,updatesources()):response.url&&"ERROR"!=response.state?(fileItem.url=response.url,fileItem.width=response.width,fileItem.height=response.height,fileItem.size=response.size,fileItem.name=response.name,fileItem.duration=response.duration>=1?parseInt(response.duration):0,updatesources()):(fileItem.url="",fileItem.isReady=!1,fileItem.isError=!0,fileItem.isUploaded=!0,fileItem.isSuccess=!1,updatesources()))},$scope.uploader.filters.push({name:"sourceFilter",fn:function(item,options){var type="|"+item.type.slice(item.type.lastIndexOf("/")+1)+"|";return 1==$scope.type?-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(type):2==$scope.type?-1!=="|mp4|".indexOf(type):3==$scope.type?-1!=="|mp3|".indexOf(type):void 0}}),$scope.uploader.filters.push({name:"customFilter",fn:function(item,options){var len=$scope.sources&&"undefined"!=$scope.sources?$scope.sources.length:0;return this.queue.length<$scope.max-len}}),$scope.uploader.onAfterAddingAll=function(fileItems){$scope.sources=$scope.sources||[],angular.forEach(fileItems,function(v,k){$scope.sources.push({})}),$timeout(function(){updatesources()},0)},$scope.log=function(){updatesources(),widget.msgToast("确认排序成功"),console.log($scope.uploader.queue)},$scope.removeAll=function(){if(!confirm("确定全部移除吗?"))return!1;$scope.sources=[],$scope.uploader.queue=[]},$scope.confirm_del_source_notice=!0,$scope.delSource=function(key,obj){if($scope.confirm_del_source_notice){if(!confirm("确定移除,且本次操作此字段不再有删除提示?"))return $scope.confirm_del_source_notice=!0,!1;$scope.confirm_del_source_notice=!1}obj.updated_at||obj.pic_id||obj.old?$scope.uploader.queue.splice(key,1):obj.remove(),updatesources()},$scope.getEle=function(eleKey){if($scope.eleKey=eleKey,angular.isNumber($scope.eleKey)&&angular.isNumber($scope.posIndex)){var a=$scope.eleKey<$scope.posIndex?$scope.eleKey:$scope.eleKey-1,b=$scope.eleKey>$scope.posIndex?$scope.posIndex:$scope.posIndex-1;console.log($scope.eleKey+" 插入到位置 "+$scope.posIndex+"  ",a,b,$scope.uploader.queue);var eleKeyObj=new Object($scope.uploader.queue[a]);new Object($scope.uploader.queue[b]);$scope.eleKey>$scope.posIndex?($scope.uploader.queue.splice(b,0,eleKeyObj),$scope.uploader.queue.splice(a+1,1)):$scope.eleKey<$scope.posIndex&&($scope.uploader.queue.splice(b+1,0,eleKeyObj),$scope.uploader.queue.splice(a,1))}updatesources()},$scope.getPos=function(posIndex){$scope.posIndex=posIndex}}}})}),define("directives/hjm-img-text",["../directives/directives","../cons/simpleCons"],function(mod,cons){mod.directive("formImageText",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",replace:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",name:"@",required:"@",max:"@",token:"@",callback:"&"},link:function($scope,$element,$attrs,$ctrl){var name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",token=($scope.max&&$scope.max,$scope.token?' token="'+$scope.token+'"':' token="activity"');$timeout(function(){var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':"",content='<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8"><img-or-rich-text ng-model="ngModel"'+name+required+disabledRole+token+"></img-or-rich-text></div>";$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},0)}}}).directive("imgOrRichText",function($state,$rootScope,$timeout,$templateCache,$compile){return{restrict:"E",replace:!0,scope:{ngModel:"=",token:"@"},template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"hjm_img_text.html"),link:function($scope,$element,$attrs){var init=!1;$timeout(function(){$scope.disabled=!!$attrs.disabled,$scope.disabledRole=$attrs.disabledRole||"";var token=$scope.token?' token="'+$scope.token+'"':' token="activity"',conent_tmp='<div class="form-group " ng-repeat="item in list"><div class="col-sm-12" ng-class="{contents:onlyContent!=1}"><div class="col-sm-12 form-group" style="margin-bottom: 5px;" ng-class="{\'hide\':'+$scope.disabled+'}"><div class="col-sm-12 form-group" style="margin-bottom: 0;"><a class="btn btn-info btn-rounded" ng-bind="($index+1)"></a><a class="btn btn-success btn-rounded" ng-show="onlyContent!=1"ng-class="{\'btn-success\':!item.showContent,\'btn-danger\':item.showContent}"ng-click="toggleShow(item,\'showContent\')"><span class="glyphicon"ng-class="{\'glyphicon-plus\':!item.showContent,\'glyphicon-trash\':item.showContent}"></span> {{item.showContentTitle}}</a><a class="btn btn-success btn-rounded" ng-show="onlyContent!=1"ng-class="{\'btn-success\':!item.showImg,\'btn-danger\':item.showImg}"ng-click = "toggleShow(item,\'showImg\')" > <span class="glyphicon"ng-class="{\'glyphicon-plus\':!item.showImg,\'glyphicon-trash\':item.showImg}"></span> {{item.showImgTitle}}</a><a class="btn btn-danger btn-rounded" ng-show="onlyContent!=1" ng-click="del($index);"><span class="glyphicon glyphicon-trash"></span> 删除这一条图文</a><div class="col-sm-12" ng-show="!!item.showContent" style="margin-top: 5px;"><show-rich-content ng-model="item.content" placeholder="填写你要说的"disabled-role="'+$scope.disabledRole+'"></show-rich-content></div><div class="col-sm-12" ng-show="!!item.showImg" style="margin-top: 5px;"><div form-radio name="{{\'pic_padding\'+$index}}" text="图片间距" ng-model="item.pic_padding" default="0" style="border-top: 1px solid #ccc;" source="[{text:\'无\',value:0},{text:\'有\',value:20}]" source-api=""></div><hjm-upload-source sources="item.sources" '+token+' type="1" disabled-role="'+$scope.disabledRole+'"></hjm-upload-source></div></div></div>';$element.find(".img-or-text").html(conent_tmp),$compile($element.contents())($scope)},0),$scope.$watch("ngModel",function(defval){defval&&!init&&(init=!0,$scope.list=$scope.list||[],angular.forEach(defval,function(val,key){var obj={sources:val.sources||[],pic_padding:val.pic_padding||0,content_id:val.content_id,content:$(val.content).text()?val.content:"",category:"imagetext"};$scope.list.push(angular.extend(obj,{showContent:""!=$(obj.content).text(),showImg:obj.sources.length>0,showContentTitle:""!=$(obj.content).text()?"取消文字":"文字模式",showImgTitle:obj.sources.length>0?"取消图片":"图片模式"}))})),init&&!defval&&(init=!1,$scope.list=[])},!0),$scope.$watch("list",function(defval){init&&($scope.ngModel=[],angular.forEach(defval,function(val,key){var obj={sources:val.sources||[],pic_padding:val.pic_padding||0,content_id:val.content_id,content:$(val.content).text()?val.content:"",category:"imagetext"};$scope.ngModel.push(obj)}))},!0),$scope.add=function(obj){init=!0,obj=obj||{},$scope.list=$scope.list||[],$scope.list.push(angular.extend({sources:[],category:"imagetext",pic_padding:0,content:"",showContent:!1,showImg:!1,showContentTitle:"文字模式",showImgTitle:"图片模式"},obj))},$scope.del=function(index){$scope.list.splice(index,1)},$scope.toggleShow=function(item,typeTitle){if(!item.showContent&&item.showImg&&"showContent"==typeTitle){if(!window.confirm("图片和文字只能选其一,确定切换吗"))return!1;item.showImg=!1,item.showImgTitle="图片模式",item.sources=[]}else if(!item.showImg&&item.showContent&&"showImg"==typeTitle){if(!window.confirm("图片和文字只能选其一,确定切换吗"))return!1;item.showContent=!1,item.showContentTitle="文字模式",item.content=""}"showContent"==typeTitle&&(item.showContent=!item.showContent,item.showContentTitle=item.showContent?"取消文字":"文字模式",item.content="",item.category="imagetext",item.pic_padding=0),"showImg"==typeTitle&&(item.showImg=!item.showImg,item.showImgTitle=item.showImg?"取消图片":"图片模式",item.sources=[])},$scope.conslog=function(index){console.log($scope.list)}}}})}),define("directives/nav-top",["../directives/directives","../cons/simpleCons"],function(mod,simpleCons){mod.directive("navMessage",function($rootScope,$state,$http,$uibModal,$filter,widget,$templateCache){return{restrict:"EA",replace:!0,scope:{},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"nav-top/nav-message.html"),link:function($scope,$element,$attrs){$scope.refresh_product=function(){$rootScope.reset([{key:"expires_product",url:simpleCons.domain+"/products/expires?count=10",data:{}},{key:"inventories_product",url:simpleCons.domain+"/products/inventories?count=10",data:{}}])}}}}).directive("navAccount",function($rootScope,$state,$http,$uibModal,$filter,widget,$templateCache){return{restrict:"EA",replace:!0,scope:{},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"nav-top/nav-account.html"),link:function($scope,$element,$attrs){$scope.env_name=simpleCons.env_name,$scope.logout=function(){$http.defaults.headers.common.Authorization="",delete $rootScope.hjm,delete $rootScope.selected,delete $rootScope.login_account,localStorage.clear(),$rootScope.$state.go("login")},$scope.change_city=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl" callback="callback"></div>',controller:function($scope,$uibModalInstance,$timeout){$scope.title="切换城市",$scope.open_citys="[",angular.forEach($rootScope.hjm.pubData.open_citys,function(val,key){$scope.open_citys+="{text: '"+val+"', value: '"+val+"'},"}),$scope.open_citys+="]",$timeout(function(){$scope.city_name=$rootScope.hjm.city_name},0),$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-radio text="切换城市" ng-model="city_name"  source="'+$scope.open_citys+'"> </div> <a class="btn btn-primary btn-rounded pull-right" ng-click="change_city_name()">确定</a></form>',$scope.change_city_name=function(){widget.ajaxRequest({url:"/account/"+$rootScope.hjm.account_id,method:"PUT",scope:$scope,data:{city_name:$scope.city_name},success:function(json){widget.msgToast("切换城市成功"),$rootScope.hjm.city_name=$scope.city_name,$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})},$rootScope.hjm?$scope.hjm=$rootScope.hjm||{}:$scope.logout()}}})}),define("directives/side-left",["../directives/directives","../cons/simpleCons"],function(mod,cons){mod.directive("sideMenu",function($rootScope,$state,$http,$uibModal,$filter,widget,$templateCache){return{restrict:"EA",replace:!0,scope:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"side-left/side-menu.html"),link:function($scope,$element,$attrs){$scope.cons=cons,$rootScope.current_state=$state.current.name,$scope.menus=($rootScope.hjm||{}).menus,$rootScope.$watch("hjm.menus",function(val){$scope.menus=($rootScope.hjm||{}).menus},!0),$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){$rootScope.hjm&&$rootScope.hjm.menus&&angular.forEach($rootScope.hjm.menus,function(menuval,key){menuval.route==$state.current.name.split("main.")[1]&&($scope.mainmenu="main."+menuval.route)})})}}}).directive("sideWidgets",function($rootScope,$state,$http,$uibModal,$filter,widget,$templateCache){return{restrict:"EA",scope:!0,template:$templateCache.get("app/"+cons.DIRECTIVE_PATH+"side-left/side-widgets.html"),link:function($scope,$element,$attrs){}}})}),define("directives/hjmdirectives",["../directives/directives","../cons/simpleCons"],function(mod,simpleCons){mod.directive("richContentOrImg",function($state,$rootScope,$timeout,$templateCache,$compile){return{restrict:"E",replace:!0,scope:{ngModel:"="},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"hjm_content2img.html"),link:function($scope,$element,$attrs){var init=!1;$timeout(function(){$scope.disabled=!!$attrs.disabled,$scope.disabledRole=$attrs.disabledRole||""
;var conent_tmp='<div class="form-group " ng-repeat="item in list"><div class="col-sm-12" ng-class="{contents:onlyContent!=1}"><div class="col-sm-12 form-group" style="margin-bottom: 5px;" ng-class="{\'hide\':'+$scope.disabled+'}"><div class="col-sm-12 form-group" style="margin-bottom: 0;"><a class="btn btn-info btn-rounded" ng-bind="($index+1)"></a><a class="btn btn-success btn-rounded" ng-show="onlyContent!=1"ng-class="{\'btn-success\':!item.showContent,\'btn-danger\':item.showContent}"ng-click="toggleShow(item,\'showContent\')"><span class="glyphicon"ng-class="{\'glyphicon-plus\':!item.showContent,\'glyphicon-trash\':item.showContent}"></span> {{item.showContentTitle}}</a><a class="btn btn-success btn-rounded" ng-show="onlyContent!=1"ng-class="{\'btn-success\':!item.showImg,\'btn-danger\':item.showImg}"ng-click = "toggleShow(item,\'showImg\')" > <span class="glyphicon"ng-class="{\'glyphicon-plus\':!item.showImg,\'glyphicon-trash\':item.showImg}"></span> {{item.showImgTitle}}</a><a class="btn btn-danger btn-rounded" ng-show="onlyContent!=1" ng-click="del($index);"><span class="glyphicon glyphicon-trash"></span> 删除这一条图文</a><div class="col-sm-12" ng-show="!!item.showContent" style="margin-top: 5px;"><show-rich-content ng-model="item.content" placeholder="填写你要说的"disabled-role="'+$scope.disabledRole+'"></show-rich-content></div><div class="col-sm-12" ng-show="!!item.showImg" style="margin-top: 5px;"><div form-radio name="{{\'pic_padding\'+$index}}" text="图片间距" ng-model="item.pic_padding" default="0" style="border-top: 1px solid #ccc;" source="[{text:\'无\',value:0},{text:\'有\',value:20}]" source-api=""></div><show-upload-token images="item.pics" hasimages="" token="activity" disabled-role="'+$scope.disabledRole+'"></show-upload-token></div></div></div>';$element.find(".content-and-img").html(conent_tmp),$compile($element.contents())($scope)},0),$scope.$watch("ngModel",function(defval){defval&&!init&&(init=!0,$scope.list=$scope.list||[],angular.forEach(defval,function(val,key){var obj={pics:val.pics||[],pic_padding:val.pic_padding||0,content_id:val.content_id,content:$(val.content).text()?val.content:"",category:val.category};$scope.list.push(angular.extend(obj,{showContent:""!=$(obj.content).text(),showImg:obj.pics.length>0,showContentTitle:""!=$(obj.content).text()?"取消文字":"文字模式",showImgTitle:obj.pics.length>0?"取消图片":"图片模式"}))}))},!0),$scope.$watch("list",function(defval){init&&($scope.ngModel=[],angular.forEach(defval,function(val,key){var obj={pics:val.pics||[],pic_padding:val.pic_padding||0,content_id:val.content_id,content:$(val.content).text()?val.content:"",category:val.category};$scope.ngModel.push(obj)}))},!0),$scope.add=function(obj){init=!0,obj=obj||{},$scope.list=$scope.list||[],$scope.list.push(angular.extend({pics:[],pic_padding:0,content:"",showContent:!1,showImg:!1,showContentTitle:"文字模式",showImgTitle:"图片模式"},obj))},$scope.del=function(index){$scope.list.splice(index,1)},$scope.toggleShow=function(item,typeTitle){if(!item.showContent&&item.showImg&&"showContent"==typeTitle){if(!window.confirm("图片和文字只能选其一,确定切换吗"))return!1;item.showImg=!1,item.showImgTitle="图片模式",item.pics=[]}else if(!item.showImg&&item.showContent&&"showImg"==typeTitle){if(!window.confirm("图片和文字只能选其一,确定切换吗"))return!1;item.showContent=!1,item.showContentTitle="文字模式",item.content=""}"showContent"==typeTitle&&(item.showContent=!item.showContent,item.showContentTitle=item.showContent?"取消文字":"文字模式",item.content="",item.category="",item.pic_padding=0),"showImg"==typeTitle&&(item.showImg=!item.showImg,item.showImgTitle=item.showImg?"取消图片":"图片模式",item.pics=[])},$scope.conslog=function(index){console.log($scope.list)}}}}).directive("contentOrImg",function($state,$rootScope,$timeout,$templateCache,$compile){return{restrict:"E",replace:!0,scope:{ngModel:"="},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"hjm_content2img.html"),link:function($scope,$element,$attrs){$timeout(function(){$scope.disabled=!!$attrs.disabled,$scope.disabledRole=$attrs.disabledRole||"";var conent_tmp='<div class="form-group " ng-repeat="item in list"><div class="col-sm-12" ng-class="{contents:onlyContent!=1}"><div class="col-sm-12 form-group" ng-class="{\'hide\':'+$scope.disabled+'}"><a class="btn btn-info btn-rounded" ng-bind="($index+1)"></a><a class="btn btn-success btn-rounded" ng-if="onlyContent!=1"ng-class="{\'btn-success\':!item.showContent,\'btn-danger\':item.showContent}"ng-click="toggleShow(item,\'showContent\')"><span class="glyphicon"ng-class="{\'glyphicon-plus\':!item.showContent,\'glyphicon-trash\':item.showContent}"></span> {{item.showContentTitle}}</a><a class="btn btn-success btn-rounded" ng-if="onlyContent!=1"ng-class="{\'btn-success\':!item.showImg,\'btn-danger\':item.showImg}"ng-click = "toggleShow(item,\'showImg\')" > <span class="glyphicon"ng-class="{\'glyphicon-plus\':!item.showImg,\'glyphicon-trash\':item.showImg}"></span> {{item.showImgTitle}}</a><a class="btn btn-danger btn-rounded" ng-if="onlyContent!=1" ng-click="del($index);"><span class="glyphicon glyphicon-trash"></span> 删除这一条图文</a></div><div class="col-sm-12" ng-if="!!item.showContent"><show-textarea ng-model="item.contentData" placeholder="填写你要说的"disabled-role="'+$scope.disabledRole+'"></show-textarea></div><div class="col-sm-12" ng-if="!!item.showImg"><show-upload-token images="item.pics" hasimages="" token="activity" disabled-role="'+$scope.disabledRole+'"></show-upload-token></div></div></div>';$element.find(".content-and-img").html(conent_tmp),$compile($element.contents())($scope)},0);var init=!1;$scope.$watch("ngModel",function(defval){defval&&!init&&(init=!0,$scope.list=$scope.list||[],angular.forEach(defval,function(val,key){var obj={};obj.pics=val.pics||[],obj.contentData={content_id:val.content_id,content:val.content,category:val.category,font_align:val.font_align,font_bold:val.font_bold,font_color:val.font_color,font_ita:val.font_ita,font_size:val.font_size,font_style:val.font_style},$scope.list.push(angular.extend(obj,{showContent:""!=obj.contentData.content,showImg:obj.pics.length>0,showContentTitle:""!=obj.contentData.content?"取消富文本":"富文本模式",showImgTitle:obj.pics.length>0?"取消图片":"图片模式"}))}))},!0),$scope.$watch("list",function(defval){init&&($scope.ngModel=[],angular.forEach(defval,function(val,key){var obj={};obj.contentData=angular.extend({content_id:val.content_id||void 0,pics:val.pics||[],content:"",category:1,font_align:"",font_bold:"",font_color:"",font_ita:"",font_size:"",font_style:""},val.contentData||{}),$scope.ngModel.push(obj.contentData)}))},!0),$scope.add=function(obj){init=!0,obj=obj||{},$scope.list=$scope.list||[],$scope.list.push(angular.extend({contentData:{},pics:[],showContent:!1,showImg:!1,showContentTitle:"富文本模式",showImgTitle:"图片模式"},obj))},$scope.del=function(index){$scope.list.splice(index,1)},$scope.toggleShow=function(item,typeTitle){if(!item.showContent&&item.showImg&&"showContent"==typeTitle){if(!window.confirm("图片和文字只能选其一,确定切换吗"))return!1;item.showImg=!1,item.showImgTitle="图片模式",item.pics=[]}else if(!item.showImg&&item.showContent&&"showImg"==typeTitle){if(!window.confirm("图片和文字只能选其一,确定切换吗"))return!1;item.showContent=!1,item.showContentTitle="富文本模式",item.contentData.content=null}"showContent"==typeTitle&&(item.showContent=!item.showContent,item.showContentTitle=item.showContent?"取消富文本":"富文本模式",item.contentData.content="",item.contentData.category="",item.contentData.font_align="",item.contentData.font_bold="",item.contentData.font_color="",item.contentData.font_ita="",item.contentData.font_size="",item.contentData.font_style=""),"showImg"==typeTitle&&(item.showImg=!item.showImg,item.showImgTitle=item.showImg?"取消图片":"图片模式",item.pics=[])},$scope.conslog=function(index){console.log($scope.list)}}}}).directive("hjmDate",function($parse,$templateCache,$filter,$timeout,$compile){return{restrict:"E",replace:!0,scope:{ngModel:"=ngModel",ngModelTxt:"@ngModel",disabledRole:"@"},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"hjm_date.html"),link:function($scope,$element,$attrs){$timeout(function(){$scope.disabled=!!$attrs.disabled},0),$scope.init=!1,$scope.strToDateTime=function(str){return str?(str=str.toString(),str=str.replace(/-/g,"/"),new Date(str)):new Date},$scope.$watch("ngModel",function(){$scope.ngModel?($scope.init||($scope.init=!0),$scope.dateTime=new Date($scope.ngModel),$scope.dt=$scope.strToDateTime($scope.dateTime)):($scope.dateTime=null,$scope.dt="")}),$scope.$watch("dt",function(val){val||($scope.ngModel=void 0)}),$scope.open=function($event){$event.preventDefault(),$event.stopPropagation(),$scope.isopen=!0},$scope.changed=function(){if(!$scope.dt)return!1;$scope.ngModel=$filter("date")($scope.dt,"yyyy-MM-dd")}}}}).directive("hjmDateTime",function($parse,$templateCache,$timeout,$compile){return{restrict:"E",replace:!0,scope:{ngModel:"=ngModel",ngModelTxt:"@ngModel",showtip:"@",text:"=",name:"="},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"hjm_date_time.html"),link:function($scope,$element,$attrs){$scope.init=!1,$scope.strToDateTime=function(str){return str=str.toString(),str=str.replace(/-/g,"/"),new Date(str)},$scope.$watch("ngModel",function(val){$scope.ngModel?($scope.init||($scope.init=!0),$scope.dateTime=new Date($scope.ngModel),$scope.dt=$scope.strToDateTime($scope.dateTime),$scope.tp=$scope.strToDateTime($scope.dateTime)):($scope.dateTime=null,$scope.dt="",$scope.tp=$scope.strToDateTime(new Date("2000-01-01 00:00:00")))}),$scope.$watch("dt",function(val){val||($scope.ngModel=null)}),$scope.open=function($event){$event.preventDefault(),$event.stopPropagation(),$scope.isopen=!0},$scope.changed=function(){if(!$scope.tp||!$scope.dt)return!1;$scope.ngModel=($scope.dt.getFullYear()+"-"+($scope.dt.getMonth()+1)+"-"+$scope.dt.getDate()+" "+$scope.tp.getHours()+":"+$scope.tp.getMinutes()+":00").replace(/([\-\: ])(\d{1})(?!\d)/g,"$10$2")}}}}).directive("jsonTable",function($state,$rootScope,$timeout,$templateCache,$compile,$timeout,widget){return{restrict:"E",replace:!0,scope:{ngModel:"=",columns:"=",max:"@",config:"=?",callback:"&"},controller:["$scope",function($scope){function buildHeader(columns,config){var headerContent="";return angular.forEach(columns,function(col){var width=col.width?'width = "'+(col.width.indexOf("%")>-1?col.width+'"':col.width+'px"'):"";col.hide||(headerContent+='<th class="text-center" '+width+">"+col.name+"</th>")}),config.readonly||(headerContent+='<th class="text-center">'+(0==config.add?"操作":'<a class="btn btn-primary btn-sm btn-bordered" ng-click="add()">添加</a>')+"</th>"),"<thead><tr>"+headerContent+"</tr></thead>"}function buildRows(columns,config){var rowItem="",orderBy="";return angular.forEach(columns,function(col){if(!col.hide){var cellContent=cellRender(col,config);rowItem+="<td>"+cellContent+"</td>"}}),config.readonly||(rowItem+='<th class="text-center"><a class="btn btn-danger btn-sm btn-bordered" ng-click="del($index)">删除</a></th>'),config.orderBy&&(orderBy+=" | orderBy:'"+config.orderBy+"'"),'<tbody><tr  ng-repeat="item in data '+orderBy+'">'+rowItem+"</tr></tbody>"}function cellRender(col,config){var cellContent="",cellFilter=col.filter?"|"+col.filter:"",colField="item."+col.field,typeContent="number"==col.type?'type="number"':"",placeholderContent=col.placeholder?' placeholder="'+col.placeholder+'" ':"",requiredContent="true"==col.required?" required ":"",disabled=col.disabled?" disabled ":"",minContent=col.min||0==col.min?'ng-min="'+col.min+'" min="'+col.min+'"':"",maxContent=col.max||0==col.max?'ng-max="'+col.max+'" max="'+col.max+'"" maxlength="'+col.max+'"':"";if(col.fieldDirective)cellContent=col.fieldDirective;else if(col.readonly)(config.readonly||col.readonly)&&(cellContent='<span ng-bind="'+colField+cellFilter+'" '+requiredContent+" ></span>");else if(col.textarea){var rows=col.rows?'rows = "+col.rows +"':"rows = 5";cellContent='<textarea class="form-control" '+rows+minContent+maxContent+disabled+typeContent+requiredContent+placeholderContent+'ng-model="'+colField+cellFilter+'"></textarea>'}else if(col.radioBox){var date=(new Date).getTime()+"{{$index}}",name=' name="'+col.field+date+'"',type=' type="radio"';col.source_eval=eval("("+col.source+")"),angular.forEach(col.source_eval,function(val,key){var value="";value="number"==typeof val.value?' value = "'+parseFloat(val.value)+'"':' value = "'+val.value+'"',cellContent+='<label class="radio-inline radio1"><input '+type+disabled+' ng-model="'+colField+'"'+name+value+"><span></span>"+val.text+"</label>"})}else if("search"==col.type){var search_param="$index,item, '"+col.search_api+"','"+col.search_field+"','"+col.result_field+"'";cellContent='<a class="btn btn-success btn-rounded" ng-click="search('+search_param+')">'+col.name+"</a>"}else if(col.select){var search_param='<select class="form-control"'+name+' ng-model="'+colField+'" '+requiredContent+placeholderContent+'ng-options="item.value  as item.text for item in '+col.source+'"></select>';cellContent=search_param}else"right_or_error"==col.type?(col.right=col.right||"",cellContent='<p class="text-center"><span ng-show="'+colField+"=="+col.right+' " class="label label-danger fa fa-check"> </span></p>'):"datetime"==col.type?(col.right=col.right||"",cellContent='<hjm_date_time ng-model="'+colField+'"'+requiredContent+disabled+"></hjm_date_time>"):cellContent='<input class="form-control" '+minContent+maxContent+typeContent+disabled+requiredContent+placeholderContent+'ng-model="'+colField+cellFilter+'"/>';return cellContent}this.buildTable=function(columns,config){return config=config||{},'<table class="table table-bordered table-striped">'+buildHeader(columns,config)+buildRows(columns,config)+"</table>"}}],template:"",link:function($scope,$element,$attrs,$ctrl){var tmpHtml="";$timeout(function(){angular.isArray($scope.columns)&&(angular.forEach($scope.columns,function(val,key){val.select&&eval("$scope."+val.source+" = $rootScope."+val.source)}),$attrs.disabled&&($scope.config=angular.extend($scope.config||{},{readonly:!0})),tmpHtml=$ctrl.buildTable($scope.columns,$scope.config),$element.html(tmpHtml),$compile($element.contents())($scope))},0),$scope.search=function(index,item,search_api,search_field,result_field){if(eval(" var search_field_val = item."+search_field+";"),!search_field_val)return widget.msgToast("缺少查询条件:"+search_field),!1;var url=search_api.replace(/\(\([^\)]*\)\)/g,search_field_val);widget.ajaxRequest({url:url,method:"GET",data:{},success:function(json){$scope.product_id=json.data.product_id,$scope.title=json.data.title,eval("(item."+result_field+" = json.data."+result_field+")")},failure:function(err){widget.msgToast("ID不存在或"+err.message),eval("(item."+result_field+' = "")')}})},$scope.$watch("ngModel",function(defval){defval&&angular.isArray(defval)?$scope.data=defval||[]:$scope.data=[]},!0),$scope.$watch("data",function(defval){$scope.ngModel=defval||[]},!0),$scope.add=function(obj){if($scope.data&&$scope.max&&$scope.data.length>=$scope.max)return widget.msgToast("已超过最大行数 "+$scope.max+" !"),!1;$scope.random_date=(new Date).getTime();var obj=obj||{};$scope.columns&&angular.forEach($scope.columns,function(val,key){val.default&&(obj[val.field]=val.default),val.select&&eval("$scope."+val.source+" = $rootScope."+val.source)}),$scope.data=$scope.data||[],$scope.data.push(obj)},$scope.del=function(index){$scope.data.splice(index,1)},$scope.conslog=function(){console.log($scope.data)}}}})}),define("directives/role-permission",["../directives/directives","../cons/simpleCons"],function(mod,cons){mod.directive("showRole",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$animate){return{restrict:"A",scope:{showRole:"@"},link:function($scope,$element,$attrs){$scope.showRoleChange=function(val){val&&$rootScope.hjm&&val.indexOf($rootScope.hjm.role)>-1?$element.addClass(val.indexOf("!")>-1?"hide":"hahahahaha"):""==val||"''"==val?$element.removeClass("hide"):$element.addClass(val.indexOf("!")>-1?"hahahahaha":"hide")},$attrs.$observe("showRole",function(val){$scope.showRoleChange(val)})}}}).directive("showEnv",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$animate){return{restrict:"A",link:function($scope,$element,$attrs){$scope.showEnvChange=function(val){val&&val.indexOf(cons.env)>-1?$element.addClass(val.indexOf("!")>-1?"hide":"hahahahaha"):""==val||"''"==val?$element.removeClass("hide"):$element.addClass(val.indexOf("!")>-1?"hahahahaha":"hide")},$attrs.$observe("showEnv",function(val){$scope.showEnvChange(val)})}}}).directive("disabledRole",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$animate){return{restrict:"A",link:function($scope,$element,$attrs){$scope.disabledRole=$attrs.disabledRole,$scope.$watch("disabledRole",function(val){$attrs.$attr.disabled||(val&&val.indexOf($rootScope.hjm.role)>-1?$attrs.$set("disabled",val.indexOf("!")>-1):""==val||"''"==val||$attrs.$set("disabled",!0))})}}})}),define("directives/show_table",["../directives/directives","../cons/simpleCons"],function(mod,simpleCons){mod.directive("showTable",function($templateCache,$filter,$compile,widget,$uibModal,$state){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-info btn-rounded btn-sm" ng-click="show();" ng-bind="text" ></a>',link:function($scope,$element,$attrs){$scope.text=$scope.data.text,$scope.config=$scope.data.config,$scope.modid=$scope.data.modid,$scope.columns=$scope.data.columns,$scope.ext=$scope.data.ext,$scope.extApi=$scope.data.extApi,$scope.modid||console.log("没有modid"),$scope.config||console.log("没有config"),$scope.columns||console.log("没有columns");var tmp='<div hjm-grid modid="'+$scope.modid+'" config="'+$scope.config+'" columns="'+$scope.columns+'" ext-search="ext" ext-api="extApi"></div>',supscope=$scope;$scope.show=function(){$uibModal.open({template:tmp,controller:function($scope,$uibModalInstance){$scope.extApi=supscope.extApi,$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}})}),define("directives/show_image",["../directives/directives","../cons/simpleCons"],function(mod,simpleCons){mod.directive("showImage",function($state,$rootScope,$templateCache,$uibModal){return{restrict:"AE",replace:!0,scope:{url:"=",width:"@",rotate:"=",noShow:"@"},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"show_image.html"),link:function($scope,$element,$attrs){var supscope=$scope;$scope.widthPx=$scope.width&&$scope.width.indexOf("%")>-1?$scope.width:($scope.width||200)+"px",$scope.imgObj={},$scope.rotateGroupBtn=[];var oImg=new Image;$scope.rotateImg=function(rotate,rotateGroupBtnIndex){void 0!=rotateGroupBtnIndex&&($scope.rotateGroupBtn=[0,0,0,0],$scope.rotateGroupBtn[rotateGroupBtnIndex]=1),oImg.src||(oImg.src=$scope.url,oImg.onload=function(){$scope.imgObj.clientWidth=$($element).find(".imgObjClass").width(),$scope.imgObj.clientHeight=$($element).find(".imgObjClass").height(),console.log("imgObj : ",$scope.imgObj.clientWidth,$scope.imgObj.clientHeight)}),void 0!=rotate&&angular.isNumber(rotate)&&($scope.rotateObj={margin:"0 auto",transform:"rotate("+rotate+"deg)","max-height":rotate%180!=0?($scope.imgObj.clientHeight,$scope.imgObj.clientWidth,$scope.imgObj.clientWidth):"1","min-height":rotate%180!=0?($scope.imgObj.clientHeight,$scope.imgObj.clientWidth,$scope.imgObj.clientWidth):"1","max-width":rotate%180!=0?($scope.imgObj.clientHeight,$scope.imgObj.clientWidth,$scope.imgObj.clientWidth):"1"})},$scope.rotate&&$scope.rotateImg(0),$scope.show=function(){if(!$scope.noShow){$uibModal.open({templateUrl:"show.html",controller:function($scope,$uibModalInstance){$scope.url=supscope.url,$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}})}),define("directives/select_city",["../directives/directives","../cons/simpleCons"],function(mod,simpleCons){mod.directive("selectCity",function($state,$rootScope,$templateCache,$uibModal){return{restrict:"E",replace:!0,scope:{city_list:"=cityList",city_name:"=cityName"},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"select_city.html"),link:function($scope,$element,$attrs){$scope.all_citys=[],$rootScope.hjm.pubData.open_citys&&angular.forEach($rootScope.hjm.pubData.open_citys,function(val,key){$scope.all_citys.push({name:val})}),$scope.selected_list=[],$scope.init=function(){$scope.city_list&&$scope.city_list.split(",").length>0&&angular.forEach($scope.city_list.split(","),function(value,key){angular.forEach($scope.all_citys,function(val,k){value==val.name&&(val.checked=!0)})})},$scope.$watch("city_name",function(value){$scope.init()}),$scope.toggle=function(item){$scope.selected_list=[],item.checked=!item.checked,angular.forEach($scope.all_citys,function(value,key){value.checked&&$scope.selected_list.push(value.name)}),$scope.city_list=$scope.selected_list.join(",")}}}}).directive("selectCurrentCity",function($state,$rootScope,$templateCache,$uibModal){return{restrict:"E",replace:!0,scope:{current_city_list:"=currentCityList",current_city_name:"=currentCityName"},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"select_city.html"),link:function($scope,$element,$attrs){$scope.isradio=!0,$scope.selected_list=[],$scope.init=function(){$scope.all_citys=[],$scope.current_city_list&&$scope.current_city_list.split(",").length>0&&angular.forEach($scope.current_city_list.split(","),function(value,key){value==$scope.current_city_name?$scope.all_citys.push({checked:!0,name:value}):$scope.all_citys.push({checked:!1,name:value})})},$scope.$watch("currentCityName",function(value){$scope.init()}),$scope.toggle=function(item){angular.forEach($scope.all_citys,function(value,key){value.name==item.name?value.checked=!0:value.checked=!1}),$scope.current_city_name=item.name}}}})}),define("directives/select_boards",["../directives/directives","../cons/simpleCons"],function(mod,simpleCons){mod.directive("selectBoards",function($rootScope,$state,$http,$uibModal,$filter,widget,$templateCache){return{restrict:"E",replace:!0,scope:{account_id:"=accountId",city_name:"=cityName"},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"select_boards.html"),link:function($scope,$element,$attrs){var sup_scope=$scope;$scope.community_boards=function(){$uibModal.open({templateUrl:"community_boards.html",controller:function($scope,$uibModalInstance){$scope.reset=function(){angular.forEach($scope.all_boards,function(boards_val,boards_key){$scope.all_boards[boards_key].self_count=0,angular.forEach(boards_val.boards,function(value,key){$scope.all_boards[boards_key].boards[key].def=2,$scope.all_boards[boards_key].boards[key].change=2})}),$scope.search_areas&&$scope.search_areas.length>0&&angular.forEach($scope.all_boards,function(boards_val,boards_key){angular.forEach(boards_val.boards,function(value,key){angular.forEach($scope.search_areas,function(val,k){val.area==value.area&&val.district==value.district&&(val.account_id==sup_scope.account_id?($scope.all_boards[boards_key].self_count++,$scope.all_boards[boards_key].boards[key].def=1,$scope.all_boards[boards_key].boards[key].change=1,$scope.all_boards[boards_key].boards[key].id=val.id+""):($scope.all_boards[boards_key].boards[key].def=3,$scope.all_boards[boards_key].boards[key].change=1,$scope.all_boards[boards_key].boards[key].id=val.id+"",$scope.all_boards[boards_key].boards[key].username=val.account?val.account.username:"没找到的负责人"))})})})},$scope.init=function(){$scope.search_areas_url=simpleCons.domain+"/manage/account/search_areas",$scope.boards_url=simpleCons.domain+"/manage/community/boards",$http.post($scope.search_areas_url,{}).success(function(json){0==json.code?($scope.search_areas=json.data,$http.post($scope.boards_url,{}).success(function(json){0==json.code?($scope.all_boards=json.data,$scope.reset()):widget.msgToast(json.msg)})):widget.msgToast(json.msg)})},$scope.init(),$scope.toggle=function(sub){sub.change=3==sub.def?sub.change:1==sub.change?2:1},$scope.select_all=function(sup){angular.forEach(sup.boards,function(value,key){value.change=3==value.def?value.change:1})},$scope.reverse_all=function(sup){angular.forEach(sup.boards,function(value,key){value.change=3==value.def?value.change:1==value.change?2:1})},$scope.regain=function(sup){angular.forEach(sup.boards,function(value,key){value.change=3==value.def?1:value.def})},$scope.update=function(){if($rootScope.loading=!0,!sup_scope.account_id)return widget.msgToast("负责人不能为空，请刷新页面重新选择编辑"),$rootScope.loading=!1,!1;$scope.param={account_id:sup_scope.account_id,add_arr:[],del_ids:[]},angular.forEach($scope.all_boards,function(boards_val,boards_key){angular.forEach(boards_val.boards,function(value,key){2==value.def&&1==value.change?$scope.param.add_arr.push({city_name:sup_scope.city_name,area:value.area,district:value.district}):1==value.def&&2==value.change&&$scope.param.del_ids.push(value.id)})});var update_url=simpleCons.domain+"/manage/account/update_areas";$http.post(update_url,$scope.param).success(function(json){0==json.code?(widget.msgToast("更新成功"),$http.post($scope.search_areas_url,{}).success(function(json){0==json.code?($scope.search_areas=json.data,$scope.reset()):widget.msgToast(json.msg)}),$rootScope.loading=!1):($rootScope.loading=!1,widget.msgToast(json.msg))})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}})}),define("directives/show_str",["../directives/directives","../cons/simpleCons"],function(mod,simpleCons){mod.directive("showStr",function($state,$rootScope,$templateCache,$uibModal,$filter){return{restrict:"E",replace:!0,scope:{str:"=",split:"=",title:"=",size:"=",btn_str:"=btnStr"},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"show_str.html"),link:function($scope,$element,$attrs){var supscope=$scope;$scope.btn_str||($scope.split&&!angular.isArray($scope.str)?$scope.btn_str=$scope.str.split($scope.split)[0]+"..":$scope.btn_str=$scope.str+".."),$scope.show=function(){$uibModal.open({templateUrl:"show_str_tmp.html",controller:function($scope,$uibModalInstance){supscope.str?$scope.str=supscope.str.split(supscope.split):$scope.str=angular.isArray(supscope.str)?supscope.str:[supscope.str],$scope.title=supscope.title||"查看",$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:supscope.size||""})}}}})}),define("directives/thumb",["../directives/directives","../cons/simpleCons"],function(mod,simpleCons){mod.directive("ngThumb",["$window",function($window){var helper={support:!(!$window.FileReader||!$window.CanvasRenderingContext2D),isFile:function(item){return angular.isObject(item)&&item instanceof $window.File},isImage:function(file){return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf("|"+file.type.slice(file.type.lastIndexOf("/")+1)+"|")}};return{restrict:"A",template:"<canvas/>",link:function(scope,element,attributes){function onLoadFile(event){var img=new Image;img.onload=onLoadImage,img.src=event.target.result}function onLoadImage(){params.itemobj.width=this.width,params.itemobj.height=this.height;var width=params.width||this.width/this.height*params.height,height=params.height||this.height/this.width*params.width;width=width<=250?width:250,height=width<=250?height:this.height/this.width*width,canvas.attr({width:width,height:height}),canvas[0].getContext("2d").drawImage(this,0,0,width,height)}if(helper.support){var params=scope.$eval(attributes.ngThumb);if(helper.isFile(params.file)&&helper.isImage(params.file)){var canvas=element.find("canvas"),reader=new FileReader;reader.onload=onLoadFile,reader.readAsDataURL(params.file)}}}}}])}),define("directives/common_form",["../directives/directives","../cons/simpleCons"],function(mod,simpleCons){mod.directive("commonForm",function($rootScope,$state,$http,$uibModal,$filter,widget,$templateCache){return{restrict:"E",scope:{form_param:"=formParam",form_init_data:"=formInitData",form_extra_data:"=formExtraData",form_url:"=formUrl",form_method:"@formMethod",form_param_id:"@formParamId",form_title:"=formTitle",callback:"&callback",btnClass:"@"},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"common_form.html"),link:function($scope,$element,$attrs){var sup_scope=$scope;sup_scope.callback=$scope.callback,$scope.$watch("form_param",function(value){$scope.form_data=angular.copy($scope.form_param),$scope.form_init_data&&angular.forEach($scope.form_param,function(param_val,param_key){angular.forEach($scope.form_init_data,function(val,key){param_val.key==key&&($scope.form_data[param_key].val=val)}),angular.forEach($scope.form_extra_data,function(val,key){param_val.key==key&&($scope.form_data[param_key].val=val)})})}),$scope.open=function(){var modalInstance=$uibModal.open({templateUrl:"form_data.html",controller:function($scope,$uibModalInstance){$scope.form_data=sup_scope.form_data,$scope.form_url=sup_scope.form_url,$scope.form_title=sup_scope.form_title,$scope.form_method=sup_scope.form_method,$scope.form_param_id=sup_scope.form_param_id||"",$scope.submit=function(){$rootScope.loading=!0,$scope.post_data={};var keepGoing=!0;if(angular.forEach($scope.form_data,function(v,k){keepGoing&&(v.allownull||v.val||v.isprimary?v.val&&eval("$scope.post_data."+v.key+'="'+v.val+'"'):(widget.msgToast(v.name+"不允许为空"),$rootScope.loading=!1,keepGoing=!1))}),!keepGoing)return!1;widget.ajaxRequest({method:$scope.form_method,url:$scope.form_url+$scope.form_param_id,scope:$scope,data:$scope.post_data,success:function(json){sup_scope.callback()(),$rootScope.loading=!1,$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}}})}),define("directives/common_list",["../directives/directives","../cons/simpleCons"],function(mod,simpleCons){mod.directive("commonList",function($rootScope,$state,$http,$uibModal,$filter,widget,$templateCache){return{restrict:"E",replace:!0,scope:{res_head:"=resHead",res_data:"=resData",res_extra:"=resExtra"},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_LIST_PATH+"common_list.html"),link:function($scope,$element,$attrs){$scope.$watch("res_head",function(newval){newval&&angular.forEach(newval,function(val,key){if(!val.name)throw $scope.msg="res_head name 不存在！",widget.msgToast($scope.msg),new Error($scope.msg);if(!val.key&&!val.template&&!val.on)throw $scope.msg=val.name+"的 key, tamplate, on 不存在！",widget.msgToast($scope.msg),new Error($scope.msg)})})}}})}),define("directives/baidumap",["../directives/directives","../cons/simpleCons"],function(mod,simpleCons){mod.directive("baidumap",function($rootScope,$state,$http,$uibModal,$filter,widget,$templateCache,$timeout){return{restrict:"E",replace:!0,scope:{mapData:"=",callback:"&"},template:'<div id="baidumap" style="width: 100%;height:100%;overflow: hidden;margin:0;"></div>',link:function($scope,$element,$attrs){var map=new BMap.Map("baidumap"),count=0,point=null,marker1=null;$scope.$watch("mapData",function(val){$scope.lng=val.lng,$scope.lat=val.lat,$scope.city=val.city,$scope.address=val.address,$scope.district=val.district,$scope.timeStamp=val.timeStamp,$scope.index=val.index,$scope.callback()},!0),$scope.$watch("city",function(value){if($scope.city||map.centerAndZoom("上海市",12),count>0&&(count++,map.centerAndZoom($scope.city||"上海市",12)),0==count){count++,point=new BMap.Point($scope.lng,$scope.lat),map.centerAndZoom($scope.city,8),setTimeout(function(){map.centerAndZoom(point,16),map.setZoom(16)},2e3),map.enableScrollWheelZoom(!0),map.addControl(new BMap.CityListControl({anchor:BMAP_ANCHOR_TOP_RIGHT,offset:new BMap.Size(10,20)}));var marker=new BMap.Marker(point);map.addOverlay(marker),map.addEventListener("click",function(e){(new BMap.Geocoder).getLocation(e.point,function(rs){$scope.$apply(function(){$scope.mapData.lng=e.point.lng,$scope.mapData.lat=e.point.lat,$scope.mapData.address=rs.address,$scope.mapData.district=rs.addressComponents.district,$scope.mapData.city=rs.addressComponents.city})}),map.removeOverlay(marker1),marker1=new BMap.Marker(e.point),map.addOverlay(marker1),marker1.setAnimation(BMAP_ANIMATION_BOUNCE)})}});var myGeo=null;$scope.$watch("timeStamp",function(newval){if(!newval)return!1;myGeo=new BMap.Geocoder,myGeo.getPoint($scope.address,function(point){
point?(myGeo.getLocation(point,function(rs){$timeout(function(){$scope.$apply(function(){$scope.mapData.lng=rs.point.lng,$scope.mapData.lat=rs.point.lat,$scope.mapData.district=rs.addressComponents.district,$scope.mapData.city=rs.addressComponents.city})},200)}),map.removeOverlay(marker1),map.centerAndZoom(point,16),marker1=new BMap.Marker(point),map.addOverlay(marker1),marker1.setAnimation(BMAP_ANIMATION_BOUNCE)):$timeout(function(){$scope.$apply(function(){$scope.mapData.lng="",$scope.mapData.lat="",$scope.mapData.district="",$scope.mapData.city=""})},200)},$scope.city||"")})}}})}),define("directives/product/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("productPattern",function($templateCache){return{restrict:"AE",replace:!1,scope:{data:"="},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"product/product-pattern.html"),link:function($scope,$element,$attrs){$scope.cities=[],$scope.data.citys&&angular.forEach($scope.data.citys,function(val){$scope.cities.push(val.city_name)})}}}).directive("groupbuyPattern",function($templateCache,$filter,$compile){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="txt"></p>',link:function($scope,$element,$attrs){$scope.data&&1==$scope.data.category||!$scope.data||2!=$scope.data.category&&4!=$scope.data.category||($scope.txt=2==$scope.data.category?"人数团":4==$scope.data.category?"人数团+直接买":"",$scope.txt+=$scope.data.group_seconds?"<br/>拼团有效时间:"+$filter("second2hour")($scope.data.group_seconds)+"小时":"",$scope.txt+=$scope.data.group_end_time?"<br/>拼团时长:"+$filter("remaining_time")($scope.data.group_end_time,$scope.data.created_at):"",$scope.txt+=$scope.data.groupbuy_end_type?"<br/>结束类型:"+$filter("groupbuy_end_type")($scope.data.groupbuy_end_type):"",$scope.txt+="<br/>人数:"+$scope.data.group_min_num,$scope.txt+="<br/>单价:"+$scope.data.price),$element.find(".txt").html($scope.txt),$compile($element.contents())($scope)}}}).directive("productChangeStatus",function($templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="change-status"></p>',link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";1==$scope.data.status?(status_title="下线",status_text="ng-bind=\"'下线商品'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(3);"',$scope.show_text=!0):3==$scope.data.status&&(status_title="上线",status_text="ng-bind=\"'上线商品'\"",class_text='ng-class={"btn-primary":true} ',click_text='ng-click="change(1);"',$scope.show_text=!0),$scope.change=function(status){confirm("确认修改为"+status_title+"状态?")&&widget.ajaxRequest({url:"/products/"+$scope.data.product_id||0,method:"patch",scope:$scope,data:{status:status},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})};var content='<a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+' ng-show="show_text" show-role="\'admin,op\'"></a>';$element.find(".change-status").html(content),$compile($element.contents())($scope)}}}).directive("changeProductType",function($templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="change-product-type"  show-role="admin"></p>',link:function($scope,$element,$attrs){var product_type_text="",click_text="",class_text="",product_type_title="";1==$scope.data.product_type?(product_type_title="测试",product_type_text="ng-bind=\"'正式'\"",class_text='ng-class={"btn-primary":true} ',click_text='ng-click="change(2);"',$scope.show_text=!0):2==$scope.data.product_type&&(product_type_title="正式",product_type_text="ng-bind=\"'测试'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(1);"',$scope.show_text=!0),$scope.change=function(product_type){confirm("确认修改为"+product_type_title+"数据?")&&widget.ajaxRequest({url:"/products/"+($scope.data.product_id||0)+"/prodtype",method:"PUT",scope:$scope,data:{product_type:product_type},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})};var content='<a class="btn btn-rounded btn-sm"'+class_text+product_type_text+click_text+' ng-show="show_text" show-role="\'admin,op\'"></a>';$element.find(".change-product-type").html(content),$compile($element.contents())($scope)}}}).directive("productEdit",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="product-edit"></p>',link:function($scope,$element,$attrs){var content="";$scope.isActProduct=3==$scope.data.sku?".act":"",content="admin,op".indexOf($rootScope.hjm.role)>-1?'<a class="btn btn-success btn-rounded btn-sm"ui-sref="main.product'+$scope.isActProduct+".update({product_id:"+$scope.data.product_id+'})" show-role="\'admin,op\'" >编辑</a>':'<a class="btn btn-info btn-rounded btn-sm"ui-sref="main.product'+$scope.isActProduct+".update({product_id:"+$scope.data.product_id+'})" show-role="\'!admin,op\'" >详情</a>',$element.find(".product-edit").html(content),$compile($element.contents())($scope)}}}).directive("actEdit",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"=",callback:"&"},template:'<p class="act-edit"></p>',link:function($scope,$element,$attrs){var content="";content="admin,op".indexOf($rootScope.hjm.role)>-1?'<a class="btn btn-success btn-rounded btn-sm"ui-sref="main.act.update({product_id:'+$scope.data.product_id+'})" show-role="\'admin,op\'" >编辑</a>':'<a class="btn btn-info btn-rounded btn-sm"ui-sref="main.act.update({product_id:'+$scope.data.product_id+'})" show-role="\'!admin,op\'" >详情</a>',$element.find(".act-edit").html(content),$compile($element.contents())($scope)}}}).directive("actCopy",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="act-copy"></p>',link:function($scope,$element,$attrs){var content='<a class="btn btn-success btn-rounded btn-sm"ui-sref="main.act.copy({product_id:'+$scope.data.product_id+'})" >复制</a>';$element.find(".act-copy").html(content),$compile($element.contents())($scope)}}}).directive("productAdd",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-success btn-rounded btn-sm pull-right" style="margin-top: -5.5px;margin-left: 5px;" ui-sref="main.product.add" show-role="\'admin,op\'" >新增商品</a>',link:function($scope,$element,$attrs){}}}).directive("productActAdd",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-success btn-rounded btn-sm pull-right" style="margin-top: -5.5px;margin-left: 5px;" ui-sref="main.product.act.add" show-role="\'admin,op\'" >新增活动类商品</a>',link:function($scope,$element,$attrs){}}}).directive("actAdd",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-success btn-rounded btn-sm pull-right" style="margin-top: -5.5px;" ui-sref="main.act.add" show-role="\'admin,op\'" >新增活动</a>',link:function($scope,$element,$attrs){}}}).directive("productOption",function($templateCache){return{restrict:"AE",replace:!1,scope:{data:"="},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"product/product-option.html"),link:function($scope,$element,$attrs){}}}).directive("productOrderCopies",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-rounded btn-sm btn-info" ng-bind="data.order.order_copies||0" ng-click="show_order_copies()" ></a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_order_copies=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){widget.ajaxRequest({url:"/products/"+(supscope.data.product_id||0)+"/options",method:"get",scope:$scope,data:{count:200},success:function(json){$scope.rtn_json=json.data}}),$scope.tmpl='<div class="form-horizontal" name="FormBody" novalidate> <div form-table ng-model="rtn_json" config="{readonly:\'true\',orderBy:\'[option_type,order_by]\'}"'+"columns=\"[{'name': 'ID', 'field': 'option_id','hide':'true'},{'name': '活动类型', 'field': 'option_type','filter':'product_category',readonly:'true'},{'name': '排序', 'field': 'order_by',readonly:'true'},{'name': '类目ID', 'field': 'option_id',readonly:'true'},{'name': '类目', 'field': 'option_name',readonly:'true'},{'name': '价格', 'field': 'option_price',readonly:'true'},{'name': '剩余库存', 'field': 'left_inventory',readonly:'true'},{'name': '已售库存', 'field': 'used_count',readonly:'true'},{'name': '库存', 'field': 'option_inventory',readonly:'true'},{'name': '状态', 'field': 'option_status',filter:'product_option_status',readonly:'true'}]\"></div></div>",$scope.title="类目详情",$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("actChangeNotice",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-rounded btn-sm btn-warning" ng-click="show_act_change_notice()" >活动开始通知</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_act_change_notice=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="发送活动开始通知",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate disabled-role="\'admin,op\'" ><h4>报名用户会收到活动开始通知（微信／短信），请确认无误后操作。</h4><div form-date-time text="活动开始时间" ng-model="param.act_start_time" ng-disabled="true"></div><div form-date-time text="活动结束时间" ng-model="param.act_end_time" ng-disabled="true"></div><div form-input text="活动地址" ng-model="param.act_address" ng-disabled="true"></div><div form-input text="详细地址" ng-model="param.act_detailed_address" ng-disabled="true"></div><a class="btn btn-success btn-rounded pull-right" ng-click="submit()">确定</a></form>',$timeout(function(){$scope.param=supscope.data},0),$scope.submit=function(){widget.ajaxRequest({url:"/products/"+(supscope.data.product_id||0)+"/notify",method:"PUT",scope:$scope,data:{},success:function(json){widget.msgToast("发送活动开始通知成功!")}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("actCrowdfunding",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p><a class="btn btn-rounded btn-sm btn-warning" ng-click="show_act_crowdfunding()" ng-show="data.category==3&&is_show">发送众筹结果通知</a></p>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.is_show=!0,3==$scope.data.category&&"已结束"!=$filter("remaining_time")(supscope.data.act_apply_end_time)&&0!=$filter("arraySum")($scope.data.options,"left_inventory")&&($scope.is_show=!1),$scope.show_act_crowdfunding=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="发送众筹结果通知",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate ><h4>请选择该众筹结果，操作完成后，报名用户会收到消息提醒；若众筹失败，则该活动订单会全部自动取消！请确认无误后再操作。</h4><div form-radio text="众筹结果" ng-model="param.act_result" ng-disabled="disabled_act_result" source="[{text:\'众筹成功\',value:\'1\'},{text:\'众筹失败\',value:\'2\'}]" ></div><div form-textarea text="失败原因" ng-model="param.act_update_reason" ng-show="param.act_result==2" data-placeholder="请填写失败原因，不超过30个字"></div><a class="btn btn-success btn-rounded pull-right" ng-click="submit()">确定</a></form>',$timeout(function(){$scope.param={product_id:supscope.data.product_id}},0),$scope.$watch("param.act_result",function(val){val&&1==val&&($scope.param.act_update_reason="")}),$scope.submit=function(){return $scope.param.act_result?2==$scope.param.act_result&&""==$scope.param.act_update_reason?(widget.msgToast("众筹失败要写原因"),!1):$scope.param.act_update_reason&&$scope.param.act_update_reason.length>30?(widget.msgToast("众筹失败原因字数要在30个以内"),!1):void widget.ajaxRequest({url:"/products/"+(supscope.data.product_id||0)+"/crowdfunding",method:"PUT",scope:$scope,data:$scope.param,success:function(json){$scope.rtn_json=json.data,widget.msgToast("发送众筹结果通知成功")},failure:function(json){widget.msgToast(json.message),$scope.cancel()}}):(widget.msgToast("没有选择众筹结果"),!1)},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}}}).directive("actOrderCopies",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-info btn-rounded btn-sm" ng-click="show();" ng-bind="text"></a>',link:function($scope,$element,$attrs){$scope.text=($scope.data.order||{}).order_count||0,$scope.ext={product_id:$scope.data.product_id};var supscope=$scope;$scope.show=function(){$uibModal.open({template:'<div hjm-grid modid="orderList" config="config_by_act_2" columns="columns_by_act" ext-search="ext"></div>',controller:function($scope,$uibModalInstance){$scope.ext=supscope.ext,$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("weinxiView",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-rounded btn-link" ng-click="show_weixin_view()" style="padding-left: 0;">微信活动链接</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_weixin_view=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="微信活动链接",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-textarea text="链接地址" ng-model="link"></div><a class="btn btn-warning btn-rounded pull-right" ng-click="cancel()">关闭</a></form>',$timeout(function(){$scope.link=simpleCons.wx_domain+"/product/detail/product_id/"+supscope.data.product_id},0),$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("accountIdToName",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<span ng-bind="account_name"></span>',link:function($scope,$element,$attrs){angular.forEach($rootScope.account_list,function(val){val.account_id==$scope.data.account_id&&($scope.account_name="活动负责人:"+val.username)}),$scope.account_name||($scope.account_name="活动负责人ID:"+$scope.data.account_id)}}})}),define("directives/groupbuy/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("groupbuyOrderCopies",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-info btn-rounded btn-sm" ng-click="show();" ng-bind="text" ng-show="text"></a>',link:function($scope,$element,$attrs){$scope.text=(($scope.data.order||{}).count||0)+"/"+(($scope.data.allorder||{}).count||0),$scope.ext={groupbuy_id:$scope.data.groupbuy_id};var supscope=$scope;$scope.show=function(){$uibModal.open({template:'<div hjm-grid modid="orderList" config="config_by_groupbuy" columns="columns_by_groupbuy" ext-search="ext"></div>',controller:function($scope,$uibModalInstance){$scope.ext=supscope.ext,$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("groupbuyOrder",function($templateCache,$filter,$compile){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="txt"></p>',link:function($scope,$element,$attrs){$scope.data&&($scope.txt=$scope.data.user&&$scope.data.user.name?"微信昵称:"+$scope.data.user.name:"",$scope.txt+=$scope.data.address&&$scope.data.address.contact_name?"<br/>\n联系人:"+$scope.data.address.contact_name:"",$scope.txt+=$scope.data.address&&$scope.data.address.contact_mobile?"<br/>手机:"+$scope.data.address.contact_mobile:"",$scope.txt+=$scope.data.address&&$scope.data.address.created_at?"<br/>开团时间<br/>"+$scope.data.address.created_at:"",$scope.txt+=$scope.data.accomplish_time?"<br/>成团时间<br/>"+$scope.data.accomplish_time:"",$element.find(".txt").html($scope.txt),$compile($element.contents())($scope))}}}).directive("groupbuyAccomplishStatus",function($templateCache,$filter,$compile){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="txt"></p>',link:function($scope,$element,$attrs){if($scope.txt="",$scope.data){switch(Number($scope.data.accomplish_status)){case 1:$scope.txt='<uib-progressbar class="active" value="warning" type="warning">开团</uib-progressbar>';break;case 2:$scope.txt='<uib-progressbar class="progress-striped active" value="90" type="primary">进行中</uib-progressbar>';break;case 3:$scope.txt='<uib-progressbar class="active" value="success" type="success">已完成</uib-progressbar>';break;case 4:$scope.txt='<uib-progressbar class="active" value="warning" type="danger">已取消</uib-progressbar>'}$element.find(".txt").html($scope.txt),$compile($element.contents())($scope)}}}}).directive("groupbuyChange",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-rounded btn-sm btn-warning" ng-click="show_groupbuy_change()" ng-disabled="data.accomplish_status != 2">修改成团人数结束时间</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_groupbuy_change=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="修改成团人数结束时间",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate disabled-role="\'admin,op\'" ><div form-input text="ID" ng-model="param.groupbuy_id" ng-disabled="true"></div><div form-date-time text="拼团结束时间" ng-model="param.group_end_time"></div><div form-input text="拼团人数" ng-model="param.group_min_num"></div><a class="btn btn-success btn-rounded pull-right" ng-click="submit()">确定</a></form>',$timeout(function(){$scope.param=supscope.data},0),$scope.submit=function(){if(!confirm("确认要修改成团人数结束时间吗?"))return!1;var paramJson={groupbuy_id:$scope.param.groupbuy_id,group_end_time:$scope.param.group_end_time,group_min_num:$scope.param.group_min_num};widget.ajaxRequest({url:"/groupbuys",method:"PUT",scope:$scope,data:paramJson,success:function(json){widget.msgToast("修改成团人数结束时间成功!"),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}})}),define("directives/order/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("orderCancel",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="order-cancel" ></p>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_cancel_order=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-textarea text="取消原因" ng-model="cancel_reason" placeholder = "取消原因" required = "true" > </div > <div form-radio text="取消来源" ng-model="cancel_from" required="true" default="1"source="[{text:\'块长取消\',value:1},{text:\'用户反馈取消\',value:2},{text:\'测试取消\',value:3}]"></div><a class="btn btn-primary btn-rounded pull-right " ng-click="cancel_order()">确定</a></form>',$scope.title="取消订单",$scope.cancel_order=function(){confirm("确认取消订单吗?")&&widget.ajaxRequest({url:"/orders/"+supscope.data.order_id||0,method:"delete",scope:$scope,data:{cancel_reason:$scope.cancel_reason,cancel_from:$scope.cancel_from},success:function(json){widget.msgToast("修改成功,请刷新查看"),supscope.$parent.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})};$element.find(".order-cancel").html('<a class="btn btn-warning btn-rounded btn-sm" ng-click="show_cancel_order();" ng-show="data.order_status!==1&&data.order_status!==2&&data.order_status!==6">取消订单</a>'),$compile($element.contents())($scope)}}}).directive("orderDeliveries",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="order-deliveries" ></p>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_deliveries=function(){if(!$scope.data.deliveries||0==$scope.data.deliveries.length)return widget.msgToast("没有子订单"),!1;$uibModal.open({template:'<div hjm-grid modid="deliveryList" config="configByOrder" columns="columnsByOrder" ext-api="extApi"></div>',controller:function($scope,$uibModalInstance){$scope.extApi="/orders/"+supscope.data.order_id+"/deliveries"},size:"lg"})};$element.find(".order-deliveries").html('<a class="btn btn-info btn-rounded btn-sm" ng-click="show_deliveries();" ng-bind="data.deliveries.length">子订单</a>'),$compile($element.contents())($scope)}}}).directive("orderChangeAddress",function($templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="order-change-address" ></p>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_order_change_address=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$timeout(function(){$scope.address={contact_name:supscope.data.address.contact_name,contact_mobile:supscope.data.address.contact_mobile,city_name:supscope.data.address.city_name,community_name:supscope.data.address.community_name,community_id:supscope.data.address.community_id,address:supscope.data.address.address,district:supscope.data.address.district,poi_type:supscope.data.address.poi_type,province:supscope.data.address.province,baby_name:supscope.data.address.baby_name,baby_id_card:supscope.data.address.baby_id_card,email:supscope.data.address.email}},0),$scope.remoteUrlRequestFn=function(str){return{count:50,page:1,poi_type:1,city_name:supscope.data.address.city_name,keyword:str}},$scope.selectedCommunity=function(selected){selected?($scope.address.community_name=selected.originalObject.name,$scope.address.community_id=selected.originalObject.community_id,$scope.address.district=selected.originalObject.district,$scope.address.poi_type=selected.originalObject.poi_type,$scope.address.province=selected.originalObject.city&&selected.originalObject.city.province):($scope.address.community_name=null,$scope.address.community_id=null,$scope.address.district=null,$scope.address.poi_type=null,$scope.address.province=null)},$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-input text="联系人" ng-model="address.contact_name" placeholder = "联系人" required = "true" > </div > <div form-input text="手机号" ng-model="address.contact_mobile" placeholder = "手机号" required = "true" > </div > <div form-input text="邮箱" ng-model="address.email" placeholder = "邮箱" required = "true" > </div > <div form-input text="孩子姓名" ng-model="address.baby_name" placeholder = "孩子姓名" required = "true" > </div > <div form-input text="孩子身份证" ng-model="address.baby_id_card" placeholder = "孩子身份证" required = "true" > </div > <div form-input text="城市" ng-model="address.city_name" placeholder = "城市" required = "true" > </div > <div class="form-group"><style>.angucomplete-dropdown {overflow-y: auto;max-height: 250px;}</style><label class="col-sm-2 control-label">小区／办公楼<span class="form_label_dangus">*</span></label><p class="form-control-static col-sm-4" ng-bind="address.community_name"></p><div class="col-sm-4"><angucomplete-alt id="ex5"placeholder="搜索小区"pause="100"selected-object="selectedCommunity"remote-url="'+simpleCons.domain+'/communities"remote-url-request-formatter="remoteUrlRequestFn"remote-url-data-field="data"title-field="name"search-fields="keyword"description-field="address"minlength="1"input-class="form-control form-control-small" match-class="highlight" override-suggestions="true" clear-selected="true"/></div></div><div form-textarea text="详细地址" ng-model="address.address" placeholder = "详细地址" required = "true" > </div > <a class="btn btn-primary btn-rounded pull-right" ng-click="cancel_order()">确定</a></form>',$scope.title="修改收货地址",$scope.cancel_order=function(){var err=0;if(angular.forEach($scope.address,function(val,key){null!=val&&void 0!=val||err++}),err>0)return widget.msgToast("有数据为填写完整"),!1;confirm("确认修改收货地址吗?")&&widget.ajaxRequest({url:"/orders/"+(supscope.data.order_id||0)+"/addresses/"+(supscope.data.address&&supscope.data.address.order_address_id||0),method:"put",scope:$scope,data:$scope.address,success:function(json){widget.msgToast("修改成功,请刷新查看"),supscope.$parent.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})};$element.find(".order-change-address").html('<a class="btn btn-primary btn-rounded btn-sm" ng-click="show_order_change_address();">修改收货地址</a>'),$compile($element.contents())($scope)}}}).directive("orderChangeAddressOfAct",function($templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="order-change-address-of-act" ></p>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_order_change_address=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$timeout(function(){$scope.address={contact_name:supscope.data.address.contact_name,contact_mobile:supscope.data.address.contact_mobile}},0),$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-input text="联系人" ng-model="address.contact_name" placeholder = "联系人" required = "true" > </div > <div form-input text="手机号" ng-model="address.contact_mobile" placeholder = "手机号" required = "true" > </div > <a class="btn btn-primary btn-rounded pull-right" ng-click="cancel_order()">确定</a></form>',$scope.title="修改收货信息",$scope.cancel_order=function(){var err=0;if(angular.forEach($scope.address,function(val,key){null!=val&&void 0!=val||err++}),err>0)return widget.msgToast("有数据为填写完整"),!1;confirm("确认修改收货信息吗?")&&widget.ajaxRequest({url:"/orders/"+(supscope.data.order_id||0)+"/addresses/"+(supscope.data.address&&supscope.data.address.order_address_id||0),method:"put",scope:$scope,data:$scope.address,success:function(json){widget.msgToast("修改成功,请刷新查看"),supscope.$parent.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})};var content="";$scope.data.delivery_type&&3!==$scope.data.delivery_type?(content='<div order-change-address data="data"></div>',$element.find(".order-change-address-of-act").html(content),$compile($element.contents())($scope)):(content='<a class="btn btn-primary btn-rounded btn-sm" ng-click="show_order_change_address();">修改收货地址</a>',$element.find(".order-change-address-of-act").html(content),$compile($element.contents())($scope))}}}).directive("orderChangePattern",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="order-change-pattern" ></p>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_order_change_pattern=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="修改配送时间类型",$scope.pattern_id=supscope.data.pattern.pattern_id;var source="[";if(!(supscope.data&&supscope.data.product&&supscope.data.product.patterns))return widget.msgToast("没有配送模式可以选择"),!1;angular.forEach(supscope.data.product.patterns,function(val,key){source+="{text:'"+$filter("num2week")(val.arrive_pm)+"',value:'"+val.pattern_id+"'},"}),source+="]",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-radio text="配送时间" type="radio" ng-model="pattern_id" required="true"source="'+source+'" source-api="" default="'+supscope.data.pattern.pattern_id+'"></div><a class="btn btn-primary btn-rounded pull-right" ng-click="change_pattern()">确定</a></form>',$scope.change_pattern=function(){confirm("确认修改配送时间类型吗?")&&widget.ajaxRequest({url:"/orders/"+(supscope.data.order_id||0)+"/pattern",method:"PUT",scope:$scope,data:{pattern_id:$scope.pattern_id},success:function(json){widget.msgToast("修改成功,请刷新查看"),supscope.$parent.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})};$element.find(".order-change-pattern").html('<a class="btn btn-primary btn-rounded btn-sm" ng-click="show_order_change_pattern();" ng-show="data.pattern">修改配送时间</a>'),$compile($element.contents())($scope)}}}).directive("orderChangeRemark",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="order-change-remark" ></p>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_order_change_remark=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="修改订单备注",$scope.remark=supscope.data&&supscope.data.remark||"",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-textarea="" text="订单备注" ng-model="remark" required="true"></div><a class="btn btn-primary btn-rounded pull-right" ng-click="change_remark()">确定</a></form>',$scope.change_remark=function(){confirm("确认修改订单备注吗?")&&widget.ajaxRequest({url:"/orders/"+(supscope.data.order_id||0),method:"PATCH",scope:$scope,data:{remark:$scope.remark},success:function(json){widget.msgToast("修改成功,请刷新查看"),supscope.$parent.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})};$element.find(".order-change-remark").html('<a class="btn btn-primary btn-rounded btn-sm" ng-click="show_order_change_remark();">修改订单备注</a>'),$compile($element.contents())($scope)}}}).directive("orderSelfIntroduction",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="order-self-introduction" ></p>',link:function($scope,$element,$attrs){var supscope=$scope;if($scope.show_order_self_introduction=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="个人介绍",$scope.form1=supscope.data.form1,$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-textarea="" text="个人介绍" ng-model="form1"></div></form>',$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})},supscope.data.form1){$element.find(".order-self-introduction").html('<a class="btn btn-primary btn-rounded btn-sm" ng-click="show_order_self_introduction();">个人介绍</a>'),$compile($element.contents())($scope)}}}}).directive("orderValueExplain",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="order-value-explain" ></p>',link:function($scope,$element,$attrs){var supscope=$scope;if($scope.show_order_value_explain=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="价值说明",$scope.form2=supscope.data.form2,$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-textarea="" text="价值说明" ng-model="form2"></div></form>',$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})},supscope.data.form2){$element.find(".order-value-explain").html('<a class="btn btn-primary btn-rounded btn-sm" ng-click="show_order_value_explain();">价值说明</a>'),$compile($element.contents())($scope)}}}})}),define("directives/deliveries/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){
mod.directive("changeDeliveriesStatus",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!0,template:' <a class="btn btn-primary btn-rounded btn-sm" ng-click="show_deliveries_change_status();">修改子订单状态</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_deliveries_change_status=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="修改子订单状态",$scope.data=supscope.data,$scope.delivery_ids=[],angular.forEach($scope.data,function(val,key){val._checked&&$scope.delivery_ids.push(val.delivery_id)});$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-radio text="修改状态为" type="radio" ng-model="delivery_status" required="true"source="[{text:\'待发货\',value:1},{text:\'已发货\',value:2},{text:\'已签收\',value:3}]" default=""></div><a class="btn btn-primary btn-rounded pull-right" ng-click="change_deliveries_status()">确定</a></form>',$scope.change_deliveries_status=function(){return 0==$scope.delivery_ids.length?(widget.msgToast("没有选中任何一个子订单"),!1):$scope.delivery_status?void(confirm("确认修改子订单状态吗?")&&widget.ajaxRequest({url:"/orders/deliveries",method:"PUT",scope:$scope,data:{delivery_ids:$scope.delivery_ids,delivery_status:$scope.delivery_status},success:function(json){widget.msgToast("修改成功,请刷新查看"),supscope.searchAction(),$scope.cancel()}})):(widget.msgToast("没有选中任何一种状态"),!1)},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("deliverDelay",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!0,scope:{data:"="},template:' <a class="btn btn-primary btn-rounded btn-sm" ng-click="show_deliver_delay();" ng-disabled="disabled">延迟一周配送</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.data.expect_date?$scope.disabled=!1:$scope.disabled=!0,$scope.show_deliver_delay=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="延迟一周配送",$scope.data=supscope.data,$scope.expect_date=$scope.data.expect_date,$scope.expect_date_new=$scope.expect_date?new Date(Date.parse($scope.expect_date)+6048e5):"",$scope.tmpl='<div class="form-horizontal" name="FormBody" novalidate><h5>当前子订单、及后续子订单配送时间都会顺延，是否确定延迟一周配送？</h5><h5>当前子订单预计配送时间：<span ng-bind="expect_date|limitTo :10"></span></h5><h5>延迟一周后预计配送时间：<span ng-bind="expect_date_new | date:\'yyyy-MM-dd\'"></span></h5><div class="panel panel-primary"><div class="panel-body"></div></div><a class="btn btn-primary btn-rounded pull-right" ng-click="deliver_delay()">确定</a></form>',$scope.deliver_delay=function(){widget.ajaxRequest({url:"/orders/deliveries/"+supscope.data.delivery_id+"/delay",method:"PUT",scope:$scope,data:{},success:function(json){widget.msgToast("已经修改为延迟一周配送,请刷新查看"),supscope.$parent.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}}})}),define("directives/banner/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("bannerUpdate",function($templateCache,$filter,$compile,widget,$state,$rootScope){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<p><a class="btn btn-success btn-rounded btn-sm" ng-click="update();">编辑</a></p>',link:function($scope,$element,$attrs){$scope.update=function(){$state.go("main.banner.update",{banner_id:$scope.data.banner_id})}}}}).directive("bannerChangeStatus",function($templateCache,$filter,$compile,widget){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="change-status" ></p>',link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";1==$scope.data.status?(status_title="下线",status_text="ng-bind=\"'下线'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(2);"',$scope.show_text=!0):2==$scope.data.status?(status_title="上线",status_text="ng-bind=\"'上线'\"",class_text='ng-class={"btn-primary":true} ',click_text='ng-click="change(1);"',$scope.show_text=!0):$scope.show_text=!1,$scope.change=function(status){confirm("确认修改为"+status_title+"状态?")&&widget.ajaxRequest({url:"/banners/"+$scope.data.banner_id||0,method:"patch",scope:$scope,data:{status:status},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})};var content='<a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+' ng-show="show_text"></a>';$element.find(".change-status").html(content),$compile($element.contents())($scope)}}})}),define("directives/user/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("userAddress",function(widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-info btn-rounded btn-sm" ng-click="show_user_address()" ng-bind="data.address.count || 0"></a>',link:function($scope,$element,$attrs){var supScope=$scope;$scope.show_user_address=function(status){$uibModal.open({template:'<div hjm-grid modid="addressList" config="config" columns="columns" ext-api="extApi"></div>',controller:function($scope,$uibModalInstance){$scope.extApi="",supScope.data.user_id&&($scope.extApi="/users/"+supScope.data.user_id+"/addresses"),$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("userOrder",function(widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-info btn-rounded btn-sm" ng-click="show_user_order()" ng-bind="data.order.count || 0"></a>',link:function($scope,$element,$attrs){var supScope=$scope;$scope.show_user_order=function(status){$uibModal.open({template:'<div hjm-grid modid="orderList" config="config_by_user" columns="columns_by_user" ext-search="extSearch"></div>',controller:function($scope,$uibModalInstance){$scope.extApi="",supScope.data.user_id&&($scope.extSearch={user_id:supScope.data.user_id}),$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("userCoupon",function(widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-info btn-rounded btn-sm" ng-click="show_user_coupon()" ng-bind="data.coupon.count || 0"></a>',link:function($scope,$element,$attrs){var supScope=$scope;$scope.show_user_coupon=function(status){$uibModal.open({template:'<div hjm-grid modid="couponList" config="config_by_user" columns="columns_by_user" ext-api="extApi" ext-search="extSearch"></div>',controller:function($scope,$uibModalInstance){$scope.extApi="",supScope.data.user_id&&($scope.extApi="/users/"+supScope.data.user_id+"/coupons",$scope.extSearch={user_id:supScope.data.user_id}),$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("userToken",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="user-token" ></p>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_user_token=function(){if(-1=="admin,pm".indexOf($rootScope.hjm.role))return widget.msgToast("权限不够"),!1;$uibModal.open({template:'<form modal-panel title="title" tmpl="tmpl"></form>',controller:function($scope,$uibModalInstance){$scope.tmpl='<div class="form-horizontal" name="FormBody" novalidate><div form-textarea text="模拟登陆的URL" ng-model="rtn_url" placeholder = "URL" > </div > </form>',$scope.title="模拟登陆",widget.ajaxRequest({url:"/users/"+supscope.data.user_id+"/token",method:"get",scope:$scope,data:{},success:function(json){$scope.rtn_url=json.data.url}}),$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})};$element.find(".user-token").html('<a class="btn btn-warning btn-rounded btn-sm" ng-click="show_user_token();">模拟登陆</a>'),$compile($element.contents())($scope)}}}).directive("userCaptcha",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:"",link:function($scope,$element,$attrs){var supscope=$scope;$scope.show=function(){$uibModal.open({template:'<form modal-panel title="title" tmpl="tmpl"></form>',controller:function($scope,$uibModalInstance){$scope.tmpl='<div class="form-horizontal" name="FormBody" novalidate><div form-input text="验证码" ng-model="captcha" ng-disabled="true"> </div> </form>',$scope.title="获取验证码",widget.ajaxRequest({url:"/supports/captcha",method:"post",scope:$scope,data:{mobile:supscope.data.mobile},success:function(json){$scope.captcha=json.data.code}}),$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"sm"})};$element.html('<a class="btn btn-primary btn-rounded btn-sm" ng-click="show();">获取验证码</a>'),$compile($element.contents())($scope)}}}).directive("userMobileUnbind",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:"",link:function($scope,$element,$attrs){var supscope=$scope;$scope.show=function(){confirm("确定解绑该用户手机号码")&&widget.ajaxRequest({url:"/users/"+supscope.data.user_id+"/mobile",method:"put",scope:$scope,data:{},success:function(json){supscope.$parent.searchAction()}})},$scope.show_bind_mobile=function(){var mobile=prompt("确定解绑该用户手机号码");mobile&&11==mobile.length&&widget.ajaxRequest({url:"/users/"+supscope.data.user_id+"/mobile",method:"put",scope:$scope,data:{mobile:mobile},success:function(json){supscope.$parent.searchAction()}})};$element.html('<a class="btn btn-warning btn-rounded btn-sm" ng-click="show();" ng-if="data.mobile">解绑手机号</a><a class="btn btn-primary btn-rounded btn-sm" ng-click="show_bind_mobile();" ng-if="!data.mobile">绑定手机号</a>'),$compile($element.contents())($scope)}}}).directive("userBlock",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="user-block" ></p>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_user_block=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-radio ng-model="minute" text="禁言分钟数" required="true" source="[{text:\'15分钟\',value:15},{text:\'1小时\',value:60},{text:\'2小时\',value:120},{text:\'永久\',value:43200},]"></div><div form-input ng-model="minute" text="禁言分钟数" required="true" placeholder="分钟数"></div><a class="btn btn-danger btn-rounded pull-right" ng-click="submit();">确定禁言</a></form>',$scope.title="直播禁言",$scope.submit=function(){widget.ajaxRequest({url:"/users/"+supscope.data.user_id+"/block",method:"put",scope:$scope,data:{minute:$scope.minute},success:function(json){0==json.code&&(widget.msgToast("禁言成功",200),$scope.cancel(),supscope.$parent.$parent.searchAction())}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})};$element.find(".user-block").html('<a class="btn btn-warning btn-rounded btn-sm" ng-click="show_user_block();">直播禁言</a>'),$compile($element.contents())($scope)}}}).directive("vipUserInfoUpdate",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-rounded btn-sm btn-warning" ng-click="show_act_change_notice()" >会员信息更新</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_act_change_notice=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="会员信息更新",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate disabled-role="\'admin,op\'" ><h4>会员信息更新，请确认无误后操作。</h4><div form-input text="会员编号" ng-model="param.vip_number" required="true"></div><div form-input text="会员名称" ng-model="param.name" required="true"></div><div form-radio text="会员类型" ng-model="param.is_vip" default="1"source="[{text:\'仅会员\',value:\'1\'},{text:\'会员+体验会员\',value:\'3\'},{text:\'不限制\',value:\'2\'}]" required="true"></div><div form-input text="手机号码" ng-model="param.mobile" required="true"></div><div form-date-time text="会员开始时间" ng-model="param.vip_start_time" required="true"></div><div form-date-time text="会员结束时间" ng-model="param.vip_end_time" required="true"></div><a class="btn btn-success btn-rounded pull-right" ng-click="submit()">确定</a></form>',$timeout(function(){$scope.param={vip_number:supscope.data.vip_number,name:supscope.data.name,is_vip:supscope.data.is_vip,mobile:supscope.data.mobile,vip_start_time:supscope.data.vip_start_time,vip_end_time:supscope.data.vip_end_time}},0),$scope.submit=function(){widget.ajaxRequest({url:"/users/"+(supscope.data.user_id||0),method:"patch",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("会员信息更新成功!"),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("userLiveBlock",function($templateCache,$rootScope,$compile,widget,$state,$uibModal,$timeout){return{restrict:"AE",replace:!1,scope:{data:"="},template:"",link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",supScope=$scope;$scope.data.block_status=$scope.data.block&&$scope.data.block.block_status||($scope.data.block_expire_time?2:1),1==$scope.data.block_status?("禁止发言",status_text="ng-bind=\"'禁止发言'\"",class_text='ng-class={"btn-danger":true} ',click_text='ng-click="change(1);"'):2==$scope.data.block_status&&("解除禁止",status_text="ng-bind=\"'解除禁止'\"",class_text='ng-class={"btn-success":true} ',click_text='ng-click="change(2);"');var content=' <a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+"></a>";$element.html(content),$compile($element.contents())($scope),$scope.change=function(block_status){$uibModal.open({template:function(){return $templateCache.get("app/"+simpleCons.biz_path+"user/block.html")},controller:function($scope,$uibModalInstance){$scope.param={},$timeout(function(){2==block_status?($scope.block_status=2,$scope.param.minute=0):$scope.block_status=1},0),$scope.$watch("param.minute",function(val){$scope.param.minute=Number($scope.param.minute)}),$scope.submit=function(){if(Number($scope.param.minute)<0)return widget.msgToast("分钟数必须大于0"),!1;widget.ajaxRequest({url:"/users/"+supScope.data.user_id+"/block ",method:"PUT",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("操作成功,请刷新查看"),supScope.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}}})}),define("directives/sms/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("showSms",function($templateCache,$uibModal,$timeout,widget){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-primary btn-rounded btn-sm" ng-click="show_sms();">查看</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_sms=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){widget.ajaxRequest({url:"/markets/sms/"+(supscope.data.id||0),method:"get",scope:$scope,data:{},success:function(json){$scope.mobiles=json.data.mobiles}}),$scope.title="查看发送手机号码",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-textarea text="手机号码" ng-model="mobiles"></div></form>',$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}}})}),define("directives/account/list",["../../directives/directives","../../cons/simpleCons"],function(mod,con){mod.directive("changeRole",function($templateCache,$compile,widget,$state,$uibModal,$rootScope,$timeout,$q){return{restrict:"AE",replace:!0,scope:{data:"="},controller:["$scope",function($scope){this.getMenus=function(callback){var deferred=$q.defer(),promise=deferred.promise;return $scope.source="",widget.ajaxRequest({url:"/accounts/menus/tree",method:"GET",scope:$scope,data:{},success:function(json){deferred.resolve(json)}}),promise}}],template:'<a class="btn btn-success btn-rounded btn-sm" ng-click="show_change_role();">菜单</a>',link:function($scope,$element,$attrs,$ctrl){var supscope=$scope;$scope.show_change_role=function(){function callback(source){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl" callback="callback"></div>',controller:function($scope,$uibModalInstance,$timeout){$scope.tmpl='<style type="text/css">.checkbox-inline{margin-left: 0px;}</style><form class="form-horizontal" name="FormBody" novalidate><div form-checkbox text="角色菜单" type="number" ng-model="menuIds"  source="'+source+'"> </div> <a class="btn btn-primary btn-rounded pull-right" ng-click="change_role()">确定</a></form>',$scope.menu=supscope.data.menus,$scope.menuIds=supscope.menuIds,$scope.menuIds=[],$scope.title="修改角色权限",$timeout(function(){angular.forEach($scope.menu,function(val,key){$scope.menuIds.push(Number(val.menu_id))})},100),$scope.change_role=function(){widget.ajaxRequest({url:"/accounts/roles/"+supscope.data.id,method:"PUT",scope:$scope,data:{menu_ids:$scope.menuIds},success:function(json){widget.msgToast("修改成功,请刷新查看"),supscope.$parent.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}$ctrl.getMenus().then(function(json){$scope.menus=json.data,$scope.source="[",angular.forEach($scope.menus,function(val,key){$scope.source+="{text:'"+val.name+"',value:"+val.id+"},"}),$scope.source+="]",callback($scope.source)})}}}}).directive("showMenu",function($templateCache,$filter,$compile,widget){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="show_menu"></p>',link:function($scope,$element,$attrs){$scope.menu=$filter("arraySub2String")($scope.data,"name");var content='<span ng-bind="menu | characters :20" uib-tooltip="'+$scope.menu+'" tooltip-placement="bottom"></span>';$element.find(".show_menu").html(content),$compile($element.contents())($scope)}}}).directive("updateAccount",function($templateCache,$rootScope,$compile,widget,$state){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p ><a class="btn btn-primary btn-rounded btn-sm" ng-click="updateAccount();" >编辑</a></p> ',link:function($scope,$element,$attrs){$scope.updateAccount=function(){$rootScope?($rootScope.account_obj=$scope.data,$state.go("main.account.update",{account_id:$scope.data.account_id})):widget.msgToast("登录过期,请重新登录")}}}}).directive("changeAccountStatus",function($templateCache,$rootScope,$compile,widget,$state){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="change-account-status"></p>',link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";1==$scope.data.status?(status_title="禁用",status_text="ng-bind=\"'禁用'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(2);"',$scope.show_text=!0):2==$scope.data.status&&(status_title="启用",status_text="ng-bind=\"'启用'\"",class_text='ng-class={"btn-success":true} ',click_text='ng-click="change(1);"',$scope.show_text=!0);var content=' <a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+' ng-show="show_text"></a>';$element.find(".change-account-status").html(content),$compile($element.contents())($scope),$scope.change=function(status){confirm("确认修改为"+status_title+"状态?")&&widget.ajaxRequest({url:"/accounts/"+$scope.data.account_id,method:"put",scope:$scope,data:{status:status},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})}}}}).directive("resetPwd",function($templateCache,$rootScope,$compile,widget,$state,base64){return{restrict:"AE",replace:!1,scope:{data:"=",noState:"="},template:'<p class="reset-pwd"></p>',link:function($scope,$element,$attrs){$element.find(".reset-pwd").html('<a class="btn btn-warning btn-rounded btn-sm" ng-click="resetPwd();" >重置密码</a>'),$compile($element.contents())($scope),$scope.resetPwd=function(){var pwd=window.prompt("请在此输入新密码","");/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}$/.test(pwd)?widget.ajaxRequest({url:"/accounts/"+$scope.data.account_id,method:"PUT",scope:$scope,data:{account_id:$scope.data.account_id,password:pwd,userpass:pwd},success:function(json){widget.msgToast("更新密码成功！"),$scope.noState||$state.go(con.state.main+".account.list")}}):pwd&&widget.msgToast("密码必须包含字母和数字,并8~16位")}}}})}),define("directives/exchangecode/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("exchangecodeExport",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!0,scope:{data:"="},template:' <a class="btn btn-primary btn-rounded btn-sm" ng-click="show_exchangecode_export();">导出</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_exchangecode_export=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="兑换码",$scope.list=supscope.data.list,$scope.tmpl='<div class="form-horizontal" name="FormBody" novalidate><div form-textarea="" text="兑换码" ng-model="export_data"></div></form>',widget.ajaxRequest({url:"/exchangecodes/"+supscope.data.id+"/exports",method:"GET",scope:$scope,data:{},success:function(json){$scope.export_list=[],angular.forEach(json.data,function(val,key){$scope.export_list.push(val.code)}),$scope.export_data=$scope.export_list.join(",")}}),$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}})}),define("directives/export/list",["../../directives/directives","../../cons/simpleCons"],function(mod,cons){mod.directive("exportRun",function($templateCache,$uibModal,$timeout,widget){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-primary btn-rounded btn-sm" ng-click="show_export();">导出数据</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_export=function(){var modalInstance=$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.param=$scope.param||{},$scope._param=$scope._param||{},$scope.title=supscope.data.desc||"导出数据",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><style type="text/css"> .modal .checkbox-inline{margin-left: 0;}.modal .checkbox-inline{padding-left: 0;}</style>',$scope.condition=supscope.data.condition,$scope.command=supscope.data.command,console.log($scope.condition),angular.forEach($scope.condition,function(val,key){"checkbox"==val.type?(val.defaultValue&&($scope.param[key]=val.defaultValue.map(function(v){return v+""})),$scope.tmpl+='<div form-checkbox text="'+val.name+'" ng-model="param.'+key+'" default=""  source="condition[\''+key+"'].options\"  "+(val.required?'required="true"':"")+"></div>"):"radiobox"==val.type?$scope.tmpl+='<div form-radio text="'+val.name+'" ng-model="param.'+key+'" source="condition[\''+key+"'].options\"  "+(val.required?'required="true"':"")+"></div>":"date"==val.type?$scope.tmpl+='<div form-date="" text="'+val.name+'" ng-model="param.'+key+'"  '+(val.required?'required="true"':"")+"></div>":"datetime"==val.type?$scope.tmpl+='<div form-date-time="" text="'+val.name+'" ng-model="param.'+key+'"  '+(val.required?'required="true"':"")+"></div>":"text"==val.type?$scope.tmpl+='<div form-input text="'+val.name+'" ng-model="param.'+key+'"  '+(val.required?'required="true"':"")+"></div>":"textarea"==val.type&&($scope.tmpl+='<div form-textarea text="'+val.name+'" ng-model="_param.'+key+'"  '+(val.required?'required="true"':"")+' placeholder="多条数据回车换行,否则会出错" rows="10"></div>'),val.default_val&&eval("$scope.param."+key+" = "+val.default_val)}),console.log($scope.param),$scope.tmpl+='<a class="btn btn-primary btn-rounded pull-right" ng-disabled="FormBody.$invalid"  ng-click="exec();">执行</a>',$scope.tmpl+="</form>",$scope.exec=function(){angular.forEach($scope.condition,function(val,key){"textarea"==val.type&&$scope._param[key]&&($scope.param[key]=$scope._param[key].replace(/\n/g,",").split(","))}),angular.extend($scope.param,{command:$scope.command}),confirm("确认将查询结果导出EXCEL吗?")&&widget.ajaxRequest({url:"/exports/exec",method:"post",scope:$scope,data:$scope.param,timeout:36e4,success:function(json){window.open(cons.domain+json.data.url)}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}}})}),define("directives/refund/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("orderRefunds",function($templateCache,$filter,$compile,widget,$uibModal,$timeout,comfunc){return{restrict:"AE",replace:!0,scope:{data:"="},template:' <a class="btn btn-primary btn-rounded btn-sm" ng-click="show_order_refunds();">批量退款</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_order_refunds=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="批量退款",$timeout(function(){$scope.data=supscope.data,$scope.refund_ids=[],$scope.refunds=[],$scope.amounts=0,angular.forEach($scope.data,function(val,key){val._checked&&($scope.refund_ids.push(val.refund_id),$scope.refunds.push(val),$scope.amounts=comfunc.numAdd($scope.amounts,val.refund_price))})},0),$scope.tmpl='<div class="form-horizontal" name="FormBody" novalidate> <div form-table ng-model="refunds" max="1000" config="{readonly:\'true\'}"'+"columns=\"[{'name': '退款ID', 'field': 'refund_id'},{'name': '订单金额', 'field': 'order_price'},{'name': '退款金额', 'field': 'refund_price'}]\"></div><div class=\"col-sm-12\"><span ng-bind=\"'此次退款总金额:'+amounts\"></span></div><a class=\"btn btn-primary btn-rounded pull-right\" ng-click=\"order_refunds()\">确定</a></form>",$scope.order_refunds=function(){if(0==$scope.refund_ids.length)return widget.msgToast("没有选中任何一个退款订单"),!1;confirm("确认退款吗?")&&widget.ajaxRequest({url:"/orders/refunds",method:"PUT",scope:$scope,data:{refund_ids:$scope.refund_ids},success:function(json){widget.msgToast("修改成功,请刷新查看"),supscope.$parent.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}}}).directive("orderSingleRefund",function($templateCache,$filter,$compile,widget){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="order-single-refund" ></p>',link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";2==$scope.data.refund_status&&(status_title="手动退款",status_text="ng-bind=\"'手动退款'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="orderSingleRefund(3);"',$scope.show_text=!0),$scope.orderSingleRefund=function(status){confirm("确认要"+status_title+"吗?")&&widget.ajaxRequest({url:"/orders/refunds/"+$scope.data.refund_id||0,method:"put",scope:$scope,data:{anew_refund:1},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})};var content='<a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+' ng-show="show_text"></a>';$element.find(".order-single-refund").html(content),$compile($element.contents())($scope)}}})}),define("directives/subject/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("subjectChangeStatus",function($templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="change-status"></p>',link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";1==$scope.data.status?(status_title="下线",status_text="ng-bind=\"'下线运营专题'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(2);"',$scope.show_text=!0):2==$scope.data.status&&(status_title="上线",status_text="ng-bind=\"'上线运营专题'\"",class_text='ng-class={"btn-primary":true} ',click_text='ng-click="change(1);"',$scope.show_text=!0),$scope.change=function(status){confirm("确认修改为"+status_title+"状态?")&&widget.ajaxRequest({url:"/subjects/"+$scope.data.subject_id||0,method:"patch",scope:$scope,data:{status:status},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})};var content='<a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+' ng-show="show_text" show-role="\'admin,op\'"></a>';$element.find(".change-status").html(content),$compile($element.contents())($scope)}}}).directive("subjectEdit",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="subject-edit"></p>',link:function($scope,$element,$attrs){var content="";content="admin,op".indexOf($rootScope.hjm.role)>-1?'<a class="btn btn-success btn-rounded btn-sm"ui-sref="main.subject.update({subject_id:'+$scope.data.subject_id+'})" show-role="\'admin,op\'" >编辑</a>':'<a class="btn btn-info btn-rounded btn-sm"ui-sref="main.subject.update({subject_id:'+$scope.data.subject_id+'})" show-role="\'!admin,op\'" >详情</a>',$element.find(".subject-edit").html(content),$compile($element.contents())($scope)}}}).directive("subjectAdd",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-success btn-rounded btn-sm pull-right" style="margin-top: -5.5px;" ui-sref="main.subject.add" show-role="\'admin,op\'" >新增运营专题</a>',link:function($scope,$element,$attrs){}}}).directive("subjectProduct",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-info btn-rounded btn-sm" ng-click="show();" ng-bind="text" ng-show="text"></a>',link:function($scope,$element,$attrs){$scope.text=($scope.data.products||{}).length||0,$scope.ext={subject_id:$scope.data.subject_id};var supscope=$scope;$scope.show=function(){$uibModal.open({template:'<div hjm-grid modid="productList" config="config_by_subject" columns="columns_by_subject" ext-search="ext"></div>',controller:function($scope,$uibModalInstance){$scope.ext=supscope.ext,$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("delSubjectProducts",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="del-subject-products"></p>',link:function($scope,$element,$attrs){$scope.del=function(status){confirm("确认移除出此专题组吗?")&&widget.ajaxRequest({url:"/subjects/products/"+($scope.data.subpro_id||0),method:"delete",scope:$scope,data:{},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})};$element.find(".del-subject-products").html('<a class="btn btn-warning btn-rounded btn-sm" ng-click="del();"show-role="\'admin,op\'">移除</a>'),$compile($element.contents())($scope)}}})}),define("directives/resource/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("addResourceImage",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout,comfunc){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-rounded btn-primary pull-left" ng-click="show_add_resource()" >新增资源图片</a>',link:function($scope,$element,$attrs){$scope.show_add_resource=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="新增资源图片",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate disabled-role="\'admin,op\'" ><div form-image text="新增资源图片" ng-model="pics" token="resource" max="100"></div><a class="btn btn-success btn-rounded pull-right" ng-click="submit()">确定</a></form>',$scope.submit=function(){if($scope.pics&&!comfunc.isEmptyArray($scope.pics)){var tmp_pics_err=0;if(angular.forEach($scope.pics,function(val,key){val.pic_url||tmp_pics_err++}),tmp_pics_err>0)return widget.msgToast("还没有完成上传"),!1}$scope.$parent.$$childHead.$$childTail.$$childHead.$$childHead.searchAction(),$scope.cancel()},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}
}).directive("addResourceMedia",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout,comfunc){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-rounded btn-primary pull-left" ng-click="show_add_resource()" >新增媒体资源库</a>',link:function($scope,$element,$attrs){$scope.show_add_resource=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="新增媒体资源库",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate disabled-role="\'admin,op\'" > <h4 class="text-center text-danger">支持格式 | mp3 | mp4 | pdf | doc | docx | xls | xlsx | ppt | pptx | x-rar | zip |</h4><div form-media text="新增媒体资源库" ng-model="pics" token="resource" max="100" min="1"></div><a class="btn btn-success btn-rounded pull-right" ng-click="submit()">确定</a></form>',$scope.submit=function(){if($scope.pics&&!comfunc.isEmptyArray($scope.pics)){var tmp_pics_err=0;if(angular.forEach($scope.pics,function(val,key){val.pic_url||tmp_pics_err++}),tmp_pics_err>0)return widget.msgToast("还没有完成上传"),!1}$scope.$parent.$$childHead.$$childTail.$$childHead.$$childHead.searchAction(),$scope.cancel()},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}})}),define("directives/wechat/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("qrcodeDelete",function($templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="qrcode-delete"></p>',link:function($scope,$element,$attrs){$scope.change=function(status){confirm("确认 删除 该二维码?")&&widget.ajaxRequest({url:"/wechat/qrcode/"+$scope.data.qrcode_id||0,method:"delete",scope:$scope,success:function(json){widget.msgToast("删除成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})};$element.find(".qrcode-delete").html('<a class="btn btn-rounded btn-sm"ng-class={"btn-warning":true} ng-bind="\'删除二维码\'"ng-click="change();" show-role="\'admin,op\'"></a>'),$compile($element.contents())($scope)}}})}),define("directives/hotkey/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("hotkeyAdd",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-success btn-rounded btn-sm pull-right" ng-click="show_hotkey_add();" style="margin-top: -5.5px;margin-left: 5px;">添加热词</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_hotkey_add=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-input text="热词" ng-model="keyword"  placeholder = "热词" required = "true"> </div > <a class="btn btn-primary btn-rounded pull-right " ng-click="hotkey_add()">确定</a></form>',$scope.title="添加热词",$scope.hotkey_add=function(){widget.ajaxRequest({url:"/product/hotkey",method:"post",scope:$scope,data:{keyword:$scope.keyword},success:function(json){widget.msgToast("添加成功,请刷新查看"),supscope.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}}}).directive("hotkeyDel",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-warning btn-rounded btn-sm" ng-click="show_hotkey_del();">删除热词</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_hotkey_del=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.keyword=supscope.data.keyword,$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-input text="热词" ng-model="keyword" ng-disabled="true" required="true"></div><a class="btn btn-warning btn-rounded pull-right " ng-click="hotkey_del()">删除</a></form>',$scope.title="删除热词",$scope.hotkey_del=function(){if(!confirm("确定删除热词"))return!1;widget.ajaxRequest({url:"/product/hotkey/"+(supscope.data.id||0),method:"delete",scope:$scope,data:{},success:function(json){widget.msgToast("删除成功,请刷新查看"),supscope.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}}})}),define("directives/survey/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("surveyCategoryAdd",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<a class="btn btn-success btn-rounded btn-sm pull-right" ng-click="show_survey_category_add()" >新增测评维度</a>',link:function($scope,$element,$attrs){$scope.show_survey_category_add=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="新增测评维度",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate ><div form-input text="维度" ng-model="param.name"></div><a class="btn btn-success btn-rounded pull-right" ng-click="submit()">确定</a></form>',$scope.submit=function(){if(!$scope.param.name)return widget.msgToast("没有填写维度"),!1;widget.ajaxRequest({url:"/surveys/categories",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("维度维护成功,请刷新查看"),$scope.$$prevSibling.$$childHead.$$nextSibling.$$nextSibling.$$nextSibling.$$childHead.$$childHead.searchAction(),$rootScope.get_survey_question_category_list(),$scope.cancel()},failure:function(json){widget.msgToast(json.message),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}}}).directive("surveyCategoryEdit",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<a class="btn btn-success btn-rounded btn-sm" ng-click="show_survey_category_edit()" >更新</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_survey_category_edit=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="更新测评维度",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate ><div form-input text="ID" ng-model="param.id" ng-disabled="true"></div><div form-input text="维度" ng-model="param.name"></div><a class="btn btn-success btn-rounded pull-right" ng-click="submit()">确定</a></form>',$timeout(function(){$scope.param=supscope.data},0),$scope.submit=function(){if(!$scope.param.name)return widget.msgToast("没有填写维度"),!1;widget.ajaxRequest({url:"/surveys/categories/"+supscope.data.id,method:"PUT",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("维度维护成功,请刷新查看"),$scope.$$prevSibling.$$childHead.$$nextSibling.$$nextSibling.$$nextSibling.$$childHead.$$childHead.searchAction(),$rootScope.get_survey_question_category_list(),$scope.cancel()},failure:function(json){widget.msgToast(json.message),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}}}).directive("surveyCategoryDel",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<a class="btn btn-danger btn-rounded btn-sm" ng-click="show_survey_category_del()" >删除</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_survey_category_del=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="删除测评维度",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate ><div form-input text="ID" ng-model="param.id" ng-disabled="true"></div><div form-input text="维度" ng-model="param.name" ng-disabled="true"></div><div form-radio text="类型" ng-model="param.type" ng-disabled="true" default="2" source="[{text:\'系统保留\',value:\'1\'},{text:\'可编辑\',value:\'2\'}]" ></div><a class="btn btn-danger btn-rounded pull-right" ng-click="submit()">删除</a></form>',$timeout(function(){$scope.param=supscope.data},0),$scope.submit=function(){if(!$scope.param.name)return widget.msgToast("没有填写维度"),!1;widget.ajaxRequest({url:"/surveys/categories/"+supscope.data.id,method:"DELETE",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("删除维度成功,请刷新查看"),$scope.$$prevSibling.$$childHead.$$nextSibling.$$nextSibling.$$nextSibling.$$childHead.$$childHead.searchAction(),$rootScope.get_survey_question_category_list(),$scope.cancel()},failure:function(json){widget.msgToast(json.message),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}}}).directive("surveyCategoryDownload",function($rootScope,$templateCache,$filter,$compile,widget){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<div export-run data="item"></div>',link:function($scope,$element,$attrs){$scope.item={command:"export:surveyquestion",condition:{category_id:{name:"维度编号",type:"text",required:!0,options:[],defaultValue:[],default_val:$scope.data.id}},desc:"测评题库"}}}}).directive("surveyPlanDownload",function($rootScope,$templateCache,$filter,$compile,widget){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p><div export-run data="item"></div></p>',link:function($scope,$element,$attrs){$scope.item={command:"export:testing",condition:{end_time:{name:"结束时间",type:"date",options:[],defaultValue:[]},start_time:{name:"开始时间",type:"date",options:[],defaultValue:[]},plan_id:{name:"测评ID",type:"text",options:[],defaultValue:[],default_val:$scope.data.id}},desc:"导出测评数据"}}}}).directive("surveyQuestionCategory",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<span ng-bind="name"></span>',link:function($scope,$element,$attrs){$scope.name||($scope.name=""),angular.forEach($rootScope.survey_question_category_list,function(val){val.id==$scope.data.category_id&&($scope.name=val.name)})}}}).directive("surveyQuestionEdit",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"=",attachment:"="},template:'<p class="survey-question-edit"></p>',link:function($scope,$element,$attrs){var content="",serf=1==$scope.attachment?"survey_question_attachment":"survey_question";content=4==$scope.data.status||1==$scope.attachment?'<a class="btn btn-success btn-rounded btn-sm"ui-sref="main.'+serf+".update({id:"+$scope.data.id+'})" show-role="\'admin,op\'" >编辑</a>':'<a class="btn btn-info btn-rounded btn-sm"ui-sref="main.'+serf+".update({id:"+$scope.data.id+'})" show-role="\'!admin,op\'" >详情</a>',$element.find(".survey-question-edit").html(content),$compile($element.contents())($scope)}}}).directive("surveyQuestionCopy",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"=",attachment:"="},template:'<p class="survey-question-edit"></p>',link:function($scope,$element,$attrs){var content="";$scope.attachment;content='<a class="btn btn-success btn-rounded btn-sm" ui-sref="main.survey_question.add({id:'+$scope.data.id+'})">复制</a>',$element.find(".survey-question-edit").html(content),$compile($element.contents())($scope)}}}).directive("surveyQuestionDel",function($templateCache,$filter,$compile,widget,$rootScope){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="survey-question-del"></p>',link:function($scope,$element,$attrs){3!=$scope.data.status&&($scope.show_text=!0),$scope.change=function(status){confirm("确认删除吗?")&&widget.ajaxRequest({url:"/surveys/questions/"+$scope.data.id||0,method:"patch",scope:$scope,data:{status:status},success:function(json){widget.msgToast("删除成功,请刷新查看"),$rootScope.get_survey_question_list(),$scope.$parent.$parent.searchAction()}})};$element.find(".survey-question-del").html('<a class="btn btn-rounded btn-sm"ng-class={"btn-danger":true} ng-bind="\'删除\'"ng-click="change(3);" ng-show="show_text" show-role="\'admin,op\'"></a>'),$compile($element.contents())($scope)}}}).directive("surveyQuestionChangeStatus",function($templateCache,$filter,$compile,widget,$uibModal,$timeout,$rootScope){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="survey-question-change-status"></p>',link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";1==$scope.data.status?(status_title="暂停",status_text="ng-bind=\"'暂停'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(2);"',$scope.show_text=!0):2==$scope.data.status||4==$scope.data.status?(status_title="上线",status_text="ng-bind=\"'上线'\"",class_text='ng-class={"btn-primary":true} ',click_text='ng-click="change(1);"',$scope.show_text=!0):3==$scope.data.status&&($scope.show_text=!1),$scope.change=function(status){var supscope=$scope;$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title=status_title,$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate ><div form-radio text="选项带分数的单选题" type="radio" ng-model="param.need_score" ng-disabled="true" default="0" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" source-api=""></div><div form-radio text="题型" ng-model="param.type" ng-disabled="true" default="2" ng-show="param.need_score==2"  source="[{text:\'单选\',value:\'3\'},{text:\'多选\',value:\'2\'}]" ></div><div form-select text="维度" ng-model="param.category_id" source="$root.survey_question_category_list_general" ng-disabled="true"></div><div form-textarea text="文字描述" ng-model="param.title" ng-disabled="true"></div><div form-table text="选项" ng-model="param.options" ng-show="param.need_score==2"  max="1000" config="{readonly:\'true\'}" '+"columns=\"[{'name': '选项', 'field': 'name','readonly':'true','disabled':'true'},{'name': '正确选项', 'field': 'selected',type:'right_or_error',right:'1',error:'0'},]\"></div><div form-table text=\"选项\" ng-model=\"param.options\" ng-show=\"param.need_score==1\"  max=\"1000\" config=\"{readonly:'true'}\" columns=\"[{'name': '选项', 'field': 'name','readonly':'true','disabled':'true'},{'name': '该选项得分', 'field': 'score',type:'number','disabled':'true'}]\"></div><div form-input text=\"最小年龄\" ng-model=\"param.age_min\" ng-disabled=\"true\"></div><div form-input text=\"最大年龄\" ng-model=\"param.age_max\" ng-disabled=\"true\"></div><a class=\"btn btn-rounded pull-right\" "+class_text+' ng-click="submit()">'+status_title+"</a></form>",$timeout(function(){$scope.param=supscope.data},0),$scope.submit=function(){if(!confirm("确认修改为"+status_title+"状态?"))return!1;widget.ajaxRequest({url:"/surveys/questions/"+supscope.data.id,method:"patch",scope:$scope,data:{status:status},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$$prevSibling.$$childHead.$$nextSibling.$$nextSibling.$$nextSibling.$$childHead.$$childHead.searchAction(),$rootScope.get_survey_question_list(),$scope.cancel()},failure:function(json){widget.msgToast(json.message),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})};var content='<a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+' ng-show="show_text" show-role="\'admin,op\'"></a>';$element.find(".survey-question-change-status").html(content),$compile($element.contents())($scope)}}}).directive("surveyPlanEdit",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="survey-plan-edit"></p>',link:function($scope,$element,$attrs){var content="";content="admin,op".indexOf($rootScope.hjm.role)>-1?'<a class="btn btn-success btn-rounded btn-sm"ui-sref="main.survey_plan.update({id:'+$scope.data.id+'})" show-role="\'admin,op\'" >编辑</a>':'<a class="btn btn-info btn-rounded btn-sm"ui-sref="main.survey_plan.update({id:'+$scope.data.id+'})" show-role="\'!admin,op\'" >详情</a>',$element.find(".survey-plan-edit").html(content),$compile($element.contents())($scope)}}}).directive("surveyPlanDel",function($templateCache,$filter,$compile,widget){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<a class="btn btn-danger btn-rounded btn-sm" ng-click="show_survey_plan_del()" >一键下线</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_survey_plan_del=function(){if(!confirm("一键下线之后不可恢复,请确认?"))return!1;widget.ajaxRequest({url:"/surveys/plans/"+supscope.data.id,method:"DELETE",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("一键下线成功"),$scope.$parent.$parent.searchAction()},failure:function(json){widget.msgToast(json.message)}})}}}}).directive("surveyPlanChangeStatus",function($templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="survey-plan-change-status"></p>',link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";1==$scope.data.status?(status_title="暂停",status_text="ng-bind=\"'暂停'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(2);"',$scope.show_text=!0):2!=$scope.data.status&&3!=$scope.data.status||(status_title="重启",status_text="ng-bind=\"'重启'\"",class_text='ng-class={"btn-primary":true} ',click_text='ng-click="change(1);"',$scope.show_text=!0),$scope.change=function(status){confirm("确认修改为"+status_title+"状态?")&&widget.ajaxRequest({url:"/surveys/questions/"+$scope.data.id||0,method:"patch",scope:$scope,data:{status:status},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})};var content='<a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+' ng-show="show_text" show-role="\'admin,op\'"></a>';$element.find(".survey-question-change-status").html(content),$compile($element.contents())($scope)}}})}),define("directives/lessons/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("missionOnline",function($templateCache,$filter,$compile,widget,$uibModal,$state){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p><a class="btn btn-info btn-rounded btn-sm" ng-click="show();" ng-bind="text" ></a></p>',link:function($scope,$element,$attrs){$scope.text="已上线 : "+($scope.data.stat_mission&&$scope.data.stat_mission.mission_count||0),$scope.ext={status:1},$scope.extApi="/lessons/"+$scope.data.lesson_id+"/missions";$scope.show=function(){$state.go("main.lessons.order",{lesson_id:$scope.data.lesson_id,status:1})}}}}).directive("lessonsEdit",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="lessons-edit"></p>',link:function($scope,$element,$attrs){var content="";content="admin,op".indexOf($rootScope.hjm.role)>-1?'<a class="btn btn-primary btn-rounded btn-sm"ui-sref="main.lessons.update({lesson_id:'+$scope.data.lesson_id+'})" show-role="\'admin,op\'" >课程编辑</a>':'<a class="btn btn-info btn-rounded btn-sm"ui-sref="main.lessons.update({lesson_id:'+$scope.data.lesson_id+'})" show-role="\'!admin,op\'" >课程详情</a>',$element.find(".lessons-edit").html(content),$compile($element.contents())($scope)}}}).directive("lessonsChangeStatus",function($templateCache,$filter,$compile,widget,$uibModal,$timeout,$rootScope,$state){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<span class="lessons-change-status"></span>',link:function($scope,$element,$attrs){$scope.mission_count=$scope.data.stat_mission&&$scope.data.stat_mission.mission_count||0,$scope.pubtime_at=$scope.data.pubtime_at,$scope.lesson_id=$scope.data.lesson_id||"";var status_text="",click_text="",class_text="",status_title="";1==$scope.data.status?(status_title="下线",status_text="ng-bind=\"'下线'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(2);"',$scope.show_text=!0):3==$scope.data.status&&(status_title="上线",status_text="ng-bind=\"'上线'\"",class_text='ng-class={"btn-success":true} ',click_text='ng-click="change(1);"',$scope.show_text=!0),$scope.change=function(status){var supscope=$scope;$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title=status_title,$scope.lesson_id=supscope.lesson_id,$scope.mission_count=supscope.mission_count,$scope.pubtime_at=supscope.pubtime_at,$scope.status=supscope.data.status,$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate ><h3 ng-bind="\'当前已上线课程数: \'+mission_count"></h3><h3 ng-bind="\'课程任务发布时间: \'+ (pubtime_at|null2empty:\'待定\')"></h3><h3 class="text-danger" ng-show="status == 3">上线前该课程需要有已上线的任务</h3><h3 class="text-danger" ng-show="status == 1">下线课程后,不可恢复,谨慎操作</h3><a class="btn btn-rounded pull-right" '+class_text+' ng-click="submit()">'+status_title+"</a></form>",$scope.submit=function(){return $scope.mission_count||1!=status?$scope.pubtime_at?void widget.ajaxRequest({url:"/lessons/"+supscope.data.lesson_id,method:3==status?"delete":"patch",scope:$scope,data:{status:status},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$$prevSibling.$$childHead.$$nextSibling.$$nextSibling.$$nextSibling.$$childHead.$$childHead.searchAction(),$scope.cancel()},failure:function(json){widget.msgToast(json.message),$scope.cancel()}}):!!confirm("没有课程任务发布时间,是否跳转到课程编辑界面?")&&($scope.cancel(),$state.go("main.lessons.update",{lesson_id:$scope.lesson_id}),!1):(widget.msgToast("没有任务,不能上线"),!1)},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})};var content='<a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+' ng-show="show_text" show-role="\'admin,op\'"></a>';$element.find(".lessons-change-status").html(content),$compile($element.contents())($scope)}}}).directive("lessonsMissionAdd",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="lessons-mission-add"></p>',link:function($scope,$element,$attrs){var content='<a class="btn btn-primary btn-rounded btn-sm"ui-sref="main.mission.add({lesson_id:'+$scope.data.lesson_id+'})">新增任务</a>';$element.find(".lessons-mission-add").html(content),$compile($element.contents())($scope)}}}).directive("lessonsMissionOrder",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="lessons-mission-order"></p>',link:function($scope,$element,$attrs){var content='<a class="btn btn-primary btn-rounded btn-sm"ui-sref="main.lessons.order({lesson_id:'+$scope.data.lesson_id+',status:3})">草稿任务管理</a>';$element.find(".lessons-mission-order").html(content),$compile($element.contents())($scope)}}}).directive("missionImport",function($templateCache,$filter,$compile,widget,$uibModal,$timeout,$rootScope,$http){return{multiElement:!0,restrict:"AE",replace:!0,scope:{data:"="},template:'<p><a class="btn btn-success btn-rounded btn-sm" style="margin-top: -5.5px;" ng-click="import()" >导入任务</a></p>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.import=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="导入任务",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate > <input type="file" class="form-control" id="missions" name="missions"><hr><a class="btn btn-primary btn-rounded pull-right" ng-disabled="FormBody.$invalid" ng-click="submit()">确定</a></form>',$scope.submit=function(){var formData=new FormData;formData.append("missions",$("#missions")[0].files[0]),$http({method:"POST",url:simpleCons.domain+"/lessons/"+supscope.data.lesson_id+"/upload",data:formData,headers:{"Content-Type":void 0}}).success(function(json){0==json.code?(widget.msgToast("导入成功,请刷新查看"),supscope.$parent.$parent.searchAction(),$scope.cancel()):widget.msgToast(json.message)}).error(function(err){widget.msgToast("网络错误")})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"sm"})}}}}).directive("missionNotify",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-warning btn-sm btn-bordered" ng-click="notify()" show-role="\'admin,op,teacher\'" >任务修改通知</a>',link:function($scope,$element,$attrs){$scope.notify=function(){var mission_id=$scope.data.mission_id;$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="任务修改通知",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate ><a class="btn btn-rounded pull-right btn-primary"  ng-click="submit()">发送通知</a></form>',$scope.submit=function(){widget.ajaxRequest({url:"/teacher/missions/"+mission_id+"/notify",method:"post",scope:$scope,data:{status:status},success:function(json){widget.msgToast("发送成功"),$scope.cancel()},failure:function(json){widget.msgToast(json.message),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"sm"})}}}}).directive("knowledgeEdit",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="knowledge-edit"></p>',link:function($scope,$element,$attrs){var content='<a class="btn btn-success btn-rounded btn-sm"ui-sref="main.mission.knowledge({mission_id:'+$scope.data.mission_id+'})"  ng-bind="data.stat_knowledge.knowledge_count||0" ></a>';$element.find(".knowledge-edit").html(content),$compile($element.contents())($scope)}}})}),define("directives/student/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("studentLessons",function($templateCache,$filter,$compile,widget,$uibModal,$state){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-info btn-rounded btn-sm" ng-click="show();" ng-bind="text" ></a>',link:function($scope,$element,$attrs){$scope.text=$scope.data.stat_lesson&&$scope.data.stat_lesson.lesson_count||0,$scope.extApi="/students/"+$scope.data.user_id+"/lessons";var supscope=$scope;$scope.show=function(){$uibModal.open({template:'<div hjm-grid modid="studentList" config="config_by_lesson" columns="columns_by_lesson" ext-search="ext" ext-api="extApi"></div>',controller:function($scope,$uibModalInstance){$scope.extApi=supscope.extApi,$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("studentPlans",function($templateCache,$filter,$compile,widget,$uibModal,$state){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-info btn-rounded btn-sm" ng-click="show();" ng-bind="text" ></a>',link:function($scope,$element,$attrs){$scope.text=$scope.data.stat_plan&&$scope.data.stat_plan.plan_count||0,$scope.ext={user_id:$scope.data.user_id},$scope.extApi="/students/"+$scope.data.user_id+"/plans";var supscope=$scope;$scope.show=function(){$uibModal.open({template:'<div hjm-grid modid="studentList" config="config_by_plan" columns="columns_by_plan" ext-search="ext" ext-api="extApi"></div>',controller:function($scope,$uibModalInstance){$scope.ext=supscope.ext,$scope.extApi=supscope.extApi,$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("studentLessonsChangeStatus",function($templateCache,$filter,$compile,widget,$uibModal,$timeout,$rootScope){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="student-lessons-change-status"></p>',link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";1==$scope.data.status?(status_title="取消课程",status_text="ng-bind=\"'取消课程'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(2);"',$scope.show_text=!0):2==$scope.data.status&&(status_title="恢复课程",status_text="ng-bind=\"'恢复课程'\"",class_text='ng-class={"btn-success":true} ',click_text='ng-click="change(1);"',$scope.show_text=!0),$scope.change=function(status){var supscope=$scope;$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title=status_title,$scope.status=supscope.data.status,$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate ><a class="btn btn-rounded pull-right" '+class_text+' ng-click="submit()">'+status_title+"</a></form>",$scope.submit=function(){widget.ajaxRequest({url:"/students/"+supscope.data.user_id+"/lessons/"+supscope.data.id,method:"patch",scope:$scope,data:{status:status},success:function(json){widget.msgToast("修改成功,请刷新查看"),supscope.$parent.$parent.searchAction(),$scope.cancel()},failure:function(json){widget.msgToast(json.message),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"sm"})};var content='<a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+' ng-show="show_text" show-role="\'admin,op\'"></a>';$element.find(".student-lessons-change-status").html(content),$compile($element.contents())($scope)}}}).directive("studentPlanWorks",function($templateCache,$filter,$compile,widget,$uibModal,$timeout,$rootScope){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="student-plan-works"></p>',link:function($scope,$element,$attrs){var supscope=$scope,status_text="",click_text="",class_text="",status_title="";$scope.work_id=$scope.data.work_id?$scope.data.work_id:supscope.data.works[0]&&supscope.data.works[0].work_id||0,$scope.hasappraise=null,$scope.data.appraise_at||$scope.data.works&&$scope.data.works[0]&&$scope.data.works[0].appraise_at?(status_title="作业详情",status_text="ng-bind=\"'作业详情'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="openworks(1);"',$scope.hasappraise=!0):(status_title="评价作业",status_text="ng-bind=\"'评价作业'\"",class_text='ng-class={"btn-success":true} ',click_text='ng-click="openworks(2);"',$scope.hasappraise=!1),$scope.openworks=function(status){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',windowClass:"xx-dialog",controller:function($scope,$uibModalInstance,$sce){$scope.title=status_title,$scope.hasappraise=supscope.hasappraise,$scope.sce=$sce.trustAsResourceUrl,supscope.work_id?widget.ajaxRequest({url:"/planworks/"+supscope.work_id,method:"get",scope:$scope,data:{},success:function(json){$scope.param=json.data,$scope.param.redo=1,console.log($scope.param),$scope.param.questions[0]&&angular.forEach($scope.param.questions[0].options,function(val,key){val.id==$scope.param.questions[0].result.option_id?$scope.param.questions[0].result.score>0?val.selected="√":val.selected="X":val.selected=""}),$scope.param.sources.length>0?($scope.left_style={width:"60%"},$scope.right_style={width:"35%"}):($scope.left_style={},$scope.right_style={width:"80%"}),
$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate ><div class="pull-left" ng-style="left_style" ng-if="param.sources.length>0"><div class="form-group"><div class="col-sm-12" style="height: 50px;margin: 5px;"><div ng-repeat="audio in param.sources" ng-if="audio.type==3" style="width:50%;margin-bottom: 20px;" class="pull-left"><audio ng-src="{{sce(audio.url)}}" controls="controls">您的浏览器不支持 audio 标签。</audio></div></div></div><div class="form-group"><div class="col-sm-12" style="height: 700px;overflow: auto;margin: 5px;padding: 5px;border: 1px #ccc solid;"><div ng-repeat="pic in param.sources" ng-if="pic.type==1" style="width:100%;margin-bottom: 20px;" class="pull-left"><show_image url="pic.url" width="100%" rotate="true"></show_image></div></div></div></div><div ng-style="right_style" ng-class="{\'pull-right\':param.sources.length>0}" ><div form-input text="任务名称" ng-model="param.mission.title" content-width="10" ng-disabled="true"></div><div form-table text="选项" ng-model="param.questions[0].options" max="6" config="{readonly:true}" ng-if="param.questions.length>0"'+"columns=\"[{'name': 'ID', 'field': 'id',hide:'true'},{'name': '名称', 'field': 'name','disabled': 'true'},{'name': '该选项得分', 'field': 'score','disabled': 'true'},{'name': '选择结果', 'field': 'selected','disabled': 'true'}]\"></div><div form-textarea text=\"学生提问\" ng-model=\"param.ask\" content-width=\"10\" placeholder=\"学生提问\" ng-disabled=\"true\"></div><hr class=\"form-group\"><form-audio ng-model=\"param.teacher_sources\" text=\"语音录制\"></form-audio><div form-textarea text=\"作业评价\" ng-model=\"param.appraise\" content-width=\"10\" placeholder=\"作业评价\"></div><div form-radio text=\"是否重做\" ng-model=\"param.redo\"  default=\"1\" source=\"[{text:'否',value:1},{text:'是',value:2}]\" source-api=\"\" ng-disabled=\"hasappraise||param.questions.length>0\"></div><a class=\"btn btn-rounded pull-right\" "+class_text+' ng-click="submit()">'+($scope.hasappraise?"再次评价作业":"评价作业")+"</a></div></form>"}}):widget.msgToast("还没有提交过作业!"),$scope.submit=function(){$scope.hasappraise&&($scope.param.redo=1),widget.ajaxRequest({url:"/planworks/"+supscope.work_id,method:"put",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("评价成功,请刷新查看"),supscope.$parent.$parent.updateList(),$scope.cancel()},failure:function(json){widget.msgToast(json.message),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})};var content='<a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+" show-role=\"'admin,op,teacher'\"></a>";$element.find(".student-plan-works").html(content),$compile($element.contents())($scope)}}})}),define("directives/teacher/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("teacherEdit",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="teacher-edit"></p>',link:function($scope,$element,$attrs){var content="";content="admin,op".indexOf($rootScope.hjm.role)>-1?'<a class="btn btn-primary btn-rounded btn-sm"ui-sref="main.teacher.update({teacher_id:'+$scope.data.teacher_id+'})" show-role="\'admin,op\'" >编辑账户</a>':'<a class="btn btn-info btn-rounded btn-sm"ui-sref="main.teacher.update({teacher_id:'+$scope.data.teacher_id+'})" show-role="\'!admin,op\'" >教师详情</a>',$element.find(".teacher-edit").html(content),$compile($element.contents())($scope)}}})}),define("directives/live_rooms/list",["../../directives/directives","../../cons/simpleCons"],function(mod,con){mod.directive("liveRoomDownload",function($rootScope,$templateCache,$filter,$compile,widget){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<span export-run data="item"></span>',link:function($scope,$element,$attrs){$scope.item={command:"export:livestream",condition:{room_id:{name:"房间ID",type:"text",options:[],defaultValue:[],default_val:$scope.data.id},start_time:{name:"开始时间",type:"datetime",options:[],defaultValue:[]},end_time:{name:"结束时间",type:"datetime",options:[],defaultValue:[]}},desc:"导出直播数据"}}}}).directive("recordRoomDownload",function($rootScope,$templateCache,$filter,$compile,widget){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<span export-run data="item"></span>',link:function($scope,$element,$attrs){$scope.item={command:"export:liverecord",condition:{room_id:{name:"房间ID",type:"text",options:[],defaultValue:[],default_val:$scope.data.id},start_time:{name:"开始时间",type:"datetime",options:[],defaultValue:[]},end_time:{name:"结束时间",type:"datetime",options:[],defaultValue:[]}},desc:"导出点播数据"}}}}).directive("liveRoomAdd",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-success btn-rounded btn-sm pull-right" style="margin-top: -5.5px;margin-left: 5px;" ui-sref="main.live_rooms.add" show-role="\'admin,op\'" >新建直播间</a>',link:function($scope,$element,$attrs){}}}).directive("recordRoomsCopy",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:"",link:function($scope,$element,$attrs){var content='<a class="btn btn-success btn-rounded btn-sm"ui-sref="main.record_rooms.copy({id:'+$scope.data.id+'})" >复制</a>';$element.html(content),$compile($element.contents())($scope)}}}).directive("toRecordRoomEdit",function($rootScope,$templateCache,$filter,$compile,widget,$state){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"=",text:"@"},template:'<a class="btn btn-info btn-rounded btn-sm" ng-click="show()" ng-bind="data.text||\'转为点播房间\'"></a>    ',link:function($scope,$element,$attrs){$scope.show=function(){3==$scope.data.live_status?$state.go("main.record_rooms.update",{id:$scope.data.id}):widget.msgToast("直播流还没有关闭,不能转为点播房间!")}}}}).directive("liveRoomEdit",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<span class="live-room-edit"></span>',link:function($scope,$element,$attrs){var content="";content="admin,op".indexOf($rootScope.hjm.role)>-1?'<a class="btn btn-success btn-rounded btn-sm"ui-sref="main.live_rooms.update({id:'+$scope.data.id+'})" show-role="\'admin,op\'" >编辑</a>':'<a class="btn btn-info btn-rounded btn-sm"ui-sref="main.live_rooms.update({id:'+$scope.data.id+'})" show-role="\'!admin,op\'" >详情</a>',$element.find(".live-room-edit").html(content),$compile($element.contents())($scope)}}}).directive("liveRoomPlan",function($rootScope,$templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<span class="live-room-edit"></span>',link:function($scope,$element,$attrs){var content="";content="admin,op".indexOf($rootScope.hjm.role)>-1?'<a class="btn btn-success btn-rounded btn-sm"ui-sref="main.live_rooms.plan({id:'+$scope.data.id+'})" show-role="\'admin,op\'" >设置预告</a>':'<a class="btn btn-info btn-rounded btn-sm"ui-sref="main.live_rooms.plan({id:'+$scope.data.id+'})" show-role="\'!admin,op\'" >预告详情</a>',$element.html(content),$compile($element.contents())($scope)}}}).directive("liveRoomBlock",function($templateCache,$rootScope,$compile,widget,$state,$uibModal,$timeout){return{restrict:"AE",replace:!1,scope:{data:"="},template:"",link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="";1==$scope.data.block_status?("禁止评论",status_text="ng-bind=\"'禁止评论'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(1);"'):2==$scope.data.block_status&&("解除禁止",status_text="ng-bind=\"'解除禁止'\"",class_text='ng-class={"btn-success":true} ',click_text='ng-click="change(2);"');var content=' <a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+"></a>";$element.html(content),$compile($element.contents())($scope);var supScope=$scope;$scope.change=function(block_status){$uibModal.open({template:function(){return $templateCache.get("app/"+con.biz_path+"live_rooms/block.html")},controller:function($scope,$uibModalInstance){$scope.param={},$timeout(function(){2==block_status?($scope.block_status=2,$scope.param.minute=0):$scope.block_status=1},0),$scope.$watch("param.minute",function(val){$scope.param.minute=Number($scope.param.minute)}),$scope.submit=function(){if(Number($scope.param.minute)<0)return widget.msgToast("分钟数必须大于0"),!1;widget.ajaxRequest({url:con.live_domain+"/live/rooms/"+supScope.data.id+"/block",method:"PUT",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发送成功,请刷新查看"),supScope.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}}}).directive("liveRoomPlanAdd",function($templateCache,$rootScope,$compile,widget,$state,$uibModal,$timeout){return{restrict:"AE",replace:!1,scope:{data:"="},template:' <a class="btn btn-rounded btn-sm {{class_btn}}" ng-click="plan()" ng-bind="text"></a>',link:function($scope,$element,$attrs){var supScope=$scope;$scope.already_add=!(!$scope.data.survey||!$scope.data.survey.id),$scope.text=$scope.already_add?"删除测评":"添加测评",$scope.class_btn=$scope.already_add?"btn-danger":"btn-primary",$scope.plan=function(block_status){$uibModal.open({template:function(){return $templateCache.get("app/"+con.biz_path+"live_rooms/add_plan.html")},controller:function($scope,$uibModalInstance){$scope.already_add=supScope.already_add,$scope.param={room_id:supScope.data.id},$scope.submit=function(){$scope.already_add?widget.ajaxRequest({url:con.live_domain+"/live/rooms/survey/"+supScope.data.survey.id,method:"DELETE",scope:$scope,data:{},success:function(json){widget.msgToast("删除成功,请刷新列表查看"),supScope.$parent.searchAction(),$scope.cancel()}}):widget.ajaxRequest({url:con.live_domain+"/live/rooms/survey",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("添加成功,请刷新列表查看"),supScope.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}}}).directive("changeLiveRoomStatus",function($templateCache,$rootScope,$compile,widget,$state){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<span class="change-live-room-status"></span>',link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";1==$scope.data.status?(status_title="关闭",status_text="ng-bind=\"'关闭'\"",class_text='ng-class={"btn-danger":true} ',click_text='ng-click="change(2);"',$scope.show_text=!0):2==$scope.data.status&&(status_title="开启",status_text="ng-bind=\"'开启'\"",class_text='ng-class={"btn-success":true} ',click_text='ng-click="change(1,'+$scope.data.status+');"',$scope.show_text=!0);var content=' <a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+' ng-show="show_text"></a>';$element.html(content),$compile($element.contents())($scope),$scope.change=function(status,live_status){confirm("确认修改为"+status_title+"状态?")&&widget.ajaxRequest({url:con.live_domain+"/live/rooms/"+$scope.data.id+"/status",method:"put",scope:$scope,data:{status:status},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})}}}}).directive("changeLiveRoomLiveStatus",function($templateCache,$rootScope,$compile,widget,$state){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<p class="change-live-room-live-status"></p>',link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";2==$scope.data.live_status?(status_title="关闭直播流",status_text="ng-bind=\"'关闭直播流'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(3);"',$scope.show_text=!0):1!=$scope.data.live_status&&3!=$scope.data.live_status||(status_title="开启直播流",status_text="ng-bind=\"'开启直播流'\"",class_text='ng-class={"btn-success":true} ',click_text='ng-click="change(2);"',$scope.show_text=!0,$scope.data.status);var content=' <a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+' ng-show="show_text"></a>';$element.html(content),$compile($element.contents())($scope),$scope.change=function(status){confirm("确认修改为"+status_title+"状态?")&&widget.ajaxRequest({url:con.live_domain+"/live/rooms/"+$scope.data.id+"/status",method:"put",scope:$scope,data:{live_status:status},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})}}}}).directive("livePoint",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",template:$templateCache.get("app/"+con.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",name:"@",required:"=",max:"@",callBack:"&",ngDisabled:"="},link:function($scope,$element,$attrs){var $ctrl=null;$scope.tmp_url="app/"+con.biz_path+"live_rooms/point.html",$timeout(function(){var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':"",name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",max=$scope.max?' max="'+$scope.max+'"':"",content="";content=$scope.text?'<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8">':'<div class="col-sm-12 ">',content+='<dnd-array ng-model="ngModel" '+name+required+max+disabledRole+'><div tmp-url="tmp_url" >这是一个可替换的内容</div></dnd-array>',content+="</div>",$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($ctrl=$scope.$parent.FormBody[$scope.ngModelText],$scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},0);$scope.$watch("ngModel",function(val){!val||val&&0==val.length?$scope.ngModel=[]:angular.forEach(val,function(v,k){v.order_by=k+1})},!0)}}}).directive("roomQuestion",function($templateCache,$rootScope,$compile,widget,$state,$uibModal,$timeout){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-rounded btn-sm btn-primary" ng-click="open()">查看</a> ',link:function($scope,$element,$attrs){var supScope=$scope;$scope.open=function(){$uibModal.open({template:function(){return $templateCache.get("app/"+con.live_path+"questions/questions.html")},controller:"questions.questionsController",resolve:{resolve_data:function(){return{is_modal:!0,room_id:supScope.data&&supScope.data.id||""}}},size:"lg"})}}}})}),define("directives/live_notice/list",["../../directives/directives","../../cons/simpleCons"],function(mod,con){mod.directive("liveNoticeAdd",function($templateCache,$filter,$compile,widget,$uibModal,$templateCache){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-success btn-rounded btn-sm pull-right" ng-click="show()">添加</a>',link:function($scope,$element,$attrs){var supScope=$scope;$scope.show=function(status){$uibModal.open({template:function(){return $templateCache.get("app/"+con.live_path+"notice/update.html")},controller:function($scope,$uibModalInstance){$scope.param={},$scope.submit=function(){widget.ajaxRequest({url:con.live_domain+"/live/notice",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("添加成功,请刷新查看"),supScope.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("liveNoticeSending",function($templateCache,$filter,$compile,widget,$uibModal,$templateCache){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-primary btn-rounded btn-sm" ng-click="show()">发送</a>',link:function($scope,$element,$attrs){var supScope=$scope;$scope.show=function(status){$uibModal.open({template:function(){return $templateCache.get("app/"+con.live_path+"notice/send.html")},controller:function($scope,$uibModalInstance){$scope.param={},$scope.$watch("param.expire_time",function(val){$scope.param.expire_time=Number($scope.param.expire_time)}),$scope.$watch("readonly",function(val,oldVal){2==oldVal&&1==val&&($scope.param.expire_time=0)}),$scope.submit=function(){if($scope.param.room_ids=$scope.room_id.split(","),!Number($scope.param.expire_time)>=0&&-1==!Number($scope.param.expire_time))return widget.msgToast("分钟数必须大于0或者等于-1"),!1;widget.ajaxRequest({url:con.live_domain+"/live/notice/"+supScope.data.id+"/sending",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发送成功,请刷新查看"),supScope.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}})}),define("directives/live_appmessages/list",["../../directives/directives","../../cons/simpleCons"],function(mod,con){mod.directive("liveAppmessagesSend",function($templateCache,$filter,$compile,widget,$uibModal,$templateCache){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-success btn-rounded btn-sm pull-right" ng-click="send()">推送消息</a>',link:function($scope,$element,$attrs){var supScope=$scope;$scope.send=function(status){$uibModal.open({template:function(){return $templateCache.get("app/"+con.live_path+"appmessages/send.html")},controller:function($scope,$uibModalInstance){$scope.param={},$scope.submit=function(){if(console.log($scope.param),!confirm("确定要推送给全部用户这条消息吗？"))return!1;widget.ajaxRequest({url:con.live_domain+"/live/appmessages/",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("发送成功,请刷新查看"),supScope.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}})}),define("directives/record_comments/list",["../../directives/directives","../../cons/simpleCons"],function(mod,con){mod.directive("changeRecordCommentOntop",function($templateCache,$rootScope,$compile,widget,$state){return{restrict:"AE",replace:!1,scope:{data:"="},template:"<span></span>",link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="";1==$scope.data.on_top?("取消",status_text="ng-bind=\"'取消'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(2);"'):2==$scope.data.on_top&&("置顶",status_text="ng-bind=\"'置顶'\"",class_text='ng-class={"btn-success":true} ',click_text='ng-click="change(1);"');var content=' <a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+'"></a>';$element.html(content),$compile($element.contents())($scope),$scope.change=function(on_top){widget.ajaxRequest({url:con.live_domain+"/live/comments/"+$scope.data.id,method:"put",scope:$scope,data:{on_top:on_top},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})}}}}).directive("delRecordComment",function($templateCache,$rootScope,$compile,widget,$state){return{restrict:"AE",replace:!1,scope:{data:"="},template:"<span></span>",link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";1==$scope.data.status?(status_title="删除",status_text="ng-bind=\"'删除'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(2);"',$scope.show_text=!0):2==$scope.data.status&&(status_title="还原",status_text="ng-bind=\"'还原'\"",class_text='ng-class={"btn-success":true} ',click_text='ng-click="change(1);"',$scope.show_text=!1);var content=' <a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+' ng-show="show_text"></a>';$element.html(content),$compile($element.contents())($scope),$scope.change=function(status){confirm("确认修改为"+status_title+"状态?")&&widget.ajaxRequest({url:con.live_domain+"/live/comments/"+$scope.data.id,method:"put",scope:$scope,data:{status:status},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})}}}})}),define("directives/support/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("supportImei",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-success btn-rounded btn-sm pull-right"  ng-click="show();" ng-bind="text"></a>',link:function($scope,$element,$attrs){$scope.text="测试环境手机IMEI";var supscope=$scope;$scope.show=function(){$uibModal.open({template:'<div hjm-grid modid="supportsImeiList" config="config" columns="columns"></div>',controller:function($scope,$uibModalInstance){$scope.ext=supscope.ext,$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}}}).directive("changeImeiStatus",function($templateCache,$rootScope,$compile,widget,$state){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<span class="change-live-room-status"></span>',link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";1==$scope.data.status&&(status_title="删除",status_text="ng-bind=\"'删除'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(2);"',$scope.show_text=!0);var content=' <a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+' ng-show="show_text"></a>';$element.html(content),$compile($element.contents())($scope),$scope.change=function(status,live_status){confirm("确认修改为"+status_title+"状态?")&&widget.ajaxRequest({url:simpleCons.live_domain+"/supports/imeis/"+$scope.data.id,method:"put",scope:$scope,data:{status:status},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})}}}}).directive("supportImeiAdd",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<a class="btn btn-rounded btn-success btn-sm pull-right" ng-click="show_imei_add()">添加IMEI</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_imei_add=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="添加IMEI",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-input text="IMEI" ng-model="param.imei"></div><a class="btn btn-success btn-rounded pull-right" ng-click="submit()">确定</a></form>',$scope.submit=function(){if(!$scope.param.imei)return widget.msgToast("没有imei"),!1;widget.ajaxRequest({url:simpleCons.live_domain+"/supports/imeis",method:"post",scope:$scope,data:$scope.param,success:function(json){supscope.$parent.searchAction(),widget.msgToast("添加成功")},failure:function(json){widget.msgToast(json.message),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"sm"})}}}}).directive("supportSkuAdd",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<a class="btn btn-rounded btn-success btn-sm pull-right" ng-click="show_imei_add()">添加SKU</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_imei_add=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="添加SKU",$scope.param={},$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-input text="名称" ng-model="param.name" required="true"></div><div form-input text="对应值" ng-model="param.value" required="true"></div><div form-checkbox text="能力标签" ng-model="param.tags" type="number" required="true" default="" source="$root.common.tag" source-api=""></div><a class="btn btn-success btn-rounded pull-right" ng-click="submit()" ng-disabled="FormBody.$invalid" >确定</a></form>',$scope.submit=function(){widget.ajaxRequest({url:"/supports/skus",method:"post",scope:$scope,data:$scope.param,success:function(json){supscope.$parent.searchAction(),widget.msgToast("添加成功"),$scope.cancel()},failure:function(json){widget.msgToast(json.message),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"sm"})}}}}).directive("supportSkuUpdate",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<a class="btn btn-rounded btn-success btn-sm" ng-click="show()">修改SKU</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="修改SKU",$scope.param=angular.copy(supscope.data),$scope.param.tags=supscope.data.tags&&supscope.data.tags.length>0?$filter("arraySub2String")(supscope.data.tags,"id").split(",").map(function(val){return Number(val)}):[],$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-input text="名称" ng-model="param.name" required="true"></div><div form-input text="对应值" ng-model="param.value" required="true"></div><div form-checkbox text="标签" ng-model="param.tags" type="number" required="true" default="" source="$root.common.tag" source-api=""></div><a class="btn btn-success btn-rounded pull-right" ng-click="submit()" ng-disabled="FormBody.$invalid" >确定</a></form>',$scope.submit=function(){widget.ajaxRequest({url:"/supports/skus/"+$scope.param.id,method:"put",scope:$scope,data:$scope.param,success:function(json){supscope.$parent.searchAction(),widget.msgToast("修改成功"),$scope.cancel()},failure:function(json){widget.msgToast(json.message),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"sm"})}}}}).directive("supportTagAdd",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<a class="btn btn-rounded btn-success btn-sm pull-right" ng-click="show_imei_add()">添加标签</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show_imei_add=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="添加标签",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-input text="名称" ng-model="param.name" required="true"></div><div form-input text="对应值" ng-model="param.type" required="true"></div><div form-textarea text="备注" ng-model="param.remark" required="true"></div><a class="btn btn-success btn-rounded pull-right" ng-click="submit()" ng-disabled="FormBody.$invalid" >确定</a></form>',$scope.submit=function(){widget.ajaxRequest({url:"/supports/tags",method:"post",scope:$scope,data:$scope.param,success:function(json){supscope.$parent.searchAction(),widget.msgToast("添加成功"),$scope.cancel()},failure:function(json){widget.msgToast(json.message),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"sm"})}}}}).directive("supportTagUpdate",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<a class="btn btn-rounded btn-success btn-sm" ng-click="show()">修改SKU标签</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="修改SKU标签",$scope.param=angular.copy(supscope.data),$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-input text="名称" ng-model="param.name" required="true"></div><div form-input text="对应值" ng-model="param.type" required="true"></div><div form-textarea text="备注" ng-model="param.remark" required="true"></div><a class="btn btn-success btn-rounded pull-right" ng-click="submit()" ng-disabled="FormBody.$invalid" >确定</a></form>',$scope.submit=function(){widget.ajaxRequest({url:"/supports/tags/"+supscope.data.id,method:"PUT",scope:$scope,data:$scope.param,success:function(json){supscope.$parent.searchAction(),widget.msgToast("修改SKU标签成功"),$scope.cancel()},failure:function(json){widget.msgToast(json.message),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"sm"})}}}}).directive("changeSupportBannerStatus",function($templateCache,$rootScope,$compile,widget,$state){return{restrict:"AE",replace:!1,scope:{data:"="},template:"",link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="";1==$scope.data.status?("下线",status_text="ng-bind=\"'下线'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(3);"',$scope.show_text=!0):1!=$scope.data.status&&("上线",status_text="ng-bind=\"'上线'\"",class_text='ng-class={"btn-success":true} ',click_text='ng-click="change(1);"',$scope.show_text=!0);var content=' <a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+' ng-show="show_text"></a>';$element.html(content),$compile($element.contents())($scope),$scope.change=function(status){widget.ajaxRequest({url:simpleCons.live_domain+"/supports/banners/"+$scope.data.id,method:"put",scope:$scope,data:{status:status},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})}}}}).directive("delSupportBanner",function($templateCache,$rootScope,$compile,widget,$state){return{restrict:"AE",replace:!1,scope:{data:"="},template:"",link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";status_title="删除",status_text="ng-bind=\"'删除'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(2);"';var content=' <a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+"></a>";$element.html(content),$compile($element.contents())($scope),$scope.change=function(status){confirm("确认修改为"+status_title+"状态?")&&widget.ajaxRequest({url:simpleCons.live_domain+"/supports/banners/"+$scope.data.id,method:"put",scope:$scope,data:{status:status},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})}}}})}),define("directives/activitycoupons/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("activityCouponsUpdate",function($templateCache,$filter,$compile,widget,$state,$rootScope){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<a class="btn btn-success btn-rounded btn-sm" ng-click="update();">编辑</a>',link:function($scope,$element,$attrs){$scope.update=function(){$state.go("main.activitycoupons.update",{id:$scope.data.id})}}}}).directive("activityCoupons",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-rounded btn-sm btn-info" ng-bind="data.coupons[0].used+\' / \'+data.coupons[0].count" ng-click="show()"  ng-show="data.coupons[0].used && data.coupons[0].count"></a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.extApi="/markets/activitycoupons/"+($scope.data.id||0)+"/logs",$scope.show=function(){$uibModal.open({template:'<div hjm-grid modid="activitycouponslogsList" config="config" columns="columns" ext-search="ext" ext-api="extApi"></div>',controller:function($scope,$uibModalInstance){$scope.extApi=supscope.extApi,$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}})}),define("directives/batchproducts/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("batchproductsAdd",function($templateCache,$filter,$compile,widget,$state,$rootScope,$uibModal){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<span class="btn btn-rounded btn-success btn-sm pull-right" ng-click="show();">新增母活动</span>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="新增母活动",$scope.param={parent_id:"",sync_base:2},
$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-search text="查询添加活动ID" verify="true" btn-text="添加活动ID" ajax-config="{method:\'get\',url:$root.common.domain+\'/products/\'+produce_id}" ng-model="produce_id" callback="add_parent_id(json)"></div><div form-input text="活动ID" ng-model="param.parent_id" required="true" ng-disabled="true" ></div><div form-radio text="同步商品基数" ng-model="param.sync_base" type="number" required="true" source="[{text:\'同步\',value:\'1\'},{text:\'不同步\',value:\'2\'}]"></div><a class="btn btn-success btn-rounded pull-right"  ng-disabled="FormBody.$invalid" ng-click="submit()">确定</a></form>',$scope.add_parent_id=function(json){0==json.code?$scope.param.parent_id=json.data.product_id:($scope.param.parent_id="",widget.msgToast("没有对应的活动ID"))},$scope.submit=function(){widget.ajaxRequest({url:"/product/parent",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("添加母活动成功!"),supscope.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("batchproductsUpdate",function($templateCache,$filter,$compile,widget,$state,$rootScope,$uibModal){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<span class="btn btn-rounded btn-success btn-sm" ng-click="show();">编辑关联参数</span>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="新增母活动",$scope.param=supscope.data,$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-input text="活动ID" ng-model="param.parent_id" required="true" ng-disabled="true" ></div><div form-radio text="同步商品基数" ng-model="param.sync_base" type="number" required="true" source="[{text:\'同步\',value:\'1\'},{text:\'不同步\',value:\'2\'}]"></div><a class="btn btn-success btn-rounded pull-right"  ng-disabled="FormBody.$invalid" ng-click="submit()">确定</a></form>',$scope.submit=function(){widget.ajaxRequest({url:"/product/parent/"+supscope.data.id,method:"PUT",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("修改母活动成功!"),supscope.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("productSonAdd",function($templateCache,$filter,$compile,widget,$state,$rootScope,$uibModal){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<p><a class="btn btn-rounded btn-success btn-sm" ng-click="show();">添加子活动</a></p>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="添加子活动",$scope.param={parent_id:supscope.data.parent_id},$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><div form-search text="查询添加活动ID" verify="true" btn-text="添加活动ID" ajax-config="{method:\'get\',url:$root.common.domain+\'/products/\'+produce_id}" ng-model="produce_id" callback="add_son_id(json)"></div><div form-input text="活动ID" ng-model="param.son_id" required="true" ng-disabled="true" ></div><a class="btn btn-success btn-rounded pull-right"  ng-disabled="FormBody.$invalid" ng-click="submit()">确定</a></form>',$scope.add_son_id=function(json){0==json.code?$scope.param.son_id=json.data.product_id:($scope.param.son_id="",widget.msgToast("没有对应的活动ID"))},$scope.submit=function(){widget.ajaxRequest({url:"/product/son",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("添加子活动成功!"),supscope.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("productCover",function($templateCache,$filter,$compile,widget,$state,$rootScope,$uibModal){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<p><a class="btn btn-rounded btn-success btn-sm" ng-click="show();">覆盖所有子活动</a></p>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="覆盖所有子活动",$scope.desc="活动详情：即同步图文详情模块;\n基本信息：同步活动标题，简介，分享标题， 时间（上下架，报名，活动), 年龄;\n礼包信息：除类目不同步，其他信息都会同步;\n课程价值：课程价值模块。",$scope.param={parent_id:supscope.data.parent_id},$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate><h4 class="col-sm-offset-2 text-danger">请选择以下项目覆盖全部活动</h4><div form-checkbox text="覆盖内容" type="radio" ng-model="param.covers" required="true" default="1" source="[{text:\'课程详情\',value:\'1\'},{text:\'基本信息\',value:\'2\'},{text:\'礼包信息\',value:\'3\'},{text:\'课程价值\',value:\'4\'}]" source-api=""></div><div form-textarea ng-model="desc" text="描述" ng-disabled="true"></div><a class="btn btn-success btn-rounded pull-right"  ng-disabled="FormBody.$invalid" ng-click="submit()">确定</a></form>',$scope.submit=function(){if(0==$scope.param.covers.length)return widget.msgToast("你想覆盖什么?"),!1;widget.ajaxRequest({url:"/product/cover",method:"put",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("覆盖所有子活动成功!"),supscope.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"sm"})}}}}).directive("batchproductsDel",function($templateCache,$filter,$compile,widget,$state,$rootScope,$uibModal){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<p><a class="btn btn-rounded btn-danger btn-sm" ng-click="show();">删除</a></p>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show=function(){confirm("确定要删除这个母活动及与其相关子活动关系吗?")&&widget.ajaxRequest({url:"/product/batchproducts/"+$scope.data.parent_id,method:"delete",scope:$scope,data:{},success:function(json){widget.msgToast("删除母活动成功!"),supscope.$parent.searchAction()}})}}}}).directive("productSonDel",function($templateCache,$filter,$compile,widget,$state,$rootScope,$uibModal){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<p><a class="btn btn-rounded btn-danger btn-sm" ng-click="show();">取消覆盖</a></p>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show=function(){confirm("确定要取消覆盖这个子活动吗?")&&widget.ajaxRequest({url:"/product/sons/"+$scope.data.id,method:"delete",scope:$scope,data:{},success:function(json){widget.msgToast("取消覆盖成功!"),supscope.$parent.searchAction()}})}}}}).directive("productSonEdit",function($templateCache,$filter,$compile,widget,$state,$rootScope){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<p><a class="btn btn-rounded btn-primary btn-sm" ng-click="go();">编辑活动</a></p>',link:function($scope,$element,$attrs){$scope.go=function(){$scope.$parent.$parent.$parent.cancel(),$state.go(simpleCons.state.main+".act.update",{product_id:$scope.data.product_id})}}}})}),define("directives/videogroup/list",["../../directives/directives","../../cons/simpleCons"],function(mod,con){mod.directive("delVideogroupUser",function($templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:"",link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";1==$scope.data.status&&(status_title="移除",status_text="ng-bind=\"'移除'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(2);"'),$scope.change=function(status){confirm("确认修改为"+status_title+"状态?")&&widget.ajaxRequest({url:"/mobile/live/videogroups/"+$scope.data.object_id+"/users/"+$scope.data.user.user_id,method:"delete",scope:$scope,data:{},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})};var content='<a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+"></a>";$element.html(content),$compile($element.contents())($scope)}}}).directive("videogroupImportUser",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-rounded btn-sm btn-primary" ng-click="show()" >导入用户</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="导入用户",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate ><div form-textarea text="用户手机号码" ng-model="mobiles"  placeholder="用户手机号,用逗号隔开,或者没有逗号直接换行" required="true"></div><a class="btn btn-success btn-rounded pull-right" ng-click="submit()">确定</a></form>',$scope.param={mobiles:[]},$scope.mobiles="",$scope.submit=function(){$scope.param.mobiles=$scope.mobiles.replace(/\n/g,",").split(","),widget.ajaxRequest({url:"/mobile/live/videogroups/"+(supscope.data.id||0)+"/users",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("导入成功!")},failure:function(error){JSON.stringify(error.validates).indexOf("has already been taken")>-1?widget.msgToast("数据验证失败,请检查手机号是否已经存在!"):widget.msgToast(error.message)}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("videogroupRoom",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",template:$templateCache.get("app/"+con.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",name:"@",required:"=",max:"@",callBack:"&",ngDisabled:"="},link:function($scope,$element,$attrs,$ctrl){$scope.tmp_url="app/"+con.live_path+"videogroups/room.html",$timeout(function(){var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':"",name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",max=$scope.max?' max="'+$scope.max+'"':"",content="";content=$scope.text?'<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8">':'<div class="col-sm-12 ">',$scope.config={add:!1},content+='<dnd-array ng-model="ngModel" '+name+'config= "config"'+required+max+disabledRole+'><div tmp-url="tmp_url" >ahaschool</div></dnd-array>',content+="</div>",$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},0),$scope.$watch("ngModel",function(val){!val||val&&0==val.length?$scope.ngModel=[]:angular.forEach(val,function(v,k){v.order_by=k+1})},!0)}}}).directive("videogroupQas",function($rootScope,$state,$http,$filter,$templateCache,$compile,widget,$log,$timeout){return{restrict:"EA",template:$templateCache.get("app/"+con.DIRECTIVE_PATH+"hjm/hjm-form-element.html"),scope:{ngModel:"=ngModel",ngModelText:"@ngModel",text:"@",name:"@",required:"=",max:"@",callBack:"&",ngDisabled:"="},link:function($scope,$element,$attrs,$ctrl){$scope.tmp_url="app/"+con.live_path+"videogroups/qa.html",$timeout(function(){var disabledRole=$scope.$parent&&$scope.$parent.disabledRole?' disabled-role="'+$scope.$parent.disabledRole+'"':"",name=$scope.name?' name="'+$scope.name+'"':' name="'+$scope.ngModelText+'"',required=$scope.required?" required":"",required_span=$scope.required?'<span class="form_label_dangus">*</span>':"&nbsp;&nbsp;",max=$scope.max?' max="'+$scope.max+'"':"",content="";content=$scope.text?'<label class="col-sm-2 control-label">'+$scope.text+required_span+'</label><div class="col-sm-8">':'<div class="col-sm-12 ">',content+='<dnd-array ng-model="ngModel" '+name+'config= "config"'+required+max+disabledRole+'><div tmp-url="tmp_url" >ahaschool</div></dnd-array>',content+="</div>",$element.find(".form_element").html(content),$compile($element.contents())($scope),$scope.$parent.FormBody&&$scope.$parent.FormBody[$scope.ngModelText]&&($scope.$parent.FormBody[$scope.ngModelText].text=$scope.text||$scope.ngModelText)},0),$scope.$watch("ngModel",function(val){!val||val&&0==val.length?$scope.ngModel=[]:angular.forEach(val,function(v,k){v.order_by=k+1})},!0)}}})}),define("directives/marketshare/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("delMarketshareUser",function($templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:"",link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";status_title="移除",status_text="ng-bind=\"'移除'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(2);"',$scope.change=function(status){confirm("确认修改为"+status_title+"状态?")&&widget.ajaxRequest({url:"/mobile/live/marketshares/"+$scope.data.market_share_id+"/mobiles/"+$scope.data.id,method:"delete",scope:$scope,data:{},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})};var content='<a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+"></a>";$element.html(content),$compile($element.contents())($scope)}}}).directive("marketshareImportUser",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-rounded btn-sm btn-primary" ng-click="show()" >导入用户</a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.show=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="导入用户",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate ><div form-textarea text="用户手机号码" ng-model="mobiles"  placeholder="用户手机号,用逗号隔开,或者没有逗号直接换行" required="true"></div><a class="btn btn-success btn-rounded pull-right" ng-click="submit()">确定</a></form>',$scope.param={mobiles:[]},$scope.mobiles="",$scope.submit=function(){$scope.param.mobiles=$scope.mobiles.replace(/\n/g,",").split(","),widget.ajaxRequest({url:"/mobile/live/marketshares/"+(supscope.data.id||0)+"/mobiles",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("导入成功!")},failure:function(error){JSON.stringify(error.validates).indexOf("has already been taken")>-1?widget.msgToast("数据验证失败,请检查手机号是否已经存在!"):widget.msgToast(error.message)}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}})}),define("directives/permission/list",["../../directives/directives","../../cons/simpleCons"],function(mod,con){mod.directive("livePermissionEdit",function($templateCache,$filter,$compile,widget,$uibModal,$templateCache){return{restrict:"AE",replace:!0,scope:{data:"="},template:"<a class=\"btn btn-success btn-rounded btn-sm\" ng-class=\"{'pull-right':!data,'text-center':data}\" ng-click=\"show()\" ng-bind=\"data?'编辑':'添加'\"></a>",link:function($scope,$element,$attrs){var supScope=$scope;$scope.show=function(status){$uibModal.open({template:function(){return $templateCache.get("app/"+con.live_path+"permission/update.html")},controller:function($scope,$uibModalInstance){$scope.param={},$scope.superData=supScope.data,supScope.data&&widget.ajaxRequest({url:con.live_domain+"/live/permissions/"+supScope.data.id,method:"get",scope:$scope,success:function(json){$scope.param=angular.copy(json.data)}}),$scope.verify_obj_id=function(obj_id){if(!obj_id||0==obj_id)return widget.msgToast("未选择视频组ID,不能查询添加!"),!1;var has_video_group_verify=!1;return angular.forEach($scope.param.permissions,function(val,key){val.video_group_id==obj_id&&(has_video_group_verify=!0)}),!has_video_group_verify||(widget.msgToast("视频组已存在!"),!1)},$scope.add_obj_id=function(json){var has_video_group=!1;if(0!=json.code)return widget.msgToast("没有相关的视频组"),!1;angular.forEach($scope.param.permissions,function(val,key){val.video_group_id==json.data.id&&(has_video_group=!0)}),has_video_group?widget.msgToast("添加失败,视频组已存在!"):($scope.param.permissions=$scope.param.permissions||[],$scope.param.permissions.push({video_group_id:json.data.id,video_group:{group_title:json.data.group_title}}),$scope.obj_id="")},$scope.submit=function(){widget.ajaxRequest({url:con.live_domain+"/live/permissions"+(supScope.data?"/"+supScope.data.id:""),method:supScope.data?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("添加成功,请刷新查看"),supScope.$parent.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}})}),define("directives/upload/upload-audio-token",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("showUploadAudioToken",function($state,$rootScope,$timeout,FileUploader,$templateCache,$parse,widget,$interval,$sce,$http){return{restrict:"E",replace:!0,scope:{audio:"=",required:"@",token:"@"},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"upload/showAudioUpload.html"),controller:function($scope,$element,$attrs){function showError(msg){widget.msgToast(msg),console.error(msg)}$scope.audio=$scope.audio||[];var recorder=$rootScope.recorder||void 0,audio=$("#main_audio");$scope.sce=$sce.trustAsResourceUrl,$scope.audio_url="",$scope.duration=0;var gd;$scope.stop_duration=function(){$interval.cancel(gd),gd=void 0},$scope.get_duration=function(){$scope.duration=1,gd&&$interval.cancel(gd),gd=$interval(function(){++$scope.duration>=55&&($scope.send(),console.log("............"),$scope.stop_duration(),$scope.stopRecord())},1e3)},$scope.startRecording=function(){if(recorder){return void(0==recorder.getBlob().duration?($scope.get_duration(),recorder.start(),console.log("开始录音!!!")):console.log("继续录音!!!"))}$scope.get_duration(),HZRecorder.get(function(rec){console.log("第一次录音 !!!"),recorder=rec,$rootScope.recorder=recorder,recorder.start()},{error:showError})},$scope.stopRecord=function(){$scope.stop_duration(),recorder&&recorder.stop()};var msg={},msgId=1;$scope.send=function(){if(!recorder)return $scope.stopRecord(),void showError("请先录音");$scope.stopRecord();var data=recorder.getBlob();if(0==data.duration)return recorder.clear(),void showError("时间太短,请重新录音");msg[msgId]=data,recorder.clear();var dur=Math.ceil(data.duration/10);$scope.duration=0,$scope.audio.push({type:"blob",id:msgId,duration:dur,data:msg[msgId],name:msgId+".wav"}),msgId++,$scope.upload_audio($scope.audio[$scope.audio.length-1],$scope.audio.length-1)},$("#main_audio").off().on("pause",function(){console.log("监听停止播放"),$scope.playRecord()}),$scope.playRecord=function(audio_obj){if(angular.forEach($scope.audio,function(val,key){val.playing=!1}),audio_obj)if(audio_obj.playing=!0,audio_obj.url&&audio.attr("src")&&audio_obj.url==audio.attr("src"))$scope.play_pause();else if(3==audio_obj.type)$scope.audio_url=audio_obj.url;else if("blob"==audio_obj.type){var id=audio_obj.id,data=msg[id];if(!recorder)return void showError("请先录音");audio_obj.url=$scope.audio_url=window.URL.createObjectURL(data.blob)}},$scope.play_pause=function(){var audio2=document.getElementById("main_audio");audio2.paused?audio2.play():audio2.pause()},$scope.upload_audio=function(audio_obj,index){if(3!=audio_obj.type){var fileItemTmpl={name:audio_obj.name,type:$scope.token};widget.ajaxRequest({url:"/supports/uptoken",method:"get",scope:$scope,data:fileItemTmpl,success:function(json){$scope.audio[index].name=json.data.key,$scope.audio[index].token=json.data.token,$http({method:"POST",url:"https://up.qbox.me/",headers:{"Content-Type":void 0},transformRequest:function(data){var formData=new FormData;return formData.append("key",$scope.audio[index].name),formData.append("token",$scope.audio[index].token),formData.append("file",msg[$scope.audio[index].id].blob),formData},data:{}}).success(function(json){$scope.audio[index].type=3,$scope.audio[index].url=json.url,$scope.audio[index].width=json.width||0,$scope.audio[index].height=json.height||0,$scope.audio[index].size=json.size||0,delete $scope.audio[index].id,delete $scope.audio[index].data,delete $scope.audio[index].token}).error(function(err,status){console.log(err),widget.msgToast("上传失败,请检查网络..")})}})}}}}})}),define("directives/upload/upload-apk-token",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("showUploadApkToken",function($state,$rootScope,$timeout,FileUploader,$templateCache,$parse,widget){return{restrict:"E",replace:!0,scope:{apk:"=",required:"@",token:"@"},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"upload/showApkUpload.html"),controller:function($scope,$element,$attrs){function updateApk(){init=!0,$scope.apk=[],angular.forEach($scope.uploader.queue,function(v,k){v.updated_at||v.old?$scope.apk.push({updated_at:v.updated_at||void 0,pic_url:v.url}):$scope.apk.push({pic_url:v.qiniu_url})})}$timeout(function(){$scope.disabled=!!$attrs.disabled,$scope.disabledRole=$attrs.disabledRole||""},0),$scope.uploader=new FileUploader({url:"https://up.qbox.me/"});var init=!1;$scope.$watch("apk",function(apkVal){$scope.max=$attrs.max||100,apkVal&&apkVal.length>0&&!init&&0==$scope.uploader.queue.length&&(init=!0,$scope.apk&&$scope.apk.length>0&&angular.forEach($scope.apk,function(v,k){$scope.uploader.queue.push({url:v.pic_url||v.url||"",width:v.pic_width||v.width||100,height:v.pic_height||v.height||100,size:v.pic_size||v.size||1,updated_at:v.updated_at||void 0,old:!0,progress:100,isUploaded:!0})}))},!0),$scope.removeApk=function(key){$scope.uploader.queue.splice(key,1),updateApk()},$scope.uploader.onAfterAddingFile=function(fileItem){var fileItemTmpl={name:fileItem._file.name,save_name:fileItem._file.name,type:"resource",skey:"uxThINf7Ns9Qy8tGQXm3"};widget.ajaxRequest({url:"/supports/uptoken",method:"get",scope:$scope,data:fileItemTmpl,success:function(json){fileItem.formData.push({key:json.data.key,token:json.data.token})}})},$scope.uploader.onSuccessItem=function(fileItem,response,status,headers){response&&(1001==response.code?(alert(response.msg),fileItem.qiniu_url="",fileItem.isReady=!1,fileItem.isError=!0,fileItem.isUploaded=!0,fileItem.isSuccess=!1,updateApk()):response.key&&"ERROR"!=response.state?(fileItem.qiniu_url=response.url,updateApk()):(fileItem.qiniu_url="",fileItem.isReady=!1,fileItem.isError=!0,fileItem.isUploaded=!0,fileItem.isSuccess=!1,updateApk()))},$scope.uploader.filters.push({name:"imageFilter",fn:function(item,options){return-1!=="|apk|".indexOf(item.name.slice(item.name.lastIndexOf(".")+1))}},{name:"customFilter",fn:function(item,options){var len=$scope.apk&&"undefined"!=$scope.apk?$scope.apk.length:0;return this.queue.length<$scope.max-len}}),$scope.uploader.onAfterAddingAll=function(fileItems){$scope.apk=$scope.apk||[],angular.forEach(fileItems,function(v,k){$scope.apk.push({name:v.file.name})}),$timeout(function(){updateApk()},0)},$scope.log=function(){updateApk(),widget.msgToast("确认排序成功"),console.log($scope.uploader.queue)},$scope.removeAll=function(){if(!confirm("确定全部移除吗?"))return!1;$scope.apk=[],$scope.uploader.queue=[]},$scope.confirm_del_image_notice=!0,$scope.delApk=function(key,obj){$scope.uploader.queue.splice(key,1),updateApk()}}}})}),define("directives/zhibo_qr_code/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("zhiboQrCodeChangeStatus",function($templateCache,$filter,$compile,widget){return{restrict:"AE",replace:!1,scope:{data:"="},template:"",link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";1==$scope.data.status&&(status_title="删除",status_text="ng-bind=\"'删除'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="del();"',$scope.show_text=!0),$scope.del=function(){confirm("确认修改为"+status_title+"状态?")&&widget.ajaxRequest({url:"/cctalk/qrcodes/"+$scope.data.id+"/status/2",method:"put",scope:$scope,data:{},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})};var content='<a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+' ng-show="show_text"></a>';$element.html(content),$compile($element.contents())($scope)}}}).directive("addZhiboQrCode",function($rootScope,$templateCache,$filter,$compile,widget,$uibModal,$timeout,comfunc){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-rounded btn-primary pull-right" ng-click="add_qr_code()" >新增CCtalk二维码</a>',link:function($scope,$element,$attrs){$scope.add_qr_code=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title="新增CCtalk二维码",$scope.tmpl='<form class="form-horizontal" name="FormBody" novalidate ><div form-input text="描述" ng-model="name" required="true"></div><div form-image-single text="二维码" ng-model="url" required="true"></div><a class="btn btn-success btn-rounded pull-right" ng-disabled="FormBody.$invalid" ng-click="submit()">确定</a></form>',$scope.submit=function(){if(!$scope.url)return widget.msgToast("还没有完成上传二维码图片"),!1;widget.ajaxRequest({url:"/cctalk/qrcodes",method:"post",scope:$scope,data:{name:$scope.name,url:$scope.url},success:function(json){widget.msgToast("上传成功,请刷新查看"),$scope.$parent.$$childHead.$$childTail.$$childHead.$$childHead.searchAction(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}})}),define("directives/merchant/list",["../../directives/directives","../../cons/simpleCons"],function(mod,con){mod.directive("addMerchantProduct",function($templateCache,$filter,$compile,widget,$uibModal,$templateCache){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-primary btn-rounded btn-sm" ng-click="show()">关联新活动</a>',link:function($scope,$element,$attrs){var supScope=$scope;$scope.show=function(status){$uibModal.open({template:function(){return $templateCache.get("app/"+con.biz_path+"merchant/product.html")},controller:function($scope,$uibModalInstance){$scope.company_name=supScope.data.company_name,$scope.utm_source=supScope.data.utm_source,$scope.param={},$scope.verify_product_id=function(product_id){return product_id?($scope.products=$scope.products||[],!($scope.products.findIndex(function(val,index,arr){return val.product_id==product_id})>-1&&(widget.msgToast("ID已经存在了!"),1))):(widget.msgToast("没有填写,或者不是数字"),!1)},$scope.add_product_id=function(json){if(0!=json.code)return widget.msgToast("ID不存在!"),!1;if(json.data){$scope.products||($scope.products=[]);var option_tmp=Array.prototype.concat(json.data.options,json.data.groupbuy_options,json.data.gift_options);json.data.options=option_tmp,$scope.products.push(json.data)}},$scope.submit=function(){$scope.param={products:[]},$scope.param.products=$scope.products.map(function(item){return{product_id:item.product_id,show_contact:$scope.show_contact,utm_source:$scope.utm_source}}),widget.ajaxRequest({url:"/merchant/merchants/"+supScope.data.id+"/products",method:"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("新增成功,请刷新查看"),supScope.$parent.searchAction(),$scope.cancel()},failure:function(error){error.validates&&JSON.stringify(error.validates).indexOf("has already been taken")>-1?widget.msgToast("数据验证失败,请检查课程ID是否已经存在!"):widget.msgToast(error.message)}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("delMerchantProduct",function($templateCache,$filter,$compile,widget){return{multiElement:!0,restrict:"AE",replace:!1,scope:{data:"="},template:"",link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";1==$scope.data.merchant_product.status&&(status_title="移除",status_text="ng-bind=\"'移除'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(2);"'),$scope.change=function(status){confirm("确认修改为"+status_title+"状态?")&&widget.ajaxRequest({url:"/merchant/merchantproducts/"+$scope.data.merchant_product.id+"/status/2",method:"put",scope:$scope,data:{},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})};var content='<a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+"></a>";$element.html(content),$compile($element.contents())($scope)}}}).directive("merchantProduct",function(widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-info btn-rounded btn-sm" ng-click="show()" ng-bind="data.stat.product_count|null2empty" ng-show="data.stat.product_count"></a>',link:function($scope,$element,$attrs){var supScope=$scope;$scope.show=function(status){$uibModal.open({template:'<div hjm-grid modid="merchantProductList" config="config_by_merchant" columns="columns_by_merchant" ext-search="extSearch"></div>',controller:function($scope,$uibModalInstance){$scope.extApi="",supScope.data.id&&($scope.extSearch={merchant_id:supScope.data.id}),$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("merchantForbidden",function($templateCache,$rootScope,$compile,widget,$state){return{restrict:"AE",replace:!1,scope:{data:"="},template:"",link:function($scope,$element,$attrs){var status_text="",click_text="",class_text="",status_title="";1==$scope.data.account.status?(status_title="禁用",status_text="ng-bind=\"'禁用'\"",class_text='ng-class={"btn-warning":true} ',click_text='ng-click="change(2);"',$scope.show_text=!0):2==$scope.data.account.status&&(status_title="启用",status_text="ng-bind=\"'启用'\"",class_text='ng-class={"btn-success":true} ',click_text='ng-click="change(1);"',$scope.show_text=!0);var content=' <a class="btn btn-rounded btn-sm"'+class_text+status_text+click_text+' ng-show="show_text"></a>';$element.html(content),$compile($element.contents())($scope),$scope.change=function(status){confirm("确认修改为"+status_title+"状态?")&&widget.ajaxRequest({url:"/accounts/"+$scope.data.account.account_id,method:"put",scope:$scope,data:{status:status},success:function(json){widget.msgToast("修改成功,请刷新查看"),$scope.$parent.$parent.searchAction()}})}}}})}),define("directives/cert/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("certUpdate",function($templateCache,$filter,$compile,widget,$state,$rootScope){return{restrict:"AE",replace:!0,scope:{data:"="},template:'<p><a class="btn btn-success btn-rounded btn-sm" ng-click="update();">编辑</a></p>',link:function($scope,$element,$attrs){$scope.update=function(){$state.go("main.cert.update",{id:$scope.data.id})}}}})}),define("directives/tmpl/modal_panel_tmpl",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("modalPanel",function($state,$rootScope,$templateCache,$uibModal,$compile){return{restrict:"AE",replace:!1,scope:!1,template:'<div class="modalPanel"></div>',link:function($scope,$element,$attrs){var content="";$scope.$watch("tmpl",function(defVal){content="",defVal&&($scope.title?content+='<div class="panel panel-primary" style="margin-bottom: 0;border:0;">            <div class="panel-heading">           <button type="button" class="close" ng-click="cancel();">×</button>           <h3 class="panel-title" ng-bind="title"></h3>           </div>           <div class="panel-body">'+$scope.tmpl+"</div>       </div>":content+=$attrs.tmpl,$element.find(".modalPanel").html(content),$compile($element.contents())($scope))})}}}).directive("modalTextarea",function($state,$rootScope,$templateCache,$uibModal,$compile,$timeout){return{restrict:"AE",replace:!1,scope:{title:"@",size:"@",content:"="},template:'<a class="btn btn-primary btn-rounded btn-sm" ng-click="open();" ng-bind="title||\'查看\'"></a>',link:function($scope,$element,$attrs){var supscope=$scope;$scope.open=function(){$uibModal.open({template:'<div modal-panel title="title" tmpl="tmpl"></div>',controller:function($scope,$uibModalInstance){$scope.title=supscope.title,$timeout(function(){$scope.content=supscope.content},0),$scope.tmpl='<div class="form-horizontal" name="FormBody" novalidate><blockquote><p>{{content}}</p></blockquote></form>',
$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:supscope.size||"lg"})}}}})}),define("directives/common/dndArray",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("dndArray",function($state,$rootScope,$timeout,$templateCache,$compile,$timeout,widget){return{restrict:"E",replace:!1,transclude:!0,scope:!1,template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"dnd/dnd-array.html"),link:function($scope,$element,$attrs,$ctrl){$scope.config&&$scope.config.add&&($scope.config.add=$scope.config.add),$scope.getContentUrl=function(){return $scope.tmp_url||""},$scope.$watch("ngModel",function(defval){defval&&angular.isArray(defval)||($scope.ngModel=[])},!0),$scope.add=function(){$scope.ngModel.push({})},$scope.del=function(index){$scope.ngModel.splice(index,1)}}}})}),define("directives/common/deleteData",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("deleteData",function($state,$rootScope,$timeout,$templateCache,$compile,$timeout,widget,$uibModal){return{restrict:"EA",replace:!1,transclude:!0,scope:!1,scope:{param:"=",config:"="},template:'<a class="btn btn-danger btn-rounded btn-sm" ng-bind="config.text||\'删除\'" ng-click="open();" ng-bind="config.text||\'删除\'">删除</a>',link:function($scope,$element,$attrs,$ctrl){var superScope=$scope;$scope.open=function(){$uibModal.open({template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"delete/delete-data.html"),controller:function($scope,$uibModalInstance,$timeout,$templateCache){$scope.config={url:superScope.config&&superScope.config.url||"",tmp_url:superScope.config&&superScope.config.tmp_url||"",method:superScope.config&&superScope.config.method||"delete",text:superScope.config&&superScope.config.text||"删除"},$scope.param=superScope.param||{},$scope.getContentUrl=function(){return $scope.config.tmp_url},$scope.del=function(){if(!$scope.config||!$scope.config.url)return widget.msgToast("JS:API 接口未配置!"),!1;widget.ajaxRequest({url:$scope.config.url,method:$scope.config.method,scope:$scope,data:$scope.param,success:function(json){widget.msgToast($scope.config.text+"成功,请刷新查看"),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:$scope.config&&$scope.config.size||""})}}}})}),define("directives/common/openUrl",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("openUrl",function($state,$rootScope,$timeout,$templateCache,$compile,$timeout,widget,$uibModal){return{restrict:"EA",replace:!0,transclude:!0,scope:{openUrl:"="},template:'<a class="btn btn-primary btn-rounded btn-sm" ng-click="open();" uib-tooltip="{{openUrl}}"><ng-transclude></ng-transclude></a>',link:function($scope,$element,$attrs,$ctrl){$scope.open=function(){window.open($scope.openUrl)}}}})}),define("directives/market/list",["../../directives/directives","../../cons/simpleCons"],function(mod,simpleCons){mod.directive("skunoUpdate",function($templateCache,$filter,$compile,widget,$uibModal){return{restrict:"AE",replace:!1,scope:{data:"="},template:"<a class=\"btn btn-rounded btn-sm\" ng-class=\"{'btn-success pull-right':!data.id,'btn-primary':data.id}\" ng-click=\"open()\" ng-bind=\"data.id?'更新':'关联skuno与视频组'\"></a>",link:function($scope,$element,$attrs){var supscope=$scope;$scope.open=function(){$uibModal.open({template:$templateCache.get("app/"+simpleCons.biz_path+"market/skuno.html"),controller:function($scope,$uibModalInstance){supscope.data?$scope.param=supscope.data:$scope.param={},$scope.submit=function(){widget.ajaxRequest({url:"/markets/skunos"+($scope.param.id?"/"+$scope.param.id:""),method:$scope.param.id?"PUT":"POST",scope:$scope,data:$scope.param,success:function(json){widget.msgToast("操作成功,请刷新查看"),supscope.$parent.updateList(),$scope.cancel()}})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:"lg"})}}}}).directive("userVideoGroupRecord",function($templateCache,$rootScope,$compile,widget,$state,$uibModal,$timeout){return{restrict:"AE",replace:!1,scope:{data:"="},template:'<a class="btn btn-rounded btn-sm btn-success" ng-click="open()">查看</a>',link:function($scope,$element,$attrs){var supScope=$scope;$scope.open=function(block_status){$uibModal.open({template:function(){return $templateCache.get("app/"+simpleCons.biz_path+"market/videogrouprecord.html")},controller:function($scope,$uibModalInstance){$scope.param={mobile:supScope.data.mobile,video_group_id:supScope.data.video_group_id},$scope.$watch("param.mobile",function(val){$scope.result=""}),$scope.chaxun=function(){widget.ajaxRequest({url:"/markets/view",method:"POST",scope:$scope,data:$scope.param,success:function(json){$scope.result=json.data.view_count}})},$scope.chaxun(),$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}},size:""})}}}})}),define("directives/_base",["./directives","../cons/simpleCons","./hjm-grid","./hjm-compile","./hjm-form","./hjm-form-audio","./hjm-form-image","./hjm-form-search","./hjm-form-date","./hjm-form-valid","./hjm-ueditor","./hjm-upload-sources","./hjm-img-text","./nav-top","./side-left","./hjmdirectives","./role-permission","./show_table","./show_image","./select_city","./select_boards","./show_str","./thumb","./common_form","./common_list","./baidumap","./product/list","./groupbuy/list","./order/list","./deliveries/list","./banner/list","./user/list","./sms/list","./account/list","./exchangecode/list","./export/list","./refund/list","./subject/list","./resource/list","./wechat/list","./hotkey/list","./survey/list","./lessons/list","./student/list","./teacher/list","./live_rooms/list","./live_notice/list","./live_appmessages/list","./record_comments/list","./support/list","./activitycoupons/list","./batchproducts/list","./videogroup/list","./marketshare/list","./permission/list","./upload/upload-audio-token","./upload/upload-apk-token","./zhibo_qr_code/list","./merchant/list","./cert/list","./tmpl/modal_panel_tmpl","./common/dndArray","./common/deleteData","./common/openUrl","./market/list"],function(mod,simpleCons){mod.directive("showRichContent",function($state,$rootScope,$timeout,$compile){return{restrict:"E",replace:!0,require:"?ngModel",scope:{ngModel:"="},template:'<div class="panel panel-default">    <div class="panel-body">        <simditor ng-model="ngModel" config="simditorConfig"></simditor>       <p ng-bind="ngModel" class="text-left text-med text-gray" show-role="\'admin\'"></p>    </div></div>',link:function($scope,$element,$attrs,ngModel){}}}).directive("showTextarea",function($state,$rootScope,$timeout,$compile){return{restrict:"E",replace:!0,require:"?ngModel",scope:{},template:'<div class="panel panel-default">    <div class="panel-heading" ng-class="{\'hide\':disabled}" >        <select ng-options="opts.id as opts.val for opts in FontOpts.size" ng-change="selectOpts()" ng-model="Update.font_size" style="width:100px;margin-left:10px;">            <option value="" disabled="false">大小</option>        </select>        <input type="color" ng-model="Update.font_color" ng-change="selectOpts()" style="width:70px;margin-left:10px;border-radius:5px;">        <select ng-options="opts.id as opts.val for opts in FontOpts.align" ng-change="selectOpts()" ng-model="Update.font_align" style="width:70px;margin-left:10px;">            <option value="" disabled="false">对齐</option>        </select>        <select ng-options="opts.id as opts.val for opts in FontOpts.bold" ng-change="selectOpts()" ng-model="Update.font_bold" style="width:70px;margin-left:10px;">            <option value="" disabled="false">粗细</option>        </select>        <select ng-options="opts.id as opts.val for opts in FontOpts.ita" ng-change="selectOpts()" ng-model="Update.font_ita" style="width:70px;margin-left:10px;">            <option value="" disabled="false">斜体</option>        </select>    </div>    <div class="panel-body">        <textarea class="form-control" rows="5" disabled-role="\'{{disabledRole}}\'" contentEditable=true style="height:auto;" ng-model="Update.content" ng-style="FontStyle" placeholder="{{Attrs.placeholder}}"></textarea>    </div></div>',link:function($scope,$element,$attrs,ngModel){$timeout(function(){$scope.disabled=!!$attrs.disabled,$scope.disabledRole=$attrs.disabledRole||""},0),ngModel&&(ngModel.$render=function(){$scope.Update=angular.extend({},ngModel.$viewValue||{font_size:"",font_align:"",font_bold:"",font_style:"",font_color:"",font_ita:"",content:""}),$scope.selectOpts()},$scope.Attrs={placeholder:$attrs.placeholder||""},$scope.FontOpts={size:[{id:"large",val:"large"},{id:"medium",val:"medium"},{id:"small",val:"small"}],align:[{id:"1",val:"left"},{id:"2",val:"center"},{id:"3",val:"right"}],bold:[{id:"1",val:"bolder"},{id:"0",val:"normal"}],ita:[{id:"1",val:"italic"},{id:"0",val:"normal"}]},$scope.obj_id2val=function(obj,id){var rtn="";return angular.forEach(obj,function(v,k){v.id==id&&(rtn=v.val)}),rtn},$scope.selectOpts=function(){$scope.FontStyle={"font-size":$scope.obj_id2val($scope.FontOpts.size,$scope.Update.font_size)||"","text-align":$scope.obj_id2val($scope.FontOpts.align,$scope.Update.font_align)||"","font-weight":$scope.obj_id2val($scope.FontOpts.bold,$scope.Update.font_bold)||"","font-style":$scope.obj_id2val($scope.FontOpts.ita,$scope.Update.font_ita)||"",color:$scope.Update.font_color||""},ngModel.$setViewValue($scope.Update)})}}}).directive("showUpload",function($state,$rootScope,$timeout,FileUploader,$templateCache,$parse,widget){return{restrict:"E",replace:!0,scope:{images:"=",required:"@"},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"upload/showUpload.html"),controller:function($scope,$element,$attrs){function updateImages(){init=!0,$scope.images=[],angular.forEach($scope.uploader.queue,function(v,k){v.updated_at?$scope.images.push({updated_at:v.updated_at||void 0,pic_url:v.url,pic_width:v.width,pic_height:v.height}):$scope.images.push({pic_url:v.qiniu_url,pic_width:v.width,pic_height:v.height})})}$timeout(function(){$scope.disabled=!!$attrs.disabled,$scope.disabledRole=$attrs.disabledRole||""},0),$scope.uploader=new FileUploader({url:simpleCons.qiniu_domain+"/qiniu/controller.php?action=uploadimage"});var init=!1;$scope.$watch("images",function(imagesVal){$scope.max=$attrs.max||100,imagesVal&&imagesVal.length>0&&!init&&0==$scope.uploader.queue.length&&(init=!0,$scope.images&&$scope.images.length>0&&angular.forEach($scope.images,function(v,k){$scope.uploader.queue.push({pic_id:v.pic_id||void 0,url:v.pic_url||v.url||"",width:v.pic_width||v.width||100,height:v.pic_height||v.height||100,size:v.pic_size||v.size||1,updated_at:v.updated_at||void 0,old:!0,progress:100,isUploaded:!0})}))},!0),$scope.removeImage=function(key){$scope.uploader.queue.splice(key,1),updateImages()},$scope.uploader.onSuccessItem=function(fileItem,response,status,headers){response&&(1001==response.code?(alert(response.msg),fileItem.qiniu_url="",fileItem.isReady=!1,fileItem.isError=!0,fileItem.isUploaded=!0,fileItem.isSuccess=!1,updateImages()):response.url&&"ERROR"!=response.state?(fileItem.qiniu_url=response.url,fileItem.width=response.width,fileItem.height=response.height,updateImages()):(fileItem.qiniu_url="",fileItem.isReady=!1,fileItem.isError=!0,fileItem.isUploaded=!0,fileItem.isSuccess=!1,updateImages()))},$scope.uploader.filters.push({name:"imageFilter",fn:function(item,options){return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf("|"+item.type.slice(item.type.lastIndexOf("/")+1)+"|")}}),$scope.uploader.filters.push({name:"customFilter",fn:function(item,options){var len=$scope.images&&"undefined"!=$scope.images?$scope.images.length:0;return this.queue.length<$scope.max-len}}),$scope.uploader.onAfterAddingAll=function(fileItems){angular.forEach(fileItems,function(v,k){$scope.images.push({})}),$timeout(function(){updateImages()},0)},$scope.log=function(){updateImages(),widget.msgToast("确认排序成功"),console.log($scope.uploader.queue)},$scope.removeAll=function(){if(!confirm("确定全部移除吗?"))return!1;$scope.images=[],$scope.uploader.queue=[]},$scope.delImage=function(key,obj){if(!confirm("确定移除?"))return!1;obj.updated_at?$scope.uploader.queue.splice(key,1):obj.remove(),updateImages()},$scope.getEle=function(eleKey){if($scope.eleKey=eleKey,angular.isNumber($scope.eleKey)&&angular.isNumber($scope.posIndex)){var a=$scope.eleKey<$scope.posIndex?$scope.eleKey:$scope.eleKey-1,b=$scope.eleKey>$scope.posIndex?$scope.posIndex:$scope.posIndex-1;console.log($scope.eleKey+" 插入到位置 "+$scope.posIndex+"  ",a,b,$scope.uploader.queue);var eleKeyObj=new Object($scope.uploader.queue[a]),posIndexObj=new Object($scope.uploader.queue[b]);$scope.uploader.queue.splice(a,1,posIndexObj),$scope.uploader.queue.splice(b,1,eleKeyObj)}updateImages()},$scope.getPos=function(posIndex){$scope.posIndex=posIndex}}}}).directive("showUploadToken",function($state,$rootScope,$timeout,FileUploader,$templateCache,$parse,widget,comfunc){return{restrict:"E",replace:!0,scope:{images:"=",required:"@",token:"@",hideBar:"="},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"upload/showUpload.html"),controller:function($scope,$element,$attrs){function updateImages(){init=!0,$scope.images=[],angular.forEach($scope.uploader.queue,function(v,k){v.updated_at||v.old?$scope.images.push({updated_at:v.updated_at||void 0,pic_url:v.url,pic_width:v.width,pic_height:v.height}):$scope.images.push({pic_url:v.qiniu_url,pic_width:v.width,pic_height:v.height})})}$scope.dndAllowType="dnd"+Math.ceil(1e4*Math.random(1e4)),$scope.allowedType=[$scope.dndAllowType],$timeout(function(){$scope.disabled=!!$attrs.disabled,$scope.disabledRole=$attrs.disabledRole||""},0),$scope.uploader=new FileUploader({url:"https://up.qbox.me/"});var init=!1;$scope.$watch("images",function(imagesVal){$scope.max=$attrs.max||100,imagesVal&&imagesVal.length>0&&!init&&0==$scope.uploader.queue.length&&(init=!0,$scope.images&&$scope.images.length>0&&angular.forEach($scope.images,function(v,k){$scope.uploader.queue.push({pic_id:v.pic_id||v.id||void 0,url:v.pic_url||v.url||"",width:v.pic_width||v.width||100,height:v.pic_height||v.height||100,updated_at:v.updated_at||void 0,old:!0,progress:100,isUploaded:!0})}))},!0),$scope.removeImage=function(key){$scope.uploader.queue.splice(key,1),updateImages()},$scope.uploader.onAfterAddingFile=function(fileItem){var fileItemTmpl={name:fileItem._file.name,type:$scope.token};widget.ajaxRequest({url:"/supports/uptoken",method:"get",scope:$scope,data:fileItemTmpl,success:function(json){fileItem.formData.push({key:json.data.key,token:json.data.token})}})},$scope.uploader.onSuccessItem=function(fileItem,response,status,headers){response&&(1001==response.code?(alert(response.msg),fileItem.qiniu_url="",fileItem.isReady=!1,fileItem.isError=!0,fileItem.isUploaded=!0,fileItem.isSuccess=!1,updateImages()):response.url&&"ERROR"!=response.state?(fileItem.qiniu_url=response.url,fileItem.width=response.width,fileItem.height=response.height,updateImages()):(fileItem.qiniu_url="",fileItem.isReady=!1,fileItem.isError=!0,fileItem.isUploaded=!0,fileItem.isSuccess=!1,updateImages()))},$scope.uploader.filters.push({name:"imageFilter",fn:function(item,options){return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf("|"+item.type.slice(item.type.lastIndexOf("/")+1)+"|")}}),$scope.uploader.filters.push({name:"customFilter",fn:function(item,options){var len=$scope.images&&"undefined"!=$scope.images?$scope.images.length:0;return this.queue.length<$scope.max-len}}),$scope.uploader.onAfterAddingAll=function(fileItems){$scope.images=$scope.images||[],angular.forEach(fileItems,function(v,k){$scope.images.push({})}),$timeout(function(){updateImages()},0)},$scope.log=function(){updateImages(),widget.msgToast("确认排序成功"),console.log($scope.uploader.queue)},$scope.removeAll=function(){if(!confirm("确定全部移除吗?"))return!1;$scope.images=[],$scope.uploader.queue=[]},$scope.confirm_del_image_notice=!0,$scope.delImage=function(key,obj){if($scope.confirm_del_image_notice){if(!confirm("确定移除,且本次操作此字段不再有删除提示?"))return $scope.confirm_del_image_notice=!0,!1;$scope.confirm_del_image_notice=!1}obj.updated_at||obj.pic_id||obj.old?$scope.uploader.queue.splice(key,1):obj.remove(),updateImages()},$scope.getEle=function(eleKey){if($scope.eleKey=eleKey,angular.isNumber($scope.eleKey)&&angular.isNumber($scope.posIndex)){var a=$scope.eleKey<$scope.posIndex?$scope.eleKey:$scope.eleKey-1,b=$scope.eleKey>$scope.posIndex?$scope.posIndex:$scope.posIndex-1;console.log($scope.eleKey+" 插入到位置 "+$scope.posIndex+"  ",a,b,$scope.uploader.queue);var eleKeyObj=new Object($scope.uploader.queue[a]);new Object($scope.uploader.queue[b]);$scope.eleKey>$scope.posIndex?($scope.uploader.queue.splice(b,0,eleKeyObj),$scope.uploader.queue.splice(a+1,1)):$scope.eleKey<$scope.posIndex&&($scope.uploader.queue.splice(b+1,0,eleKeyObj),$scope.uploader.queue.splice(a,1))}updateImages()},$scope.getPos=function(posIndex){$scope.posIndex=posIndex}}}}).directive("showUploadMediaToken",function($state,$rootScope,$timeout,FileUploader,$templateCache,$parse,widget){return{restrict:"E",replace:!0,scope:{media:"=",required:"@",token:"@"},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"upload/showMediaUpload.html"),controller:function($scope,$element,$attrs){function updateMedia(){init=!0,$scope.media=[],angular.forEach($scope.uploader.queue,function(v,k){v.updated_at||v.old?$scope.media.push({updated_at:v.updated_at||void 0,pic_url:v.url,pic_width:v.width,pic_height:v.height}):$scope.media.push({pic_url:v.qiniu_url,pic_width:v.width,pic_height:v.height})})}$timeout(function(){$scope.disabled=!!$attrs.disabled,$scope.disabledRole=$attrs.disabledRole||""},0),$scope.uploader=new FileUploader({url:"https://up.qbox.me/"});var init=!1;$scope.$watch("media",function(mediaVal){$scope.max=$attrs.max||100,mediaVal&&mediaVal.length>0&&!init&&0==$scope.uploader.queue.length&&(init=!0,$scope.media&&$scope.media.length>0&&angular.forEach($scope.media,function(v,k){$scope.uploader.queue.push({pic_id:v.pic_id||void 0,url:v.pic_url||v.url||"",width:v.pic_width||v.width||100,height:v.pic_height||v.height||100,size:v.pic_size||v.size||1,updated_at:v.updated_at||void 0,old:!0,progress:100,isUploaded:!0})}))},!0),$scope.removeMedia=function(key){$scope.uploader.queue.splice(key,1),updateMedia()},$scope.uploader.onAfterAddingFile=function(fileItem){var fileItemTmpl={name:fileItem._file.name,type:$scope.token};widget.ajaxRequest({url:"/supports/uptoken",method:"get",scope:$scope,data:fileItemTmpl,success:function(json){fileItem.formData.push({key:json.data.key,token:json.data.token})}})},$scope.uploader.onSuccessItem=function(fileItem,response,status,headers){response&&(1001==response.code?(alert(response.msg),fileItem.qiniu_url="",fileItem.isReady=!1,fileItem.isError=!0,fileItem.isUploaded=!0,fileItem.isSuccess=!1,updateMedia()):response.url&&"ERROR"!=response.state?(fileItem.qiniu_url=response.url,fileItem.width=response.width,fileItem.height=response.height,updateMedia()):(fileItem.qiniu_url="",fileItem.isReady=!1,fileItem.isError=!0,fileItem.isUploaded=!0,fileItem.isSuccess=!1,updateMedia()))},$scope.uploader.filters.push({name:"imageFilter",fn:function(item,options){return-1!=="|mp3|mp4|pdf|doc|docx|xls|xlsx|ppt|pptx|x-rar|zip|".indexOf("|"+item.type.slice(item.type.lastIndexOf("/")+1)+"|")}}),$scope.uploader.filters.push({name:"customFilter",fn:function(item,options){var len=$scope.media&&"undefined"!=$scope.media?$scope.media.length:0;return this.queue.length<$scope.max-len}}),$scope.uploader.onAfterAddingAll=function(fileItems){$scope.media=$scope.media||[],angular.forEach(fileItems,function(v,k){$scope.media.push({})}),$timeout(function(){updateMedia()},0)},$scope.log=function(){updateMedia(),widget.msgToast("确认排序成功"),console.log($scope.uploader.queue)},$scope.removeAll=function(){if(!confirm("确定全部移除吗?"))return!1;$scope.media=[],$scope.uploader.queue=[]},$scope.confirm_del_image_notice=!0,$scope.delMedia=function(key,obj){if($scope.confirm_del_image_notice){if(!confirm("确定移除,且本次操作此字段不再有删除提示?"))return $scope.confirm_del_image_notice=!0,!1;$scope.confirm_del_image_notice=!1}obj.updated_at||obj.pic_id?$scope.uploader.queue.splice(key,1):obj.remove(),updateMedia()}}}}).directive("showAddresses",function($state,$rootScope,$timeout,FileUploader,$templateCache,$parse,widget){return{restrict:"E",replace:!0,scope:{addresses:"=",required:"@"},template:$templateCache.get("app/"+simpleCons.DIRECTIVE_PATH+"upload/showAddresses.html"),controller:function($scope,$element,$attrs){$timeout(function(){$scope.disabled=!!$attrs.disabled,$scope.disabledRole=$attrs.disabledRole||""},0),$scope.mapData={isshowmap:!1},$scope.show_tip=[],$scope.log=function(){console.log($scope.addresses)},$scope.del_info=function(index){$scope.addresses[index]&&($scope.addresses[index].longitude=0,$scope.addresses[index].latitude=0,$scope.addresses[index].city_name="",$scope.addresses[index].district="")},$scope.$watch("addresses",function(val){$scope.show_tip.length=val&&val.length||0,angular.forEach(val,function(v,k){$scope.show_tip[k]=0,v.city_name||($scope.show_tip[k]=1)})},!0),$scope.delAddress=function(index){index||0==index?(index||0==index)&&$scope.addresses.splice(index,1):confirm("确定全部移除吗?")&&($scope.addresses=[])},$scope.addAddress=function(){$scope.addresses&&$scope.addresses.length>0?$scope.addresses.push({}):$scope.addresses=[{}]},$scope.getlocation=function(index){if($scope.del_info(),angular.isUndefined($scope.addresses[index].detail_address)||!$scope.addresses[index].detail_address)return widget.msgToast("请填写地址详情来定位经纬度"),!1;$scope.mapData.address=$scope.addresses[index].detail_address,$scope.mapData.timeStamp=(new Date).getTime(),$scope.mapData.index=index},$scope.callback=function(){($scope.mapData.index||0==$scope.mapData.index)&&($scope.addresses[$scope.mapData.index].longitude=$scope.mapData.lng,$scope.addresses[$scope.mapData.index].latitude=$scope.mapData.lat,$scope.addresses[$scope.mapData.index].district=$scope.mapData.district,$scope.addresses[$scope.mapData.index].city_name=$scope.mapData.city,$scope.show_tip[$scope.mapData.index]=!1,$scope.mapData.city&&-1==$scope.mapData.city.indexOf("上海")&&(widget.msgToast("定位了非上海市,不展示城市和区县",3e3),$scope.show_tip[$scope.mapData.index]=!0,$scope.addresses[$scope.mapData.index].district="",$scope.addresses[$scope.mapData.index].city_name=""))}}}})}),define("filters/filters",["angular"],function(angular){return angular.module("huijiaFilters",[])}),define("filters/common",["./filters","../cons/simpleCons"],function(mod,cons){mod.filter("common",[function(){return function(val,which_common){var rtn="";if(!val)return"";var loop_obj=eval("cons.common."+which_common);return angular.forEach(loop_obj,function(v){v.value==val&&(rtn=v.text)}),rtn}}]).filter("keyVal",[function(){return function(val,key1,val1,key2,val2,key3,val3,key4,val4){var rtn=val;switch(val+=""){case key1:rtn=val1;break;case key2:rtn=val2;break;case key3:rtn=val3;break;case key4:rtn=val4;break;default:rtn=val}return rtn}}]).filter("yes1no2",[function(){return function(val){return"1"==val?"是":"2"==val?"否":val}}]).filter("gender",[function(){return function(val){return"1"==val?"男":"2"==val?"女":"保密"}}]).filter("is_vip",[function(){return function(val){return"1"==val?"会员":"3"==val?"体验会员":"非会员"}}]).filter("num2abc",[function(){return function(val){val+="";var rtn="";switch(val){case"1":rtn="A";break;case"2":rtn="B";break;case"3":rtn="C";break;case"12":rtn="AB";break;case"23":rtn="BC";break;case"13":rtn="AC";break;case"123":rtn="ABC";break;default:rtn=""}return rtn}}]).filter("num2week",[function(){return function(val){val+="";var rtn="";switch(val){case"1":rtn="星期一";break;case"2":rtn="星期二";break;case"3":rtn="星期三";break;case"4":rtn="星期四";break;case"5":rtn="星期五";break;case"6":rtn="星期六";break;case"7":rtn="星期天";break;default:rtn="无配送"}return rtn}}]).filter("date2break",[function(){return function(val){return val?val.split(" ")[0]+"\r\n"+val.split(" ")[1]:""}}]).filter("second2hour",[function(){return function(val){return parseInt(1*val/3600)}}]).filter("num2hour",[function(){return function(val){return parseInt(1*val/36e5)}}]).filter("zero2empty",[function(){return function(val,rtn_str){return val&&0!=val?val:rtn_str||""}}]).filter("null2empty",[function(){return function(val,rtn_str){return val&&null!=val&&"null"!=val&&void 0!=val&&"undefined"!=val?val:rtn_str||""}}]).filter("arraySub2Array",[function(){return function(val,param){var arr=[];return angular.forEach(val,function(v,k){arr[k]=eval("v."+param)}),arr}}]).filter("arraySub2String",[function(){return function(val,param){var arr=[];return angular.forEach(val,function(v,k){arr[k]=eval("v."+param)}),arr.join(",")}}]).filter("arraySum",[function(){return function(val,param){var Sum=0;return angular.forEach(val,function(v,k){Sum+=1*eval("v."+param)}),Sum}}]).filter("process",[function(comfunc){return function(val,param){return param>0?(parseFloat(100*parseInt(1e12*val))/parseInt(1e12*param)).toFixed(2)+"%":"0%"}}]).filter("to_trusted",["$sce",function($sce){return function(text){return $sce.trustAsHtml(text)}}]).filter("stringify",[function(){return function(val){return val&&angular.isObject(val)?JSON.stringify(val):val||""}}]).filter("parseArray",[function(){return function(val){if(val)return JSON.parse(val)}}]).filter("brithday2age",[function(){return function(brithday){return brithday&&"null"!=brithday&&brithday.length>=10?(new Date).getFullYear()-brithday.substr(0,4):""}}]).filter("remaining_time",[function(){return function(end_time,start_time){if(end_time){var rtn_now=start_time?new Date(start_time).getTime():(new Date).getTime(),rtn_end_time=new Date(end_time.replace(/-/g,"/")).getTime(),remaining_time=rtn_end_time-rtn_now;return remaining_time=remaining_time<=0?"已结束":parseInt(remaining_time/864e5)+"天"+parseInt(remaining_time%864e5/36e5)+"小时"+parseInt(remaining_time%864e5%36e5/6e4)+"分钟"}return""}}]).filter("change_domain_mp4",[function(){return function(val){return val.replace(/\/{2}.*.\/{1}/,"//resourcevideo.bucket.ahaschool.com/")}}])}),define("filters/form_err",["./filters","../cons/simpleCons"],function(mod,simpleCons){mod.filter("form_err",[function(){return function(val){var result=val;switch(val+=""){case"required":result="必填项未填写";break;case"maxlength":result="超过最大数据限制";break;case"minlength":result="至少要有一个数据";break;case"hasPic":result="至少上传一张图片";break;case"max":result="最大值范围出错";break;case"min":result="最小值范围出错"}return result}}])}),define("filters/_base",["./filters","./common","./form_err","../cons/simpleCons"],function(mod,simpleCons){mod.filter("subject_groups",[function(){return function(val){var result="其他";return angular.isArray(val)&&val.length>0?result="正在进行":angular.isArray(val)&&0==val.length&&(result="已下线"),result}}]).filter("status0or1or2",[function(){return function(val){var result="其他";switch(val+=""){case"0":result="待上线";break;case"1":result="正在进行";break;case"2":result="已下线"}return result}}]).filter("verify_type",[function(){return function(val){return 5==val?"验证中":6==val?"已经通过":"未验证"}}]).filter("live_role_type",[function(){return function(val){var rtn="";switch(val){case 1:case"1":rtn="老师";break;case 2:case"2":rtn="助理";break;default:rtn="学生"}return rtn}}]).filter("target_type",[function(){return function(val){var rtn="";switch(val){case"1":rtn="部分小区";break;case"2":rtn="所有小区";break;case"3":rtn="排除小区";break;default:rtn="其他"}return rtn}}]).filter("tuan_type",[function(){return function(val){var rtn="";switch(val){case"1":rtn="单独成团";break;case"2":rtn="一起团";break;default:rtn="其他团"}return rtn}}]).filter("refund_status",[function(){return function(val){var rtn="";switch(val){case"0":rtn="未退款";break;case"1":rtn="退款中";break;case"2":rtn="退款失败";break;case"3":rtn="退款成功";break;default:rtn="其他状态"}return rtn}}]).filter("payment_from",[function(){return function(val){val+="";var rtn="";switch(val){case"1":rtn="微信";break;case"2":rtn="支付宝";break;case"3":rtn="微信H5";break;case"6":rtn="支付宝H5";break;default:rtn="未选择"}return rtn}}]).filter("payment_status",[function(){return function(val){val+="";var rtn="";switch(val){case"0":rtn="待支付";break;case"1":rtn="支付中";break;case"2":rtn="支付失败";break;case"3":rtn="支付成功";break;default:rtn=""}return rtn}}]).filter("pay_status",[function(){return function(val){var rtn="";switch(val){case"0":rtn="没有支付";break;case"1":rtn="等待支付";break;case"2":rtn="支付成功";break;case"3":rtn="支付失败 ";break;case"4":rtn="支付过期";break;case"5":rtn="取消报名";break;default:rtn="其他"}return rtn}}]).filter("sms_status",[function(){return function(val){var rtn="";switch(val){case"1":rtn="待处理";break;case"2":rtn="处理中";break;case"3":rtn="已完成";break;default:rtn="其他"}return rtn}}]).filter("product_status",[function(){return function(val){var result="未知状态";switch(val+=""){case"0":result="草稿箱";break;case"1":result="进行中";break;case"2":result="已结束";break;case"3":result="已下线"}return result}}]).filter("order_status",[function(){return function(val){var result="其他";switch(val+=""){case"":result="全部";break;case"1":result="待支付";break;case"2":result="支付中";break;case"3":result="已支付";break;case"4":result="支付失败";break;case"5":result="已完成";break;case"6":result="已取消"}return result}}]).filter("poi_type",[function(){return function(val){var result="其他";switch(val+=""){case"1":result="小区";break;case"2":result="写字楼"}return result}}]).filter("return_status",[function(){return function(val){var result="其他";switch(val+=""){case"1":result="未返现";break;case"2":result="返现中";break;case"3":result="已经返现";break;case"4":result="返现失败";break;case"5":result="作废"}return result}}]).filter("order_deliver_status",[function(){return function(val){var result="其他";switch(val+=""){case"1":result="待发货";break;case"2":result="已发货";break;case"3":result="已签收";break;case"4":result="已经取消"}return result}}]).filter("address_poi_type",[function(){return function(val){var result="其他";switch(val+=""){case"1":result="小区";break;case"2":result="公司"}return result}}]).filter("address_status",[function(){return function(val){var result="其他";switch(val+=""){case"1":result="正常";break;case"2":result="删除"}return result}}]).filter("refund_type",[function(){return function(val){var result="其他";switch(val+=""){case"1":result="订单退款";break;case"2":result="返现"}return result}}]).filter("refund_channel",[function(){return function(val){var result="其他";switch(val+=""){case"1":result="APP微信";break;case"2":result="APP支付宝";break;case"3":result="H5微信";break;case"6":result="WAP支付宝"}return result}}]).filter("coupon_category",[function(){return function(val){var result="不限";switch(val+=""){case"1":result="砍价团";break;case"2":result="人数团";break;case"3":result="直接买"}return result}}]).filter("order_type",[function(){return function(val){var result="不限";switch(val+=""){case"1":result="砍价团";break;case"2":result="人数团";break;case"3":result="直接买";break;case"4":result="购买礼包";break;case"5":result="领取礼包"}return result}}]).filter("coupon_sku",[function(){return function(val){var result="其他";switch(val+=""){case"0":result="不限";break;case"1":result="鲜花"}return result}}]).filter("groupbuy_end_type",[function(){return function(val){var result="其他";switch(val+=""){case"1":result="人数类型(成团后不能再报名)";break;case"2":result="拼团时间(成团后仍可报名)"}return result}}]).filter("product_sku",[function(){return function(val){var result="其他";switch(val+=""){case"1":result="活动";break;case"2":result="测评";break;case"3":result="众筹";break;case"4":result="年卡";break;case"5":result="会员";break;case"6":result="测试";break;case"7":result="其他";break;case"8":result="霸王团";break;case"9":result="课程";break;case"10":result="博物馆直播";break;case"11":result="名校直播";break;case"12":result="成人演讲";break;case"13":result="少年好声音"}return result}}]).filter("coupon_frequency_type",[function(){return function(val){var result="其他";switch(val+=""){case"0":result="不限";break;case"1":result="单次";break;case"2":result="包月"}return result}}]).filter("refund_cancel_from",[function(){return function(val){var result="其他";switch(val+=""){case"1":result="块长取消";break;case"2":result="用户取消";break;case"3":result="系统取消"}return result}}]).filter("accomplish_status",[function(){return function(val){var result="未知";switch(val+=""){case"1":result="开团";break;case"2":result="进行中";break
;case"3":result="已完成";break;case"4":result="已取消"}return result}}]).filter("banner_status",[function(){return function(val){var result="其他";switch(val+=""){case"1":result="上线";break;case"2":result="下线"}return result}}]).filter("product_category",[function(){return function(val){var result="其他";switch(val+=""){case"1":result="砍价团";break;case"2":result="人数团";break;case"3":result="直接买";break;case"4":result="礼包"}return result}}]).filter("product_option_status",[function(){return function(val){var result="其他";switch(val+=""){case"1":result="正常";break;case"2":result="删除"}return result}}]).filter("act_result",[function(){return function(val){var result="其他";switch(val+=""){case"0":result="";break;case"1":result="成功";break;case"2":result="失败"}return result}}]).filter("qrcode_type",[function(){return function(val){var result=val;switch(val+=""){case"1":result="临时";break;case"2":result="永久"}return result}}]).filter("course_category",[function(){return function(val){return val.replace(/,/g,"").replace("1","德").replace("2","智").replace("3","体").replace("4","美").replace("5","劳")}}]).filter("survey_category_type",[function(){return function(val){var result=val;switch(val+=""){case"1":result="系统保留";break;case"2":result="可编辑"}return result}}]).filter("survey_question_status",[function(){return function(val){var result=val;switch(val+=""){case"1":result="进行中";break;case"2":result="暂停";break;case"3":result="删除";break;case"4":result="草稿"}return result}}]).filter("survey_question_type",[function(){return function(val){var result=val;switch(val+=""){case"3":result="单选";break;case"2":result="多选";break;case"1":result="下拉列表"}return result}}]).filter("question_option_type",[function(){return function(val){var result=val;switch(val+=""){case"1":result="普通题";break;case"2":result="选项计分题";break;case"3":result="选项汇总题"}return result}}]).filter("survey_plan_type",[function(){return function(val){var result=val;switch(val+=""){case"1":result="原题型";break;case"2":result="财商题型"}return result}}]).filter("mission_status",[function(){return function(val){var result=val;switch(val+=""){case"1":result="上线";break;case"2":result="下线";break;case"3":result="草稿"}return result}}]).filter("act_time_type",[function(){return function(val){var result=val;switch(val+=""){case"1":result="每天连续";break;case"2":result="每周固定天数"}return result}}]).filter("date_time_duration",[function(){return function(val){var result=val;return(val||0==val)&&(result=val+":00 - "+(parseInt(val)+1)+":00"),result}}])}),define("services/comfunc",["./services","../cons/simpleCons"],function(mod,cons){mod.factory("comfunc",function($q,$state,$compile,$location,$rootScope,$log,$filter){var comfunc={getDatePeriod:function(period){var day_start=new Date,day_end=new Date,rtn_start="",rtn_end="";switch(period+=""){case"1":rtn_start=$filter("date")(day_start,"yyyy-MM-dd 00:00:00"),rtn_end=$filter("date")(day_end,"yyyy-MM-dd 23:59:59");break;case"2":day_start.setDate(day_start.getDate()-1),day_end.setDate(day_end.getDate()-1),rtn_start=$filter("date")(day_start,"yyyy-MM-dd 00:00:00"),rtn_end=$filter("date")(day_end,"yyyy-MM-dd 23:59:59");break;case"3":day_start.setDate(day_start.getDate()-(day_end.getDay()-1)),rtn_start=$filter("date")(day_start,"yyyy-MM-dd 00:00:00"),rtn_end=$filter("date")(day_end,"yyyy-MM-dd 23:59:59");break;case"4":rtn_start=$filter("date")(day_start,"yyyy-MM-01 00:00:00"),rtn_end=$filter("date")(day_end,"yyyy-MM-dd 23:59:59");break;case"5":day_start.setDate(day_start.getDate()-6),rtn_start=$filter("date")(day_start,"yyyy-MM-dd 00:00:00"),rtn_end=$filter("date")(day_end,"yyyy-MM-dd 23:59:59");break;case"6":day_start.setDate(day_start.getDate()-29),rtn_start=$filter("date")(day_start,"yyyy-MM-dd 00:00:00"),rtn_end=$filter("date")(day_end,"yyyy-MM-dd 23:59:59");break;default:rtn_start=$filter("date")(day_start,"yyyy-MM-dd 00:00:00"),rtn_end=$filter("date")(day_end,"yyyy-MM-dd 23:59:59")}return{start_time:rtn_start,end_time:rtn_end}},isEmptyArray:function(arr){return angular.isArray(arr)?0==arr.length||!1:(console.log(arr+" 不是一个数组"),!0)},hasEmptyFieldArray:function(_arr){var flag=!1;return angular.forEach(_arr,function(val,key){angular.forEach(val,function(v,k){0===v||v&&""!=v||(console.log(k,v),flag=!0)})}),flag},numMulti:function(num1,num2){var baseNum=0;try{baseNum+=(num1||0).toString().split(".")[1].length}catch(e){baseNum+=0}try{baseNum+=(num2||0).toString().split(".")[1].length}catch(e){baseNum+=0}return Number((num1||0).toString().replace(".",""))*Number((num2||0).toString().replace(".",""))/Math.pow(10,baseNum)},numAdd:function(num1,num2){var baseNum,baseNum1,baseNum2;try{baseNum1=num1.toString().split(".")[1].length}catch(e){baseNum1=0}try{baseNum2=num2.toString().split(".")[1].length}catch(e){baseNum2=0}return baseNum=Math.pow(10,Math.max(baseNum1,baseNum2)),(this.numMulti(num1,baseNum)+this.numMulti(num2,baseNum))/baseNum},numSub:function(num1,num2){var baseNum,baseNum1,baseNum2,precision;try{baseNum1=num1.toString().split(".")[1].length}catch(e){baseNum1=0}try{baseNum2=num2.toString().split(".")[1].length}catch(e){baseNum2=0}return baseNum=Math.pow(10,Math.max(baseNum1,baseNum2)),precision=baseNum1>=baseNum2?baseNum1:baseNum2,((num1*baseNum-num2*baseNum)/baseNum).toFixed(precision)},numDiv:function(num1,num2){var baseNum1=0,baseNum2=0,baseNum3,baseNum4;try{baseNum1=num1.toString().split(".")[1].length}catch(e){baseNum1=0}try{baseNum2=num2.toString().split(".")[1].length}catch(e){baseNum2=0}with(Math)return baseNum3=Number(num1.toString().replace(".","")),baseNum4=Number(num2.toString().replace(".","")),baseNum3/baseNum4*pow(10,baseNum2-baseNum1)}};return comfunc})}),define("services/table2Array",["./services","../cons/simpleCons"],function(mod,cons){mod.factory("table2Array",function($q,$state,$compile,$location,$rootScope,$log){var tr2text=function(rows){var row_content=[];return angular.forEach(rows.children(),function(row){row_content.push($(row).text())}),row_content};return function(id){var rtn_arr=[],head=$("#"+id+">thead>tr"),body=$("#"+id+">tbody>tr");return head.length>0&&angular.forEach(head,function(tr){rtn_arr.push(tr2text($(tr)))}),body.length>0&&angular.forEach(body,function(tr){rtn_arr.push(tr2text($(tr)))}),rtn_arr}})}),define("services/formBody",["./services","../cons/simpleCons"],function(mod,cons){mod.factory("formBody",function($q,$state,$compile,$location,$rootScope,$log,$filter){return{getScope:function(scope){var num=0,loop=function(tmp_scope){return num++,num>20?null:tmp_scope.FormBody?tmp_scope:loop(tmp_scope.$parent)};return loop(scope)}}})}),define("services/_base",["./services","../cons/simpleCons","./widget","./comfunc","./table2Array","./formBody"],function(mod,cons,widget,comfunc){mod.factory("bpmHttpInterceptor",["$log","$rootScope",function($log,$rootScope){return{request:function(request){return-1==request.url.indexOf(".html")?$rootScope.http_notification="请求等待中...":$rootScope.http_notification="加载模板中...",request},requestError:function(request){$rootScope.http_notification=null,console.log("requestError:  "+request)},response:function(response){return $rootScope.http_notification=null,response&&1e3==response.data.code&&(delete $rootScope.hjm,delete $rootScope.selected,delete $rootScope.login_account,localStorage.clear(),$rootScope.$state.go("login"),response.data.message="账号认证失败,重新登陆"),response},responseError:function(response){return $rootScope.http_notification=null,console.log("responseError:  "+JSON.stringify(response)),response}}}]).run(["$rootScope","$state","$stateParams","$http","$uibModal","$location","widget","$document","base64","$q",function($rootScope,$state,$stateParams,$http,$uibModal,$location,widget,$document,base64,$q){$document.bind("keydown",function(event){}),$document.bind("keyup",function(event){var tagName="BODY"==document.activeElement.tagName||"A"==document.activeElement.tagName;if(tagName&&$rootScope.hjm&&"admin"==$rootScope.hjm.role)switch(event.keyCode){case 84:$rootScope.$state.go(cons.state.main+".groupbuy.list");break;case 80:$rootScope.$state.go(cons.state.main+".product.list");break;case 65:$rootScope.$state.go(cons.state.main+".act.list");break;case 68:$rootScope.$state.go(cons.state.main+".delivery.list");break;case 77:$rootScope.$state.go(cons.state.main+".refund.list");break;case 79:$rootScope.$state.go(cons.state.main+".banner.list");break;case 76:$rootScope.$state.go(cons.state.main+".lessons.list")}else if(tagName&&$rootScope.hjm&&"op"==$rootScope.hjm.role)switch(event.keyCode){case 65:$rootScope.$state.go(cons.state.main+".act.list");break;case 76:$rootScope.$state.go(cons.state.main+".lessons.list")}}),$rootScope.common=cons.common,$rootScope.env_name=cons.env_name,$rootScope.nowlogintimestamp=(new Date).getTime(),$rootScope.lastlogintimestamp=JSON.parse(localStorage.getItem("lastlogintimestamp"))||0,parseInt(($rootScope.nowlogintimestamp-$rootScope.lastlogintimestamp)/864e5)>1?($rootScope.lastlogintimestamp=JSON.parse($rootScope.nowlogintimestamp),localStorage.removeItem("hjm")):(localStorage.setItem("lastlogintimestamp",$rootScope.lastlogintimestamp=(new Date).getTime()),$rootScope.hjm=JSON.parse(localStorage.getItem("hjm"))||{},$rootScope.current_city_name=""==$rootScope.hjm.current_city_name?"":$rootScope.hjm.current_city_name,$http.defaults.headers.common.Authorization=$rootScope.hjm.Authorization||""),$rootScope.func={},$rootScope.new_version=!1,$rootScope.func.get_new_version=function(){window.location.reload()},$rootScope.account_list=[],$rootScope.account_list_bd_op=[],$rootScope.func.get_accounts=function(accounts){$rootScope.account_list_bd_op.push({text:"--请选择--",value:void 0}),angular.forEach(accounts,function(val,key){"bd"!=val.role&&"op"!=val.role||$rootScope.account_list_bd_op.push({text:val.username,value:val.account_id})}),accounts.unshift({account_id:"",city_name:"",email:"",mobile:"",role:"op",username:"全部联系人"}),$rootScope.account_list=accounts,angular.forEach($rootScope.account_list,function(val,key){$rootScope.account_list[key].account_id+=""})},$rootScope.teacher_list=[],$rootScope.func.get_teachers=function(teachers){$rootScope.teacher_list=[{text:"--请选择--",value:void 0}],angular.forEach(teachers,function(val,key){$rootScope.teacher_list.push({text:val.name,value:val.teacher_id+""})})},$rootScope.func.get_categories=function(categories){$rootScope.survey_question_category_list=[],$rootScope.survey_question_category_list_attachments=[],$rootScope.survey_question_category_list_general=[],angular.forEach(categories,function(val,key){1==val.type&&$rootScope.survey_question_category_list_attachments.push({value:val.id+"",text:val.name})}),$rootScope.survey_question_category_list_general.push({value:void 0,text:"-- 请选择 --"}),angular.forEach(categories,function(val,key){2==val.type&&$rootScope.survey_question_category_list_general.push({value:val.id+"",text:val.name})}),categories.unshift({id:"0",name:"无维度"}),$rootScope.survey_question_category_list=[],angular.forEach(categories,function(val,key){$rootScope.survey_question_category_list.push({id:val.id,name:val.name})})},$rootScope.func.get_attachments_questions=function(attachments_questions){$rootScope.survey_question_list_attachments=[],$rootScope.survey_question_list_attachments.push({value:void 0,text:"-- 请选择 --"}),angular.forEach(attachments_questions,function(val,key){$rootScope.survey_question_list_attachments.push({value:val.id+"",text:val.title})})},$rootScope.func.get_skus=function(skus){$rootScope.common.sku=skus.map(function(val){return{text:val.name,value:Number(val.value)}})},$rootScope.func.get_live_skus=function(live_skus){$rootScope.common.live_sku=live_skus.map(function(val){return{text:val.name,value:Number(val.value)}}),$rootScope.common.live_sku.push({text:"免费",value:0})},$rootScope.func.get_tags=function(tags){$rootScope.common.tag=tags.map(function(val){return{text:val.name,value:Number(val.id)}})},$rootScope.func.get_expires_product=function(expires_product,total){$rootScope.common.expires_product={data:expires_product,total:total}},$rootScope.func.get_inventories_product=function(inventories_product,total){$rootScope.common.inventories_product={data:inventories_product,total:total}},$rootScope.reset=function(request_param){if($http.defaults.headers.common.Authorization&&localStorage.getItem("login_account")){var login_account=JSON.parse(base64.decode(localStorage.getItem("login_account"))),param=[];request_param?angular.isArray(request_param)?param=param.concat(request_param):param.push(request_param):param.push({key:"menus",method:"POST",url:cons.domain+"/account/menus",data:{username:login_account.username,password:login_account.password}},{key:"accounts",url:cons.api.account_mans+"?count=1000&role=op,majia,bd",data:{}},{key:"teachers",url:cons.domain+"/teachers?count=1000",data:{}},{key:"categories",url:cons.domain+"/surveys/categories?count=1000",data:{}},{key:"attachments_questions",url:cons.domain+"/surveys/questions?count=1000&status=1&category_type=1",data:{}},{key:"skus",url:cons.domain+"/supports/tagskus?count=1000&type=product",data:{}},{key:"live_skus",url:cons.domain+"/supports/tagskus?count=1000&type=live",data:{}},{key:"tags",url:cons.domain+"/supports/tags?count=1000",data:{}},{key:"expires_product",url:cons.domain+"/products/expires?count=10",data:{}},{key:"inventories_product",url:cons.domain+"/products/inventories?count=10",data:{}}),widget.ajaxRequest({url:location.protocol+"//"+location.host+":"+location.port+location.pathname+"get_common.php",method:"POST",data:param,success:function(json){json.data.menus&&$rootScope.hjm&&($rootScope.hjm.menus=json.data.menus),json.data.accounts&&$rootScope.func.get_accounts(json.data.accounts),json.data.teachers&&$rootScope.func.get_teachers(json.data.teachers),json.data.categories&&$rootScope.func.get_categories(json.data.categories),json.data.attachments_questions&&$rootScope.func.get_attachments_questions(json.data.attachments_questions),json.data.skus&&$rootScope.func.get_skus(json.data.skus),json.data.live_skus&&$rootScope.func.get_live_skus(json.data.live_skus),json.data.tags&&$rootScope.func.get_tags(json.data.tags),json.data.expires_product&&$rootScope.func.get_expires_product(json.data.expires_product,json.total.expires_product),json.data.inventories_product&&$rootScope.func.get_inventories_product(json.data.inventories_product,json.total.inventories_product)},error:function(err){widget.msgToast("网络错误，请稍候再试")}})}else $rootScope.$state.go("login")},$rootScope.update_menus=function(){if(localStorage.getItem("login_account")){var login_account=JSON.parse(base64.decode(localStorage.getItem("login_account")));$rootScope.reset({key:"menus",method:"POST",url:cons.domain+"/account/menus",data:{username:login_account.username,password:login_account.password}})}else $rootScope.$state.go("login")},$rootScope.get_account_list=function(){$rootScope.reset({key:"accounts",url:cons.api.account_mans,data:{count:1e3,role:"op,majia,bd"}})},$rootScope.get_teacher_list=function(){$rootScope.reset({key:"teachers",url:cons.domain+"/teachers",data:{count:1e3}})},$rootScope.get_survey_question_category_list=function(){$rootScope.reset({key:"categories",url:cons.domain+"/surveys/categories",data:{count:1e3}})},$rootScope.get_survey_question_list=function(){$rootScope.reset({key:"attachments_questions",url:cons.domain+"/surveys/questions",data:{count:1e3,status:1,category_type:1}})},$rootScope.reset(),$rootScope.login_init=function(){$rootScope.reset()}}])}),angular.module("app-tpl",["app/scripts/views/container/login.html","app/scripts/views/container/main.html","app/scripts/views/main/container.html","app/scripts/views/biz/aaa_examplate/list.html","app/scripts/views/biz/aaa_examplate/update.html","app/scripts/views/biz/account/list.html","app/scripts/views/biz/account/profile.html","app/scripts/views/biz/account/update.html","app/scripts/views/biz/act/list.html","app/scripts/views/biz/act/update.html","app/scripts/views/biz/activitycoupons/update.html","app/scripts/views/biz/banner/update.html","app/scripts/views/biz/captcha/list.html","app/scripts/views/biz/captcha/update.html","app/scripts/views/biz/cctalk_info/sendsms.html","app/scripts/views/biz/cert/update.html","app/scripts/views/biz/combinationcoupons/update.html","app/scripts/views/biz/community/list.html","app/scripts/views/biz/community/update.html","app/scripts/views/biz/coupon/list.html","app/scripts/views/biz/coupon/update.html","app/scripts/views/biz/dashboard/groupbuys.html","app/scripts/views/biz/dashboard/list.html","app/scripts/views/biz/dashboard/orders.html","app/scripts/views/biz/dashboard/shares.html","app/scripts/views/biz/exchangecode/list.html","app/scripts/views/biz/exchangecode/update.html","app/scripts/views/biz/exchanges/update.html","app/scripts/views/biz/export/list.html","app/scripts/views/biz/export/update.html","app/scripts/views/biz/groupbuy/list.html","app/scripts/views/biz/groupbuy/update.html","app/scripts/views/biz/lessons/order.html","app/scripts/views/biz/lessons/update.html","app/scripts/views/biz/live_rooms/add_plan.html","app/scripts/views/biz/live_rooms/block.html","app/scripts/views/biz/live_rooms/list.html","app/scripts/views/biz/live_rooms/plan.html","app/scripts/views/biz/live_rooms/point.html","app/scripts/views/biz/live_rooms/update.html","app/scripts/views/biz/market/skuno.html","app/scripts/views/biz/market/videogrouprecord.html","app/scripts/views/biz/marketshare/update.html","app/scripts/views/biz/menu/list.html","app/scripts/views/biz/menu/menus.html","app/scripts/views/biz/merchant/product.html","app/scripts/views/biz/merchant/update.html","app/scripts/views/biz/mission/knowledge.html","app/scripts/views/biz/mission/update.html","app/scripts/views/biz/order/list.html","app/scripts/views/biz/orders/update.html","app/scripts/views/biz/product/list.html","app/scripts/views/biz/product/update.html","app/scripts/views/biz/product_act/update.html","app/scripts/views/biz/record_rooms/update.html","app/scripts/views/biz/red_packet_coupons/update.html","app/scripts/views/biz/refund/list.html","app/scripts/views/biz/refund/update.html","app/scripts/views/biz/resource/update.html","app/scripts/views/biz/role/list.html","app/scripts/views/biz/role/update.html","app/scripts/views/biz/sms/add.html","app/scripts/views/biz/sms/list.html","app/scripts/views/biz/subject/update.html","app/scripts/views/biz/subject_group/update.html","app/scripts/views/biz/support/appshareconfig.html","app/scripts/views/biz/support/bannerUpdate.html","app/scripts/views/biz/support/configs.html","app/scripts/views/biz/support/opencities.html","app/scripts/views/biz/support/upgradesAdd.html","app/scripts/views/biz/support/version.html","app/scripts/views/biz/support/weappconfig.html","app/scripts/views/biz/survey_list/update.html","app/scripts/views/biz/survey_plan/update.html","app/scripts/views/biz/survey_question/update.html","app/scripts/views/biz/survey_question_attachment/update.html","app/scripts/views/biz/teacher/update.html","app/scripts/views/biz/user/block.html","app/scripts/views/biz/user/customers.html","app/scripts/views/biz/user/list.html","app/scripts/views/biz/user/update.html","app/scripts/views/biz/web/update.html","app/scripts/views/biz/wechat/autoreply.html","app/scripts/views/biz/wechat/menu.html","app/scripts/views/biz/wechat/qrcode.html","app/scripts/views/demo/baidumap.html","app/scripts/views/demo/datetime.html","app/scripts/views/demo/richcontent.html","app/scripts/views/demo/test.html","app/scripts/views/live/answers/answers.html","app/scripts/views/live/appmessages/send.html","app/scripts/views/live/notice/send.html","app/scripts/views/live/notice/update.html","app/scripts/views/live/permission/update.html","app/scripts/views/live/questions/questions.html","app/scripts/views/live/videogroups/qa.html","app/scripts/views/live/videogroups/room.html","app/scripts/views/live/videogroups/update.html","app/scripts/views/directive/common_form.html","app/scripts/views/directive/community.html","app/scripts/views/directive/delete/delete-data.html","app/scripts/views/directive/dnd/dnd-array.html","app/scripts/views/directive/help.html","app/scripts/views/directive/hjm/hjm-form-element.html","app/scripts/views/directive/hjm/hjm-form-err-block.html","app/scripts/views/directive/hjm/hjm-form.html","app/scripts/views/directive/hjm/hjm-grid.html","app/scripts/views/directive/hjm/hjm-pagination-bar.html","app/scripts/views/directive/hjm/hjm-search-bar.html","app/scripts/views/directive/hjm_content2img.html","app/scripts/views/directive/hjm_date.html","app/scripts/views/directive/hjm_date_time.html","app/scripts/views/directive/hjm_img_text.html","app/scripts/views/directive/list/bindHtmlCompile.html","app/scripts/views/directive/list/common_list.html","app/scripts/views/directive/nav-top/nav-account.html","app/scripts/views/directive/nav-top/nav-message.html","app/scripts/views/directive/order_list.html","app/scripts/views/directive/pintuan_order_list.html","app/scripts/views/directive/product/product-option.html","app/scripts/views/directive/product/product-pattern.html","app/scripts/views/directive/select_boards.html","app/scripts/views/directive/select_city.html","app/scripts/views/directive/show_image.html","app/scripts/views/directive/show_str.html","app/scripts/views/directive/side-left/side-menu.html","app/scripts/views/directive/side-left/side-widgets.html","app/scripts/views/directive/upload/hjmUploadSources.html","app/scripts/views/directive/upload/showAddresses.html","app/scripts/views/directive/upload/showApkUpload.html","app/scripts/views/directive/upload/showAudioUpload.html","app/scripts/views/directive/upload/showMediaUpload.html","app/scripts/views/directive/upload/showUpload.html","app/scripts/views/directive/upload/showUploadSingle.html"]),angular.module("app/scripts/views/container/login.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/container/login.html",'<div class="login-page"><div class="row"><div class="col-md-4 col-lg-4 col-md-offset-4 col-lg-offset-4"><img src="styles/images/logo/logo.png" class="user-avatar"><h2>ahaschool 后台管理系统</h2><form role="form" ng-keypress="login_keypress($event);"><div class="form-content"><div class="form-group"><input type="text" ng-model="uname" class="form-control input-underline input-lg ng-pristine ng-untouched ng-valid" placeholder="账户"></div><div class="form-group"><input type="password" ng-model="pwd" class="form-control input-underline input-lg" placeholder="密码"></div><div class="form-group" style="display: flex"><input type="text" ng-model="usercode" class="form-control input-underline pull-left" placeholder="验证码"> <a class="btn btn-white btn-outline pull-right" ng-click="get_verify_code()" ng-disabled="disabled_get_verify_code">获取验证码 <span ng-if="remain_time<time_count" ng-bind="remain_time"></span></a></div></div><button progress-button class="btn btn-white btn-outline btn-lg login" value="loading" in-progress="登录中.." type="bottom-bar" complete="登录成功!" ng-click="login()">登&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;录</button></form></div></div></div>')}]),angular.module("app/scripts/views/container/main.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/container/main.html",'<div><nav class="navbar topnav-navbar navbar-fixed-top" role="navigation"><div class="navbar-header text-center"><a class="navbar-brand">Aha</a></div><div class="collapse navbar-collapse">\x3c!--<form class="navbar-form navbar-left ng-pristine ng-valid" role="search"><span--\x3e\x3c!--class="glyphicon glyphicon-search"></span>--\x3e\x3c!--<div class="form-group"><input type="text" class="form-control"></div>--\x3e\x3c!--</form>--\x3e<div nav-message></div><div nav-account></div></div></nav><section class="dashboard-page ng-scope"><aside id="sidebar">\x3c!--<perfect-scrollbar class="sidenav-outer" wheel-propagation="true" min-scrollbar-length="20">--\x3e<side-menu></side-menu>\x3c!--<side-widgets></side-widgets>--\x3e\x3c!--</perfect-scrollbar>--\x3e</aside><section id="body-container" ui-view></section></section></div>')}]),angular.module("app/scripts/views/main/container.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/main/container.html",'<div ui-view="" class=""></div>\x3c!--<div ui-view="" style="position: relative;"></div>--\x3e')}]),angular.module("app/scripts/views/biz/aaa_examplate/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/aaa_examplate/list.html",'<div class="dashboard-page"><div hjm-grid modid="exportList" config="config" columns="columns" ext-search="ext"></div></div>')}]),angular.module("app/scripts/views/biz/aaa_examplate/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/aaa_examplate/update.html",'<div class="dashboard-page"><div hjm-form modid="product" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/account/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/account/list.html",'<div class="dashboard-page"><div hjm-grid modid="accountList" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/account/profile.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/account/profile.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">修改个人信息</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>个人信息</h4><div form-input text="账户ID" ng-model="param.account_id" placeholder="账户ID" ng-disabled="true"></div><div form-input text="负责人账号" ng-model="param.username" placeholder="负责人账号" required="true" ng-disabled="true"></div><div form-input text="公司名称" ng-model="company_name" ng-disabled="true"></div><div form-input text="密码" ng-model="param.userpass" placeholder="初始化密码"></div><div form-input text="手机号码" ng-model="param.mobile" min="11" max="11" placeholder="11位数字" required="true"></div>\x3c!--<div form-radio text="角色" ng-model="param.role" required="true" default="param.role"--\x3e\x3c!--source="[{text:\'op\',value:\'op\'},{text:\'pm\',value:\'pm\'},{text:\'admin\',value:\'admin\'},{text:\'cw\',value:\'cw\'}]"--\x3e\x3c!--source-api=""></div>--\x3e\x3c!--<div form-checkbox text="所属城市列表" ng-model="param.city_list" required="true"--\x3e\x3c!--source="openCitys"></div>--\x3e\x3c!--<div form-radio text="定位城市" ng-model="param.city_name" required="true" --\x3e\x3c!--source="[{text:\'上海市\',value:\'上海市\'},{text:\'南京市\',value:\'南京市\'},{text:\'厦门市\',value:\'厦门市\'}]"--\x3e\x3c!--source-api=""></div>--\x3e<div form-textarea="" text="备注" ng-model="param.remark"></div></div></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a>\x3c!--<a class="btn btn-warning btn-rounded" ng-click="aaa()">查看提交的数据</a>--\x3e</form></div></div></div>')}]),angular.module("app/scripts/views/biz/account/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/account/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.account_id">新增账户</h3><h3 class="panel-title" ng-if="$stateParams.account_id">修改账户</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>账户信息</h4><div form-input text="账户ID" ng-model="param.account_id" ng-show="$stateParams.account_id" placeholder="账户ID" ng-disabled="$stateParams.account_id"></div><div form-input text="登录账号" ng-model="param.username" placeholder="登录账号" required="true" ng-disabled="$stateParams.account_id"></div><div form-input text="初始化密码" ng-model="userpass" placeholder="初始化密码" ng-if="!$stateParams.account_id"></div><div form-input text="手机号码" ng-model="param.mobile" min="11" max="11" placeholder="11位数字" required="true"></div><div form-radio text="角色" ng-model="param.role" required="true" default="param.role" source="roles"></div>\x3c!--source="[{text:\'op\',value:\'op\'},{text:\'pm\',value:\'pm\'},{text:\'admin\',value:\'admin\'},{text:\'cw\',value:\'cw\'}]"--\x3e\x3c!--<div form-checkbox text="所属城市列表" ng-model="param.city_list" required="true"--\x3e\x3c!--source="openCitys"></div>--\x3e<div form-radio text="定位城市" ng-model="param.city_name" required="true" default="上海市" source="[{text:\'上海市\',value:\'上海市\'}]" source-api=""></div><div form-radio text="使用状态" ng-model="param.status" required="true" default="1" source="[{text:\'启用\',value:\'1\'},{text:\'禁用\',value:\'2\'}]" source-api=""></div><div form-textarea="" text="备注" ng-model="param.remark"></div></div></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a>\x3c!--<a class="btn btn-warning btn-rounded" ng-click="aaa()">查看提交的数据</a>--\x3e</form></div></div></div>')}]),angular.module("app/scripts/views/biz/act/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/act/list.html",'<div class="dashboard-page"><div hjm-grid modid="productList" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/act/update.html",[]).run(["$templateCache",function($templateCache){"use strict"
;$templateCache.put("app/scripts/views/biz/act/update.html",'<div class="dashboard-page"><style type="text/css">.inlineBlock {\n            display: inline-block;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock" ng-if="!$stateParams.product_id">新增活动</h3><h3 class="panel-title inlineBlock" show-role="\'admin,op\'" ng-if="$stateParams.product_id">修改活动</h3><h3 class="panel-title inlineBlock" show-role="\'!admin,op\'" ng-if="$stateParams.product_id">活动详情</h3><div class="pull-right" style="margin-top: -5px"><a href="javascript:void(0)" class="btn btn-warning btn-rounded" ng-click="title_info = [0,0,0,0,0,0,0,0,0,0,0,0,0,0]">合并模块</a>&nbsp;&nbsp;&nbsp;&nbsp; <a href="javascript:void(0)" class="btn btn-warning btn-rounded" ng-click="title_info = [1,1,1,1,1,1,1,1,1,1,1,1,1,1]">展开模块</a>&nbsp;&nbsp;&nbsp;&nbsp;</div></div><div class="panel-body">\x3c!--<simditor ng-model="content" config="simditorConfig"></simditor>--\x3e<form class="form-horizontal" name="FormBody" novalidate ng-init="title_info = [1,1,1,1,1,1,1,1,1,1,1,1,1,1]" disabled-role="{{param.product_id  || !copy?\'admin,op\':\'\'}}">\x3c!--<div form-radio text="课程类型" ng-model="param.course_type" default="1"--\x3e\x3c!--source="[{text:\'公众号课程\',value:\'1\'},{text:\'小程序课程\',value:\'2\'}]"></div>--\x3e<div class="panel panel-primary"><div class="panel-body" ng-click="title_info[0] = title_info[0]+1; "><h5 style="margin: 0; padding: 10px 0">活动信息 <i class="animate-switch fa pull-right text-primary" ng-class="{\'fa-angle-double-up\':title_info[0]%2==1,\'fa-angle-double-down\':title_info[0]%2==0}"></i></h5></div>\x3c!--<div class="panel-body" ng-show="title_info[0]%2==1">11111111111111111</div>--\x3e<div class="panel-body" ng-show="title_info[0]%2==1"><div form-select text="课程负责人" ng-model="param.account_id" source="$root.account_list_bd_op" source-api=""></div>\x3c!--<div form-image-content text="图文详情" ng-model="param.contents" ng-show="param.content_type==1"></div>--\x3e<div form-input text="活动ID" ng-model="param.product_id" ng-show="param.product_id  || !copy" placeholder="活动ID" ng-disabled="param.product_id  || !copy"></div><div form-input text="活动标题" ng-model="param.title" placeholder="活动标题,不超过30个字" required="true" minlength="1" maxlength="30"></div>\x3c!--<div class="form-group">--\x3e\x3c!--<div class="col-sm-8 col-sm-offset-2">--\x3e\x3c!--<span show-table--\x3e\x3c!--data="{text:\'查看SKU列表\',modid:\'skuList\',config:\'config\',columns:\'columns\'}"></span>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e\x3c!--<div form-radio text="SKU" type="radio" ng-model="param.sku" required="true" default="1"--\x3e\x3c!--type="number" source="$root.common.sku" source-api=""></div>--\x3e<div form-select text="SKU" ng-model="param.sku" required="true" source="$root.common.sku" source-api=""></div>\x3c!--source="[{text:\'父母学堂\',value:\'父母学堂\'},{text:\'艺术\',value:\'艺术\'},{text:\'微课\',value:\'微课\'},--\x3e\x3c!--{text:\'游学\',value:\'游学\'},{text:\'运动\',value:\'运动\'},{text:\'天赋测评\',value:\'天赋测评\'},--\x3e\x3c!--{text:\'儿童剧\',value:\'儿童剧\'},{text:\'夏令营\',value:\'夏令营\'},{text:\'STEM\',value:\'STEM\'},--\x3e\x3c!--{text:\'DIY\',value:\'DIY\'},{text:\'乐园\',value:\'乐园\'},{text:\'其他\',value:\'其他\'}]"--\x3e<div form-radio text="活动类别" ng-model="param.act_type" required="true" default="" source="[{text:\'通识\',value:\'通识\'},{text:\'科学\',value:\'科学\'},{text:\'学习力\',value:\'学习力\'},\n                             {text:\'文史\',value:\'文史\'},{text:\'英语\',value:\'英语\'},{text:\'艺术\',value:\'艺术\'},\n                             {text:\'数学\',value:\'数学\'},{text:\'其他\',value:\'其他\'}]" source-api=""></div><div form-checkbox text="能力标签" ng-model="ability_label" required="true" default="" source="[{text:\'音乐感知\',value:\'音乐感知\'},{text:\'语言能力\',value:\'语言能力\'},\n                        {text:\'想象力\',value:\'想象力\'},{text:\'动手能力\',value:\'动手能力\'},{text:\'观察力\',value:\'观察力\'},\n                        {text:\'专注力\',value:\'专注力\'},{text:\'表达沟通\',value:\'表达沟通\'},{text:\'运动能力\',value:\'运动能力\'},\n                        {text:\'逻辑思维\',value:\'逻辑思维\'},{text:\'记忆力\',value:\'记忆力\'},{text:\'理解能力\',value:\'理解能力\'},\n                        {text:\'自我管理\',value:\'自我管理\'},{text:\'团队协作\',value:\'团队协作\'},{text:\'社交能力\',value:\'社交能力\'}\n                        ]" source-api=""></div>\x3c!--<div form-checkbox text="课程分类" ng-model="course_category" required="true" default="\'德\'"--\x3e\x3c!--source="[{text:\'德\',value:\'1\'},{text:\'智\',value:\'2\'},{text:\'体\',value:\'3\'},{text:\'美\',value:\'4\'},--\x3e\x3c!--{text:\'劳\',value:\'5\'}]" source-api=""></div>--\x3e<h5 class="col-sm-offset-2 col-sm-10 text-primary">不勾选城市即为全国范围内</h5><div form-checkbox text="覆盖城市" ng-model="param.visible_cities" default="[\'上海市\']" source="[{text:\'上海市\',value:\'上海市\'},{text:\'南京市\',value:\'南京市\'},\n                             {text:\'厦门市\',value:\'厦门市\'},{text:\'北京市\',value:\'北京市\'}]" source-api=""></div><div form-input text="活动简介" ng-model="param.brief" placeholder="不超过50个字" minlength="1" maxlength="50"></div><div form-textarea text="搜索关键字" ng-model="param.act_tags" placeholder="不超过100个字" minlength="0" maxlength="100"></div><div form-input text="活动益处" ng-model="param.act_benefit" placeholder="不超过20个字" minlength="1" maxlength="14"></div><div form-input text="分享标题" ng-model="param.share_title" placeholder="不超过40个字" minlength="1" maxlength="40"></div><div form-input text="最小年龄" ng-model="param.act_min_age" type="number" min="0"></div><div form-input text="最大年龄" ng-model="param.act_max_age" type="number" min="0"></div><div form-double-date-time text-start="上架时间" text-end="下架时间" required="true" ng-model-start="param.start_time" ng-model-end="param.end_time"></div><hr><div form-radio text="活动时间类型" type="radio" ng-model="param.act_time_type" required="true" default="1" source="[{text:\'每天连续\',value:\'1\'},{text:\'每周固定天数\',value:\'2\'}]" source-api=""></div><div form-checkbox text="选择每周时间" ng-model="act_week" ng-show="param.act_time_type == 2" source="$root.common.act_checkbox_week" source-api=""></div><div class="form-group"><div class="col-sm-8 col-sm-offset-2"><div class="col-sm-2"><a class="btn btn-info btn-rounded" ng-click="toggleShowTime();" ng-bind="showTime?\'微信上活动详情显示活动时间时分\':\'微信上活动详情不显示活动时间时分\'"></a></div></div></div><div form-date text="活动开始时间" ng-model="param.act_start_time" ng-show="showTime" required="true"></div><div form-date text="活动结束时间" ng-model="param.act_end_time" ng-show="showTime"></div><div form-date-time text="活动开始时间" ng-model="param.act_start_time" ng-show="!showTime" required="true"></div><div form-date-time text="活动结束时间" ng-model="param.act_end_time" ng-show="!showTime"></div>\x3c!--<div form-double-date text-start="活动开始时间" text-end="活动结束时间"--\x3e\x3c!--ng-model-start="param.act_start_time" ng-model-end="param.act_end_time"--\x3e\x3c!--ng-show="showTime"></div>--\x3e\x3c!--<div form-double-date-time text-start="活动开始时间" text-end="活动结束时间" required="true"--\x3e\x3c!--ng-model-start="param.act_start_time" ng-model-end="param.act_end_time"--\x3e\x3c!--ng-show="!showTime"></div>--\x3e<div form-double-date-time text-start="报名开始时间" text-end="报名截止时间" required="true" ng-model-start="param.act_apply_start_time" ng-model-end="param.act_apply_end_time"></div><hr><div form-image text="运营大图" ng-model="param.pics" max="100"></div><div form-image text="缩略小图" ng-model="param.thumbnail_pics" max="100"></div></div></div><div class="panel panel-primary"><div class="panel-body"><h5 style="margin: 0; padding: 10px 0" ng-click="title_info[1] = title_info[1]+1; ">活动地址 <i class="animate-switch fa pull-right text-primary" ng-class="{\'fa-angle-double-up\':title_info[1]%2==1,\'fa-angle-double-down\':title_info[1]%2==0}"></i></h5></div><div class="panel-body" ng-show="title_info[1]%2==1"><div form-address text="活动地点" ng-model="param.addresses" max="100"></div></div></div><div class="panel panel-primary"><div class="panel-body"><h5 style="margin: 0; padding: 10px 0" ng-click="title_info[2] = title_info[2]+1; ">活动规则 <i class="animate-switch fa pull-right text-primary" ng-class="{\'fa-angle-double-up\':title_info[2]%2==1,\'fa-angle-double-down\':title_info[2]%2==0}"></i></h5></div><div class="panel-body" ng-show="title_info[2]%2==1"><div form-radio text="活动类型" type="radio" ng-model="param.category" required="true" default="2" source="[{text:\'人数团\',value:\'2\'},{text:\'直接买\',value:\'3\'},{text:\'直接买+人数团\',value:\'4\'}]" source-api=""></div><div form-radio text="拼团结束类型" type="radio" ng-model="param.groupbuy_end_type" required="true" source="[{text:\'人数类型  (注:成团后不能再报名)\',value:\'1\'},{text:\'拼团时间  (注:成团后仍可报名，直到拼团时间截止)\',value:\'2\'}]" default="1" ng-if="param.category!=3" source-api=""></div>\x3c!--<div form-table text="活动类目" ng-model="param.options" max="1"--\x3e\x3c!--ng-show="param.category!=4" required="true"--\x3e\x3c!--columns="[{\'name\': \'ID\', \'field\': \'option_id\',hide:\'true\'},--\x3e\x3c!--{\'name\': \'类目\', \'field\': \'option_name\',required:\'true\'},--\x3e\x3c!--{\'name\': \'价格\', \'field\': \'option_price\',type:\'number\',min:\'0\',minLength:\'2\',required:\'true\'},--\x3e\x3c!--{\'name\': \'库存\', \'field\': \'option_inventory\',required:\'true\'},--\x3e\x3c!--{\'name\': \'排序\', \'field\': \'order_by\',type:\'number\',min:\'0\',required:\'true\'}]"></div>--\x3e<div form-table text="直接买活动类目" ng-model="param.options" ng-show="param.category!=2" columns="[{\'name\': \'ID\', \'field\': \'option_id\',hide:\'true\'},\n                             {\'name\': \'类目\', \'field\': \'option_name\',required:\'true\'},\n                             {\'name\': \'价格\', \'field\': \'option_price\',type:\'number\',min:\'0\',required:\'true\'},\n                             {\'name\': \'特价\', \'field\': \'special_price\',type:\'number\',min:\'0\',required:\'true\'},\n                             {\'name\': \'库存\', \'field\': \'option_inventory\',type:\'number\',required:\'true\',default:200000},\n                             {\'name\': \'排序\', \'field\': \'order_by\',type:\'number\',min:\'0\',required:\'true\'}]"></div><div form-table text="人数团活动类目" ng-model="param.groupbuy_options" ng-show="param.category!=3" columns="[{\'name\': \'ID\', \'field\': \'option_id\',hide:\'true\'},\n                             {\'name\': \'类目\', \'field\': \'option_name\',required:\'true\'},\n                             {\'name\': \'价格\', \'field\': \'option_price\',type:\'number\',min:\'0\',required:\'true\'},\n                             {\'name\': \'特价\', \'field\': \'special_price\',type:\'number\',min:\'0\',required:\'true\'},\n                             {\'name\': \'库存\', \'field\': \'option_inventory\',type:\'number\',required:\'true\',default:200000},\n                             {\'name\': \'排序\', \'field\': \'order_by\',type:\'number\',min:\'0\',required:\'true\'}]"></div><div form-input text="单次限购份数" ng-model="param.order_count_max" type="number" min="1" required="true"></div><div form-input text="单人限购份数" ng-model="param.per_buy_count" type="number" min="0" placeholder="0 表示不限购"></div><div form-input text="初始购买份数" ng-model="param.init_buy_count" type="number" min="1"></div><div form-input text="已售份数基数" ng-model="param.base_sale_count" type="number" min="0"></div><div form-radio text="是否限制仅会员可购买" ng-model="param.vip_buy" default="2" source="[{text:\'仅会员\',value:\'1\'},{text:\'不限制\',value:\'2\'}]" required="true"></div><div form-radio text="是否需填收货地址" ng-model="param.delivery_type" required="true" ng-disabled="$stateParams.product_id && !copy && delivery_type==3" source="[{text:\'需要\',value:\'1\'},{text:\'不需要\',value:\'3\'}]" default="3"></div><div form-input text="配送次数" ng-model="param.frequency_num" type="number" min="0" ng-show="false" ng-disabled="true"></div><div form-radio text="送达时间类型" ng-model="param.arrive_type" default="2" ng-show="false" ng-disabled="param.product_id  || !copy" source="[{text:\'无需指定\',value:\'2\'},{text:\'周六／周一\',value:\'1\'}]" source-api=""></div><div form-radio text="是否支持陌生人拼团" type="radio" ng-model="param.group_strange" required="true" default="2" source="[{text:\'是\',value:\'2\'},{text:\'否\',value:\'1\'}]" ng-show="param.category!=3" source-api=""></div>\x3c!--<div form-input text="目标金额" ng-model="param.act_goal_price" required="true" min="0"--\x3e\x3c!--max="options_goal_price" type="number"></div>--\x3e<div form-input text="拼团人数" ng-model="param.group_min_num" min="0" required_span_show="true" type="number" ng-show="param.category!=3"></div><div form-input text="拼团有效时间(小时)" ng-model="hours" min="0" type="number" placeholder="单位:小时" ng-show="param.category!=3" required_span_show="true"></div><div form-input text="自动成团剩余时间(小时)" ng-model="groupbuy_auto_hours" min="0" type="number" placeholder="单位:小时" ng-show="param.category!=3"></div>\x3c!--<div form-input text="玩法说明标题" ng-model="param.play_subject" placeholder="玩法说明标题"--\x3e\x3c!--ng-show="param.category!=3"></div>--\x3e\x3c!--<div form-textarea text="玩法说明内容" ng-model="param.play_introduction"--\x3e\x3c!--placeholder="玩法说明内容" ng-show="param.category!=3"></div>--\x3e<div form-radio text="是否需填写Email" type="radio" ng-model="param.show_email" required="true" default="2" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" source-api=""></div><div form-radio text="是否需要购买保险" ng-model="param.baby_insure" default="2" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" required="true"></div></div></div><div class="panel panel-primary"><div class="panel-body"><h5 style="margin: 0; padding: 10px 0" ng-click="title_info[3] = title_info[3]+1; ">优惠规则 <i class="animate-switch fa pull-right text-primary" ng-class="{\'fa-angle-double-up\':title_info[3]%2==1,\'fa-angle-double-down\':title_info[3]%2==0}"></i></h5></div><div class="panel-body" ng-show="title_info[3]%2==1"><div form-radio text="会员、优惠券是否可同享" ng-model="param.coupon_share" required="true" default="1" source="[{text:\'同享\',value:\'1\'},{text:\'不可同享\',value:\'2\'}]"></div><div form-radio text="是否可选优惠券" ng-model="param.act_coupon" required="true" default="1" source="[{text:\'可选\',value:1},{text:\'不可选\',value:2}]" source-api=""></div><div form-radio text="年卡优惠券类型" ng-model="param.coupon_category" required="true" default="1" source="[{text:\'不可用年卡\',value:\'1\'},{text:\'年卡通用券\',value:\'2\'},\n                             {text:\'定向券100\',value:\'3\'},{text:\'定向券500\',value:\'4\'}]" ng-show="param.act_coupon==1"></div><div form-radio text="会员购买优惠" ng-model="param.vip_promotion_type" required="true" default="1" source="[{text:\'打折\',value:\'1\'},{text:\'无优惠\',value:\'3\'}]"></div><div class="form-group" ng-show="param.vip_promotion_type == 1 || param.vip_promotion_type == 2"><div class="form_element"><label class="col-sm-2 control-label">设置折扣</label><div class="col-sm-2"><input class="form-control text-right" ng-model="vip_discount" ng-blur="reset_vip_discount()" placeholder="请填写数字"></div><span class="col-sm-1 control-label" style="text-align: left" ng-show="param.vip_promotion_type == 1">%</span></div></div>\x3c!--<div form-input text="设置减额" ng-model="param.per_buy_count"--\x3e\x3c!--required="true" ng-show="param.vip_promotion_type == 2"></div>--\x3e<hr><div form-radio text="特价优惠类型" type="radio" ng-model="param.special_type" required="true" source="[{text:\'无\',value:\'0\'},{text:\'限时特价\',value:\'1\'},{text:\'限额特价\',value:\'2\'}]" default="0" source-api=""></div><div form-input text="特价总份额" ng-model="param.special_num" placeholder="特价总份额" min="0" ng-if="param.special_type==2" type="number" required="true"></div><div form-double-date-time text-start="优惠开始时间" text-end="优惠结束时间" required="true" ng-model-start="param.special_start_time" ng-model-end="param.special_end_time" ng-if="param.special_type==1"></div>\x3c!--<div form-date-time text="优惠开始时间" ng-model="param.special_start_time"--\x3e\x3c!--ng-if="param.special_type!=0" required="true"></div>--\x3e\x3c!--<div form-date-time text="优惠结束时间" ng-model="param.special_end_time"--\x3e\x3c!--ng-if="param.special_type!=0" required="true"></div>--\x3e</div></div><div class="panel panel-primary"><div class="panel-body"><h5 style="margin: 0; padding: 10px 0" ng-click="title_info[4] = title_info[4]+1; ">课程价值 <i class="animate-switch fa pull-right text-primary" ng-class="{\'fa-angle-double-up\':title_info[4]%2==1,\'fa-angle-double-down\':title_info[4]%2==0}"></i></h5></div><div class="panel-body" ng-show="title_info[4]%2==1"><div form-input text="课程价值标题" ng-model="param.course_label" placeholder="不填默认是:课程价值"></div><div form-input text="课时" ng-model="param.course_num" type="number" min="0"></div><div form-textarea text="课程价值" ng-model="param.course_value" placeholder="不超过300个字" minlength="0" maxlength="300"></div><div form-checkbox text="课程能力标签" ng-model="course_ability_label" default="[]" source="[{text:\'心智自立\',value:\'心智自立\'},{text:\'广阔视野\',value:\'广阔视野\'},\n                             {text:\'数理工程\',value:\'数理工程\'},{text:\'艺术修养\',value:\'艺术修养\'},{text:\'多元思维\',value:\'多元思维\'},\n                             {text:\'协作沟通\',value:\'协作沟通\'},{text:\'解决问题\',value:\'解决问题\'}]" source-api=""></div><div form-radio text="课程QA图文内容" ng-model="param.course_content_type" default="2" source="[{text:\'图文\',value:1},{text:\'富文本\',value:2}]" source-api=""></div><div form-image-content text="课程QA图文详情" ng-model="param.course_contents" ng-show="param.course_content_type==1"></div><div form-rich-content text="课程QA富文本" ng-model="param.course_rich_text" ng-show="param.course_content_type==2" ng-if="param.course_content_type==2"></div></div></div><div class="panel panel-primary"><div class="panel-body"><h5 style="margin: 0; padding: 10px 0" ng-click="title_info[5] = title_info[5]+1; ">活动详情 <i class="animate-switch fa pull-right text-primary" ng-class="{\'fa-angle-double-up\':title_info[5]%2==1,\'fa-angle-double-down\':title_info[5]%2==0}"></i></h5></div><div class="panel-body" ng-show="title_info[5]%2==1"><div form-input text="音频媒体标题" ng-model="param.media_title" placeholder="音频媒体标题,不超过30个字" minlength="0" maxlength="30"></div><h5 class="col-sm-10 col-sm-offset-2 text-primary">腾讯视频播放界面的分享中有个复制通用代码,把代码中src的内容复制到这里。</h5><h5 class="col-sm-10 col-sm-offset-2 text-primary">例如:https://imgcache.qq.com/tencentvideo_v1/playerv3/TPout.swf?max_age=86400&v=20161117&vid=q0522r5taby&auto=0</h5><div form-input text="视频音频媒体地址" ng-model="param.video_url" placeholder="音频是http开头;视频是https开头"></div><div form-radio text="详情类型" ng-model="param.content_type" default="2" source="[{text:\'图文\',value:1},{text:\'富文本\',value:2}]" source-api=""></div><div form-image-content text="图文详情" ng-model="param.contents" ng-show="param.content_type==1"></div><div form-rich-content text="富文本" ng-model="param.rich_text" ng-show="param.content_type==2" ng-if="param.content_type==2"></div></div></div><div class="panel panel-primary"><div class="panel-body"><h5 style="margin: 0; padding: 10px 0" ng-click="title_info[6] = title_info[6]+1; ">礼包详情 <i class="animate-switch fa pull-right text-primary" ng-class="{\'fa-angle-double-up\':title_info[6]%2==1,\'fa-angle-double-down\':title_info[6]%2==0}"></i></h5></div><div class="panel-body" ng-show="title_info[6]%2==1"><div form-radio text="是否可买礼包" ng-model="param.gift_buy" default="1" required="true" source="[{text:\'是\',value:1},{text:\'否\',value:2}]" source-api=""></div><div form-input text="礼包名称" ng-model="param.gift_name" placeholder="不超过30个字" required="true" ng-if="param.gift_buy==1" minlength="0" maxlength="30"></div><div form-input text="礼包描述" ng-model="param.gift_desc" placeholder="不超过30个字" required="true" ng-if="param.gift_buy==1" minlength="0" maxlength="30"></div><div class="form-group" ng-if="param.gift_buy == 1"><div class="form_element"><label class="col-sm-2 control-label">礼包分享标题</label><div class="col-sm-6"><input class="form-control" ng-model="param.gift_share_title"></div><div class="col-sm-2"><a class="btn btn-primary" ng-click="param.gift_share_title=\'手慢无！{{title}}{{nickname}}发礼物啦！\'">点击获取默认文案再修改</a></div></div></div><div class="form-group" ng-if="param.gift_buy == 1"><div class="form_element"><label class="col-sm-2 control-label">例:</label><div class="col-sm-10"><label class="control-label" ng-bind="\'\\{\\{title\\}\\} : \\\'\'+title+\'\\\' , \\{\\{nickname\\}\\} : \\\'\'+nickname+\'\\\'\'"></label></div></div><div class="form_element"><label class="col-sm-2 control-label">最终分享标题</label><div class="col-sm-10"><label class="control-label text-primary" compile="param.gift_share_title"></label></div></div></div><hr><div form-input text="单人最大购买份数" ng-model="param.gift_max_num" type="number" min="0" ng-if="param.gift_buy==1"></div><div form-image text="礼包图片" ng-model="param.gift_pics" max="1" ng-if="param.gift_buy==1"></div><div form-table text="礼包类目" ng-model="param.gift_options" ng-show="param.gift_buy==1" columns="[{\'name\': \'ID\', \'field\': \'option_id\',hide:\'true\'},\n                             {\'name\': \'类目\', \'field\': \'option_name\',required:\'true\'},\n                             {\'name\': \'价格\', \'field\': \'option_price\',type:\'number\',min:\'0\',required:\'true\'},\n                             {\'name\': \'库存\', \'field\': \'option_inventory\',type:\'number\',required:\'true\',default:200000},\n                             {\'name\': \'排序\', \'field\': \'order_by\',type:\'number\',min:\'0\',required:\'true\'}]"></div><div form-radio text="礼包的优惠券与折扣是否可同享" ng-model="param.gift_coupon_share" required="true" default="1" ng-disabled="true" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" ng-if="param.gift_buy==1"></div><div form-radio text="礼包是否可选优惠券" ng-model="param.gift_coupon" required="true" default="2" source="[{text:\'是\',value:1},{text:\'否\',value:2}]" source-api="" ng-disabled="true" ng-if="param.gift_buy==1"></div><h4 class="col-sm-offset-2 text-danger" ng-if="param.gift_buy==1">没有折扣请选择礼包折扣为否,防止出现系统问题</h4><div form-radio text="礼包是否打折" ng-model="param.gift_promotion_type" required="true" default="1" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" ng-if="param.gift_buy==1"></div><div class="form-group" ng-show="param.gift_buy==1&&param.gift_promotion_type==1"><div class="form_element"><label class="col-sm-2 control-label">设置折扣<span class="form_label_dangus">*</span></label><div class="col-sm-2"><input class="form-control text-right" ng-model="gift_discount" ng-blur="reset_gift_discount()" placeholder="请填写数字"></div><span class="col-sm-1 control-label" style="text-align: left">%</span></div></div><div form-radio text="购买礼包是否验证手机号" ng-model="param.gift_buy_verify_mobile" default="1" required="true" source="[{text:\'是\',value:1},{text:\'否\',value:2}]" source-api="" ng-if="param.gift_buy==1"></div><div form-radio text="领取礼包是否验证手机号" ng-model="param.gift_receive_verify_mobile" default="1" required="true" source="[{text:\'是\',value:1},{text:\'否\',value:2}]" source-api="" ng-if="param.gift_buy==1"></div><div form-radio text="礼包详情类型" ng-model="param.gift_content_type" default="2" source="[{text:\'图文\',value:1},{text:\'富文本\',value:2}]" source-api="" ng-if="param.gift_buy==1"></div><div form-image-content text="图文详情" ng-model="param.gift_contents" ng-show="param.gift_content_type==1" ng-if="param.gift_buy==1"></div><div form-rich-content text="富文本" ng-model="param.gift_rich_text" ng-show="param.gift_content_type==2&&param.gift_buy==1" ng-if="param.gift_content_type==2&&param.gift_buy==1"></div></div></div><div class="panel panel-primary"><div class="panel-body"><h5 style="margin: 0; padding: 10px 0" ng-click="title_info[7] = title_info[7]+1; ">显示管理 <i class="animate-switch fa pull-right text-primary" ng-class="{\'fa-angle-double-up\':title_info[7]%2==1,\'fa-angle-double-down\':title_info[7]%2==0}"></i></h5></div><div class="panel-body" ng-show="title_info[7]%2==1"><div form-radio text="是否显示在商城" ng-model="param.visible" required="true" default="1" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" source-api=""></div><div form-radio text="是否显示在H5首页" ng-model="param.show_in_index" required="true" type="number" default="2" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" source-api=""></div><div form-radio text="是否显示在小程序首页" ng-model="param.show_mini_index" required="true" type="number" default="2" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" source-api=""></div><div form-radio text="是否启用朋友圈海报" ng-model="param.wechat_bill" required="true" type="number" default="2" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" source-api=""></div><div form-radio text="是否显示在日历" ng-model="param.show_in_calendar" default="1" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" required="true"></div><div form-radio text="是否显示用户购买记录" ng-model="param.show_user_list" default="2" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" required="true"></div><div form-radio text="是否绑定手机号" ng-model="param.enable_bind_mobile" default="1" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" required="true"></div><div form-radio text="是否推荐该活动" ng-model="param.act_recommend" default="2" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" required="true"></div><div form-input text="排序" ng-model="param.order_by" type="number" min="0"></div><div form-textarea text="管理备注" ng-model="param.admin_remark"></div></div></div><div form-error-block></div><a class="btn btn-success btn-rounded" show-role="\'{{param.product_id || !copy?\'admin,op\':\'\'}}\'" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/activitycoupons/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/activitycoupons/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.id">新增优惠券链接</h3><h3 class="panel-title" ng-if="$stateParams.id">更新优惠券链接</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>优惠劵</h4><div form-input text="优惠劵名称" ng-model="param.title" placeholder="优惠劵名称" required="true"></div><div form-input text="分享标题" ng-model="param.share_title" placeholder="分享标题" maxlength="30" required="true"></div><div form-input text="分享描述" ng-model="param.share_description" placeholder="分享描述" required="true"></div><div form-input text="活动ID" ng-model="param.product_id" placeholder="用来设置定向优惠券，且只支持一个活动ID"></div><div form-image-single text="优惠券图片" ng-model="param.image" required="true"></div><div form-input text="发放总数量" ng-model="param.total" required="true" type="number" min="0"></div><div form-radio text="领取对象" ng-model="param.target" required="true" default="0" source="[{text:\'不限\',value:\'1\'}]" source-api=""></div>\x3c!--,{text:\'新用户\',value:\'2\'},{text:\'老用户\',value:\'3\'}--\x3e<div form-input text="满(金额)" ng-model="param.over_price" type="number" min="0" placeholder="不是满减优惠券的请填写0" required="true"></div><div form-input text="减(金额)" ng-model="param.price" required="true" type="number" min="0"></div><div form-input text="有效时间" ng-model="param.days" required="true" type="number" min="0"></div><div form-double-date-time text-start="兑换-开始时间" text-end="结束时间" ng-model-start="param.start_time" ng-model-end="param.end_time" required="true"></div><div form-input text="运营文案" ng-model="param.brief" placeholder="不超过15字" maxlength="15"></div><div form-textarea text="活动细则" ng-model="param.description" placeholder="不超过15字"></div><div form-textarea text="备注" ng-model="param.remark" placeholder="不超过15字"></div></div></div><div form-error-block></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/banner/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/banner/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.banner_id">新增运营位</h3><h3 class="panel-title" ng-if="$stateParams.banner_id">修改运营位</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>运营位</h4><div form-input text="ID" ng-model="param.banner_id" ng-show="$stateParams.banner_id" placeholder="ID" ng-disabled="$stateParams.banner_id == param.banner_id"></div><div form-input text="运营位标题" ng-model="param.title" placeholder="运营位标题" required="true"></div><div form-image text="运营位图片" ng-model="_param.pics" max="1" required="true"></div><div form-date-time text="上线时间" ng-model="param.start_time" required="true"></div><div form-date-time text="下线时间" ng-model="param.end_time" required="true"></div><div form-radio text="跳转类型" ng-model="toggle" required="true" source="[{text:\'不跳转任何页面\',value:\'1\'},{text:\'跳转至网页\',value:\'2\'}]" source-api=""></div><div form-input text="URL" ng-model="param.url" placeholder="url" ng-show="toggle==\'2\'"></div><div form-input text="排序数字" ng-model="param.sort_num" placeholder="排序数字" required="true"></div></div></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/captcha/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/captcha/list.html",'<div class="dashboard-page"><div hjm-grid modid="productList" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/captcha/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/captcha/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">新增验证码</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate disabled-role="{{$stateParams.product_id?\'admin,op\':\'\'}}"><div class="panel panel-primary"><div class="panel-body"><div form-input text="活动标题" ng-model="param.mobile" placeholder="手机号码" required="true" minlength="1" maxlength="30"></div><div form-date-time text="过期时间" ng-model="param.expire_time"></div><hr></div></div><a class="btn btn-success btn-rounded" show-role="\'{{$stateParams.product_id?\'admin,op\':\'\'}}\'" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/cctalk_info/sendsms.html",[]).run(["$templateCache",function($templateCache){"use strict"
;$templateCache.put("app/scripts/views/biz/cctalk_info/sendsms.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">查询CCtalk信息</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div class="form-group"><label class="col-sm-2 control-label">查询<span class="form_label_dangus">*</span></label><div class="col-sm-8 form-group"><div class="col-sm-2"><input class="form-control" ng-model="mobile" placeholder="手机号码"></div><div class="col-sm-3"><a class="btn btn-primary btn-rounded" ng-click="search()">查询CCtalk账户信息</a></div><div class="col-sm-3"><a class="btn btn-success btn-rounded" ng-click="send()">发送cctalk信息给用户</a></div></div></div><div form-table text="账户信息" ng-model="info.accounts" config="{readonly:true}" columns="[\n'+"                             {'name': '手机号码', 'field': 'mobile',readonly:true},\n                             {'name': '用户ID', 'field': 'user_id',readonly:true},\n                             {'name': 'CCtalk账户', 'field': 'user_name',readonly:true},\n                             {'name': 'CCtalk密码', 'field': 'user_pass',readonly:true}]\"></div><div class=\"form-group\"><label class=\"col-sm-2 control-label\">邀请码<span class=\"form_label_dangus\"></span></label><div class=\"col-sm-8\"><p class=\"form-control\" style=\"background-color: #eee;min-height: 34px;height: auto;word-break: break-word\" ng-bind=\"info.exchangecodes|arraySub2String:'code'\">&nbsp;</p></div></div><div form-table text=\"消息\" ng-model=\"info.messages\" config=\"{readonly:true}\" columns=\"[\n                             {'name': '微信状态', 'field': 'wechat_result_status|keyVal:\\'1\\':\\'已发送\\':\\'0\\':\\'——\\':\\'2\\':\\'发送失败\\'|null2empty',readonly:true},\n                             {'name': '短信状态', 'field': 'sms_result_status|keyVal:\\'1\\':\\'已发送\\':\\'0\\':\\'——\\':\\'2\\':\\'发送失败\\'|null2empty',readonly:true},\n                             {'name': '创建时间', 'field': 'created_at',readonly:true}]\"></div></div></div></form></div></div></div>")}]),angular.module("app/scripts/views/biz/cert/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/cert/update.html",'<div class="dashboard-page"><style type="text/css">.inlineBlock {\n            display: inline-block;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock" ng-if="!$stateParams.id">新增问答证书</h3><h3 class="panel-title inlineBlock" show-role="\'admin,op\'" ng-if="$stateParams.id">修改问答证书</h3><h3 class="panel-title inlineBlock" show-role="\'!admin,op\'" ng-if="$stateParams.id">问答证书详情</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div form-input text="ID" ng-model="param.id" ng-show="$stateParams.id" placeholder="ID" ng-disabled="$stateParams.id"></div><div form-input text="名称" ng-model="param.name" placeholder="不超过25个字" required="true" minlength="1" maxlength="25"></div><div form-input text="视频组ID" ng-model="param.video_group_id" required="true"></div><div form-radio text="证书样式" ng-model="param.type" default="1" required="true" source="[{text:\'名校证书\',value:\'1\'}]"></div><div form-image-single text="添加证书缩略图（获得）" ng-model="param.selected_thumb_image" required="true"></div><div form-image-single text="添加证书缩略图（未获得）" ng-model="param.thumb_image" required="true"></div><div form-image-single text="添加证书图片" ng-model="param.bg_image" required="true"></div><div form-search text="关联测评活动ID" verify="verify_activity(param.activity_id)" btn-text="查询关联测评活动ID" ajax-config="{method:\'get\',url:$root.common.live_domain+\'/live/certs/surveys?count=200&activity_id=\'+param.activity_id}" ng-model="param.activity_id" callback="add_activity(json)"></div>\x3c!--<div form-table text="选择活动的测评" ng-model="param.cert_survey"--\x3e\x3c!--config="{add:false,readonly:true}"--\x3e\x3c!--columns="[{name: \'测评ID\', field:\'plan_id\',readonly:\'true\'}--\x3e\x3c!--,{name: \'测评名称\', field:\'plan.name\',readonly:\'true\'}--\x3e\x3c!--,{name: \'管理\', fieldDirective:\'<span>1111111</span>\'}]"></div>--\x3e<div class="form-group"><div class="col-sm-8 col-sm-offset-2"><table class="table table-bordered table-striped"><thead><tr><th class="text-center">测评ID</th><th class="text-center">测评名称</th><th class="text-center" style="width: 250px">操作</th></tr></thead><tbody><tr ng-repeat="item in param.cert_survey"><td class="text-center"><span ng-bind="item.plan_id"></span></td><td class="text-center"><span ng-bind="item.survey.name"></span></td><td class="text-center"><label class="checkbox-inline checkbox1"><input type="checkbox" ng-model="item.selected" name="{{item.plan_id}}" ng-checked="item.selected" ng-click="updateSelection($event,$index)"> <span></span>选择</label></td></tr></tbody></table></div></div><div form-input text="有效正确率" ng-model="param.pass_rate" placeholder="0~100之间的数字 ,单位是百分比" required="true" type="number" min="0" max="100"></div><div form-textarea text="备注" ng-model="param.remark" placeholder="不超过100个字"></div></div></div><a class="btn btn-success btn-rounded" show-role="\'{{$stateParams.id?\'admin,op\':\'\'}}\'" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/combinationcoupons/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/combinationcoupons/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!param.id">新增组合券</h3><h3 class="panel-title" ng-if="param.id">编辑组合券</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>组合券</h4><div form-input text="组合券名称" ng-model="param.title" placeholder="组合券名称" required="true"></div><div form-image-single text="头图" ng-model="param.image" required="true"></div><hr><div class="row"><h4>设置优惠券</h4><div class="col-sm-offset-2 col-sm-8" ng-repeat="item in param.combination"><div class="form-group"><div form-input text="优惠券名称" ng-model="item.combination_coupon_name" placeholder="优惠券名称" required="true"></div><div form-input text="指定活动ID" ng-model="item.product_id" placeholder="不限定活动ID的不填写"></div><div form-input text="满(金额)" ng-model="item.over_price" type="number" min="0" max="item.price" placeholder="不是满减优惠券的不填写"></div><div form-input text="减(金额)" ng-model="item.price" required="true" type="number" min="0"></div><div class="col-sm-offset-2 col-sm-10"><a class="btn btn-danger btn-sm btn-rounded pull-left" ng-click="param.combination.splice($index,1);">删除</a></div><div class="col-sm-12"><hr></div></div></div>\x3c!--</div>--\x3e\x3c!--<div class="row">--\x3e<div class="col-sm-offset-2 col-sm-8"><a class="btn btn-primary btn-rounded" ng-click="add();">添加优惠券</a></div></div><hr><h4>分享</h4><div form-input text="分享标题" ng-model="param.share_title" minlength="1" maxlength="15" required="true"></div><div form-textarea text="分享描述" ng-model="param.share_description" row="5" required="true"></div><hr><div form-input text="发放总数量" ng-model="param.total" type="number" required="true"></div><div form-radio text="领取对象" ng-model="param.target" default="1" source="[{text:\'不限\',value:\'1\'},{text:\'新用户\',value:\'2\'},{text:\'老用户\',value:\'3\'}]"></div><div form-input text="有限时间" ng-model="param.days" type="number" min="1" required="true"></div><div form-double-date-time text-start="兑换开始时间" text-end="结束时间" required="true" ng-model-start="param.start_time" ng-model-end="param.end_time"></div><div form-input text="运营文案" ng-model="param.brief" minlength="1" maxlength="15" required="true"></div><div form-textarea text="活动细则" ng-model="param.description" row="5" required="true"></div><div form-textarea text="备注" ng-model="param.remark" row="5"></div></div></div><div form-error-block></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid&&submit_disabled" ng-click="submit()">提交</a>\x3c!--<a class="btn btn-success btn-rounded" ng-click="aaa()">提交</a>--\x3e</form></div></div></div>')}]),angular.module("app/scripts/views/biz/community/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/community/list.html",'<div class="dashboard-page"><div hjm-grid modid="bannerList" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/community/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/community/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.community_id">新增小区</h3><h3 class="panel-title" ng-if="$stateParams.community_id">修改小区</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>小区管理</h4><div form-input text="ID" ng-model="param.community_id" ng-show="$stateParams.community_id" placeholder="ID" ng-disabled="$stateParams.community_id == param.community_id"></div><div form-input text="小区名称" ng-model="param.name" placeholder="小区名称" required="true"></div><div form-radio text="位置类型" ng-model="param.poi_type" required="true" source="[{text:\'小区\',value:\'1\'},{text:\'办公室\',value:\'2\'}]" source-api=""></div><div form-input text="别名" ng-model="param.alias"></div><div form-input text="城市" ng-model="param.city_name" required="true"></div><div form-input text="行政区" ng-model="param.district" required="true"></div><div form-input text="板块" ng-model="param.area" required="true"></div><div form-input text="小区地址" ng-model="param.address" required="true"></div><div form-input text="经度" ng-model="param.longitude" required="true"></div><div form-input text="纬度" ng-model="param.latitude" required="true"></div>\x3c!--<div form-radio text="房屋类型" ng-model="param.property_type" required="true"--\x3e\x3c!--source="[{text:\'住宅\',value:\'住宅\'},{text:\'公寓\',value:\'公寓\'},{text:\'别墅\',value:\'别墅\'}]"--\x3e\x3c!--source-api=""></div>--\x3e<div form-input text="建筑时间" ng-model="param.completed_time"></div><div form-input text="总户数" ng-model="param.room_total"></div><div form-input text="房屋均价" ng-model="param.price"></div><div form-input text="邮编" ng-model="param.post_code"></div><div form-input text="物业公司" ng-model="param.property_company"></div><div form-input text="物业办公地点" ng-model="param.property_address"></div><div form-input text="物业电话" ng-model="param.property_phone"></div><div form-input text="物业费" ng-model="param.property_fee"></div><div form-input text="居委会名称" ng-model="param.committee_name"></div><div form-input text="居委会地址" ng-model="param.committee_address"></div><div form-input text="居委会电话" ng-model="param.committee_phone"></div><div form-input text="社区民警电话" ng-model="param.community_police_phone"></div><div form-input text="搜房网ID" ng-model="param.cell_biz_id"></div></div></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/coupon/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/coupon/list.html",'<div class="dashboard-page"><div hjm-grid modid="couponList" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/coupon/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/coupon/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.coupon_id">新增优惠劵</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>优惠劵</h4><div form-input text="优惠劵名称" ng-model="param.title" placeholder="优惠劵名称" required="true"></div><div form-input text="指定活动ID" ng-model="param.product_id " placeholder="不限定活动ID的不填写"></div><div form-radio text="适用范围" ng-model="param.category" required="true" default="0" source="[{text:\'不限\',value:\'0\'},{text:\'人数团\',value:\'2\'},{text:\'直接买\',value:\'3\'}]" source-api=""></div>\x3c!--<div form-radio text="适用范围" ng-model="param.category" required="true" default="0"--\x3e\x3c!--source="[{text:\'不限\',value:\'0\'},{text:\'砍价团\',value:\'1\'},{text:\'人数团\',value:\'2\'},{text:\'众筹团\',value:\'3\'},{text:\'一起玩\',value:\'4\'}]"--\x3e\x3c!--source-api=""></div>--\x3e\x3c!--<div form-radio text="活动品类" ng-model="param.sku" required="true" default="0"--\x3e\x3c!--source="[{text:\'不限\',value:\'0\'}]" source-api=""></div>--\x3e<div form-radio text="商品类型(频率)" ng-model="param.frequency_type" required="true" default="1" source="[{text:\'单次\',value:\'1\'},{text:\'包月\',value:\'2\'},{text:\'不限\',value:\'0\'}]" source-api=""></div><div form-input text="满(金额)" ng-model="param.over_price" type="number" min="0" max="param.price" placeholder="不是满减优惠券的不填写"></div><div form-input text="减(金额)" ng-model="param.price" required="true" type="number" min="0"></div><div form-textarea text="手机号" ng-model="param.mobile_list" required="true" placeholder="手机号码限制最多50个,英文逗号隔开"></div><div form-date-time text="上线时间" ng-model="param.start_time" required="true"></div><div form-date-time text="过期时间" ng-model="param.expire_time" required="true"></div><div form-radio text="短信通知用户" ng-model="param.is_nofity" default="0" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'0\'}]"></div><div form-textarea text="通知内容" ng-model="param.notify_content" placeholder="请输入通知内容，写点有诱惑力的！！！" ng-disabled="param.is_nofity != 1"></div></div></div><div form-error-block></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid&&submit_disabled" ng-click="submit()">提交</a>\x3c!--<a class="btn btn-success btn-rounded" ng-click="aaa()">提交</a>--\x3e</form></div></div></div>')}]),angular.module("app/scripts/views/biz/dashboard/groupbuys.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/dashboard/groupbuys.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">活动报表-拼团</h3></div><div class="panel-body"><div class="form-group"><form class="form-horizontal" name="FormBody" novalidate><div class="col-sm-12 form-group"><div form-textarea text="活动ID" ng-model="searchItem.product_ids" placeholder="多个ID回车换行或者逗号隔开"></div><div form-double-date-time text-start="开始时间" text-end="结束时间" required="true" ng-model-start="searchItem.start_time" ng-model-end="searchItem.end_time"></div><div form-radio text="选择时间" ng-model="searchItem.period" default="10" source="[{text:\'今天\',value:\'1\'},{text:\'昨天\',value:\'2\'},{text:\'本周\',value:\'3\'},\n                                  {text:\'本月\',value:\'4\'},{text:\'过去7天\',value:\'5\'},{text:\'过去30天\',value:\'6\'},{text:\'其他\',value:\'10\'}]"></div><div class="form_element"><div class="col-sm-offset-2"><a class="btn btn-bordered btn-primary pull-left" ng-disabled="FormBody.$invalid" ng-click="search()">查询</a> <span class="pull-left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <a class="btn btn-bordered btn-primary pull-left" ng-click="export()">导出</a></div></div></div></form><div class="col-sm-12 form-group"><h3 ng-if="show">Please wait a moment...</h3><hr><table class="table table-bordered table-striped" id="groupbuy_list_text"><thead><tr><th class="text-center" style="width: 150px;background: #ccc">活动ID</th><th class="text-center" style="width: 150px">活动名称</th><th class="text-center" style="width: 150px">管理备注</th><th class="text-center" style="width: 150px">PV</th><th class="text-center" style="width: 150px">UV</th><th class="text-center" style="width: 150px">总团数</th><th class="text-center" style="width: 150px">开团率</th><th class="text-center" style="width: 150px">未成团</th><th class="text-center" style="width: 150px">成团数</th><th class="text-center" style="width: 150px">定员成团(人数团)</th><th class="text-center" style="width: 150px">弹性成团(时间团)</th><th class="text-center" style="width: 150px">成团率</th><th class="text-center" style="width: 150px">开团失败数</th><th class="text-center" style="width: 150px">开团失败率</th></tr></thead><tbody><tr bindonce ng-repeat="(key,item) in groupbuy_list"><td class="text-center"><span bo-text="item.product_id"></span></td><td class="text-center"><span bo-text="item.title"></span></td><td class="text-center"><span bo-text="item.admin_remark"></span></td><td class="text-center"><span bo-text="item.pv"></span></td><td class="text-center"><span bo-text="item.uv"></span></td><td class="text-center"><span bo-text="item.total"></span></td><td class="text-center"><span bo-text="item.rate_total"></span></td><td class="text-center"><span bo-text="item.total_wait"></span></td><td class="text-center"><span bo-text="item.total_finish"></span></td><td class="text-center"><span bo-text="item.finish_num"></span></td><td class="text-center"><span bo-text="item.finish_time"></span></td><td class="text-center"><span bo-text="item.rate_finish"></span></td><td class="text-center"><span bo-text="item.total_fail"></span></td><td class="text-center"><span bo-text="item.rate_fail"></span></td></tr></tbody></table></div></div></div></div></div>')}]),angular.module("app/scripts/views/biz/dashboard/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/dashboard/list.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">活动数据看板</h3></div><div class="panel-body"><div class="form-group"><form class="form-horizontal" name="FormBody" novalidate><div class="col-sm-12 form-group"><div form-input text="活动ID" ng-model="searchItem.product_id" content-width="4"></div>\x3c!--<div form-double-date-time text-start="上架时间" text-end="下架时间" required="true"--\x3e\x3c!--ng-model-start="searchItem.start_time" ng-model-end="searchItem.end_time"></div>--\x3e<div form-radio text="选择时间" ng-model="searchItem.period" default="10" source="[{text:\'今天\',value:\'1\'},{text:\'昨天\',value:\'2\'},{text:\'本周\',value:\'3\'},\n                                  {text:\'本月\',value:\'4\'},{text:\'过去7天\',value:\'5\'},{text:\'过去30天\',value:\'6\'}]"></div>\x3c!--{text:\'其他\',value:\'10\'}--\x3e<div class="form_element"><div class="col-sm-offset-2"><a class="btn btn-bordered btn-primary pull-left" ng-disabled="FormBody.$invalid" ng-click="search()">查询</a> <span class="pull-left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <a class="btn btn-bordered btn-primary pull-left" ng-click="export()">导出</a></div></div></div></form><hr><div class="col-sm-12 form-group"><div class="panel panel-primary" ng-init="title_info=1;"><div class="panel-body" ng-click="title_info = title_info+1; "><h5 style="margin: 0; padding: 10px 0">活动信息 <i class="animate-switch fa pull-right text-primary" ng-class="{\'fa-angle-double-up\':title_info%2==1,\'fa-angle-double-down\':title_info%2==0}"></i></h5></div><div class="panel-body" ng-show="title_info%2==1"><form class="form-horizontal" name="FormBody" novalidate><div form-input text="活动ID" ng-model="actData.product_id" ng-disabled="true"></div><div form-input text="活动标题" ng-model="actData.title" ng-disabled="true"></div><div form-input text="活动状态" ng-model="actData.status" ng-disabled="true"></div><div form-select text="SKU" ng-model="actData.sku" ng-disabled="true" source="$root.common.sku" source-api=""></div><div form-input text="活动类型" ng-model="actData.category" ng-disabled="true"></div><div form-radio text="是否支持陌生人拼团" type="radio" ng-model="actData.group_strange" default="2" source="[{text:\'是\',value:\'2\'},{text:\'否\',value:\'1\'}]" source-api="" ng-disabled="true"></div><div form-input text="管理备注" ng-model="actData.admin_remark" ng-disabled="true"></div></form></div></div><hr><table class="table table-bordered table-striped" id="order_list_text"><thead><tr><th class="text-center" style="width: 150px;background: #ccc">订单数据</th><th class="text-center" style="width: 150px">PV</th><th class="text-center" style="width: 150px">UV</th><th class="text-center" style="width: 150px">订单数</th><th class="text-center" style="width: 150px">单人购订单</th><th class="text-center" style="width: 150px">礼包订单</th><th class="text-center" style="width: 150px">已售份数</th><th class="text-center" style="width: 150px">支付金额</th><th class="text-center" style="width: 150px">订单用户</th><th class="text-center" style="width: 150px">新增下单用户</th><th class="text-center" style="width: 150px">回访下单用户</th><th class="text-center" style="width: 150px">订单转化率</th></tr></thead><tbody><tr bindonce ng-repeat="(key,item) in stat.order_list"><td class="text-center"><span ng-if="item.data_type==1" ng-bind="item.stat_hous|date_time_duration"></span> <span ng-if="item.data_type==2" ng-bind="item.stat_day|limitTo:10"></span></td><td class="text-center"><span bo-text="item.pv"></span></td><td class="text-center"><span bo-text="item.uv"></span></td><td class="text-center"><span bo-text="item.total"></span></td><td class="text-center"><span bo-text="item.buy_total"></span></td><td class="text-center"><span bo-text="item.gift_total"></span></td><td class="text-center"><span bo-text="item.sale_total"></span></td><td class="text-center"><span bo-text="item.pamt_total"></span></td><td class="text-center"><span bo-text="item.user_total"></span></td><td class="text-center"><span bo-text="item.new_user_total"></span></td><td class="text-center"><span bo-text="item.visit_user_total"></span></td><td class="text-center"><span bo-text="item.convert_rate"></span></td></tr></tbody></table><hr><table class="table table-bordered table-striped" id="groupbuy_list_text"><thead><tr><th class="text-center" style="width: 150px;background: #ccc">团数据</th><th class="text-center" style="width: 150px">总团数</th><th class="text-center" style="width: 150px">未成团</th><th class="text-center" style="width: 150px">成团数</th><th class="text-center" style="width: 150px">定员成团数</th><th class="text-center" style="width: 150px">弹性成团数</th><th class="text-center" style="width: 150px">开团失败数</th><th class="text-center" style="width: 150px">成团率</th><th class="text-center" style="width: 150px">开团失败率</th><th class="text-center" style="width: 150px">开团率</th></tr></thead><tbody><tr bindonce ng-repeat="(key,item) in stat.groupbuy_list"><td class="text-center"><span ng-if="item.data_type==1" ng-bind="item.stat_hous|date_time_duration"></span> <span ng-if="item.data_type==2" ng-bind="item.stat_day|limitTo:10"></span></td><td class="text-center"><span bo-text="item.total"></span></td><td class="text-center"><span bo-text="item.in_total"></span></td><td class="text-center"><span bo-text="item.accomplish_total"></span></td><td class="text-center"><span bo-text="item.fixed_total"></span></td><td class="text-center"><span bo-text="item.elastic_total"></span></td><td class="text-center"><span bo-text="item.fail_total"></span></td><td class="text-center"><span bo-text="item.accomplish_rate"></span></td><td class="text-center"><span bo-text="item.fail_rate"></span></td><td class="text-center"><span bo-text="item.open_rate"></span></td></tr></tbody></table><hr><table class="table table-bordered table-striped" id="share_list_text"><thead><tr><th class="text-center" style="width: 150px;background: #ccc">分享数据</th><th class="text-center" style="width: 150px">分享次数</th><th class="text-center" style="width: 150px">分享人数</th><th class="text-center" style="width: 150px">分享产生的订单</th><th class="text-center" style="width: 150px">分享产生UV</th><th class="text-center" style="width: 150px">分享转化率</th><th class="text-center" style="width: 150px">分享UV占比</th><th class="text-center" style="width: 150px">人均分享UV</th><th class="text-center" style="width: 150px">人均分享订单</th></tr></thead><tbody><tr bindonce ng-repeat="(key,item) in stat.share_list"><td class="text-center"><span ng-if="item.data_type==1" ng-bind="item.stat_hous|date_time_duration"></span> <span ng-if="item.data_type==2" ng-bind="item.stat_day|limitTo:10"></span></td><td class="text-center"><span bo-text="item.total"></span></td><td class="text-center"><span bo-text="item.user_total"></span></td><td class="text-center"><span bo-text="item.order_total"></span></td><td class="text-center"><span bo-text="item.uv"></span></td><td class="text-center"><span bo-text="item.convert_rate"></span></td><td class="text-center"><span bo-text="item.uv_proportion"></span></td><td class="text-center"><span bo-text="item.user_avg_uv"></span></td><td class="text-center"><span bo-text="item.user_avg_order_total"></span></td></tr></tbody></table></div></div></div></div></div>')}]),angular.module("app/scripts/views/biz/dashboard/orders.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/dashboard/orders.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">活动报表-订单</h3></div><div class="panel-body"><div class="form-group"><form class="form-horizontal" name="FormBody" novalidate><div class="col-sm-12 form-group"><div form-textarea text="活动ID" ng-model="searchItem.product_ids" placeholder="多个ID回车换行或者逗号隔开"></div><div form-double-date-time text-start="开始时间" text-end="结束时间" required="true" ng-model-start="searchItem.start_time" ng-model-end="searchItem.end_time"></div><div form-radio text="选择时间" ng-model="searchItem.period" default="10" source="[{text:\'今天\',value:\'1\'},{text:\'昨天\',value:\'2\'},{text:\'本周\',value:\'3\'},\n                                  {text:\'本月\',value:\'4\'},{text:\'过去7天\',value:\'5\'},{text:\'过去30天\',value:\'6\'},{text:\'其他\',value:\'10\'}]"></div><div class="form_element"><div class="col-sm-offset-2"><a class="btn btn-bordered btn-primary pull-left" ng-disabled="FormBody.$invalid" ng-click="search()">查询</a> <span class="pull-left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <a class="btn btn-bordered btn-primary pull-left" ng-click="export()">导出</a></div></div></div></form><div class="col-sm-12 form-group"><h3 ng-if="show">Please wait a moment...</h3><hr><table class="table table-bordered table-striped" id="order_list_text"><thead><tr><th class="text-center" style="width: 150px;background: #ccc">活动ID</th><th class="text-center" style="width: 150px">活动名称</th><th class="text-center" style="width: 150px">管理备注</th><th class="text-center" style="width: 150px">PV</th><th class="text-center" style="width: 150px">UV</th><th class="text-center" style="width: 150px">订单数</th><th class="text-center" style="width: 150px">订单转化率</th><th class="text-center" style="width: 150px">团订单</th><th class="text-center" style="width: 150px">单人购订单</th><th class="text-center" style="width: 150px">礼包订单</th><th class="text-center" style="width: 150px">实际已售份数</th><th class="text-center" style="width: 150px">实际支付金额</th></tr></thead><tbody><tr bindonce ng-repeat="(key,item) in order_list"><td class="text-center"><span bo-text="item.product_id"></span></td><td class="text-center"><span bo-text="item.title"></span></td><td class="text-center"><span bo-text="item.admin_remark"></span></td><td class="text-center"><span bo-text="item.pv"></span></td><td class="text-center"><span bo-text="item.uv"></span></td><td class="text-center"><span bo-text="item.total"></span></td><td class="text-center"><span bo-text="item.conversion_rate"></span></td><td class="text-center"><span bo-text="item.total_groupbuy"></span></td><td class="text-center"><span bo-text="item.total_order"></span></td><td class="text-center"><span bo-text="item.total_gift"></span></td><td class="text-center"><span bo-text="item.copies"></span></td><td class="text-center"><span bo-text="item.amounts"></span></td></tr></tbody></table></div></div></div></div></div>')}]),angular.module("app/scripts/views/biz/dashboard/shares.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/dashboard/shares.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">活动报表-分享</h3></div><div class="panel-body"><div class="form-group"><form class="form-horizontal" name="FormBody" novalidate><div class="col-sm-12 form-group"><div form-textarea text="活动ID" ng-model="searchItem.product_ids" placeholder="多个ID回车换行或者逗号隔开:500476,500222" required_span_show="true"></div><div form-double-date-time text-start="开始时间" text-end="结束时间" required="true" ng-model-start="searchItem.start_time" ng-model-end="searchItem.end_time"></div><div form-radio text="选择时间" ng-model="searchItem.period" default="10" source="[{text:\'今天\',value:\'1\'},{text:\'昨天\',value:\'2\'},{text:\'本周\',value:\'3\'},\n                                  {text:\'本月\',value:\'4\'},{text:\'过去7天\',value:\'5\'},{text:\'过去30天\',value:\'6\'},{text:\'其他\',value:\'10\'}]"></div><div class="form_element"><div class="col-sm-offset-2"><a class="btn btn-bordered btn-primary pull-left" ng-disabled="FormBody.$invalid" ng-click="search()">查询</a> <span class="pull-left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <a class="btn btn-bordered btn-primary pull-left" ng-click="export()">导出</a></div></div></div></form><div class="col-sm-12 form-group"><h3 ng-if="show">Please wait a moment...</h3><hr><table class="table table-bordered table-striped" id="share_list_text"><thead><tr><th class="text-center" style="width: 150px;background: #ccc">活动ID</th><th class="text-center" style="width: 150px">活动名称</th><th class="text-center" style="width: 150px">管理备注</th><th class="text-center" style="width: 150px">PV</th><th class="text-center" style="width: 150px">UV</th><th class="text-center" style="width: 150px">分享次数</th><th class="text-center" style="width: 150px">分享人数</th><th class="text-center" style="width: 150px">分享产生的订单</th><th class="text-center" style="width: 150px">分享转化率</th><th class="text-center" style="width: 150px">分享UV占比</th><th class="text-center" style="width: 150px">人均分享UV</th><th class="text-center" style="width: 150px">人均分享订单</th></tr></thead><tbody><tr bindonce ng-repeat="(key,item) in share_list"><td class="text-center"><span bo-text="item.product_id"></span></td><td class="text-center"><span bo-text="item.title"></span></td><td class="text-center"><span bo-text="item.admin_remark"></span></td><td class="text-center"><span bo-text="item.pv"></span></td><td class="text-center"><span bo-text="item.uv"></span></td><td class="text-center"><span bo-text="item.share_count"></span></td><td class="text-center"><span bo-text="item.share_user"></span></td><td class="text-center"><span bo-text="item.order_count"></span></td><td class="text-center"><span bo-text="item.conversion_rate"></span></td><td class="text-center"><span bo-text="item.share_rate"></span></td><td class="text-center"><span bo-text="item.avg_share_uv"></span></td><td class="text-center"><span bo-text="item.avg_share_order"></span></td></tr></tbody></table></div></div></div></div></div>')}]),angular.module("app/scripts/views/biz/exchangecode/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/exchangecode/list.html",'<div class="dashboard-page"><div hjm-grid modid="bannerList" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/exchangecode/update.html",[]).run(["$templateCache",function($templateCache){"use strict"
;$templateCache.put("app/scripts/views/biz/exchangecode/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.exchangecode_id">新增兑换码</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>兑换码</h4><div form-input text="兑换码名称" ng-model="param.title" placeholder="兑换码名称" required="true"></div><div form-input text="活动ID" ng-model="param.product_id" placeholder="不限制活动ID可不填写"></div><div form-radio text="适用范围" ng-model="param.category" required="true" default="0" source="[{text:\'不限\',value:\'0\'},{text:\'人数团\',value:\'2\'},{text:\'直接买\',value:\'3\'}]" source-api=""></div><div form-radio text="活动品类" ng-model="param.sku" required="true" ng-show="false" default="0" source="[{text:\'不限\',value:\'0\'}]" source-api=""></div><div form-radio text="商品类型(频率)" ng-model="param.frequency_type" required="true" default="0" source="[{text:\'不限\',value:\'0\'},{text:\'单次\',value:\'1\'},{text:\'包月\',value:\'2\'}]" source-api=""></div>\x3c!--<div form-input text="满(金额)" ng-model="param.over_price" type="number" min="0" max="param.price"--\x3e\x3c!--placeholder="不是满减优惠券的不填写"></div>--\x3e<div form-input text="减(金额)" ng-model="param.price" required="true" type="number" min="0"></div><div form-input text="优惠券总量" ng-model="param.total" required="true" type="number"></div><div form-input text="优惠券有效天数" ng-model="param.valid_days" required="true" type="number" placeholder="自兑换成功后的有效时间"></div><div form-date-time text="兑换开始时间" ng-model="param.start_time" required="true"></div><div form-date-time text="兑换结束时间" ng-model="param.expire_time" required="true"></div></div></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/exchanges/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/exchanges/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.id">新增生成兑换码</h3><h3 class="panel-title" ng-if="$stateParams.id">更新优惠券链接</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>生成兑换码</h4><div form-input text="渠道名" ng-model="param.channel_name" placeholder="渠道名" required="true"></div><div form-input text="视频组ID" ng-model="param.video_group_id" placeholder="视频组ID" type="number" required="true"></div><div form-input text="生成数量" ng-model="param.number" placeholder="请输入生成数量" type="number" required="true" min="1" max="50000"></div></div></div><div form-error-block></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/export/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/export/list.html",'<div class="dashboard-page"><div hjm-grid modid="exportList" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/export/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/export/update.html","<div>pintuan.add</div>")}]),angular.module("app/scripts/views/biz/groupbuy/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/groupbuy/list.html",'<div class="dashboard-page"><div hjm-grid modid="groupbuyList" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/groupbuy/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/groupbuy/update.html","<div>pintuan.add</div>")}]),angular.module("app/scripts/views/biz/lessons/order.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/lessons/order.html",'<div class="dashboard-page"><style type="text/css">.inlineBlock {\n            display: inline-block;\n        }\n\n        .dndsimpleSubject tbody[dnd-list],\n        .dndsimpleSubject tbody[dnd-list] > tr {\n            /*position: relative;*/\n        }\n\n        .dndsimpleSubject tbody[dnd-list]  .dndDragging {\n            opacity: 0.7;\n        }\n\n        .dndsimpleSubject tbody[dnd-list] .dndDraggingSource {\n            display: none;\n        }\n\n        .dndsimpleSubject tbody[dnd-list] .dndPlaceholder {\n            /*display: block;*/\n            /*float: left;*/\n            background-color: #ddd;\n            /*display: flex;*/\n            height: 100px;\n            /*width: 100px;*/\n            /*width: 100%;*/\n            border: 1px solid #ddd;\n            padding-left: 5px;\n            padding-right: 5px;\n        }\n\n        .dndsimpleSubject tbody[dnd-list] > tr {\n            /*background-color: #fff;*/\n            /*display: block;*/\n            /*width: 100%;*/\n        }\n\n        .dndsimpleSubject tbody[dnd-list] > tr.selected {\n            background-color: #dff0d8;\n            color: #3c763d;\n            width: 1000px;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock" ng-if="$stateParams.status==1">课程上线任务</h3><h3 class="panel-title inlineBlock" ng-if="$stateParams.status!=1">课程草稿任务</h3></div><div class="panel-body dndsimpleSubject"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div class="form-group"><div class="col-sm-12 form-group"><a class="btn btn-success btn-rounded btn-sm" ui-sref="main.mission.add({lesson_id:$stateParams.lesson_id })">新增任务</a></div><div class="col-sm-12 form-group"><table class="table table-bordered table-striped"><thead><tr><th class="text-center" style="width: 150px">排序</th><th class="text-center" style="width: 150px">任务ID</th><th class="text-center" style="width: 250px">任务名称</th><th class="text-center" style="width: 100px">任务状态</th><th class="text-center" style="width: 150px">知识点</th><th class="text-center">备注</th><th class="text-center" style="width: 150px">操作</th></tr></thead><tbody ng-if="$stateParams.status==1"><tr ng-repeat="(key,item) in mission_online_status"><td class="text-center"><span ng-bind="item.order_by"></span></td><td class="text-center"><span ng-bind="item.mission_id"></span></td><td class="text-center"><span ng-bind="item.title"></span></td><td class="text-center"><span ng-bind="item.status|mission_status"></span></td><td class="text-center"><div knowledge-edit data="item"></div>\x3c!--<span ng-bind="item.stat_knowledge.knowledge_count"></span>--\x3e</td><td class="text-center"><span ng-bind="item.remark"></span></td><td class="text-center"><a class="btn btn-primary btn-sm btn-bordered" ui-sref="main.mission.update({lesson_id:item.lesson_id,mission_id:item.mission_id})">编辑任务</a> <a class="btn btn-warning btn-sm btn-bordered" ng-click="notify(item.mission_id)">任务修改通知</a></td></tr></tbody><tbody dnd-list="mission_edit_status" ng-if="$stateParams.status!=1"><tr ng-repeat="(key,item) in mission_edit_status" dnd-draggable="item" dnd-moved="mission_edit_status.splice(key, 1);" dnd-effect-allowed="copyMove"><td class="text-center"><span ng-bind="item.order_by"></span></td><td class="text-center"><span ng-bind="item.mission_id"></span></td><td class="text-center"><span ng-bind="item.title"></span></td><td class="text-center"><span ng-bind="item.status|mission_status"></span></td><td class="text-center"><div knowledge-edit data="item"></div></td><td class="text-center"><span ng-bind="item.remark"></span></td><td class="text-center"><a class="btn btn-primary btn-sm btn-bordered" ui-sref="main.mission.update({lesson_id:item.lesson_id,mission_id:item.mission_id})">编辑</a> <a class="btn btn-warning btn-sm btn-bordered" ng-click="del($index,item.mission_id)">删除任务</a></td></tr><tr class="dndPlaceholder"><td class="text-center" colspan="7"><h3 class="red">拖拽到这里</h3></td></tr></tbody><tbody ng-if="$stateParams.status!=1"><tr><td class="text-center" colspan="7"><h3 class="text-primary">草稿可拖动排序,记得保存草稿或上线任务来确认新的排序</h3></td></tr></tbody></table></div></div></div></div><a class="btn btn-primary btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit(3)" ng-show="$stateParams.status!=1">保存草稿</a> <a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit(1)" ng-show="$stateParams.status!=1">上线任务</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/lessons/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/lessons/update.html",'<div class="dashboard-page"><style type="text/css">.inlineBlock {\n            display: inline-block;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock" ng-if="!$stateParams.lesson_id">新增课程</h3><h3 class="panel-title inlineBlock" show-role="\'admin,op\'" ng-if="$stateParams.lesson_id">修改课程</h3><h3 class="panel-title inlineBlock" show-role="\'!admin,op\'" ng-if="$stateParams.lesson_id">课程详情</h3>\x3c!--<a href="javascript:void(0)" class="btn btn-success btn-rounded pull-right btn-xs"--\x3e\x3c!--ng-click="title_info = [1,1,1,1,1,1]">展开模块</a>&nbsp;&nbsp;&nbsp;&nbsp;--\x3e\x3c!--<a href="javascript:void(0)" class="btn btn-success btn-rounded pull-right btn-xs"--\x3e\x3c!--ng-click="title_info = [0,0,0,0,0,0]">合并模块</a>--\x3e</div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate ng-init="title_info = [1,1,1,1,1,1]" disabled-role="{{$stateParams.lesson_id?\'admin,op\':\'\'}}"><div class="panel panel-primary"><div class="panel-body" ng-click="title_info[0] = title_info[0]+1; "><h5 style="margin: 0; padding: 10px 0">课程编辑 <i class="animate-switch fa pull-right" ng-class="{\'fa-angle-double-up\':title_info[0]%2==1,\'fa-angle-double-down\':title_info[0]%2==0}"></i></h5></div><div class="panel-body" ng-show="title_info[0]%2==1"><div form-input text="课程ID" ng-model="param.lesson_id" ng-show="$stateParams.lesson_id" placeholder="课程ID" ng-disabled="$stateParams.lesson_id"></div><div form-input text="课程名称" ng-model="param.name" placeholder="不超过25个字" required="true" minlength="1" maxlength="25"></div><div form-input text="总课时" ng-model="param.mission_num" type="number" min="0" required="true"></div><div form-select text="负责教师" ng-model="param.teacher_id" required="true" source="$root.teacher_list" source-api=""></div><div form-textarea text="备注" ng-model="param.remark" placeholder="不超过200个字" minlength="1" maxlength="200"></div></div></div><div class="panel panel-primary"><div class="panel-body"><h5 style="margin: 0; padding: 10px 0" ng-click="title_info[1] = title_info[1]+1; ">课程发布管理 <i class="animate-switch fa pull-right" ng-class="{\'fa-angle-double-up\':title_info[1]%2==1,\'fa-angle-double-down\':title_info[1]%2==0}"></i></h5></div><div class="panel-body" ng-show="title_info[1]%2==1"><div form-date-time text="课程开始时间" ng-model="param.pubtime_at" required="true"></div><div class="form-group"><label class="col-sm-2 control-label">每周任务发布时间<span class="form_label_dangus">*</span></label><div class="col-sm-8"><table class="table table-bordered table-striped"><thead><tr><th class="text-center">每周几的时刻</th><th class="text-center">已选时间</th><th class="text-center" style="width: 150px"><a class="btn btn-sm btn-bordered btn-primary" ng-click="add_schedule();">添加</a></th></tr></thead><tbody><tr ng-repeat="item in param.schedules"><td class="text-center"><select class="form-control inlineBlock" ng-model="item.week" style="width:150px" ng-options="week.value as week.text for week in $root.common.week"></select><select class="form-control inlineBlock" ng-model="item.hour" style="width: 100px" ng-options="hour.value as hour.text for hour in $root.common.hour"></select><span>时</span><select class="form-control inlineBlock" ng-model="item.minute" style="width: 100px" ng-options="minute.value as minute.text for minute in $root.common.minute"></select><span>分</span></td><td class="text-center"><span ng-bind="item.week|common:\'week\'"></span> <span ng-bind="(item.hour|common:\'hour\')+(item.hour?\'点\':\'\')"></span> <span ng-bind="(item.minute|common:\'minute\')+(item.minute?\'分\':\'\')"></span></td><td class="text-center"><a class="btn btn-sm btn-bordered btn-danger" ng-click="del_schedule($index);">删除</a></td></tr></tbody></table></div></div><div class="form-group"><div class="col-sm-8 col-sm-offset-2"><div class="panel panel-primary"><div class="panel-body"><div form-search text="搜索活动ID" btn-text="查询活动类目" verify="verify_product(product_id)" ajax-config="{method:\'get\',url:$root.common.domain+\'/products/\'+product_id+\'/options?count=1000\'}" ng-model="product_id" callback="add_product(json)"></div><div form-checkbox text="选择类目" ng-model="_tmp_.options_selected" type="number" ng-show="_tmp_.options.length>0" source="_tmp_.options"></div><json-table ng-model="param.products" config="{readonly:true}" columns="[{name: \'活动ID\', field:\'product_id\',readonly:\'true\'},\n                                                    {name: \'拼团类型\', field:\'option.option_type|product_category\',readonly:\'true\'},\n                                                    {name: \'类目ID\', field:\'option_id\',readonly:\'true\'},\n                                                    {name: \'类目名称\', field:\'option.option_name\',readonly:\'true\'},\n                                                    {name: \'状态\', field:\'option.option_status|product_option_status\',readonly:\'true\'}]"></json-table></div></div></div></div>\x3c!--<div class="form-group">--\x3e\x3c!--<label class="col-sm-2 control-label">关联活动--\x3e\x3c!--<span class="form_label_dangus">*</span></label>--\x3e\x3c!--<div class="col-sm-2">--\x3e\x3c!--<input class="form-control" ng-model="product_id" placeholder="活动ID"--\x3e\x3c!--required="true">--\x3e\x3c!--</div>--\x3e\x3c!--<div class="col-sm-2">--\x3e\x3c!--<a class="btn btn-primary btn-rounded" ng-click="search_product_id()">查询</a>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e\x3c!--<div class="form-group">--\x3e\x3c!--<div class="col-sm-8 col-sm-offset-2">--\x3e\x3c!--<table class="table table-bordered table-striped">--\x3e\x3c!--<thead>--\x3e\x3c!--<tr>--\x3e\x3c!--<th class="text-center">ID</th>--\x3e\x3c!--<th class="text-center">类型</th>--\x3e\x3c!--<th class="text-center">类目</th>--\x3e\x3c!--<th class="text-center">价格</th>--\x3e\x3c!--<th class="text-center">状态</th>--\x3e\x3c!--<th class="text-center" style="width: 250px;">操作</th>--\x3e\x3c!--</tr>--\x3e\x3c!--</thead>--\x3e\x3c!--<tbody>--\x3e\x3c!--<tr ng-repeat="item in products">--\x3e\x3c!--<td class="text-center">--\x3e\x3c!--<span ng-bind="item.option_id"></span>--\x3e\x3c!--</td>--\x3e\x3c!--<td class="text-center">--\x3e\x3c!--<span ng-bind="item.option_type|keyVal:\'2\':\'人数团\':\'3\':\'直接买\':\'4\':\'礼包\'"></span>--\x3e\x3c!--</td>--\x3e\x3c!--<td class="text-center">--\x3e\x3c!--<span ng-bind="item.option_name"></span>--\x3e\x3c!--</td>--\x3e\x3c!--<td class="text-center">--\x3e\x3c!--<span ng-bind="item.option_price"></span>--\x3e\x3c!--</td>--\x3e\x3c!--<td class="text-center">--\x3e\x3c!--<span ng-bind="item.option_status|keyVal:\'1\':\'正常\':\'2\':\'删除\'"></span>--\x3e\x3c!--</td>--\x3e\x3c!--<td class="text-center">--\x3e\x3c!--<label class="checkbox-inline checkbox1">--\x3e\x3c!--<input type="checkbox" ng-model="item.selected"--\x3e\x3c!--name="{{item.option_id}}"--\x3e\x3c!--ng-checked="item.selected"--\x3e\x3c!--ng-disabled="item.disabled"--\x3e\x3c!--ng-click="updateSelection($event,$index)">--\x3e\x3c!--<span></span>选择--\x3e\x3c!--</label>--\x3e\x3c!--</td>--\x3e\x3c!--</tr>--\x3e\x3c!--</tbody>--\x3e\x3c!--</table>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e</div></div><div form-error-block></div><a class="btn btn-success btn-rounded" show-role="\'{{$stateParams.lesson_id?\'admin,op\':\'\'}}\'" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/live_rooms/add_plan.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/live_rooms/add_plan.html",'<div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">直播间测评</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body" ng-if="!already_add"><div form-input text="房间ID" ng-model="param.room_id" required="true" ng-disabled="true"></div><div form-input text="活动ID" ng-model="param.activity_id" required="true"></div><div form-input text="测评ID" ng-model="param.plan_id" required="true"></div><div form-input text="查看答案有效时间" ng-model="param.show_result_time" required="true" type="number" placeholder="填写数字,单位s" min="0"></div></div><div class="panel-body" ng-if="already_add"><h2 class="text-danger text-center">删除测评</h2></div></div><a class="btn btn-success btn-rounded pull-right" ng-disabled="FormBody.$invalid" ng-click="submit()">确定</a></form></div></div>')}]),angular.module("app/scripts/views/biz/live_rooms/block.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/live_rooms/block.html",'<div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">直播禁言</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div form-radio text="禁言" type="radio" ng-model="readonly" default="1" ng-show="block_status!=2" source="[{text:\'选择有效禁言时长\',value:\'1\'},{text:\'自定义\',value:\'2\'}]"></div><div form-radio text="禁言时长" type="radio" ng-model="param.minute" required="true" default="5" source-api="" ng-if="readonly==1" ng-show="block_status!=2" source="[{text:\'5分钟\',value:5},{text:\'15分钟\',value:15},{text:\'30分钟\',value:30}]"></div><div form-input text="禁言时长" ng-model="param.minute" required="true" ng-if="readonly==2" placeholder="单位:分钟"></div><h3 class="text-primary text-center" ng-show="block_status==2">解除禁言</h3></div></div><a class="btn btn-success btn-rounded pull-right" ng-disabled="FormBody.$invalid" ng-click="submit()">确定</a></form></div></div>')}]),angular.module("app/scripts/views/biz/live_rooms/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/live_rooms/list.html",'<div class="dashboard-page"><div hjm-grid modid="productList" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/live_rooms/plan.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/live_rooms/plan.html",'<div class="dashboard-page"><style type="text/css">.inlineBlock {\n            display: inline-block;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">直播计划</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate disabled-role="{{$stateParams.product_id?\'admin,op\':\'\'}}"><div class="panel panel-primary"><div class="panel-body"><div form-input text="直播ID" ng-model="param.id" ng-show="$stateParams.id" placeholder="直播ID" ng-disabled="$stateParams.id"></div><div form-table text="直播预告" ng-model="param.plans" columns="[\n'+"                             {'name': 'ID', 'field': 'id',readonly:'true'},\n                             {'name': '开始时间', 'field': 'start_time',type:'datetime',required:'true'},\n                             {'name': '结束时间', 'field': 'end_time',type:'datetime',min:'0',required:'true'}]\"></div></div></div><div form-error-block></div><a class=\"btn btn-success btn-rounded\" show-role=\"'{{$stateParams.product_id?'admin,op':''}}'\" ng-disabled=\"FormBody.$invalid\" ng-click=\"submit()\">提交</a></form></div></div></div>")}]),angular.module("app/scripts/views/biz/live_rooms/point.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/live_rooms/point.html",'<div><span ng-bind="\'排序 : \'+item.order_by" dnd-handle></span><div form-input text="看点名" ng-model="item.title" name="{{\'看点第\'+($index+1)+\'个看点名项\'}}" required="true" maxlength="15" minlength="1" placeholder="最多15个字"></div><div form-textarea text="基本信息" ng-model="item.content" name="{{\'看点第\'+($index+1)+\'个基本信息项\'}}" required="true"></div><div form-image text="图片" ng-model="item.pics" name="{{\'看点第\'+($index+1)+\'个图片项\'}}" hide-bar="[0,0,1,1]" max="8" min="1" required="true"></div>\x3c!--<p>--\x3e\x3c!--<span ng-bind="item|json"></span>--\x3e\x3c!--</p>--\x3e</div>')}]),angular.module("app/scripts/views/biz/live_rooms/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/live_rooms/update.html",'<div class="dashboard-page"><style type="text/css">.inlineBlock {\n            display: inline-block;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock" ng-if="!$stateParams.id">新增直播</h3><h3 class="panel-title inlineBlock" ng-if="$stateParams.id">修改直播</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate disabled-role="{{$stateParams.product_id?\'admin,op\':\'\'}}"><div class="panel panel-primary"><div class="panel-body"><h5 style="margin: 0; padding: 10px 0">直播信息</h5></div><div class="panel-body"><div form-input text="直播ID" ng-model="param.id" ng-show="$stateParams.id" placeholder="直播ID" ng-disabled="$stateParams.id"></div><div form-input text="直播标题" ng-model="param.title" placeholder="直播标题,不超过30个字" required="true" minlength="1" maxlength="30"></div><div form-double-date-time text-start="直播--开始时间" text-end="结束时间" required="true" ng-model-start="param.start_time" ng-model-end="param.end_time"></div><div form-input text="播放次数基数" ng-model="param.base_play_count" type="number" required="true" min="0"></div><div form-input text="点赞次数基数" ng-model="param.base_thumbup_count" type="number" min="0" required="true"></div><div form-image-single text="直播图片" ng-model="param.pic_url" required="true"></div><div form-image-single text="上传二维码" ng-model="param.qrcode_url"></div><div form-select text="订单SKU类型" ng-model="param.sku" required="true" source="$root.common.live_sku" source-api=""></div>\x3c!--<div form-radio text="订单SKU类型" type="radio" ng-model="param.sku" required="true" default="10"--\x3e\x3c!--source="[{text:\'博物馆直播第一期\',value:\'10\'},{text:\'名校直播第一期\',value:\'11\'},{text:\'成人演讲\',value:\'12\'}--\x3e\x3c!--,{text:\'少年好声音\',value:\'13\'},{text:\'博物馆直播第二期\',value:\'14\'},{text:\'免费\',value:\'0\'}]" source-api=""></div>--\x3e<div form-input text="分享URL" ng-model="param.share_url" placeholder="分享URL"></div><div form-input text="排序" ng-model="param.order_by" placeholder="排序" type="number" min="0" required="true"></div><hr><h5>播放地址</h5><div form-radio text="云服务器类型" type="radio" ng-model="param.cloud.cloud_type" required="true" default="1" source="[{text:\'阿里\',value:\'1\'},{text:\'七牛\',value:\'2\'}]" source-api=""></div><div form-radio text="是否需要签权" type="radio" ng-model="param.cloud.cloud_auth" required="true" default="1" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" source-api=""></div><div form-input text="聊天房间ID" ng-model="param.cloud.chat_room_id" placeholder="聊天房间ID" required="true"></div><div form-input text="直播域名" ng-model="param.cloud.domain" placeholder="直播域名" required="true"></div><div form-input text="应用名称" ng-model="param.cloud.app_name" placeholder="应用名称" required="true"></div><div form-input text="流名称" ng-model="param.cloud.stream_name" placeholder="流名称" required="true"></div><div class="form-group"><div class="col-sm-offset-2 col-sm-4"><a class="btn btn-primary btn-bordered" ng-click="make_all_url()">根据流名称同步所有资源URL</a></div></div><div form-input text="标清RTMP" ng-model="param.cloud.rtmp_url" placeholder="RTMP" required="true"></div><div form-input text="标清HLS" ng-model="param.cloud.mu_url" placeholder="HLS(m3u8)" required="true"></div><div form-input text="标清FLV" ng-model="param.cloud.flv_url" placeholder="FLV" required="true"></div><div form-input text="高清RTMP" ng-model="param.cloud.high_rtmp_url" placeholder="RTMP"></div><div form-input text="高清HLS" ng-model="param.cloud.high_mu_url" placeholder="HLS(m3u8)"></div><div form-input text="高清FLV" ng-model="param.cloud.high_flv_url" placeholder="FLV"></div><div form-input text="流畅RTMP" ng-model="param.cloud.fluency_rtmp_url" placeholder="RTMP"></div><div form-input text="流畅HLS" ng-model="param.cloud.fluency_mu_url" placeholder="HLS(m3u8)"></div><div form-input text="流畅FLV" ng-model="param.cloud.fluency_flv_url" placeholder="FLV"></div><div form-input text="视频时长" ng-model="param.video_seconds" placeholder="视频时长:秒" required="true"></div><div form-radio text="苹果审核标志" type="radio" ng-model="param.ios_audit" required="true" default="2" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" source-api=""></div>\x3c!--<div form-rich-text text="看点" ng-model="param.watch_point" placeholder="看点"></div>--\x3e<div form-radio text="看点图片比例" type="radio" ng-model="param.point_pic_scale_type" default="1" source-api="" source="[{text:\'16:9\',value:\'1\'},{text:\'4:3\',value:\'2\'},{text:\'3:4\',value:\'3\'}]"></div><div live-point text="看点" ng-model="param.points"></div></div></div><div form-error-block></div><a class="btn btn-success btn-rounded" show-role="\'{{$stateParams.product_id?\'admin,op\':\'\'}}\'" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/market/skuno.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/market/skuno.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!param.id">新增 >> skuno关联视频组</h3><h3 class="panel-title" ng-if="param.id">更新 >> skuno关联视频组</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div form-input text="ID" ng-model="param.id" placeholder="id" ng-show="$stateParams.id" ng-disabled="true"></div><div form-input text="视频组ID" ng-model="param.video_group_id" placeholder="视频组ID" required="true"></div><div form-input text="skuno" ng-model="param.skuno" placeholder="skuno" required="true"></div></div></div><div form-error-block></div><a class="btn btn-success btn-rounded pull-right" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/market/videogrouprecord.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/market/videogrouprecord.html",'<div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">查询用户观看记录</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div form-input text="手机号码" ng-model="param.mobile" required="true" ng-disabled="true"></div><div form-input text="视频组ID" ng-model="param.video_group_id" required="true" ng-disabled="true"></div><h3 class="text-danger col-sm-offset-2" ng-bind="\'该视频组已经观看视频数：\'+(result||0)"></h3></div></div>\x3c!--&nbsp;&nbsp;&nbsp;<a class="btn btn-success btn-rounded pull-right" ng-disabled="FormBody.$invalid"--\x3e\x3c!--ng-click="chaxun()">查询</a>--\x3e\x3c!--&nbsp;&nbsp;&nbsp;<a class="btn btn-warning btn-rounded pull-right" ng-click="cancel()">取消</a>--\x3e</form></div></div>')}]),angular.module("app/scripts/views/biz/marketshare/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/marketshare/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.id">新增运营分享视频组权限</h3><h3 class="panel-title" ng-if="$stateParams.id">更新运营分享视频组权限</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>运营分享视频组权限</h4><div form-search text="查询视频组ID" verify="verify_obj_id(obj_id)" btn-text="添加视频组" ajax-config="{method:\'get\',url:$root.common.domain+\'/mobile/live/videogroups/\'+obj_id}" ng-model="obj_id" callback="add_obj_id(json)"></div><div form-input text="已选择的视频组ID" ng-model="param.obj_id" placeholder="通过查询视频组ID来填充" ng-disabled="true" required="true"></div><div form-input text="发放总数量" ng-model="param.total_count" required="true" type="number" min="0"></div><div form-radio text="领取对象" ng-model="param.receive_type" required="true" default="0" source="[{text:\'不限\',value:\'1\'},{text:\'新用户\',value:\'2\'},{text:\'老用户\',value:\'3\'},{text:\'仅手机号码可领取(导入请到列表操作)\',value:\'4\'}]" source-api=""></div><div form-input text="运营文案" ng-model="param.content" placeholder="不超过15字" maxlength="15"></div><div form-textarea text="活动细则" ng-model="param.description" placeholder="不超过15字"></div><div form-input text="分享标题" ng-model="param.market.param.title" placeholder="分享标题" maxlength="30" required="true"></div><div form-input text="分享描述" ng-model="param.market.param.desc" placeholder="分享描述" required="true"></div><div form-double-date-time text-start="领取开始时间" text-end="领取结束时间" required="true" ng-model-start="param.start_time" ng-model-end="param.end_time"></div><div form-textarea text="备注" ng-model="param.remark" placeholder="不超过15字"></div></div></div><div form-error-block></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/menu/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/menu/list.html",'<div class="dashboard-page"><div hjm-grid modid="menuList" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/menu/menus.html",[]).run(["$templateCache",function($templateCache){"use strict"
;$templateCache.put("app/scripts/views/biz/menu/menus.html",'<style type="text/css">.panel-group .panel {\n        width: 48%;\n        display: inline-table;\n        margin-left: 0.5%;\n        /*margin-right: 0.5%;*/\n    }\n\n    .panel > .panel-body > uib-accordion {\n        display: inline-block;\n    }</style><div class="panel panel-primary menu-panel"><div class="panel-heading">菜单管理</div><div class="panel-body"><div class="row"><div class="col-sm-4"><common_form form_param="param" form_init_data="{sort:menus.length+1}" form_url="add_url" form_title="\'新增主菜单\'" callback="getapi" btn-class="btn btn-primary btn-rounded btn-bordered visible-lg pull-left"><i class="fa fa-plus"></i></common_form></div><div class="col-sm-4"><div class="checkbox"><label class="checkbox-inline checkbox1"><input type="checkbox" ng-model="oneAtATime" ng-init="oneAtATime=true"> <span></span> 一次只打开一个来编辑</label></div></div></div><uib-accordion close-others="oneAtATime"><div uib-accordion-group heading="{{menu.sort+\'&nbsp;&nbsp;&nbsp;\'+menu.name+\'( ID:\'+menu.id+\')\'}}" ng-repeat="menu in menus" class="panel panel-default panel-info"><div class="accordion-heading row"><common_form form_param="param" form_init_data="menu" form_url="update_url" form_title="\'更新\'" callback="getapi" form_method="PUT" form_param_id="{{menu.id}}" btn-class="btn btn-info btn-outline btn-rounded pull-right"></common_form><common_form form_param="param_sub" form_init_data="{pid:menu.id,sort:menu.childs.length+1}" form_url="add_url" form_method="POST" form_title="\'新增子菜单\'" callback="getapi" btn-class="btn btn-info btn-outline btn-rounded pull-right"></common_form><div class="pull-right"><a class="btn btn-info btn-outline btn-rounded pull-right" ng-click="swap(menu.id,menus[$index-1].id);" ng-if="!$first">主菜单排序向上一层</a></div></div><br><div class="row"><table class="table table-condensed table-bordered table-striped"><thead><tr><th class="text-center">排序</th><th class="text-center">菜单名称</th><th class="text-center">交换</th><th class="text-center">更新</th></tr></thead><tbody><tr bindonce ng-repeat="item in menu.childs"><td class="text-center"><span bo-text="item.sort"></span></td><td class="text-center"><span bo-text="item.name"></span></td><td class="text-center"><a class="btn btn-info btn-outline btn-rounded btn-xs text-center" ng-click="swap(item.id,menu.childs[$index-1].id);" ng-if="!$first">排序向上一层</a></td><td class="text-center"><common_form form_param="param_sub" form_init_data="item" form_url="update_url" form_extra_data="{pid:menu.id}" class="text-center" form_title="\'更新\'" callback="getapi" form_method="PUT" form_param_id="{{item.id}}" btn-class="btn btn-info btn-outline btn-rounded btn-xs text-center"></common_form></td></tr></tbody></table></div></div></uib-accordion></div></div>')}]),angular.module("app/scripts/views/biz/merchant/product.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/merchant/product.html",'<div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock" ng-bind="\'供应商: \'+company_name">新增活动</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>供应商信息</h4><div form-input text="utm_source" ng-model="utm_source"></div><div form-search text="查询活动ID" verify="verify_product_id(product_id)" btn-text="查询活动" ajax-config="{method:\'get\',url:$root.common.domain+\'/merchant/products/\'+product_id}" ng-model="product_id" callback="add_product_id(json)"></div><div form-radio text="类型" type="radio" ng-model="show_contact" required="true" default="" type="number" source-api="" source="[{text:\'供应商可以看联系人、联系电话信息\',value:\'1\'},{text:\'供应商不可以看到联系人、联系电话信息\',value:\'2\'}]"></div><div form-table text="直接买活动类目" ng-model="products" config="{add:false}" columns="[{\'name\': \'活动ID\', \'field\': \'product_id\',disabled:\'true\'},\n                             {\'name\': \'类目\', \'fieldDirective\': \'<div product-option data=\\\'item\\\'></div>\'}]"></div></div></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div>')}]),angular.module("app/scripts/views/biz/merchant/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/merchant/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.merchant_id">新增供应商账户</h3><h3 class="panel-title" ng-if="$stateParams.merchant_id">修改供应商账户</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>供应商信息</h4><div form-input text="ID" ng-model="param.id" ng-show="$stateParams.merchant_id" placeholder="ID" ng-disabled="$stateParams.merchant_id"></div><div form-input text="供应商全名" ng-model="param.company_name" placeholder="供应商全名" required="true"></div><div form-input text="供应商联系方式" ng-model="param.contact_mobile" placeholder="供应商联系方式" required="true"></div><div form-input text="供应商联系人" ng-model="param.contact_name" placeholder="供应商联系人" required="true"></div><div form-input text="供应商utm_source" ng-model="param.utm_source" placeholder="供应商utm_source,不能有下划线"></div><div form-image text="营业执照" ng-model="param.business_license" max="10"></div><h4>登录账号信息</h4><div form-input text="登录账号" ng-model="param.account.username" placeholder="登录账号" required="true"></div><div class="form-group"><div class="form_element"><label class="col-sm-2 control-label">登录密码 <span class="form_label_dangus" ng-bind="!$stateParams.merchant_id?\'*\':\'&nbsp;\'">*</span></label><div class="col-sm-4"><input class="form-control" ng-model="param.account.userpass" placeholder="登录密码" ng-readonly="true" ng-if="$stateParams.merchant_id"> <input class="form-control" ng-model="param.account.userpass" placeholder="登录密码" required="true" ng-readonly="true" ng-if="!$stateParams.merchant_id"></div><div class="col-sm-2"><a class="btn btn-primary" ng-click="randomString(8)" ng-bind="$stateParams.merchant_id?\'重置密码\':\'生成密码\'">重置密码</a>\x3c!--<a class="btn btn-warning" ng-click="param.account.userpass=\'\'">清空密码</a>--\x3e</div></div></div><div form-input text="对接负责人" ng-model="param.charge_bd" placeholder="对接负责人" required="true"></div><div form-textarea text="备注" ng-model="param.remark"></div></div></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/mission/knowledge.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/mission/knowledge.html",'<div class="dashboard-page"><style type="text/css">.inlineBlock {\n            display: inline-block;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">知识点</h3><a class="inlineBlock btn btn-success btn-sm pull-right" ng-click="go_lesson_order();">回到草稿任务管理</a></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate disabled-role="{{$stateParams.mission_id?\'admin,op\':\'\'}}"><div class="panel panel-primary"><div class="panel-body">\x3c!--<div form-radio text="知识点" ng-model="title" default="" source="knowledge_title"></div>--\x3e<div class="form-group"><div class="col-sm-2"><a class="btn btn-default" ng-class="{\'btn-success\':title == \'1111111111\'}" ng-click="selected();">新增知识点</a></div><div class="col-sm-8"><a class="btn btn-default" ng-class="{\'btn-primary\':title==item.value}" ng-click="selected(item);" style="margin-right:5px" ng-repeat="item in knowledge_title" ng-bind="item.text"></a></div></div></div><hr><div class="panel-body"><div form-input text="知识点ID" ng-model="param.knowledge_id" placeholder="知识点ID" ng-show="title!==\'1111111111\'" ng-disabled="true"></div><div form-input text="知识点标题" ng-model="param.title" placeholder="知识点标题" required="true" minlength="1" maxlength="25"></div><div form-sources text="音频文件" ng-model="param.audios" max="100" type="3" token="taskstudy"></div><div form-sources text="视频文件" ng-model="param.videos" max="100" type="2" token="taskstudy"></div><div form-image-text text="图文详情" ng-model="param.imagetexts" token="taskstudy"></div></div></div><a class="btn btn-success btn-rounded" show-role="\'{{$stateParams.mission_id?\'admin,op\':\'\'}}\'" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a> <a class="btn btn-danger btn-rounded" show-role="\'{{$stateParams.mission_id?\'admin,op\':\'\'}}\'" ng-disabled="!param.knowledge_id" ng-click="submit(2)" ng-show="param.knowledge_id">删除知识点</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/mission/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/mission/update.html",'<div class="dashboard-page"><style type="text/css">.inlineBlock {\n            display: inline-block;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock" ng-if="!$stateParams.mission_id">新增课程任务</h3><h3 class="panel-title inlineBlock" show-role="\'admin,op\'" ng-if="$stateParams.mission_id">修改课程任务</h3><h3 class="panel-title inlineBlock" show-role="\'!admin,op\'" ng-if="$stateParams.mission_id">课程任务详情</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate disabled-role="{{$stateParams.mission_id?\'admin,op\':\'\'}}"><div class="panel panel-primary"><div class="panel-body"><div form-input text="任务ID" ng-model="param.mission_id" ng-show="$stateParams.mission_id" placeholder="任务ID" ng-disabled="$stateParams.mission_id"></div><div form-input text="排序数字" ng-model="param.order_by" placeholder="排序数字" required="true"></div><div form-input text="任务名称" ng-model="param.title" placeholder="不超过25个字" required="true" minlength="1" maxlength="25"></div><div form-textarea text="任务描述" ng-model="param.description" required="true"></div><div form-sources text="任务图片" ng-model="param.sources" max="100" type="1" token="taskstudy"></div><div form-textarea text="任务备注" ng-model="param.remark" placeholder="不超过100个字"></div><div form-input text="URL" ng-model="param.url" placeholder="URL"></div><div class="form-group"><label class="col-sm-2 control-label">题目&nbsp;&nbsp;</label><div class="col-sm-8"><div ng-repeat="item in param.questions" style="border: 1px #ccc dashed;padding: 25px 0"><div form-input text="文字题干" ng-model="item.name" placeholder="不超过25个字" minlength="1" maxlength="25"></div><div form-image-single text="题干图片" ng-model="item.image"></div><div form-table text="选项" ng-model="item.options" max="6" columns="[{\'name\': \'ID\', \'field\': \'id\',hide:\'true\'},\n'+"                                    {'name': '名称', 'field': 'name','max':10,'placeholder':'不超过10个字',required:'true'},\n                                    {'name': '该选项得分', 'field': 'score',required:'true',type:'number'}]\"></div><div class=\"col-sm-12\"><a class=\"btn btn-danger btn-rounded pull-right\" ng-click=\"param.questions&&param.questions.splice($index,1);\">删除题目</a></div><div form-textarea text=\"答案解析\" ng-model=\"item.explain\"></div></div><div class=\"col-sm-12\" style=\"margin-top: 15px\" ng-show=\"(!param.questions||param.questions&&param.questions.length<1)\"><a class=\"btn btn-success btn-rounded\" ng-click=\"(!param.questions||param.questions&&param.questions.length<1)&&(param.questions=[{}]);\">新增题目</a></div></div></div></div><a class=\"btn btn-success btn-rounded\" show-role=\"'{{$stateParams.mission_id?'admin,op':''}}'\" ng-disabled=\"FormBody.$invalid\" ng-click=\"submit()\">提交</a></div></form></div></div></div>")}]);angular.module("app/scripts/views/biz/order/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/order/list.html",'<div class="dashboard-page"><div hjm-grid modid="orderList" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/orders/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/orders/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.product_id">新增维护订单数据</h3><h3 class="panel-title" show-role="\'admin,op\'" ng-if="$stateParams.product_id">修改商品</h3><h3 class="panel-title" show-role="\'!admin,op\'" ng-if="$stateParams.product_id">商品详情</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate disabled-role="{{$stateParams.product_id?\'admin,op\':\'\'}}"><div class="panel panel-primary"><div class="panel-body"><h4>维护订单数据</h4><label class="col-sm-2 control-label">活动ID<span class="form_label_dangus">*</span></label><div class="col-sm-6"><input class="form-control" ng-model="param.product_id" placeholder="填写活动ID后点击查询" required></div><a class="btn btn-primary btn-rounded" ng-click="search()">查询</a><hr><div class="row"><h4 class="col-sm-offset-2 text-danger">1:活动类目中若选择人数团,报名模式会自动对应开团或参团;&nbsp;&nbsp;&nbsp;2:选择直接买会自动对应直接买,注意互相影响</h4></div><div form-select class="col-sm-12" text="活动类目" ng-model="param.option_id" source="options" source-api=""></div><div form-radio text="报名模式" type="radio" ng-model="param.apply_mode" required="true" source="[{text:\'开团\',value:\'1\'},{text:\'参团\',value:\'2\'},{text:\'直接买\',value:\'3\'}]" default="1" source-api=""></div><div form-input text="参团ID" ng-model="param.groupbuy_id" required="true" ng-if="param.apply_mode==2"></div><div form-input text="马甲数最大值" ng-model="count" required="true" form-show-role="admin"></div><div form-textarea text="用户ID" ng-model="user_ids" required="true" data-placeholder="用户ID,英文逗号隔开填写多个成一行,或者每行写一个不要逗号"></div></div></div><div form-error-block></div>\x3c!--<a class="btn btn-info btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit(0)">保存草稿</a>--\x3e<a class="btn btn-success btn-rounded" show-role="\'{{$stateParams.product_id?\'admin,op\':\'\'}}\'" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a>\x3c!--<a class="btn btn-success btn-rounded" ng-click="aaa()">浏览器控制台查看提交数据</a>--\x3e</form></div></div></div>')}]),angular.module("app/scripts/views/biz/product/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/product/list.html",'<div class="dashboard-page"><div hjm-grid modid="productList" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/product/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/product/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.product_id">新增商品</h3><h3 class="panel-title" show-role="\'admin,op\'" ng-if="$stateParams.product_id">修改商品</h3><h3 class="panel-title" show-role="\'!admin,op\'" ng-if="$stateParams.product_id">商品详情</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate disabled-role="{{$stateParams.product_id?\'admin,op\':\'\'}}"><div class="panel panel-primary"><div class="panel-body"><h4>商品信息</h4><div form-input text="商品ID" ng-model="param.product_id" ng-show="$stateParams.product_id" placeholder="商品ID" ng-disabled="$stateParams.product_id"></div><div form-input text="商品标题" ng-model="param.title" placeholder="商品标题" required="true"></div><div form-input text="商品简介" ng-model="param.brief" placeholder="不超过30个字" minlength="1" maxlength="30"></div><div form-radio text="商品品类" ng-model="param.sku" required="true" default="1" source="[{text:\'鲜花\',value:\'1\'},{text:\'其他\',value:\'0\'}]" source-api=""></div><div form-radio text="商品类型" ng-model="param.frequency_type" required="true" default="2" source="[{text:\'包月\',value:2},{text:\'单次\',value:1}]" source-api=""></div><div form-input text="商品单位" ng-model="param.price_label"></div><div form-input text="库存总数" ng-model="param.origin_inventory" min="0" type="number" required="true"></div><div form-input text="单次限购份数" ng-model="param.order_count_max" type="number" min="1" required="true"></div><div form-input text="单人限购份数" ng-model="param.per_buy_count" type="number" min="0"></div>\x3c!--<div form-input text="已售份数基数" ng-model="param.base_sale_count" type="number"--\x3e\x3c!--min="0"></div>--\x3e<div form-date-time text="上架时间" ng-model="param.start_time" required="true"></div><div form-date-time text="下架时间" ng-model="param.end_time" required="true"></div>\x3c!--<div form-date-time text="活动开始时间" ng-model="param.act_start_time" required="true"></div>--\x3e\x3c!--<div form-date-time text="活动结束时间" ng-model="param.act_end_time" required="true"></div>--\x3e\x3c!--<div form-date-time text="报名开始时间" ng-model="param.act_apply_start_time" required="true"></div>--\x3e\x3c!--<div form-date-time text="报名截止时间" ng-model="param.act_apply_end_time" required="true"></div>--\x3e<div form-input text="活动地点" ng-model="param.act_address" placeholder="例如:永达国际大厦"></div><div form-input text="详细地址" ng-model="param.act_detailed_address" placeholder="例如:上海市浦东新区龙阳路2277号"></div><div form-image text="运营大图" ng-model="param.pics" max="100" required="true"></div><div form-image text="缩略小图" ng-model="param.thumbnail_pics" max="100" required="true"></div><div form-image-content text="图文详情" ng-model="param.contents" required="true"></div></div></div><div class="panel panel-primary"><div class="panel-body"><h4>拼团规则</h4><div form-radio text="互助团类型" type="radio" ng-model="param.category" required="true" source="[{text:\'砍价团\',value:\'1\'},{text:\'人数团\',value:\'2\'}]" source-api=""></div><div form-input text="玩法说明标题" ng-model="param.play_subject" placeholder="玩法说明标题"></div><div form-textarea text="玩法说明内容" ng-model="param.play_introduction" placeholder="玩法说明内容" required="true"></div><div form-input text="起始价" ng-model="param.high_price" required="true" min="0" type="number" ng-show="param.category==1"></div><div form-input text="底价" ng-model="param.bottom_price" required="true" min="0" type="number" ng-show="param.category==1"></div><div form-input text="单人返现金额" ng-model="param.per_cut_amount" required="true" min="0" type="number" ng-show="param.category==1"></div><div form-input text="拼团人数" ng-model="param.group_min_num" required="true" min="0" type="number" ng-show="param.category==2"></div><div form-input text="拼团单价" ng-model="param.price" required="true" min="0" type="number" ng-show="param.category==2"></div><div form-input text="拼团有效时间(小时)" ng-model="hours" min="0" required="true" placeholder="单位:小时"></div></div></div><div class="panel panel-primary"><div class="panel-body"><h4>配送规则</h4><div form-radio text="物流" ng-model="param.delivery_type" required="true" ng-change="delivery_type()" ng-disabled="$stateParams.product_id" source="[{text:\'顺丰配送\',value:\'1\'},{text:\'无需配送\',value:\'3\'}]" source-api=""></div><div form-input text="配送次数" ng-model="param.frequency_num" type="number" min="0" ng-show="param.delivery_type!=3" ng-disabled="$stateParams.product_id"></div><div form-checkbox text="覆盖／配送城市" ng-model="param.visible_cities" required="true" source="[{text:\'上海市\',value:\'上海市\'},{text:\'南京市\',value:\'南京市\'},\n                             {text:\'厦门市\',value:\'厦门市\'},{text:\'北京市\',value:\'北京市\'}]" source-api=""></div><div form-radio text="送达时间类型" ng-model="param.arrive_type" ng-show="param.delivery_type!=3" ng-disabled="$stateParams.product_id" source="[{text:\'周六/周一\',value:\'1\'},{text:\'无需指定\',value:\'2\'}]" source-api=""></div></div></div><div class="panel panel-primary"><div class="panel-body"><h4>管理</h4><div form-textarea text="管理备注" ng-model="param.admin_remark" required="true"></div><div form-input text="排序" ng-model="param.order_by" required="true" type="number" min="0"></div><div form-radio text="显示" ng-model="param.visible" required="true" default="1" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" source-api=""></div></div></div>\x3c!--<a class="btn btn-info btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit(0)">保存草稿</a>--\x3e<a class="btn btn-success btn-rounded" show-role="\'{{$stateParams.product_id?\'admin,op\':\'\'}}\'" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a>\x3c!--<a class="btn btn-success btn-rounded" ng-click="aaa()">浏览器控制台查看提交数据</a>--\x3e</form></div></div></div>')}]),angular.module("app/scripts/views/biz/product_act/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/product_act/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.product_id">新增活动类商品</h3><h3 class="panel-title" show-role="\'admin,op\'" ng-if="$stateParams.product_id">修改活动类商品</h3><h3 class="panel-title" show-role="\'!admin,op\'" ng-if="$stateParams.product_id">活动类商品详情</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate disabled-role="{{$stateParams.product_id?\'admin,op\':\'\'}}">\x3c!--<div class="panel panel-primary">--\x3e\x3c!--<div class="panel-body">--\x3e\x3c!--<h4>地图信息</h4>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e<div class="panel panel-primary"><div class="panel-body"><h4>商品信息</h4><div form-input text="商品ID" ng-model="param.product_id" ng-show="$stateParams.product_id" placeholder="商品ID" ng-disabled="$stateParams.product_id"></div><div form-input text="商品标题" ng-model="param.title" placeholder="商品标题" required="true"></div><div form-input text="商品简介" ng-model="param.brief" placeholder="不超过30个字" minlength="1" maxlength="30"></div><div form-radio text="商品品类" ng-model="param.sku" required="true" default="3" source="[{text:\'活动\',value:\'3\'}]" source-api=""></div><div form-radio text="商品类型" ng-model="param.frequency_type" required="true" default="2" source="[{text:\'包月\',value:2},{text:\'单次\',value:1}]" source-api=""></div><div form-input text="商品单位" ng-model="param.price_label"></div>\x3c!--<div form-input text="库存总数" ng-model="param.origin_inventory" min="0" type="number"--\x3e\x3c!--required="true"></div>--\x3e<div form-input text="单次限购份数" ng-model="param.order_count_max" type="number" min="1" required="true"></div><div form-input text="单人限购份数" ng-model="param.per_buy_count" type="number" min="0"></div>\x3c!--<div form-input text="已售份数基数" ng-model="param.base_sale_count" type="number"--\x3e\x3c!--min="0"></div>--\x3e<div form-date-time text="上架时间" ng-model="param.start_time" required="true"></div><div form-date-time text="下架时间" ng-model="param.end_time" required="true"></div><div form-date-time text="活动开始时间" ng-model="param.act_start_time" required="true"></div><div form-date-time text="活动结束时间" ng-model="param.act_end_time" required="true"></div>\x3c!--<div form-date-time text="报名开始时间" ng-model="param.act_apply_start_time" required="true"></div>--\x3e\x3c!--<div form-date-time text="报名截止时间" ng-model="param.act_apply_end_time" required="true"></div>--\x3e<div form-input text="活动地点" ng-model="param.act_address" placeholder="例如:永达国际大厦"></div>\x3c!--<div form-input text="详细地址" ng-model="param.act_detailed_address"--\x3e\x3c!--placeholder="例如:上海市浦东新区龙阳路2277号"></div>--\x3e<div form-radio text="城市" ng-model="city_name" default="上海" source="[{text:\'上海\',value:\'上海\'}]" show-env="wwwwwwwww"></div><div form-input text="经度" ng-model="param.longitude" placeholder="纬度" ng-disabled="true"></div><div form-input text="纬度" ng-model="param.latitude" placeholder="纬度" ng-disabled="true"></div><div class="form-group"><div class="form_element"><label class="col-sm-2 control-label">活动详情地址</label><div class="col-sm-6"><input class="form-control" ng-model="param.act_detailed_address" placeholder="活动详情地址"></div><div class="col-sm-1"><a class="btn btn-info btn-rounded" ng-click="getlocation()">经纬度搜索</a></div><div class="col-sm-1"><a class="btn btn-info btn-rounded" ng-click="getlocation();isshowmap=!isshowmap;" ng-bind="!isshowmap?\'展示地图\':\'隐藏地图\'"></a></div></div></div><div class="form-group" ng-show="isshowmap"><div class="col-sm-8 col-sm-offset-2" style="height: 450px"><baidumap lng="param.longitude" lat="param.latitude" city="city_name" address="param.act_detailed_address" district="param.district" time-stamp="timeStamp"></baidumap></div></div><div form-image text="运营大图" ng-model="param.pics" max="100" required="true"></div><div form-image text="缩略小图" ng-model="param.thumbnail_pics" max="100" required="true"></div><div form-image-content text="图文详情" ng-model="param.contents" required="true"></div></div></div><div class="panel panel-primary"><div class="panel-body"><h4>拼团规则</h4><div form-radio text="互助团类型" type="radio" ng-model="param.category" required="true" default="2" source="[{text:\'人数团\',value:\'2\'}]" source-api=""></div><div form-input text="玩法说明标题" ng-model="param.play_subject" placeholder="玩法说明标题"></div><div form-textarea text="玩法说明内容" ng-model="param.play_introduction" placeholder="玩法说明内容" required="true"></div><div form-table text="活动类目" ng-model="param.options" required="true" columns="[{\'name\': \'ID\', \'field\': \'option_id\',hide:\'true\'},\n                             {\'name\': \'类目\', \'field\': \'option_name\'},\n                             {\'name\': \'价格\', \'field\': \'option_price\',type:\'number\',min:\'0\',minLength:\'2\'},\n                             {\'name\': \'库存\', \'field\': \'option_inventory\'}]"></div>\x3c!--<div form-input text="起始价" ng-model="param.high_price" required="true" min="0" type="number"--\x3e\x3c!--ng-show="param.category==1"></div>--\x3e\x3c!--<div form-input text="底价" ng-model="param.bottom_price" required="true" min="0" type="number"--\x3e\x3c!--ng-show="param.category==1"></div>--\x3e\x3c!--<div form-input text="单人返现金额" ng-model="param.per_cut_amount" required="true" min="0"--\x3e\x3c!--type="number" ng-show="param.category==1"></div>--\x3e<div form-input text="拼团人数" ng-model="param.group_min_num" required="true" min="0" type="number" ng-show="param.category==2"></div>\x3c!--<div form-input text="拼团单价" ng-model="param.price" required="true" min="0" type="number"--\x3e\x3c!--ng-show="param.category==2"></div>--\x3e<div form-input text="拼团有效时间(小时)" ng-model="hours" min="0" required="true" type="number" placeholder="单位:小时"></div></div></div><div class="panel panel-primary"><div class="panel-body"><h4>配送规则</h4><div form-radio text="物流" ng-model="param.delivery_type" required="true" ng-change="delivery_type()" ng-disabled="$stateParams.product_id" default="3" source="[{text:\'顺丰配送\',value:\'1\'},{text:\'无需配送\',value:\'3\'}]" source-api=""></div><div form-input text="配送次数" ng-model="param.frequency_num" type="number" min="0" ng-show="param.delivery_type!=3" ng-disabled="$stateParams.product_id"></div><div form-checkbox text="覆盖／配送城市" ng-model="param.visible_cities" required="true" source="[{text:\'上海市\',value:\'上海市\'},{text:\'南京市\',value:\'南京市\'},\n                             {text:\'厦门市\',value:\'厦门市\'},{text:\'北京市\',value:\'北京市\'}]" source-api=""></div><div form-radio text="送达时间类型" ng-model="param.arrive_type" ng-show="param.delivery_type!=3" ng-disabled="$stateParams.product_id" source="[{text:\'周六/周一\',value:\'1\'},{text:\'无需指定\',value:\'2\'}]" source-api=""></div></div></div><div class="panel panel-primary"><div class="panel-body"><h4>管理</h4><div form-textarea text="管理备注" ng-model="param.admin_remark" required="true"></div><div form-input text="排序" ng-model="param.order_by" required="true" type="number" min="0"></div><div form-radio text="显示" ng-model="param.visible" required="true" default="1" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" source-api=""></div></div></div><div form-error-block></div>\x3c!--<a class="btn btn-info btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit(0)">保存草稿</a>--\x3e<a class="btn btn-success btn-rounded" show-role="\'{{$stateParams.product_id?\'admin,op\':\'\'}}\'" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a>\x3c!--<a class="btn btn-success btn-rounded" ng-click="aaa()">浏览器控制台查看提交数据</a>--\x3e</form></div></div></div>')}]),angular.module("app/scripts/views/biz/record_rooms/update.html",[]).run(["$templateCache",function($templateCache){"use strict"
;$templateCache.put("app/scripts/views/biz/record_rooms/update.html",'<div class="dashboard-page"><style type="text/css">.inlineBlock {\n            display: inline-block;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock" ng-if="!$stateParams.id">新增点播</h3><h3 class="panel-title inlineBlock" ng-if="$stateParams.id">修改点播</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate disabled-role="{{$stateParams.product_id?\'admin,op\':\'\'}}"><div class="panel panel-primary"><div class="panel-body"><h5 style="margin: 0; padding: 10px 0">视频信息</h5></div><div class="panel-body"><div form-input text="视频ID" ng-model="param.id" ng-show="param.id" placeholder="视频ID" ng-disabled="$stateParams.id"></div><div form-input text="点播标题" ng-model="param.title" placeholder="视频标题,不超过30个字" required="true" minlength="1" maxlength="30"></div><div form-input text="播放次数基数" ng-model="param.base_play_count" type="number" required="true" min="0"></div><div form-input text="点赞次数基数" ng-model="param.base_thumbup_count" type="number" min="0" required="true"></div><div form-select text="订单SKU类型" ng-model="param.sku" required="true" source="$root.common.live_sku" source-api=""></div>\x3c!--<div form-radio text="订单类型" type="radio" ng-model="param.sku" required="true" default="10"--\x3e\x3c!--source="[{text:\'博物馆直播第一期\',value:\'10\'},{text:\'名校直播第一期\',value:\'11\'},{text:\'成人演讲\',value:\'12\'}--\x3e\x3c!--,{text:\'少年好声音\',value:\'13\'},{text:\'博物馆直播第二期\',value:\'14\'},{text:\'免费\',value:\'0\'}]" source-api=""></div>--\x3e<div form-input text="分享URl" ng-model="param.share_url" placeholder="分享URl"></div><div form-image-single text="直播图片" ng-model="param.pic_url" required="true"></div><div form-image-single text="上传二维码" ng-model="param.qrcode_url"></div>\x3c!--<div form-date-time text="视频发布时间" ng-model="param.record.publish_at" required="true"></div>--\x3e<div form-input text="视频标题" ng-model="param.record.video_title" placeholder="视频标题" required="true"></div><div form-input text="视频来源-流畅版" ng-model="param.record.fluent_video_url" placeholder="视频来源-流畅版"></div><div form-input text="mp4-视频来源-流畅版" ng-model="param.record.fluency_mp4_url" placeholder="视频来源-流畅版"></div><div form-input text="视频来源" ng-model="param.record.video_url" placeholder="视频来源" required="true"></div><div form-input text="mp4-视频来源" ng-model="param.record.mp4_url" placeholder="视频来源" required="true"></div><div form-input text="视频来源-高清版" ng-model="param.record.high_video_url" placeholder="视频来源-高清版"></div><div form-input text="mp4-视频来源-高清版" ng-model="param.record.high_mp4_url" placeholder="视频来源-高清版"></div><div class="form-group"><div class="col-sm-offset-2"><a class="btn btn-primary btn-rounded" ng-click="getDuration()">获取时长</a></div></div><div form-input text="视频时长" ng-model="param.video_seconds" placeholder="视频时长:秒" required="true"></div><div form-input text="视频宽度" ng-model="param.record.video_width" placeholder="视频宽度" required="true"></div><div form-input text="视频高度" ng-model="param.record.video_height" placeholder="视频高度" required="true"></div><div form-radio text="是否回放" ng-model="param.record.play_back" required="true" default="1" source="[{text:\'回放\',value:\'1\'},{text:\'不回放\',value:\'2\'}]" source-api=""></div><div form-radio text="苹果审核标志" type="radio" ng-model="param.ios_audit" required="true" default="2" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" source-api=""></div><div form-input text="排序" ng-model="param.order_by" placeholder="排序" type="number" min="0" required="true"></div>\x3c!--<div form-rich-text text="看点" ng-model="param.watch_point" placeholder="看点"></div>--\x3e<div form-radio text="看点图片比例" type="radio" ng-model="param.point_pic_scale_type" default="1" source-api="" source="[{text:\'16:9\',value:\'1\'},{text:\'4:3\',value:\'2\'},{text:\'3:4\',value:\'3\'}]"></div><div live-point text="看点" ng-model="param.points"></div></div></div><div form-error-block></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/red_packet_coupons/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/red_packet_coupons/update.html",'<div class="dashboard-page"><style type="text/css">.dndsimpleSubject tbody[dnd-list],\n        .dndsimpleSubject tbody[dnd-list] > tr {\n            /*position: relative;*/\n        }\n\n        .dndsimpleSubject tbody[dnd-list]  .dndDragging {\n            opacity: 0.7;\n        }\n\n        .dndsimpleSubject tbody[dnd-list] .dndDraggingSource {\n            display: none;\n        }\n\n        .dndsimpleSubject tbody[dnd-list] .dndPlaceholder {\n            /*display: block;*/\n            /*float: left;*/\n            background-color: #ddd;\n            /*display: flex;*/\n            height: 100px;\n            /*width: 100px;*/\n            /*width: 100%;*/\n            border: 1px solid #ddd;\n            padding-left: 5px;\n            padding-right: 5px;\n        }\n\n        .dndsimpleSubject tbody[dnd-list] > tr {\n            /*background-color: #fff;*/\n            /*display: block;*/\n            /*width: 100%;*/\n        }\n\n        .dndsimpleSubject tbody[dnd-list] > tr.selected {\n            background-color: #dff0d8;\n            color: #3c763d;\n            width: 1000px;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">分享红包</h3></div><div class="panel-body dndsimpleSubject">\x3c!--<simditor ng-model="content" config="simditorConfig"></simditor>--\x3e<form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div class="row"><h3 class="col-sm-offset-2 text-danger">鼠标点击每一行数据,可以拖动调整排序,记得提交保存</h3></div><div class="form-group"><div class="col-sm-12"><table class="table table-bordered table-striped"><thead><tr><th class="text-center">排序</th>\x3c!--<th class="text-center">ID</th>--\x3e<th class="text-center">对应活动ID</th><th class="text-center">红包名称</th><th class="text-center">活动名称</th><th class="text-center">优惠券金额</th><th class="text-center"><a class="btn btn-primary btn-rounded" ng-click="add()">添加</a></th></tr></thead><tbody dnd-list="param"><tr ng-repeat="item in param " dnd-draggable="item" dnd-moved="param.splice($index, 1);" dnd-effect-allowed="copyMove"><td class="text-center"><span ng-bind="item.order_by"></span></td>\x3c!--<td class="text-center">--\x3e\x3c!--<span ng-bind="item.id"></span>--\x3e\x3c!--</td>--\x3e<td class="text-center"><span ng-bind="item.product.product_id"></span></td><td class="text-center"><span ng-bind="item.coupon_title"></span></td><td class="text-center"><span ng-bind="item.product.title"></span></td><td class="text-center"><span ng-bind="item.coupon_price"></span></td><td class="text-center"><a class="btn btn-primary btn-sm btn-bordered" ng-click="update($index)">修改</a> <a class="btn btn-danger btn-sm btn-bordered" ng-click="del($index)">删除</a></td></tr><tr class="dndPlaceholder"><td class="text-center" colspan="6"><h3 class="red">拖拽到这里</h3></td></tr></tbody></table></div><a class="btn btn-success btn-rounded pull-right" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></div></div></div></form></div></div></div>')}]),angular.module("app/scripts/views/biz/refund/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/refund/list.html",'<div class="dashboard-page"><div hjm-grid modid="refundList" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/refund/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/refund/update.html","<div>pintuan.add</div>")}]),angular.module("app/scripts/views/biz/resource/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/resource/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.banner_id">新增资源库</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>资源库</h4><div form-audio text="资源库图片" ng-model="_param.pics" max="100" required="true" token="mp3"></div></div></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/role/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/role/list.html",'<div class="dashboard-page"><div hjm-grid modid="roleList" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/role/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/role/update.html","<div>pintuan.add</div>")}]),angular.module("app/scripts/views/biz/sms/add.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/sms/add.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">群发短信</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>短信信息</h4><div form-radio text="短信运营商" ng-model="param.is_marketing" required="true" source="[{text:\'大汉三通短信\',value:\'1\'},{text:\'建周短信\',value:\'0\'}]" default="1"></div>\x3c!--<div form-radio text="短信运营商" ng-model="param.is_marketing" required="true"--\x3e\x3c!--source="[{text:\'大汉三通短信\',value:\'1\'},{text:\'漫道\',value:\'2\'}]" default="1"></div>--\x3e\x3c!--<div form-radio text="是否定时" ng-model="param.is_timing" required="true"--\x3e\x3c!--ng-if="param.is_marketing==2"--\x3e\x3c!--source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" default="2"></div>--\x3e\x3c!--<div form-date-time text="定时的时间" ng-model="param.timing_date" required="true"--\x3e\x3c!--ng-if="param.is_timing==1"></div>--\x3e<div class="row"><h3 class="col-sm-offset-2 text-danger">短信内容,不要加签名,例:【芝麻学社】(千万不能加,加了发不出去)</h3></div><div form-textarea text="短信内容" ng-model="param.content" placeholder="短信内容,不要加签名" required="true"></div><div form-textarea text="发送用户" ng-model="mobiles" placeholder="发送用户手机号,用逗号隔开" required="true"></div></div></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/sms/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/sms/list.html",'<div class="dashboard-page"><div hjm-grid modid="productList" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/subject/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/subject/update.html",'<div class="dashboard-page"><style type="text/css">.subject-pro {\n            padding-left: 0;\n        }\n\n        .subject-pro-ul {\n            padding-left: 10px;\n        }\n\n        .subject-pro-img {\n            /*display: block;*/\n            /*width: 50%;*/\n            display: flex;\n            margin-top: 10px;\n        }\n\n        .subject-pro-img > .subject-pro-img-sub {\n            display: flex;\n            width: 100%;\n            height: 180px;\n            border: 1px solid #ddd;\n            padding: 10px;\n        }\n\n        .subject-pro-img > .subject-pro-img-sub > img {\n            display: inline;\n            width: 120px;\n            height: 120px;\n        }\n\n        .subject-pro-img > .subject-pro-img-sub > .desc {\n            display: inline-flex;\n            flex: 1;\n        }</style><style type="text/css">.dndsimpleSubject ul[dnd-list],\n        .dndsimpleSubject ul[dnd-list] > li {\n            position: relative;\n        }\n\n        .dndsimpleSubject ul[dnd-list]  .dndDragging {\n            opacity: 0.7;\n        }\n\n        .dndsimpleSubject ul[dnd-list] .dndDraggingSource {\n            display: none;\n        }\n\n        .dndsimpleSubject ul[dnd-list] .dndPlaceholder {\n            /*display: block;*/\n            float: left;\n            background-color: #ddd;\n            display: flex;\n            height: 180px;\n            width: 100%;\n            border: 1px solid #ddd;\n            padding-left: 5px;\n            padding-right: 5px;\n        }\n\n        .dndsimpleSubject ul[dnd-list] > li {\n            /*background-color: #fff;*/\n            /*display: block;*/\n            /*width: 100%;*/\n        }\n\n        .dndsimpleSubject ul[dnd-list] > li.selected {\n            background-color: #dff0d8;\n            color: #3c763d;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.subject_id">新增运营专题</h3><h3 class="panel-title" show-role="\'admin,op\'" ng-if="$stateParams.subject_id">修改运营专题</h3><h3 class="panel-title" show-role="\'!admin,op\'" ng-if="$stateParams.subject_id">运营专题详情</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate disabled-role="{{$stateParams.subject_id?\'admin,op\':\'\'}}"><div class="panel panel-primary"><div class="panel-body"><h4>专题信息</h4><div form-input text="商品ID" ng-model="param.subject_id" ng-show="$stateParams.subject_id" placeholder="商品ID" ng-disabled="$stateParams.subject_id"></div><div form-input text="专题名称" ng-model="param.name" placeholder="不超过6个字" minlength="1" maxlength="6" required="true"></div><div form-input text="专题简介" ng-model="param.brief" placeholder="不超过8个字" minlength="0" maxlength="8"></div><div form-image text="缩略图" ng-model="share_pics" max="1" required="true"></div><div form-image text="运营专题介绍图" ng-model="intro_pics" max="1" required="true"></div><div form-input text="分享文案标题" ng-model="param.share_title" placeholder="分享文案标题" required="true"></div><div form-input text="分享文案描述" ng-model="param.share_desc" placeholder="分享文案描述" required="true"></div><div form-textarea text="管理备注" ng-model="param.remark" placeholder="管理备注"></div></div></div><div class="panel panel-primary dndsimpleSubject"><div class="panel-body"><h4>专题列表</h4><div><div class="col-sm-8"><div class="panel panel-primary"><div class="panel-body"><div class="col-sm-4" form-input text="活动ID" ng-model="searchparams.product_id" label-width="4" content-width="8"></div><div class="col-sm-4" form-input text="标题" ng-model="searchparams.keyword" label-width="4" content-width="8"></div><div class="col-sm-4" form-select text="标签" ng-model="searchparams.act_type" source="[{text:\'亲子\',value:\'亲子\'},{text:\'DIY\',value:\'DIY\'},{text:\'展览\',value:\'展览\'},\n                                                {text:\'运动\',value:\'运动\'},{text:\'周边／户外\',value:\'周边／户外\'},\n                                                {text:\'演出／赛事\',value:\'演出／赛事\'},{text:\'多人聚会\',value:\'多人聚会\'},\n                                                {text:\'沙龙讲座\',value:\'沙龙讲座\'},{text:\'主题节／市集\',value:\'主题节／市集\'}]" source-api="" label-width="4" content-width="8"></div><div class="col-sm-4" form-select text="标签" ng-model="searchparams.category" source="[{text:\'砍价团\',value:\'1\'},{text:\'人数团\',value:\'2\'},{text:\'众筹\',value:\'3\'},\n                                                {text:\'一起玩\',value:\'4\'}]" source-api="" label-width="4" content-width="8"></div><div class="col-sm-4" form-select text="状态" ng-model="searchparamsExt.status" source="[{text:\'全部\',value:\'1\'},{text:\'进行中\',value:\'2\'},\n                                             {text:\'已下线\',value:\'3\'},{text:\'待上线\',value:\'4\'}]" source-api="" label-width="4" content-width="8"></div><div class="form-group col-sm-4"><label class="col-sm-4 control-label"></label><button type="button" class="btn btn-success btn-bordered" ng-click="search()"><i class="fa fa-search"></i> &nbsp;&nbsp;&nbsp;搜索&nbsp;&nbsp;&nbsp;</button></div></div><div class="panel-body"><ul class="row subject-pro"><li class="col-sm-6 subject-pro-img" ng-repeat="item in products_source"><div class="subject-pro-img-sub"><img ng-src="{{item.thumbnail_pics[0].pic_url+\'?/thumbnail/120X120\'}}"><div class="desc"><ul class="subject-pro-ul"><li>活动ID：<span ng-bind="item.product_id"></span></li><li>标题： <span ng-bind="item.title |characters:12:true" tooltip-placement="bottom" uib-tooltip="{{item.title}}"></span></li><li>简介： <span ng-bind="item.brief|characters: 12:true" tooltip-placement="bottom" uib-tooltip="{{item.brief}}"></span></li><li>已售：<span ng-bind="item.order.order_copies"></span></li><li>状态： <span ng-bind="item.status|product_status"></span></li><li><a class="btn btn-primary btn-xs btn-rounded" ng-disabled="item.in_subject" ng-click="add_subject(item,$index)">&nbsp;添加&nbsp;</a></li></ul></div></div></li></ul></div></div></div></div><div class="col-sm-4"><div class="panel panel-primary"><div class="panel-body"><div class="col-sm-12" form-input text="活动ID" ng-model="already_products.product_id" label-width="4" content-width="8"></div><div class="col-sm-12" form-input text="标题" ng-model="already_products.title" label-width="4" content-width="8"></div><div class="col-sm-12" form-select text="排序" ng-model="orderby" source="[{text:\'活动上线时间先后\',value:\'start_time\'},{text:\'活动上线时间倒序\',value:\'-start_time\'}]" source-api="" label-width="4" content-width="8"></div></div><div class="panel-body"><ul class="row subject-pro" dnd-list="param.products"><li class="col-sm-12 subject-pro-img" ng-repeat="item in param.products| filter:already_products:strict" dnd-draggable="item" dnd-moved="param.products.splice($index, 1);" dnd-effect-allowed="copyMove"><div class="subject-pro-img-sub"><img ng-src="{{item.thumbnail_pics[0].pic_url+\'?/thumbnail/120X120\'}}"><div class="desc"><ul class="subject-pro-ul"><li>活动ID：<span ng-bind="item.product_id"></span></li><li>标题： <span ng-bind="item.title |characters:12:true" tooltip-placement="bottom" uib-tooltip="{{item.title}}"></span></li><li>简介： <span ng-bind="item.brief|characters: 12:true" tooltip-placement="bottom" uib-tooltip="{{item.brief}}"></span></li><li>已售：<span ng-bind="item.order.order_copies"></span></li><li>状态：<span ng-bind="item.status|product_status"></span></li><li><a class="btn btn-danger btn-xs btn-rounded" ng-click="sub_subject(item,$index)">&nbsp;删除&nbsp;</a></li></ul><div style="position: absolute;left: 0;top: 0"><a class="btn btn-success btn-sm btn-rounded" ng-bind="$index+1"></a></div></div></div></li></ul></div></div></div></div></div><a class="btn btn-success btn-rounded" show-role="\'{{$stateParams.subject_id?\'admin,op\':\'\'}}\'" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div>\x3c!--<a class="btn btn-success btn-rounded" ng-click="aaa()">浏览器控制台查看提交数据</a>--\x3e</div></div>')}]),angular.module("app/scripts/views/biz/subject_group/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/subject_group/update.html",'<div class="dashboard-page"><style type="text/css">.subject-pro {\n            padding-left: 0;\n        }\n\n        .subject-pro-ul {\n            padding-left: 10px;\n        }\n\n        .subject-pro-img {\n            display: flex;\n            margin-top: 10px;\n        }\n\n        .subject-pro-img > .subject-pro-img-sub {\n            /*display: flex;*/\n            /*width: 100%;*/\n            min-height: 100px;\n            border: 1px solid #ddd;\n            padding: 10px;\n            border-left: 0;\n        }\n\n        .subject-pro-img > .subject-pro-img-sub:first-child {\n            border-left: 1px solid #ddd;\n        }\n\n        .subject-pro-img > .subject-pro-img-sub:last-child {\n            border-left: 1px solid #ddd;\n            margin-left: 10px;\n        }\n\n        .subject-pro-img > .subject-pro-img-sub > .subject-pro-img-sub-up {\n            display: flex;\n        }\n\n        .subject-pro-img > .subject-pro-img-sub > .subject-pro-img-sub-up > img {\n            max-height: 100px;\n            max-width: 100px;\n        }\n\n        .subject-pro-img > .subject-pro-img-sub > .subject-pro-img-sub-up > div {\n            display: inline;\n            margin: 10px 0 0 10px;\n        }\n\n        .subject-pro-img > .subject-pro-img-sub .desc {\n            display: inline-flex;\n            flex: 1;\n            font-size: 12px;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" show-role="\'admin,op\'">运营专题组管理</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary dndsimpleSubject"><div class="panel-body"><h4 class="col-sm-4">专题组列表</h4><div class="col-sm-4 pull-right"><a class="btn btn-primary btn-rounded pull-right" ng-click="add_subject_group()"><i class="glyphicon glyphicon-plus"></i>&nbsp;增加专题组&nbsp;</a></div><div class="col-sm-12"><div class="panel panel-primary" style="border: 0"><div class="panel-body"><ul class="row subject-pro"><li class="subject-pro-img" ng-repeat="(key,value) in subjects_group" ng-init="value.empty = [1,2,3,4,5];value.empty.length = (5-value.length);value.sub_index = $index"><div class="subject-pro-img-sub col-sm-2" ng-repeat="item in value"><div class="subject-pro-img-sub-up"><img ng-src="{{item.share_pic.pic_url+\'?/thumbnail/120X120\'}}"><div class=""><a class="btn btn-info btn-xs btn-rounded" ng-disabled="item.in_subject" ui-sref="main.subject.update({subject_id:item.subject_id})">&nbsp;详情&nbsp;</a> <a class="btn btn-primary btn-xs btn-rounded" ng-disabled="item.in_subject" ng-click="add_update_subject(key,value,$index)">&nbsp;修改&nbsp;</a> <a class="btn btn-danger btn-xs btn-rounded" ng-disabled="item.in_subject" ng-click="sub_subject(key,value,$index)">&nbsp;移除&nbsp;</a></div></div><div class="desc"><ul class="subject-pro-ul"><li>专题ID：<span ng-bind="item.subject_id"></span></li><li>名称： <span ng-bind="item.name |characters:12:true" tooltip-placement="bottom" uib-tooltip="{{item.name}}"></span></li><li>简介： <span ng-bind="item.brief|characters: 12:true" tooltip-placement="bottom" uib-tooltip="{{item.brief}}"></span></li></ul></div></div><div class="subject-pro-img-sub col-sm-2" ng-repeat="empty in value.empty"><ul class="subject-pro-ul"><li><a class="btn btn-primary btn-lg btn-rounded" ng-disabled="item.in_subject" ng-click="add_update_subject(key,value)">&nbsp;添加专题&nbsp;</a></li></ul></div><div class="subject-pro-img-sub col-sm-2"><ul class="subject-pro-ul"><li><h3><span class="label label-info" ng-bind="\'专题组\'+($index+1)"></span></h3></li><li><a class="btn btn-primary btn-sm btn-rounded" ng-disabled="value.disabled" ng-click="save_subject_group(key,value)">&nbsp;保存并提交&nbsp;</a> <a class="btn btn-danger btn-sm btn-rounded" ng-click="save_subject_group(key)">&nbsp;删除专题组&nbsp;</a></li></ul></div></li></ul></div></div></div></div></div></form></div>\x3c!--<a class="btn btn-success btn-rounded" show-role="\'\'admin,op\'\'"--\x3e\x3c!--ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a>--\x3e\x3c!--<a class="btn btn-success btn-rounded" ng-click="aaa()">浏览器控制台查看提交数据</a>--\x3e</div></div>')}]),angular.module("app/scripts/views/biz/support/appshareconfig.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/support/appshareconfig.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">更新APP分享配置</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div class="form-group"><h1 class="text-danger col-sm-offset-2">APP分享配置</h1></div><div class="form-group"><div form-radio ng-model="param.appshare_channel" text="类型" default="1" required="true" source="[{text:\'微信好友\',value:\'1\'},{text:\'朋友圈\',value:\'2\'},{text:\'全部\',value:\'3\'}]"></div><div form-input ng-model="param.appshare_title" text="分享标题" required="true"></div><div form-textarea ng-model="param.appshare_content" text="分享内容" required="true"></div><div form-image-single ng-model="param.appshare_pic" text="分享图片" required="true"></div></div></div></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">更新版本</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/support/bannerUpdate.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/support/bannerUpdate.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.id">新增运营位</h3><h3 class="panel-title" ng-if="$stateParams.id">修改运营位</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>运营位</h4><div form-input text="ID" ng-model="param.id" ng-show="$stateParams.id" placeholder="ID" ng-disabled="$stateParams.id == param.id"></div><div form-radio text="广告位置" ng-model="param.category" required="true" default="1" source="[{text:\'首页\',value:\'1\'},{text:\'测试\',value:\'2\'}]" source-api=""></div><div form-image text="广告图片" ng-model="_param.pics" max="1" required="true"></div><div form-input text="广告标题" ng-model="param.title" placeholder="title" required="true"></div><div form-input text="广告链接" ng-model="param.url" placeholder="url" required="true"></div><div form-double-date-time text-start="开始时间" text-end="结束时间" required="true" ng-model-start="param.start_time" ng-model-end="param.end_time"></div><div form-input text="排序" ng-model="param.sort_num" placeholder="排序" type="number" min="0" required="true"></div></div></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/support/configs.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/support/configs.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">直播APP配置信息</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div class="form-group"><div form-radio text="修改啥子" type="radio" ng-model="flag" default="app_block_keywords" source="[{text:\'屏蔽直播关键字\',value:\'app_block_keywords\'},{text:\'直播系统用户\',value:\'app_system_account\'},{text:\'IOS审核版本号\',value:\'ios_audit_version\'}]" source-api=""></div><div form-textarea text="屏蔽直播关键字" ng-model="param.app_block_keywords" required="true" rows="30" ng-if="flag==\'app_block_keywords\'"></div><div form-textarea text="直播系统用户" ng-model="param.app_system_account" required="true" rows="30" ng-if="flag==\'app_system_account\'"></div><div form-input text="IOS审核版本号" ng-model="param.ios_audit_version" required="true" rows="30" ng-if="flag==\'ios_audit_version\'"></div><a class="btn btn-success btn-rounded pull-right" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></div></div></div>\x3c!--<a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">更新版本</a>--\x3e</form></div></div></div>')}]),angular.module("app/scripts/views/biz/support/opencities.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/support/opencities.html",'<div class="dashboard-page"><style>.angucomplete-dropdown {\n        overflow-y: auto;\n        max-height: 250px;\n    }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">新增开通城市</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div class="col-sm-8"><h4>新增开通城市</h4><div class="form-group"><label class="col-sm-2 control-label">城市<span class="form_label_dangus">*</span></label><p class="form-control-static col-sm-4" ng-bind="param.city_name"></p><div class="col-sm-4"><angucomplete-alt id="ex5" placeholder="搜索城市" pause="400" selected-object="selectedCommunity" remote-url="{{conDomain}}/supports/allcities" remote-url-request-formatter="remoteUrlRequestFn" remote-url-data-field="data" title-field="city_name" search-fields="city_name" description-field="city_name" minlength="2" input-class="form-control form-control-small" match-class="highlight" override-suggestions="true" clear-selected="true"></div></div></div></div></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/support/upgradesAdd.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/support/upgradesAdd.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">上传新版本</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div class="form-group"><h1 class="text-danger col-sm-offset-2">新上传APK文件不能跟历史上传的文件名称相同</h1></div><div class="form-group"><div form-apk text="Apk安装包" ng-model="param.update_url" required="true"></div><div form-radio text="版本环境" type="radio" ng-model="param.environment" required="true" default="test" source="[{text:\'测试\',value:\'testing\'},{text:\'正式\',value:\'production\'}]" source-api=""></div><div form-textarea text="更新说明" ng-model="param.content" required="true" col="5"></div><div form-input text="版本号" ng-model="param.version" required="true"></div><div form-radio text="是否强制更新" type="radio" ng-model="param.force_update" required="true" default="1" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'0\'}]" source-api=""></div><a class="btn btn-success btn-rounded pull-right" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></div></div></div>\x3c!--<a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">更新版本</a>--\x3e</form></div></div></div>')}]),angular.module("app/scripts/views/biz/support/version.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/support/version.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">后台更新版本</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div class="form-group"><h1 class="text-danger col-sm-offset-2">版本更新,非管理员勿操作</h1></div><div class="form-group"><div form-date-time ng-model="current_page_version_number" text="当前版本时间"></div>\x3c!--<div form-date-time ng-model="version" text="服务端版本时间"></div>--\x3e<div form-date-time ng-model="param.version" text="更新服务端版本时间(BPM)"></div><div form-date-time ng-model="param.version_p" text="更新服务端版本时间(P)"></div><div form-date-time ng-model="param.version_survey" text="更新服务端版本时间(survey)"></div></div></div></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">更新版本</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/support/weappconfig.html",[]).run(["$templateCache",function($templateCache){"use strict"
;$templateCache.put("app/scripts/views/biz/support/weappconfig.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">更新小程序配置</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div class="form-group"><h1 class="text-danger col-sm-offset-2">分享配置</h1></div><div class="form-group"><div form-input ng-model="param.weapp_share_title" text="分享标题" required="true"></div><div form-image-single ng-model="param.weapp_share_image" text="分享图片" required="true"></div></div></div></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">更新版本</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/survey_list/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/survey_list/update.html",'<div class="dashboard-page"><style type="text/css">.dndsimpleSubject tbody[dnd-list],\n        .dndsimpleSubject tbody[dnd-list] > tr {\n            /*position: relative;*/\n        }\n\n        .dndsimpleSubject tbody[dnd-list]  .dndDragging {\n            opacity: 0.7;\n        }\n\n        .dndsimpleSubject tbody[dnd-list] .dndDraggingSource {\n            display: none;\n        }\n\n        .dndsimpleSubject tbody[dnd-list] .dndPlaceholder {\n            /*display: block;*/\n            /*float: left;*/\n            background-color: #ddd;\n            /*display: flex;*/\n            height: 100px;\n            /*width: 100px;*/\n            /*width: 100%;*/\n            border: 1px solid #ddd;\n            padding-left: 5px;\n            padding-right: 5px;\n        }\n\n        .dndsimpleSubject tbody[dnd-list] > tr {\n            /*background-color: #fff;*/\n            /*display: block;*/\n            /*width: 100%;*/\n        }\n\n        .dndsimpleSubject tbody[dnd-list] > tr.selected {\n            background-color: #dff0d8;\n            color: #3c763d;\n            width: 1000px;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">测评入口</h3></div><div class="panel-body dndsimpleSubject">\x3c!--<simditor ng-model="content" config="simditorConfig"></simditor>--\x3e<form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div class="row"><h3 class="col-sm-offset-2 text-danger">鼠标点击每一行数据,可以拖动调整排序,记得提交保存</h3></div><div class="form-group"><div class="col-sm-12"><table class="table table-bordered table-striped"><thead><tr><th class="text-center">排序</th><th class="text-center">ID</th><th class="text-center">测评</th><th class="text-center"><a class="btn btn-primary btn-rounded" ng-click="add()">添加</a></th></tr></thead><tbody dnd-list="param"><tr ng-repeat="item in param " dnd-draggable="item" dnd-moved="param.splice($index, 1);" dnd-effect-allowed="copyMove"><td class="text-center"><span ng-bind="item.order_by"></span></td><td class="text-center"><span ng-bind="item.plan_id"></span></td><td class="text-center"><span ng-bind="item.plan.name"></span></td><td class="text-center"><a class="btn btn-primary btn-sm btn-bordered" ng-click="update($index)">修改</a> <a class="btn btn-danger btn-sm btn-bordered" ng-click="del($index)">删除</a></td></tr><tr class="dndPlaceholder"><td class="text-center" colspan="4"><h3 class="red">拖拽到这里</h3></td></tr></tbody></table></div><a class="btn btn-success btn-rounded pull-right" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></div></div></div></form></div></div></div>')}]),angular.module("app/scripts/views/biz/survey_plan/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/survey_plan/update.html",'<div class="dashboard-page"><style type="text/css">.dndsimpleSubject tbody[dnd-list],\n        .dndsimpleSubject tbody[dnd-list] > tr {\n            /*position: relative;*/\n        }\n\n        .dndsimpleSubject tbody[dnd-list]  .dndDragging {\n            opacity: 0.7;\n        }\n\n        .dndsimpleSubject tbody[dnd-list] .dndDraggingSource {\n            display: none;\n        }\n\n        .dndsimpleSubject tbody[dnd-list] .dndPlaceholder {\n            /*display: block;*/\n            /*float: left;*/\n            background-color: #ddd;\n            /*display: flex;*/\n            height: 100px;\n            /*width: 100px;*/\n            /*width: 100%;*/\n            border: 1px solid #ddd;\n            padding-left: 5px;\n            padding-right: 5px;\n        }\n\n        .dndsimpleSubject tbody[dnd-list] > tr {\n            /*background-color: #fff;*/\n            /*display: block;*/\n            /*width: 100%;*/\n        }\n\n        .dndsimpleSubject tbody[dnd-list] > tr.selected {\n            background-color: #dff0d8;\n            color: #3c763d;\n            width: 1000px;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock" ng-if="!$stateParams.id">新增测评</h3><h3 class="panel-title inlineBlock" show-role="\'admin,op\'" ng-if="$stateParams.id">修改测评</h3><h3 class="panel-title inlineBlock" show-role="\'!admin,op\'" ng-if="$stateParams.id">测评详情</h3></div><div class="panel-body dndsimpleSubject">\x3c!--<simditor ng-model="content" config="simditorConfig"></simditor>--\x3e<form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div class="form-group"><label class="col-sm-2 control-label">对应商品ID <span class="form_label_dangus">*</span></label><div class="col-sm-2"><input class="form-control" ng-model="param.product_id" placeholder="商品ID" required="true"></div><div class="col-sm-1"><a class="btn btn-primary btn-rounded" ng-click="search_product_id()">查询</a></div><div class="col-sm-5"><input class="form-control" ng-model="product_title" ng-disabled="true" placeholder="点击查询确认商品存在" required></div></div><div form-input text="测评名称" ng-model="param.name" placeholder="名称" required="true"></div><div class="row"><h3 class="col-sm-offset-2 text-danger">广告位图片要求: 宽 >= 960px, 高 >= 360px</h3></div><div form-image text="广告位" ng-model="banner" max="1" hide-bar="[1,1,1,1]"></div><div form-textarea="" text="文字描述" ng-model="param.brief" placeholder="文字描述" required="true"></div><div form-table text="附加信息" ng-model="param.attachments" columns="[\n                             {\'name\': \'文字描述\', \'field\': \'pivot.question_id\',required:\'true\',select:\'true\',source:\'survey_question_list_attachments\'},\n                             {\'name\': \'排序\', \'field\': \'pivot.order_by\',required:\'true\'}]"></div>\x3c!--<div form-radio text="年龄" type="radio" ng-model="age" required="true" default="1"--\x3e\x3c!--source="[{text:\'0-3\',value:\'1\'},{text:\'4-6\',value:\'2\'},{text:\'7-9\',value:\'3\'},{text:\'10岁以上\',value:\'4\'}]"--\x3e\x3c!--source-api=""></div>--\x3e<div form-input text="最小年龄" ng-model="param.age_min" placeholder="最小年龄" required="true"></div><div form-input text="最大年龄" ng-model="param.age_max" placeholder="最大年龄" required="true"></div>\x3c!--<div form-radio text="题序选项" type="radio" ng-model="param.type" required="true" default="1"--\x3e\x3c!--source="[{text:\'随机\',value:\'1\'},{text:\'固定\',value:\'2\'}]" source-api=""></div>--\x3e<div form-radio text="题目来源" type="radio" ng-model="question_source" required="true" default="1" source="[{text:\'从维度随机选择\',value:\'1\'},{text:\'固定题目\',value:\'2\'}]" source-api=""></div>\x3c!--ng-click="toggle_type()"--\x3e<div form-table text="涉及维度" ng-model="param.categories" ng-show="question_source==1" columns="[{\'name\': \'设置维度\', \'field\': \'pivot.category_id\',required:\'true\',select:\'true\',source:\'survey_question_category_list_general\'},\n                             {\'name\': \'数量\', \'field\': \'pivot.count\',required:\'true\'}]"></div><div class="form-group" ng-show="question_source==2"><label class="col-sm-2 control-label">测评题目<span class="form_label_dangus">*</span></label><div class="col-sm-8 form-group"><div class="col-sm-2"><input class="form-control" ng-model="question_id" placeholder="问题ID"></div><div class="col-sm-1"><a class="btn btn-primary btn-rounded" ng-click="search_question_id()">查询</a></div><div class="col-sm-5"><input class="form-control" ng-model="question_title" placeholder="点击查询显示题目详情" disabled="disabled"></div><div class="col-sm-2"><a class="btn btn-primary btn-rounded" ng-click="add_question()">添加到测评题目</a></div></div><div class="col-sm-8 col-sm-offset-2"><table class="table table-bordered table-striped"><thead><tr><th class="text-center" style="width: 150px">排序</th><th class="text-center" style="width: 150px">题目ID</th><th class="text-center">题目描述</th><th class="text-center" style="width: 150px">操作</th></tr></thead><tbody dnd-list="param.questions"><tr ng-repeat="(key,item) in param.questions" dnd-draggable="item" dnd-moved="param.questions.splice(key, 1);" dnd-effect-allowed="copyMove"><td class="text-center"><span ng-bind="item.pivot.order_by"></span></td><td class="text-center"><span ng-bind="item.pivot.question_id"></span></td><td class="text-center"><span ng-bind="item.title"></span></td><td class="text-center"><a class="btn btn-danger btn-sm btn-bordered" ng-click="param.questions.splice(key,1)">删除</a></td></tr><tr class="dndPlaceholder"><td class="text-center" colspan="4"><h3 class="red">拖拽到这里</h3></td></tr></tbody></table></div></div><div form-radio text="计分类型" type="radio" ng-model="param.type" required="true" source="[{text:\'累计计分(根据答案正确个数计分)\',value:\'1\'},{text:\'累计计分(根据选项分数汇总计分)\',value:\'2\'},\n                             {text:\'选项分类计分(根据选项中最多序号作为得分)\',value:\'3\'}]" source-api=""></div><div form-radio text="题目选项个数" type="radio" ng-model="question_option_count" ng-show="param.type==3 && !$stateParams.id" source-api="" source="[{text:\'二个选项\',value:\'2\'},{text:\'三个选项\',value:\'3\'}]"></div><div form-table text="成长建议" ng-model="param.suggestions" required="true" ng-if="param.type == 1 || param.type == 2" columns="[{\'name\': \'得分区间-开始\', \'field\': \'score_min\',width:\'150\',min:\'0\',required:\'true\'},\n                             {\'name\': \'得分区间-结束\', \'field\': \'score_max\',width:\'150\',min:\'0\',required:\'true\'},\n                             {\'name\': \'建议内容\', \'field\': \'result\',textarea:\'true\',required:\'true\'}]"></div><div class="form-group" ng-if="param.type == 3"><label class="col-sm-2 control-label">成长建议<span class="form_label_dangus">*</span></label><div class="col-sm-8"><table class="table table-bordered table-striped"><thead><tr>\x3c!--<th class="text-center" style="width: 150px;">ID</th>--\x3e<th class="text-center" style="width: 150px">结果</th>\x3c!--<th class="text-center" style="width: 150px;">最小分数</th>--\x3e<th class="text-center">选项内容</th></tr></thead><tbody><tr ng-repeat="item in type3_suggestions">\x3c!--<td class="text-center">--\x3e\x3c!--<span ng-bind="item.id"></span>--\x3e\x3c!--</td>--\x3e<td class="text-center"><span ng-bind="item.score_min | num2abc"></span></td>\x3c!--<td class="text-center">--\x3e\x3c!--<span ng-bind="item.score_min"></span>--\x3e\x3c!--</td>--\x3e<td class="text-center"><textarea class="form-control" ng-model="item.result"></textarea></td></tr></tbody></table></div></div><div form-radio text="是否显示报表页面" type="radio" ng-model="param.show_result" required="true" default="2" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" source-api=""></div><div form-table text="推荐活动" ng-model="param.products" columns="[{\'name\': \'ID\', \'field\': \'pivot.id\',hide:\'true\',width:\'150\'},\n'+"                             {'name': '活动ID', 'field': 'pivot.product_id',required:'true'},\n                             {'name': '推荐语', 'field': 'pivot.recommend',textarea:'true',required:'true'}]\"></div></div></div><div form-error-block></div><a class=\"btn btn-success btn-rounded\" ng-disabled=\"FormBody.$invalid\" ng-click=\"submit()\">提交</a></form></div></div></div>")}]),angular.module("app/scripts/views/biz/survey_question/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/survey_question/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock" ng-if="!param.id">新增题库</h3><h3 class="panel-title inlineBlock" show-role="\'admin,op\'" ng-if="param.id">修改题库</h3><h3 class="panel-title inlineBlock" show-role="\'!admin,op\'" ng-if="param.id">题库详情</h3></div><div class="panel-body">\x3c!--<simditor ng-model="content" config="simditorConfig"></simditor>--\x3e<form class="form-horizontal" name="FormBody" novalidate disabled-role="{{param.id?\'admin,op\':\'\'}}"><div class="panel panel-primary"><div class="panel-body"><div form-radio text="是否为必答题" type="radio" ng-model="param.required" required="true" default="1" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" source-api=""></div><div form-radio text="题目类型" type="radio" ng-model="param.option_type" required="true" default="1" source="[{text:\'普通题\',value:\'1\'},{text:\'选项计分题\',value:\'2\'},{text:\'选项汇总题\',value:\'3\'}]" source-api=""></div><div form-radio text="选项带分数" type="radio" ng-model="param.need_score" required="true" ng-disabled="true" default="2" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" source-api=""></div><div form-radio text="选项个数" type="radio" ng-model="option_count" required="true" default="3" ng-show="false" ng-show="param.option_type==3" source="[{text:\'三个选项\',value:\'3\'}]" source-api=""></div><div form-radio text="选项题型" type="radio" ng-model="param.type" required="true" default="3" source="[{text:\'单选\',value:\'3\'},{text:\'多选\',value:\'2\'}]" source-api=""></div>\x3c!--ng-show="param.need_score==2"--\x3e<div form-select text="维度" ng-model="param.category_id" required="true" source="$root.survey_question_category_list_general" source-api=""></div><h3 class="text-danger col-sm-offset-2">题目,题图必须有其一才能提交</h3><div form-textarea text="题目" ng-model="param.title" placeholder="文字描述" ng-disabled="param.id"></div><div form-image text="题图" ng-model="image" max="1" hide-bar="[1,1,1,1]"></div><div form-table text="普通题选项" ng-model="param.options" ng-if="param.option_type==1" columns="[{\'name\': \'ID\', \'field\': \'id\',hide:\'true\'},\n                             {\'name\': \'名称\', \'field\': \'name\',required:\'true\'},\n                             {\'name\': \'正确选项\', \'field\': \'selected\',required:\'true\',radioBox:\'true\',default:\'0\',source:\'[{text:\\\'是\\\',value:\\\'1\\\'},{text:\\\'否\\\',value:\\\'0\\\'}]\'}]"></div><div form-table text="选项" ng-model="param.options" ng-if="param.option_type==2" columns="[{\'name\': \'ID\', \'field\': \'id\',hide:\'true\'},\n                             {\'name\': \'名称\', \'field\': \'name\',required:\'true\'},\n                             {\'name\': \'该选项得分\', \'field\': \'score\',required:\'true\',type:\'number\'}]"></div><div class="form-group" ng-if="param.option_type == 3"><label class="col-sm-2 control-label">答案选项<span class="form_label_dangus">*</span></label><div class="col-sm-8"><table class="table table-bordered table-striped"><thead><tr><th class="text-center">选项内容</th><th class="text-center" style="width: 150px">计录值(运营请忽略)</th><th class="text-center" style="width: 150px"><a class="btn btn-sm btn-bordered btn-primary" ng-click="add_option_type3_options();">添加</a></th></tr></thead><tbody><tr ng-repeat=" item in option_type3_options"><td class="text-center"><input class="form-control" ng-model="item.name"></td><td class="text-center"><span ng-bind="item.score"></span></td><td class="text-center"><a class="btn btn-sm btn-bordered btn-danger" ng-click="del_option_type3_options(key);">删除</a></td></tr></tbody></table></div></div>\x3c!--<div form-radio text="年龄" type="radio" ng-model="age" required="true" default="1"--\x3e\x3c!--source="[{text:\'0-3\',value:\'1\'},{text:\'4-6\',value:\'2\'},{text:\'7-9\',value:\'3\'},{text:\'10岁以上\',value:\'4\'}]"--\x3e\x3c!--source-api=""></div>--\x3e<div form-input text="最小年龄" ng-model="param.age_min" placeholder="最小年龄" required="true"></div><div form-input text="最大年龄" ng-model="param.age_max" placeholder="最大年龄" required="true"></div></div></div><div form-error-block></div><a class="btn btn-success btn-rounded" show-role="\'{{param.id?\'admin,op\':\'\'}}\'" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/survey_question_attachment/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/survey_question_attachment/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock" ng-if="!$stateParams.product_id">新增附加信息</h3><h3 class="panel-title inlineBlock" show-role="\'admin,op\'" ng-if="$stateParams.product_id">修改附加信息</h3><h3 class="panel-title inlineBlock" show-role="\'!admin,op\'" ng-if="$stateParams.product_id">附加信息详情</h3></div><div class="panel-body">\x3c!--<simditor ng-model="content" config="simditorConfig"></simditor>--\x3e<form class="form-horizontal" name="FormBody" novalidate disabled-role="{{$stateParams.product_id?\'admin,op\':\'\'}}"><div class="panel panel-primary"><div class="panel-body"><div form-radio text="类型" type="radio" ng-model="param.type" required="true" default="1" source="[{text:\'下拉列表\',value:\'1\'}]" source-api=""></div><div form-select text="维度" ng-model="param.category_id" ng-show="false" default="" source="survey_question_category_list_attachments" source-api=""></div><div form-textarea text="文字描述" ng-model="param.title" placeholder="文字描述" required="true" ng-disabled="$stateParams.product_id"></div><div form-table text="选项" ng-model="param.options" required="true" columns="[{\'name\': \'ID\', \'field\': \'id\',hide:\'true\'},\n'+"                             {'name': '名称', 'field': 'name',required:'true'}]\"></div></div></div><div form-error-block></div><a class=\"btn btn-success btn-rounded\" show-role=\"'{{$stateParams.product_id?'admin,op':''}}'\" ng-disabled=\"FormBody.$invalid\" ng-click=\"submit()\">提交</a></form></div></div></div>")}]),angular.module("app/scripts/views/biz/teacher/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/teacher/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.teacher_id">新增老师</h3><h3 class="panel-title" ng-if="$stateParams.teacher_id">编辑账户</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>账户信息</h4><h3 class="col-sm-offset-2 text-primary">必须是已经关注Ahaschool公众号并且绑定过的手机号码才能添加为教师</h3><div form-input text="教师姓名" ng-model="param.name" placeholder="教师姓名" required="true"></div><div form-input text="初始化密码" ng-model="param.password" placeholder="初始化密码" required="true" ng-if="!$stateParams.teacher_id"></div><div form-input text="密码" ng-model="param.password" placeholder="不修改密码就不填写" ng-if="$stateParams.teacher_id"></div><div form-input text="手机号码/账号" ng-model="param.mobile" min="11" max="11" placeholder="11位数字" required="true"></div><div form-input text="邮箱" ng-model="param.email" required="true"></div><div form-radio text="活动类别" ng-model="param.lesson_type" required="true" default="" source="[{text:\'父母学堂\',value:\'父母学堂\'},{text:\'艺术\',value:\'艺术\'},{text:\'微课\',value:\'微课\'},\n'+"                             {text:'游学',value:'游学'},{text:'运动',value:'运动'},{text:'天赋测评',value:'天赋测评'},\n                             {text:'儿童剧',value:'儿童剧'},{text:'夏令营',value:'夏令营'},{text:'STEM',value:'STEM'},\n                             {text:'DIY',value:'DIY'},{text:'乐园',value:'乐园'},{text:'其他',value:'其他'}]\" source-api=\"\"></div><div form-textarea=\"\" text=\"备注\" ng-model=\"param.remark\" placeholder=\"描述老师背景、能力范围\"></div><div form-input text=\"对接负责人\" ng-model=\"param.responsible_person\" required=\"true\"></div></div></div><a class=\"btn btn-success btn-rounded\" ng-disabled=\"FormBody.$invalid\" ng-click=\"submit()\">提交</a>\x3c!--<a class=\"btn btn-warning btn-rounded\" ng-click=\"aaa()\">查看提交的数据</a>--\x3e</form></div></div></div>")}]),angular.module("app/scripts/views/biz/user/block.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/user/block.html",'<div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">直播禁言</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div form-radio text="禁言" type="radio" ng-model="readonly" default="1" ng-show="block_status!=2" source="[{text:\'选择有效禁言时长\',value:\'1\'},{text:\'自定义\',value:\'2\'}]"></div><div form-radio text="禁言时长" type="radio" ng-model="param.minute" required="true" default="5" source-api="" ng-if="readonly==1" ng-show="block_status!=2" source="[{text:\'5分钟\',value:5},{text:\'15分钟\',value:15},{text:\'30分钟\',value:30}]"></div><div form-input text="禁言时长" ng-model="param.minute" required="true" ng-if="readonly==2" placeholder="单位:分钟"></div><h3 class="text-primary text-center" ng-show="block_status==2">解除禁言</h3></div></div>&nbsp;&nbsp;&nbsp;<a class="btn btn-success btn-rounded pull-right" ng-disabled="FormBody.$invalid" ng-click="submit()">确定</a> &nbsp;&nbsp;&nbsp;<a class="btn btn-warning btn-rounded pull-right" ng-click="cancel()">取消</a></form></div></div>')}]),angular.module("app/scripts/views/biz/user/customers.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/user/customers.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.user_id">新增活动</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>马甲信息</h4><div form-input text="马甲ID" ng-model="param.user_id" ng-show="$stateParams.user_id" placeholder="活动ID" ng-disabled="$stateParams.user_id"></div><div form-input text="昵称" ng-model="param.name" placeholder="姓名,昵称,不超过30个字" required="true" minlength="1" maxlength="30"></div><div form-input text="手机号码" ng-model="mobile" placeholder="手机号码" type="number"></div><div form-radio text="性别" ng-model="param.gender" required="true" default="1" source="[{text:\'男\',value:\'1\'},{text:\'女\',value:\'2\'},{text:\'保密\',value:\'3\'}]" source-api=""></div><div form-image text="头像" ng-model="avatar" token="avatar" max="1" required="true"></div></div></div><div form-error-block></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a>\x3c!--<a class="btn btn-warning btn-rounded" ng-click="aaa()">查看提交数据</a>--\x3e\x3c!--ng-if="\'admin,op\'.indexOf(hjm.role)>-1"--\x3e</form></div></div></div>')}]),angular.module("app/scripts/views/biz/user/list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/user/list.html",'<div class="dashboard-page"><div hjm-grid modid="userList" config="config" columns="columns"></div></div>')}]),angular.module("app/scripts/views/biz/user/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/user/update.html","<div>pintuan.add</div>")}]),angular.module("app/scripts/views/biz/web/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/web/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">生成推广网址</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><h4>推广参数</h4><div form-input text="推广网址" ng-model="param.url" placeholder="推广网址" required="true"></div><div form-input text="广告来源" ng-model="param.utm_source" placeholder="例如:weixinsrv,不能有下划线" required="true"></div><div form-input text="广告媒介" ng-model="param.utm_medium" placeholder="例如:微信文章"></div><div form-input text="广告名称" ng-model="param.utm_campaign" placeholder="例如:20160808"></div></div></div><div class="panel panel-primary"><div class="panel-body"><div form-input text="备注" ng-model="param.remark" placeholder="备注" required="true"></div><h4>生成推广网址</h4><div form-textarea="" text="URL" ng-model="param.full_url"></div></div></div><div form-error-block></div><a class="btn btn-success btn-rounded" show-role="\'{{$stateParams.product_id?\'admin,op\':\'\'}}\'" ng-disabled="FormBody.$invalid" ng-click="submit()">保存推广网址</a></form></div></div></div>')}]),angular.module("app/scripts/views/biz/wechat/autoreply.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/wechat/autoreply.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" show-role="\'admin\'">修改微信自动回复</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div form-radio text="自动回复" type="radio" ng-model="category" source="[{text:\'关键词自动回复\',value:\'3\'},{text:\'被添加自动回复\',value:\'1\'},{text:\'消息自动回复\',value:\'2\'}]" default="3" source-api=""></div></div></div><div class="panel panel-primary" ng-show="category==1"><div class="panel-body">\x3c!--<h4>被添加自动回复</h4>--\x3e<div form-textarea text="被添加自动回复" ng-model="add_friend_autoreply_info.content" rows="20"></div></div></div><div class="panel panel-primary" ng-show="category==2"><div class="panel-body">\x3c!--<h4>消息自动回复</h4>--\x3e<div form-textarea text="消息自动回复" rows="20" ng-model="message_default_autoreply_info.content"></div></div></div><div class="panel-primary" ng-show="category==3" ng-init="title_info = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]"><div class="panel panel-body">\x3c!--<h5 class="col-sm-8">关键词自动回复</h5>--\x3e<div class="col-sm-8"><a class="btn btn-primary btn-rounded" ng-click="add()"><i class="fa fa-plus"></i>添加规则</a></div><div class="col-sm-4"><a href="javascript:void(0)" class="btn btn-success btn-rounded" ng-click="title_info = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]">展开自动回复</a>&nbsp;&nbsp; <a href="javascript:void(0)" class="btn btn-success btn-rounded" ng-click="title_info = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]">合并自动回复</a></div></div><div class="panel panel-body"><div class="panel panel-default" ng-repeat="val in keyword_autoreply_info_list"><div class="panel-heading" ng-click="title_info[$index] = title_info[$index]+1; "><h5 style="margin: 0; padding: 5px 0">{{\' 规则\'+($index+1)+\': \'+val.rule_name}} <i class="animate-switch fa pull-right" ng-class="{\'fa-caret-up\':title_info[$index]%2==1,\'fa-caret-down\':title_info[$index]%2==0}"></i></h5></div><div class="panel-body" ng-show="title_info[$index]%2==1"><div form-input text="规则名称" ng-model="val.rule_name" placeholder="规则名称" required="true"></div><div form-radio text="回复模式" ng-model="val.reply_mode" default="reply_all" source="[{text:\'回复全部\',value:\'reply_all\'},{text:\'随机回复\',value:\'random_one\'}]"></div><div form-input text="创建时间" ng-model="val.create_time" placeholder="创建时间" ng-show="false"></div><div form-table text="关键字列表" ng-model="val.keyword_list_info" required="true" columns="[{\'name\': \'关键字类型\', \'field\': \'type\',default:\'text\',hide:true},\n'+"                             {'name': '匹配模式', 'field': 'match_mode',required:'true',radioBox:'true',default:'equal',source:'[{text:\\'全等匹配\\',value:\\'equal\\'},{text:\\'包含匹配\\',value:\\'contain\\'}]'},\n                             {'name': '关键字', 'field': 'content',required:'true'}]\"></div><div form-table text=\"回复列表\" ng-model=\"val.reply_list_info\" required=\"true\" columns=\"[{'name': '回复类型', 'field': 'type',default:'text',hide:true},\n                             {'name': '回复内容', 'field': 'content',required:'true',textarea:'true'}]\"></div><div class=\"col-sm-12\"><a class=\"btn btn-danger btn-rounded pull-right\" ng-click=\"del($index)\">删除</a></div></div></div></div></div>\x3c!--<textarea class=\"form-control\" rows=\"50\" ng-model=\"auto_reply\"></textarea>--\x3e<a class=\"btn btn-success btn-rounded\" ng-disabled=\"FormBody.$invalid\" ng-click=\"submit()\">提交</a></form></div></div></div>")}]),angular.module("app/scripts/views/biz/wechat/menu.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/wechat/menu.html",'<div class="dashboard-page"><style type="text/css">.dropdown-menu.wechat-menus, .dropdown.wechat-menus {\n            min-width: 100px;\n            text-align: center;\n        }\n\n        .panel-body {\n            min-height: 300px;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">修改微信菜单</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div class="col-sm-4"><nav class="navbar navbar-default display-default"><div class="container-fluid"><div class="collapse navbar-collapse"><ul class="nav navbar-nav" ng-init="menus_title=[1,1,1]"><li class="dropdown wechat-menus" ng-repeat="menu in menus" ng-init="sup_index = $index" ng-class="{\'open\':menus_title[$index]%2==0}"><a class="dropdown-toggle" ng-click="edit_menu($index);"><span class="fa fa-bars" ng-show="menu.sub_button"></span> {{menu.name}}</a><ul class="dropdown-menu wechat-menus" ng-show="menu.sub_button"><li ng-repeat-start="sub in menu.sub_button" ng-click="edit_menu_sub($index,sup_index,sub,$event);"><a class="text-center" ng-bind="sub.name"></a></li><li class="divider" ng-repeat-end ng-show="!$last"></li><li class="divider" ng-show="menu.sub_button.length<5"></li><li ng-show="menu.sub_button.length<5"><a class="text-center" ng-click="add_sub_button($index);"><span class="fa fa-plus"></span></a></li></ul><ul class="dropdown-menu wechat-menus" ng-show="!menu.sub_button"><li><a class="text-center" ng-click="add_sub_button($index);"><span class="fa fa-plus"></span></a></li></ul></li><li class="active" ng-show="menus.length<3"><a class="text-center" ng-click="add_sup_menu();"><span class="fa fa-plus"></span></a></li></ul></div></div></nav></div><div class="col-sm-8"><div form-input text="菜单名称" ng-model="edit_obj.name" placeholder="字数不超过4个汉字或8个字母" minlength="1" maxlength="4" required="true" ng-if="edit_obj.sub_button"></div><div form-input text="菜单名称" ng-model="edit_obj.name" placeholder="字数不超过8个汉字" minlength="1" maxlength="8" required="true" ng-if="!edit_obj.sub_button"></div><div form-radio text="消息类型" ng-model="edit_obj.type" required="true" ng-if="!edit_obj.sub_button" source="[{text:\'网页\',value:\'view\'},{text:\'消息\',value:\'click\'}]"></div><div form-input text="URL" ng-model="edit_obj.url" ng-if="edit_obj.type == \'view\'" required="true"></div><div form-radio text="消息类型" ng-model="edit_obj.reply_info.type" required="true" ng-if="edit_obj.type == \'click\'" default="text" source="[{text:\'文本\',value:\'text\'}]"></div><div form-input text="key" ng-model="edit_obj.key" required="true" ng-if="edit_obj.type == \'click\'" placeholder="消息标示,例如:contact_service"></div><div form-textarea text="内容" ng-model="edit_obj.reply_info.content" rows="10" required="true" ng-if="edit_obj.type == \'click\'"></div><a class="btn btn-danger btn-rounded pull-right" ng-click="del_menu()">删除</a></div></div></div>\x3c!--<textarea class="form-control" rows="50" ng-model="menu"></textarea>--\x3e<a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),
angular.module("app/scripts/views/biz/wechat/qrcode.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/biz/wechat/qrcode.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><a class="btn btn-success btn-rounded btn-sm pull-right" style="margin-top: -5.5px" ui-sref="main.wechat.qrcode">二维码列表</a><h3 class="panel-title">获取二维码</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate disabled-role="\'admin,op,pm\'"><div class="panel panel-primary"><div class="panel-body"><h4>获取二维码</h4><div form-radio text="是否为临时二维码" ng-model="param.type" default="1" required="true" source="[{text:\'临时\',value:\'1\'},{text:\'永久\',value:\'2\'}]"></div>\x3c!--<div form-input text="场景编号" ng-model="param.scene_id" required="true"></div>--\x3e<div form-input text="场景描述" ng-model="param.desc" required="true"></div><a class="btn btn-success btn-rounded" show-role="\'admin,op,pm\'" ng-disabled="FormBody.$invalid" ng-click="submit()">生成</a></div></div><div class="panel panel-primary"><div class="panel-body"><h4>二维码地址</h4><div form-textarea="" text="二维码" ng-model="qrcode"></div></div></div></form></div></div></div>')}]),angular.module("app/scripts/views/demo/baidumap.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/demo/baidumap.html",'<div class="dashboard-page"><style type="text/css">.inlineBlock {\n            display: inline-block;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">地图</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div form-address text="地点" ng-model="param.addresses" max="100"></div></div></div></form></div></div></div>')}]),angular.module("app/scripts/views/demo/datetime.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/demo/datetime.html",'<div class="dashboard-page"><style type="text/css">.inlineBlock {\n            display: inline-block;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">时间日期</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div form-double-date-time text-start="开始时间" text-end="结束时间" required="true" ng-model-start="special_start_time" ng-model-end="special_end_time"></div></div></div><div form-error-block></div>\x3c!--<div ng-bind="FormBody|json"></div>--\x3e<a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/demo/richcontent.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/demo/richcontent.html",'<div class="dashboard-page"><style type="text/css">.inlineBlock {\n            display: inline-block;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">时间日期</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div form-rich-content text="富文本" ng-model="rich_text"></div></div></div><div form-error-block></div>\x3c!--<div ng-bind="FormBody|json"></div>--\x3e\x3c!--<a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a>--\x3e</form></div></div></div>')}]),angular.module("app/scripts/views/demo/test.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/demo/test.html",'<div class="dashboard-page"><style type="text/css">.inlineBlock {\n            display: inline-block;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">test</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div form-image text="图片" ng-model="param.pics" hide-bar="[0,0,1,1]" max="8" required="true"></div><div live-point text="看点" ng-model="param.points"></div></div><div form-error-block></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></div></form></div></div></div>')}]),angular.module("app/scripts/views/live/answers/answers.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/live/answers/answers.html",'<div class="dashboard-page answer"><style>.answer .form-group {\n            margin-bottom: 5px;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">回答管理{{question.question_id?(\' ID:\'+question.question_id):\'\'}}</h3></div><div class="panel-body dndsimpleSubject"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div class="form-group"><form class="form-horizontal" name="FormBody" novalidate><div class="col-sm-12 form-group"><div class="col-sm-6"><div form-radio text="角色" ng-model="searchItem.role_type" default="" source="[{text:\'全部\',value:\'\'},{text:\'老师\',value:\'1\'},{text:\'助教\',value:\'2\'}]"></div></div><div class="col-sm-6"><div form-radio text="状态" ng-model="searchItem.status" default="" source="[{text:\'全部\',value:\'\'},{text:\'待审核\',value:\'1\'},{text:\'已公开\',value:\'2\'},{text:\'已隐藏\',value:\'3\'}]"></div></div></div><div class="col-sm-12 form-group"><div class="col-sm-6"><div form-input text="视频ID" ng-model="searchItem.room_id"></div></div><div class="col-sm-6"><div form-input text="视频组ID" ng-model="searchItem.video_group_id" label-width="2" content-width="8"></div></div></div><div class="col-sm-12 form-group"><div class="col-sm-6"><div form-input text="用户、手机" ng-model="searchItem.user_keyword"></div></div><div class="col-sm-6"><div form-input text="内容" ng-model="searchItem.keyword"></div></div></div><div class="col-sm-12 form-group"><div class="col-sm-6"><div form-date-time text="创建-开始" ng-model="searchItem.start_time" label-width="2" content-width="8"></div></div><div class="col-sm-6"><div form-date-time text="创建-结束" ng-model="searchItem.end_time" label-width="2" content-width="8"></div></div></div><div class="col-sm-12 form-group"><div class="col-sm-offset-7 col-sm-5"><a class="btn btn-success btn-bordered" ng-click="init()">查询</a></div></div></form><div class="col-sm-12 form-group"><table class="table table-bordered table-striped"><thead><tr><td colspan="15"><span ng-bind="\'总数:\'+totalItems"></span><p class="pull-right"><a class="btn btn-primary btn-bordered btn-sm" ng-click="selected(\'all\')">全选</a>&nbsp;&nbsp; <a class="btn btn-primary btn-bordered btn-sm" ng-click="selected(\'cancel\')">全取消</a>&nbsp;&nbsp; <a class="btn btn-primary btn-bordered btn-sm" ng-click="selected(\'reverse\')">反选</a>&nbsp;&nbsp; <a class="btn btn-danger btn-rounded btn-sm" ng-click="audit(2)">隐藏</a>&nbsp;&nbsp; <a class="btn btn-success btn-rounded btn-sm" ng-click="audit(1)">公开</a>&nbsp;&nbsp;</p></td></tr><tr><th class="text-center" style="width: 50px">编号</th><th class="text-center" style="width: 50px">用户</th><th class="text-center" style="width: 150px">手机</th><th class="text-center" style="width: 50px">角色</th><th class="text-center" style="width: 50px">点赞数</th><th class="text-center">内容</th><th class="text-center" style="width: 120px">图片</th><th class="text-center" style="width: 150px">创建时间</th><th class="text-center" style="width: 100px">状态</th><th class="text-center" style="width: 50px">选择</th></tr></thead><tbody><tr ng-repeat="(key,item) in data"><td class="text-center"><span ng-bind="item.id"></span></td><td class="text-center"><span ng-bind="item.user.name"></span></td><td class="text-center"><span ng-bind="item.user.mobile"></span></td><td class="text-center"><span ng-bind="item.role_type|live_role_type"></span></td><td class="text-center"><span ng-bind="item.thumbup_count"></span></td><td class="text-left"><span ng-bind="item.answer"></span></td><td class="text-center"><show_image url="item.pics[0].pic_url" width="100"></show_image></td><td class="text-center"><span ng-bind="item.created_at"></span></td><td class="text-center"><span ng-bind="item.status|keyVal:\'1\':\'已公开\':\'2\':\'已隐藏\':\'3\':\'未知状态\'" ng-class="{\'text-success\':item.status==1,\'text-danger\':item.status==2,\'text-default\':item.status==3}"></span></td><td class="text-center"><label class="checkbox-inline checkbox1"><input type="checkbox" ng-model="item.checked" ng-true-value="true" ng-false-value="false"> <span></span></label></td></tr></tbody></table></div><div class="col-sm-12 form-group"><ul uib-pagination boundary-links="true" total-items="totalItems" ng-model="currentPage" ng-change="init()" max-size="5" rotate="false" items-per-page="20" class="pull-right" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></ul></div></div></div></div></form></div></div></div>')}]),angular.module("app/scripts/views/live/appmessages/send.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/live/appmessages/send.html",'<div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">推送消息</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div form-input text="标题" ng-model="param.title" required="true" placeholder=""></div><div form-textarea text="描述" ng-model="param.description" required="true" placeholder=""></div><div form-textarea text="body" ng-model="param.body" required="true" placeholder=""></div><div form-input text="跳转" ng-model="param.url" required="true" placeholder=""></div></div></div><a class="btn btn-success btn-rounded pull-right" ng-disabled="FormBody.$invalid" ng-click="submit()">推送</a></form></div></div>')}]),angular.module("app/scripts/views/live/notice/send.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/live/notice/send.html",'<div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">发送公告</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div form-input text="房间ID" ng-model="room_id" required="true" placeholder="多个房间ID"></div><div form-radio text="填写时长" type="radio" ng-model="readonly" default="1" source="[{text:\'选择有效时长\',value:\'1\'},{text:\'填写有效时长\',value:\'2\'}]"></div><div form-radio text="选择有效时长" type="radio" ng-model="param.expire_time" required="true" default="" source-api="" ng-if="readonly==1" source="[{text:\'15分钟\',value:15},{text:\'30分钟\',value:30},{text:\'45分钟\',value:45},{text:\'一小时\',value:60},{text:\'永久\',value:-1}]"></div><div form-input text="填写有效时长" ng-model="param.expire_time" required="true" ng-if="readonly==2" placeholder="单位:分钟"></div></div></div><a class="btn btn-success btn-rounded pull-right" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div>')}]),angular.module("app/scripts/views/live/notice/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/live/notice/update.html",'<div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">发送公告</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div form-input text="公告标题" ng-model="param.title"></div><div form-textarea text="公告正文" ng-model="param.content" required="true"></div></div></div><a class="btn btn-success btn-rounded pull-right" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div>')}]),angular.module("app/scripts/views/live/permission/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/live/permission/update.html",'<div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">权限配置</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div form-input text="用户账号" ng-model="param.user_id" ng-disabled="superData.id"></div><div form-input text="用户昵称" ng-model="param.user.name" ng-if="superData.id" ng-disabled="superData.id"></div><div form-radio text="选择角色" ng-model="param.role_type" required="true" default="1" source="[{text:\'老师\',value:1},{text:\'助理\',value:2}]"></div><div form-search text="查询视频组ID" verify="verify_obj_id(obj_id)" btn-text="添加视频组" ajax-config="{method:\'get\',url:$root.common.domain+\'/mobile/live/videogroups/\'+obj_id}" ng-model="obj_id" callback="add_obj_id(json)"></div><div form-table text="视频组" ng-model="param.permissions" min="0" config="{add:false}" columns="[{name: \'ID\', field:\'video_group_id\',readonly:\'true\'}\n                             ,{name: \'标题\', field:\'video_group.group_title\',readonly:\'true\'}]"></div></div></div><a class="btn btn-success btn-rounded pull-right" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div>')}]),angular.module("app/scripts/views/live/questions/questions.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/live/questions/questions.html",'<div class="dashboard-page question"><style>.question .form-group {\n            margin-bottom: 5px;\n        }</style><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title inlineBlock">问题管理</h3></div><div class="panel-body dndsimpleSubject"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div class="form-group"><form class="form-horizontal" name="FormBody" novalidate><div class="col-sm-12 form-group"><div class="col-sm-6"><div form-radio text="角色" ng-model="searchItem.role_type" default="" source="[{text:\'全部\',value:\'\'},{text:\'老师\',value:\'1\'},{text:\'助教\',value:\'2\'}]"></div></div><div class="col-sm-6"><div form-radio text="状态" ng-model="searchItem.status" default="" source="[{text:\'全部\',value:\'\'},{text:\'待审核\',value:\'1\'},{text:\'已公开\',value:\'2\'},{text:\'已隐藏\',value:\'3\'}]"></div></div></div><div class="col-sm-12 form-group"><div class="col-sm-6"><div form-input text="视频ID" ng-model="searchItem.room_id"></div></div><div class="col-sm-6"><div form-input text="视频组ID" ng-model="searchItem.video_group_id" label-width="2" content-width="8"></div></div></div><div class="col-sm-12 form-group"><div class="col-sm-6"><div form-input text="用户、手机" ng-model="searchItem.user_keyword"></div></div><div class="col-sm-6"><div form-input text="内容" ng-model="searchItem.keyword"></div></div></div><div class="col-sm-12 form-group"><div class="col-sm-6"><div form-date-time text="创建-开始" ng-model="searchItem.start_time" label-width="2" content-width="8"></div></div><div class="col-sm-6"><div form-date-time text="创建-结束" ng-model="searchItem.end_time" label-width="2" content-width="8"></div></div></div><div class="col-sm-12 form-group"><div class="col-sm-offset-7 col-sm-5"><a class="btn btn-success btn-bordered" ng-click="init()">查询</a></div></div></form><div class="col-sm-12 form-group"><table class="table table-bordered table-striped"><thead><tr><td colspan="15"><span ng-bind="\'总数:\'+totalItems"></span><p class="pull-right"><a class="btn btn-primary btn-bordered btn-sm" ng-click="selected(\'all\')">全选</a>&nbsp;&nbsp; <a class="btn btn-primary btn-bordered btn-sm" ng-click="selected(\'cancel\')">全取消</a>&nbsp;&nbsp; <a class="btn btn-primary btn-bordered btn-sm" ng-click="selected(\'reverse\')">反选</a>&nbsp;&nbsp; <a class="btn btn-danger btn-rounded btn-sm" ng-click="audit(3)">审核不通过</a>&nbsp;&nbsp; <a class="btn btn-success btn-rounded btn-sm" ng-click="audit(2)">审核通过</a>&nbsp;&nbsp;</p></td></tr><tr><th class="text-center" style="width: 50px">编号</th><th class="text-center" style="width: 50px">用户</th><th class="text-center" style="width: 150px">手机</th><th class="text-center" style="width: 100px">角色</th><th class="text-center" style="width: 50px">回答</th><th class="text-center">内容</th><th class="text-center" style="width: 150px">图片</th><th class="text-center" style="width: 150px">创建时间</th><th class="text-center" style="width: 150px">状态</th><th class="text-center" style="width: 50px">选择</th></tr></thead><tbody><tr ng-repeat="(key,item) in data"><td class="text-center"><span ng-bind="item.id"></span></td><td class="text-center"><span ng-bind="item.user.name"></span></td><td class="text-center"><span ng-bind="item.user.mobile"></span></td><td class="text-center"><span ng-bind="item.role_type|live_role_type"></span></td><td class="text-center">\x3c!--<span ng-bind="item.answer_num"></span>--\x3e\x3c!--<span show-table--\x3e\x3c!--data="{text:\\\'item.answer_num\\\',modid:\\\'answerList\\\',config:\\\'config\\\',columns:\\\'columns\\\'}"></span>--\x3e<a class="btn btn-primary btn-bordered btn-sm" ng-bind="item.answer_num" ng-click="open_answer(item)"></a></td><td class="text-left"><span ng-bind="item.content"></span></td><td class="text-center"><show_image url="item.pics[0].pic_url" width="100"></show_image></td><td class="text-center"><span ng-bind="item.created_at"></span></td><td class="text-center"><span ng-bind="item.status|keyVal:\'1\':\'待审核\':\'2\':\'已公开\':\'3\':\'已隐藏\'" ng-class="{\'text-default\':item.status==1,\'text-success\':item.status==2,\'text-danger\':item.status==3}"></span></td><td class="text-center"><label class="checkbox-inline checkbox1"><input type="checkbox" ng-model="item.checked" ng-true-value="true" ng-false-value="false"> <span></span></label></td></tr></tbody></table></div><div class="col-sm-12 form-group"><ul uib-pagination boundary-links="true" total-items="totalItems" ng-model="currentPage" ng-change="init()" max-size="5" rotate="false" items-per-page="20" class="pull-right" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></ul></div></div></div></div></form></div></div></div>')}]),angular.module("app/scripts/views/live/videogroups/qa.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/live/videogroups/qa.html",'<div class="qa"><style>.qa .form-group {\n        margin-bottom: 0\n    }</style><div class="row text-muted"><div class="col-sm-1" dnd-handle><span class="label-info label" ng-bind="\'::: 第\'+item.order_by+\'次\'"></span></div><div class="col-sm-11"><div form-input ng-model="item.qa_name" text="答疑标题" required="true"></div><div form-date-time ng-model="item.start_time" text="答疑时间-开始" required="true"></div><div form-date-time ng-model="item.end_time" text="结束" required="true"></div>\x3c!--<div form-input ng-model="item.pre_time_tmp" text="预告提前天数" required="true" type="number" min="0" max="1000"></div>--\x3e<div form-date-time ng-model="item.pre_time" text="显示时间" required="true"></div><div form-input ng-model="item.qian_url" text="千聊链接" required="true"></div></div></div></div>')}]),angular.module("app/scripts/views/live/videogroups/room.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/live/videogroups/room.html",'<div><div class="row text-muted" ng-if="item.type==1"><div class="col-sm-1" dnd-handle><span ng-bind="\'::: \'+item.chapters_index+\' 章节\'" class="label-info label"></span></div><div class="col-sm-11"><div class="input-group"><span class="input-group-addon">名称:</span> <input type="text" class="form-control" ng-model="item.title" required="true"></div></div></div><div class="row text-muted" ng-if="item.type==2"><div class="col-sm-1" dnd-handle><span class="label-info label">:::</span></div><div class="col-sm-10"><span class="label label-primary">ID:{{item.room_id}}</span> <span class="label" ng-class="{\'label-success\':item.room.status==1,\'label-danger\':item.room.status==2}">房间:{{(item.room.status|keyVal:\'1\':\'开启\':\'2\':\'关闭\'|null2empty)}}</span> <span class="">{{item.room.title}}</span></div><div class="col-sm-1" ng-show="$last"><a class="btn btn-primary btn-bordered btn-xs" ng-click="ngModel.splice($index, 0, {type: 1, title: \'\'})">向上新增章节</a></div>\x3c!--<div form-radio text="类型" ng-model="item.online_status" default="1" name="online_status"--\x3e\x3c!--source="[{text:\'立即生效\',value:\'1\'},{text:\'定时生效\',value:\'2\'}]"></div>--\x3e\x3c!--<div form-date-time text="设置时间" ng-model="item.online_time" ng-show="item.online_status==2"></div>--\x3e</div></div>')}]),angular.module("app/scripts/views/live/videogroups/update.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/live/videogroups/update.html",'<div class="dashboard-page"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-if="!$stateParams.id">新增视频组</h3><h3 class="panel-title" ng-if="$stateParams.id">更新视频组</h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="panel panel-primary"><div class="panel-body"><div form-input text="名称" ng-model="param.group_title" required="true" placeholder="视频组名称,不超过30个字" minlength="1" maxlength="30"></div><div form-input text="年龄标签" ng-model="param.age_label" placeholder="最多6个字" maxlength="6"></div><div form-date-time text="首播时间" ng-model="param.first_time"></div><div form-input text="总集数" ng-model="param.course_num" type="number" placeholder="" required="true" min="0"></div><div form-input text="预告片" ng-model="param.pre_video_url" placeholder="请将视频上传到阿里云，并填写mp4格式。不接受其他格式！"></div><div form-image-single text="图片" ng-model="param.pic_url" required="true"></div><div class="row"><h4 class="col-sm-offset-2 col-sm-8 text-danger">注意：课堂展示图 比例 5:4</h4></div><div form-image-single text="课堂展示图" ng-model="param.show_pic_url" required="true"></div>\x3c!--<div form-input text="礼物描述" ng-model="param.gift_desc" placeholder=""></div>--\x3e\x3c!--<div form-radio text="类型" ng-model="param.group_type" required="true" default="1"--\x3e\x3c!--source="[{text:\'直播\',value:\'1\'},{text:\'点播\',value:\'2\'}]" source-api=""></div>--\x3e<div form-radio text="分享设置" ng-model="param.share_type" required="true" default="1" source="[{text:\'普通分享\',value:\'1\'},{text:\'分享单个视频观看权限\',value:\'2\'}]" source-api=""></div><div form-input text="单人最多领取视频数量" ng-model="param.receive_num" ng-show="param.share_type==2" placeholder="0表示视频分享后任何人不可以领取，请谨慎填写。"></div><div form-search text="添加房间/视频ID" verify="verify_room(room_id)" btn-text="查询并添加房间/视频ID" ajax-config="{method:\'get\',url:$root.common.domain+\'/mobile/live/rooms/\'+room_id}" ng-model="room_id" callback="add_room(json)"></div><div videogroup-room ng-model="chapters" text="章节"></div><hr><h4>答疑管理</h4><div form-radio text="答疑入口" ng-model="param.qa_onoff" required="true" default="1" source="[{text:\'显示\',value:\'1\'},{text:\'关闭\',value:\'2\'}]" source-api=""></div><div videogroup-qas ng-model="param.qas" text="答疑" ng-show="param.qa_onoff==1"></div>\x3c!--<div form-table text="房间/视频ID" ng-model="param.rooms" min="1"--\x3e\x3c!--config="{add:false}"--\x3e\x3c!--columns="[{name: \'房间/视频ID\', field:\'room_id\',readonly:\'true\'}--\x3e\x3c!--,{name: \'标题\', field:\'room.title\',readonly:\'true\'}--\x3e\x3c!--,{name: \'直播流开关\', field:\'room.live_status|keyVal:\\\'1\\\':\\\'未开启&nbsp;&nbsp;&nbsp;&nbsp;\\\':\\\'2\\\':\\\'直播中&nbsp;&nbsp;&nbsp;&nbsp;\\\':\\\'3\\\':\\\'直播结束\\\'|null2empty\',readonly:\'true\'}--\x3e\x3c!--,{name: \'直播预告\', fieldDirective:\'<span ng-bind=\\\'item.room.plans[0].start_time\\\'></span>-<span ng-bind=\\\'item.room.plans[0].end_time\\\'></span>\',readonly:\'true\'}]"></div>--\x3e<hr><div form-radio text="是否付费" ng-model="param.pay_type" required="true" default="1" source="[{text:\'免费\',value:\'1\'},{text:\'付费\',value:\'2\'}]" source-api=""></div><div ng-if="param.pay_type==2"><h4>关联活动</h4><h5 class="col-sm-offset-2 text-danger">选择收费模式时 关联SKU、关联活动类目 必须至少选一个并切填写完成</h5><div form-table text="关联SKU" ng-model="param.skus" columns="[{name: \'选择SKU\',width:\'50%\',\n                              \'fieldDirective\': \'<select class=\\\'form-control \\\' ng-model=\\\'item.sku\\\'\n                               ng-options=\\\'obj.value as obj.text for obj in $root.common.sku\\\' ></select>\',required:\'true\'}]"></div><div class="row"><label class="col-sm-2 control-label">关联活动类目&nbsp;&nbsp;</label><div class="col-sm-8"><div ng-repeat="product in param.products"><div class="panel panel-primary"><div class="panel-body"><div form-search text="搜索活动ID" btn-text="查询活动类目" verify="verify_product(product.product_id,$index)" ajax-config="{method:\'get\',url:$root.common.domain+\'/products/\'+product.product_id+\'/options?count=1000\'}" ng-model="product.product_id" callback="add_product(json,$index)"></div><div form-checkbox text="选择类目" ng-model="product._tmp_options_selected" type="number" ng-show="product._tmp_options" source="product._tmp_options"></div><json-table ng-model="product.options" config="{readonly:true}" columns="[{name: \'活动ID\', field:\'product_id\',readonly:\'true\'},\n                                                    {name: \'拼团类型\', field:\'option.option_type|product_category\',readonly:\'true\'},\n                                                    {name: \'类目ID\', field:\'option_id\',readonly:\'true\'},\n                                                    {name: \'类目名称\', field:\'option.option_name\',readonly:\'true\'},\n                                                    {name: \'状态\', field:\'option.option_status|product_option_status\',readonly:\'true\'}]"></json-table><div class="row pull-right"><a class="btn btn-danger btn-rounded" ng-click="param.products.splice($index,1)">删除</a></div></div></div></div></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-10"><a class="btn btn-primary btn-rounded" ng-click="(param.products=param.products||[])&&param.products.push({});">新增活动并选择类目</a></div></div><hr><h4 class="col-sm-offset-2 text-primary">不要填错指定购买活动ID,以免影响购买</h4><div form-input text="指定购买活动" ng-model="param.product_id" placeholder="活动ID,不能为空或者0" required="true"></div><div form-input text="指定购买活动链接" ng-model="param.product_url" placeholder="活动购买URL" required="true" ng-disabled="true"></div>\x3c!--<div form-date-time text="观看权限发放开始时间" ng-model="param.open_time" required="true"></div>--\x3e\x3c!--<h3 class="col-sm-offset-2 text-primary">只能管理员来操作开启自动处理开关</h3>--\x3e\x3c!--ng-disabled="$root.hjm.role!==\'admin\'"--\x3e<div form-radio text="自动处理开关" ng-model="param.onoff" required="true" default="1" source="[{text:\'开\',value:\'1\'},{text:\'关\',value:\'2\'}]" source-api=""></div></div><div form-input text="排序数字" ng-model="param.order_by" placeholder="不排序就填0" required="true"></div><div form-radio text="是否显示" ng-model="param.visible" required="true" default="1" source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" source-api=""></div><div form-textarea text="备注" ng-model="param.remark" placeholder="不超过15字"></div></div></div><div form-error-block></div><a class="btn btn-success btn-rounded" ng-disabled="FormBody.$invalid" ng-click="submit()">提交</a></form></div></div></div>')}]),angular.module("app/scripts/views/directive/common_form.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/common_form.html",'<div class=""><style type="text/css">.bot_margin_20 {\n            margin-bottom: 0 !important;\n        }</style><script type="text/ng-template" id="form_data.html"><div class="panel panel-primary bot_margin_20">\n            <div class="panel-heading">\n                <button type="button" class="close" ng-click="cancel()">×</button>\n                \x3c!--<span class="badge pointer pull-right" ng-click="cancel()">X</span>--\x3e\n                <h3 class="panel-title" ng-bind="form_title"></h3>\n            </div>\n            <div class="panel-body">\n                <form class="form-horizontal">\n                    <div class="form-group" ng-repeat="item in form_data">\n                        <label class="col-sm-3 control-label">{{item.name}}\n                            <span class="form_label_dangus" ng-bind="(item.allownull|| item.isprimary)?\'\':\'*\'"></span>\n                        </label>\n                        <div class="col-sm-6">\n                            <input class="form-control" ng-model="item.val" ng-disabled="item.isprimary==1">\n                            \x3c!--<div ng-bind-html="item.fieldDirective|to_trusted " ng-show="item.fieldDirective"></div>--\x3e\n                        </div>\n                    </div>\n                </form>\n                <a class="btn btn-success pull-right" ng-click="submit()">提交</a>\n            </div>\n        </div><\/script><a class="btn btn-default {{btnClass}}" ng-click="open()" ng-bind="form_title"></a>\x3c!--<a class="btn btn-default pull-right" ng-click="refresh()">1111111</a>--\x3e</div>')}]),angular.module("app/scripts/views/directive/community.html",[]).run(["$templateCache",function($templateCache){"use strict"
;$templateCache.put("app/scripts/views/directive/community.html",'<div><style type="text/css">.select_name {\n            width: 100%;\n            line-height: 26px;\n            height: 34px;\n            margin-right: 15px;\n        }\n\n        .community_name {\n            position: relative;\n            width: 100% !important;\n        }\n\n        .search_community_list {\n            position: absolute;\n            top: 100%;\n            z-index: 1000;\n            float: left;\n            min-width: 160px;\n            padding: 5px 0;\n            margin: 2px 0 0;\n            font-size: 14px;\n            text-align: left;\n            list-style: none;\n            background-color: #fff;\n            -webkit-background-clip: padding-box;\n            background-clip: padding-box;\n            border: 1px solid #ccc;\n            border: 1px solid rgba(0, 0, 0, .15);\n            border-radius: 4px;\n            -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n            box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n        }\n\n        .search_community_list > li {\n            width: 100%;\n        }\n\n        .search_community_list > li > a.divider {\n            height: 1px;\n            margin: 1px 0;\n            overflow: hidden;\n            background-color: #e5e5e5;\n            padding: 0;\n        }\n\n        .search_community_list > li > a {\n            display: block;\n            padding: 3px 20px;\n            clear: both;\n            font-weight: normal;\n            line-height: 1.42857143;\n            color: #333;\n            white-space: nowrap;\n        }\n\n        .search_community_list > li > a:hover {\n            background-color: #13c4a5;\n            color: #fff;\n        }</style>\x3c!--<input type="text" ng-model="communityerr.count"/>--\x3e<table class="table table-hover table-bordered"><thead><tr><th style="width: 40%; text-align: center">小区关键字</th><th style="width: 10%; text-align: center">搜索</th><th style="width: 40%; text-align: center">验证后小区名称</th><th style="width: 10%; text-align: center"><a class="btn btn-primary" ng-click="add();conslog();">添加</a></th></tr></thead><tbody>\x3c!--<tr ng-repeat="obj in list.old track by $index" ng-init="obj.index = $index;" ng-if="!obj.hide">--\x3e\x3c!--<td>--\x3e\x3c!--<input type="text" class="form-control" ng-model="obj.community_name" disabled>--\x3e\x3c!--</td>--\x3e\x3c!--<td>--\x3e\x3c!--<div class="community_name"></div>--\x3e\x3c!--</td>--\x3e\x3c!--<td>--\x3e\x3c!--<a type="button" class="btn btn-default select_name" ng-bind="obj.community_name"></a>--\x3e\x3c!--</td>--\x3e\x3c!--<td></td>--\x3e\x3c!--</tr>--\x3e<tr ng-repeat="obj in communitys track by $index" ng-init="obj.index = $index;" ng-if="!obj.hide"><td><input type="text" class="form-control" ng-model="obj.community_keyword"></td><td><div class="community_name"><a type="button" class="btn btn-default" ng-click="search_community($index, obj.index, obj.community_keyword);"><span ng-if="!obj.search_community_list">搜索</span> <span ng-if="obj.search_community_list">取消</span></a><ul class="search_community_list" ng-if="obj.search_community_list"><li ng-repeat="searchobj in obj.search_community_list track by $index"><a class="btn" ng-click="select_community($index,obj.index,searchobj);" ng-bind="searchobj.name"></a></li><li><a class="divider"></a></li><li><a class="btn" ng-click="obj.search_community_list=\'\'">取消</a></li></ul></div></td><td><a type="button" class="btn btn-default select_name" ng-bind="obj.community_name"></a></td><td><a class="btn btn-danger" ng-click="del(obj.index)">删除</a></td></tr></tbody></table></div>')}]),angular.module("app/scripts/views/directive/delete/delete-data.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/delete/delete-data.html",'<div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" ng-bind="config.text||\'删除\'"></h3></div><div class="panel-body"><form class="form-horizontal" name="FormBody" novalidate><div class="col-sm-12 form-group"><div ng-include="getContentUrl()"></div></div><div class="col-sm-12 form-group"><a class="btn btn-danger btn-rounded btn-sm pull-right" ng-click="del()" ng-bind="config.text"></a>\x3c!--<a class="btn btn-warning btn-rounded btn-sm pull-right" ng-click="cancel()">取消</a>--\x3e</div></form></div></div>')}]),angular.module("app/scripts/views/directive/dnd/dnd-array.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/dnd/dnd-array.html",'<div class="panel panel-primary"><style type="text/css">.inlineBlock {\n            display: inline-block;\n        }\n\n        .dndsimpleSubject tbody[dnd-list],\n        .dndsimpleSubject tbody[dnd-list] > tr {\n            /*position: relative;*/\n        }\n\n        .dndsimpleSubject tbody[dnd-list]  .dndDragging {\n            opacity: 0.7;\n        }\n\n        .dndsimpleSubject tbody[dnd-list] .dndDraggingSource {\n            display: none;\n        }\n\n        .dndsimpleSubject tbody[dnd-list] .dndPlaceholder {\n            /*display: block;*/\n            /*float: left;*/\n            background-color: #ddd;\n            /*display: flex;*/\n            height: 100px;\n            /*width: 100px;*/\n            /*width: 100%;*/\n            border: 1px solid #ddd;\n            padding-left: 5px;\n            padding-right: 5px;\n        }\n\n        .dndsimpleSubject tbody[dnd-list] > tr {\n            /*background-color: #fff;*/\n            /*display: block;*/\n            /*width: 100%;*/\n        }\n\n        .dndsimpleSubject tbody[dnd-list] > tr.selected {\n            background-color: #dff0d8;\n            color: #3c763d;\n            width: 1000px;\n        }</style><div class="panel-heading"><h3 class="panel-title inlineBlock">可拖动顺序</h3></div><div class="panel-body dndsimpleSubject"><div class="col-sm-12 form-group"><table class="table table-bordered table-striped"><thead></thead><tbody dnd-list="ngModel"><tr ng-repeat="(key,item) in ngModel" dnd-draggable="item" dnd-moved="ngModel.splice(key, 1);" dnd-effect-allowed="copyMove"><td dnd-nodrag><div class="row"><div class="col-sm-11" ng-include="getContentUrl()"></div><div class="col-sm-1" dnd-handle><a class="btn btn-danger btn-xs btn-bordered pull-right" ng-click="del($index)" ng-show="config.del!=false">删除</a></div></div></td>\x3c!--<td class="width100">--\x3e\x3c!--<a class="btn btn-danger btn-sm btn-bordered  pull-right"--\x3e\x3c!--ng-click="del($index)">删除</a>--\x3e\x3c!--</td>--\x3e</tr><tr class="dndPlaceholder"><td class="text-center" colspan="1"><h3 class="red">拖拽到这里</h3></td></tr><tr ng-show="config.add!=false"><td class="text-center" colspan="1"><a class="btn btn-success btn-rounded btn-xs pull-right" ng-click="add()">添加</a></td></tr></tbody></table></div></div></div>')}]),angular.module("app/scripts/views/directive/help.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/help.html",'<div class="help-block hjm-help"><style type="text/css">.hjm-help{\n            font-style: italic;\n            color: #ccc;!important;\n            line-height: 40px;\n            padding-right: 10px;\n            cursor: pointer;\n        }\n        .hjm-help:hover{\n            color: #fff;!important;\n            text-decoration: none;\n        }</style><a class="hjm-help" ng-click="show();">帮助</a><script type="text/ng-template" id="help_tmp.html"><div class="modal-header">\n            <h3 class="modal-title">常规操作帮助提示(后续不断更新)</h3>\n        </div>\n        <div class="modal-body">\n            \x3c!-- Standard button --\x3e\n            <button type="button" class="btn btn-default btn-sm">（默认）Default</button>\n\n            \x3c!-- Provides extra visual weight and identifies the primary action in a set of buttons --\x3e\n            <button type="button" class="btn btn-primary btn-sm">（操作）Primary</button>\n\n            \x3c!-- Indicates a successful or positive action --\x3e\n            <button type="button" class="btn btn-success btn-sm">（成功）Success</button>\n\n            \x3c!-- Contextual button for informational alert messages --\x3e\n            <button type="button" class="btn btn-info btn-sm">（一般）Info</button>\n\n            \x3c!-- Indicates caution should be taken with this action --\x3e\n            <button type="button" class="btn btn-warning btn-sm">（警告）Warning</button>\n\n            \x3c!-- Indicates a dangerous or potentially negative action --\x3e\n            <button type="button" class="btn btn-danger btn-sm">（危险）Danger</button>\n\n            \x3c!-- Deemphasize a button by making it look like a link while maintaining button behavior --\x3e\n            <button type="button" class="btn btn-link btn-sm">超链接</button>\n        </div>\n        <div class="modal-footer">\n            <button class="btn btn-warning" ng-click="cancel()">关闭</button>\n        </div><\/script></div>')}]),angular.module("app/scripts/views/directive/hjm/hjm-form-element.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/hjm/hjm-form-element.html",'<div class="form-group" style="outline: none"><div class="form_element"></div></div>')}]),angular.module("app/scripts/views/directive/hjm/hjm-form-err-block.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/hjm/hjm-form-err-block.html",'<div class="panel panel-primary" ng-show="FormBody.$invalid"><div class="panel-body"><h5>表单验证提示</h5>\x3c!--<textarea class="form-control" rows="200" ng-bind="FormBody|json"></textarea>--\x3e\x3c!--<div ng-repeat="(key,val) in FormBody" >--\x3e\x3c!--ng-if="val.$invalid && val.$name"--\x3e\x3c!--<span ng-bind="val|json"></span><br/>--\x3e\x3c!--</div>--\x3e<ul class="list-group col-sm-8 col-sm-offset-2"><li class="list-group-item list-group-item-danger"><div class="row"><span class="col-sm-2">提示项</span> <span class="col-sm-3">提交字段名(name)</span> <span class="col-sm-3">详情</span><div class="col-sm-2"><a class="btn btn-xs btn-warning btn-rounded" ng-click="mock_dev=!mock_dev">展示详细信息</a></div></div></li>\x3c!--<li class="list-group-item" ng-repeat="(key,val) in FormBody.$error">--\x3e\x3c!--<div class="row" ng-repeat="(k,v) in val">--\x3e\x3c!--<span class="col-sm-2" ng-bind="v.text"></span>--\x3e\x3c!--<span class="col-sm-3" ng-bind="v.$name"></span>--\x3e\x3c!--<div class="col-sm-3">--\x3e\x3c!--&lt;!&ndash;<span ng-bind="v.$error|form_err"></span>&ndash;&gt;--\x3e\x3c!--<span ng-repeat="(kk,vv) in v.$error"--\x3e\x3c!--ng-bind="(($index>0)?\'; \':\'\')+(kk|form_err)"></span>--\x3e\x3c!--</div>--\x3e\x3c!--&lt;!&ndash;<span class="col-sm-2" ng-bind="val|json" show-env="dev,test"></span>&ndash;&gt;--\x3e\x3c!--</div>--\x3e\x3c!--</li>--\x3e<li class="list-group-item" ng-repeat-start="(key,val) in FormBody" ng-if="val.$invalid&&val.$name"><div class="row"><span class="col-sm-2" ng-bind="val.text"></span> <span class="col-sm-3" ng-bind="val.$name"></span><div class="col-sm-3"><span ng-repeat="(k,v) in val.$error" ng-bind="(($index>0)?\'; \':\'\')+(k|form_err)"></span></div>\x3c!--<span class="col-sm-2" ng-bind="val|json" show-env="dev,test"></span>--\x3e</div></li><li class="list-group-item" ng-repeat-end ng-show="val.$invalid&&val.$name&&mock_dev"><div class="row"><span class="col-sm-8" ng-bind="val|json"></span></div></li></ul></div></div>')}]),angular.module("app/scripts/views/directive/hjm/hjm-form.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/hjm/hjm-form.html","")}]),angular.module("app/scripts/views/directive/hjm/hjm-grid.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/hjm/hjm-grid.html",'<div class="height100"><div class="panel panel-primary height100"><div class="panel-heading routerTitleSection">\x3c!--<h3 class="panel-title" ng-bind="configDef.title||\'\'">--\x3e\x3c!--<span class="content" ng-bind="configDef.title||\'\'"></span>--\x3e\x3c!--<div class="row">--\x3e\x3c!--<div class="col-sm-6" style="line-height: 34px;">--\x3e\x3c!--<span class="content" ng-bind="configDef.title||\'\'"></span>--\x3e\x3c!--</div>--\x3e\x3c!--<div class="routerSection col-sm-6"></div>--\x3e\x3c!--</div>--\x3e\x3c!--</h3>--\x3e</div><div class="panel-body height100 overflowAuto"><div class="searchSection"></div><div class="gridSection"></div><div class="paginationSection"></div>\x3c!--<table class="table table-bordered">--\x3e\x3c!--<thead>--\x3e\x3c!--<th class="{{header.className}}" bindonce ng-repeat="header in biz.columns" bo-text="header.name"></th>--\x3e\x3c!--</thead>--\x3e\x3c!--<tbody>--\x3e\x3c!--<tr bindonce ng-repeat="result in biz.list" ng-init="result.idx = $index">--\x3e\x3c!--<td bindonce ng-repeat="item in biz.columns" ng-if="item.field==\'idx\'" class="{{item.className}}">--\x3e\x3c!--<span class="msg_title" bo-text="result.idx+1"></span>--\x3e\x3c!--</td>--\x3e\x3c!--<td bindonce ng-repeat="item in biz.columns" ng-if="item.field!==\'idx\'" class="{{item.className}}">--\x3e\x3c!--<span class="msg_title {{item.className}}" ng-if="(!item.fieldDirective && item.field)"--\x3e\x3c!--bo-text="result.{{item.field}}{{item.filter?(\' | \'+item.filter):\'\'}}"></span>--\x3e\x3c!--<a class="{{obj.className}}" ng-click="obj_on(obj.event,result);"--\x3e\x3c!--ng-if="(!item.template && item.on)"--\x3e\x3c!--ng-repeat="obj in item.on">{{obj.name}}</a><br>--\x3e\x3c!--<div ng-if="item.fieldDirective" bind-html-compile="item.fieldDirective"></div>--\x3e\x3c!--</td>--\x3e\x3c!--</tr>--\x3e\x3c!--</tbody>--\x3e\x3c!--<thead>--\x3e\x3c!--<tr>--\x3e\x3c!--<th>Name</th>--\x3e\x3c!--<th>Email</th>--\x3e\x3c!--<th>Address</th>--\x3e\x3c!--</tr>--\x3e\x3c!--</thead>--\x3e\x3c!--<tbody>--\x3e\x3c!--<tr>--\x3e\x3c!--<td>John</td>--\x3e\x3c!--<td>john@gmail.com</td>--\x3e\x3c!--<td>London, UK</td>--\x3e\x3c!--</tr>--\x3e\x3c!--<tr>--\x3e\x3c!--<td>Andy</td>--\x3e\x3c!--<td>andygmail.com</td>--\x3e\x3c!--<td>Merseyside, UK</td>--\x3e\x3c!--</tr>--\x3e\x3c!--<tr>--\x3e\x3c!--<td>Frank</td>--\x3e\x3c!--<td>frank@gmail.com</td>--\x3e\x3c!--<td>Southampton, UK</td>--\x3e\x3c!--</tr>--\x3e\x3c!--</tbody>--\x3e\x3c!--</table>--\x3e</div></div></div>')}]),angular.module("app/scripts/views/directive/hjm/hjm-pagination-bar.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/hjm/hjm-pagination-bar.html",'<div class="pull-right">\x3c!--<div>--\x3e<div uib-pagination total-items="pageInfo.totalItems" ng-model="pageInfo.currentPage" items-per-page="pageInfo.itemsPerPage" max-size="pageInfo.maxSize" ng-change="getapi(pageInfo.currentPage)" class="pagination" boundary-links="true" rotate="false" num-pages="numPages" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></div></div>')}]),angular.module("app/scripts/views/directive/hjm/hjm-search-bar.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/hjm/hjm-search-bar.html",'<div class="row" ng-keyup="search_keyup($event)"><div class="col-sm-12"><div class="panel panel-default"><div class="panel-body"><div class="form-horizontal"><div class="searchParam"></div></div></div></div></div></div>')}]),angular.module("app/scripts/views/directive/hjm_content2img.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/hjm_content2img.html",'<div class="contentimg"><style type="text/css">.contents {\n            /*border-top: 1px #ccc solid;*/\n            border: 1px #ccc dashed;\n            padding-top: 10px;\n            margin-bottom: 15px;\n        }\n\n        .contentimg .btn {\n            margin-right: 10px;\n        }\n\n        .contentimg .panel-body {\n            padding: 0;\n        }\n\n        .contentimg .panel-body textarea {\n            border: 0;\n        }</style>\x3c!--<div class="form-group " ng-repeat="item in list">--\x3e\x3c!--<div class="col-sm-12" ng-class="{contents:onlyContent!=1}">--\x3e\x3c!--<div class="col-sm-12 form-group" ng-class="{\'hide\':disabled}">--\x3e\x3c!--<a class="btn btn-info btn-rounded" ng-bind="($index+1)"></a>--\x3e\x3c!--<a class="btn btn-success btn-rounded" ng-if="onlyContent!=1"--\x3e\x3c!--ng-class="{\'btn-success\':!item.showContent,\'btn-danger\':item.showContent}"--\x3e\x3c!--ng-click="toggleShow(item,\'showContent\')">--\x3e\x3c!--<span class="glyphicon"--\x3e\x3c!--ng-class="{\'glyphicon-plus\':!item.showContent,\'glyphicon-trash\':item.showContent}">--\x3e\x3c!--</span> {{item.showContentTitle}}--\x3e\x3c!--</a>--\x3e\x3c!--<a class="btn btn-success btn-rounded" ng-if="onlyContent!=1"--\x3e\x3c!--ng-class="{\'btn-success\':!item.showImg,\'btn-danger\':item.showImg}"--\x3e\x3c!--ng-click="toggleShow(item,\'showImg\')">--\x3e\x3c!--<span class="glyphicon"--\x3e\x3c!--ng-class="{\'glyphicon-plus\':!item.showImg,\'glyphicon-trash\':item.showImg}">--\x3e\x3c!--</span> {{item.showImgTitle}}--\x3e\x3c!--</a>--\x3e\x3c!--<a class="btn btn-danger btn-rounded" ng-if="onlyContent!=1" ng-click="del($index);">--\x3e\x3c!--<span class="glyphicon glyphicon-trash"></span> 删除这一条图文</a>--\x3e\x3c!--</div>--\x3e\x3c!--<div class="col-sm-12" ng-if="!!item.showContent">--\x3e\x3c!--<show-textarea ng-model="item.contentData" placeholder="填写你要说的"--\x3e\x3c!--disabled-role="{{disabledRole}}"></show-textarea>--\x3e\x3c!--</div>--\x3e\x3c!--<div class="col-sm-12" ng-if="!!item.showImg">--\x3e\x3c!--<show-upload images="item.pics" hasimages="" disabled-role="{{disabledRole}}"></show-upload>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e<div class="content-and-img"></div><div class="form-group" ng-class="{\'hide\':disabled}"><a class="btn btn-success btn-rounded" ng-click="add();" ng-if="onlyContent!=1"><span class="glyphicon glyphicon-plus"></span> 新增一条</a> <a class="btn btn-primary btn-rounded" ng-click="conslog()" show-role="admin">打印日志</a></div></div>')}]),angular.module("app/scripts/views/directive/hjm_date.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/hjm_date.html",'<div class="datepicker_class pull-left"><p class="input-group appendTimepicker" style="float: left;width: 200px"><input type="text" class="form-control" uib-datepicker-popup ng-model="dt" is-open="isopen" min-date="minDate" date-disabled="disabled(date, mode)" ng-change="changed();" close-text="关闭" clear-text="清空" ng-disabled="disabled" current-text="今天" style="width: 160px"> <span class="input-group-btn" style="width: 40px"><button type="button" class="btn btn-default" ng-click="open($event)" ng-disabled="disabled" style="margin-left: -1px"><i class="glyphicon glyphicon-calendar"></i></button></span></p><span class="" style="float: left;width: 107px"></span></div>')}]),angular.module("app/scripts/views/directive/hjm_date_time.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/hjm_date_time.html",'<div class="datepicker_class row pull-left"><div class="col-md-12 pull-left"><p class="input-group appendTimepicker" style="float: left;width: 200px"><input type="text" class="form-control" uib-datepicker-popup ng-model="dt" is-open="isopen" min-date="minDate" date-disabled="disabled(date, mode)" ng-change="changed();" close-text="关闭" clear-text="清空" ng-disabled="disabled" current-text="今天" style="width: 160px"> <span class="input-group-btn" style="width: 40px;display: block"><button type="button" class="btn btn-default" ng-click="open($event)" ng-disabled="disabled" style="margin-left: -1px"><i class="glyphicon glyphicon-calendar"></i></button></span></p><div uib-timepicker class="inline" ng-model="tp" show-meridian="false" show-spinners="false" mousewheel="false" readonly-input="disabled" arrowkeys="true" style="margin-left: 3px;float: left" ng-change="changed();"></div><p class="bg-info text-center" ng-if="showtip" ng-bind="(showtip==\'\')?\'上下方向键调时间\':showtip" style="float: left;width: 200px;margin-left: 10px;line-height: 34px"></p></div>\x3c!--<div class="col-md-6 pull-left">--\x3e\x3c!--</div>--\x3e</div>')}]),angular.module("app/scripts/views/directive/hjm_img_text.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/hjm_img_text.html",'<div class="contentimg"><style type="text/css">.contents {\n            /*border-top: 1px #ccc solid;*/\n            border: 1px #ccc dashed;\n            padding-top: 10px;\n            margin-bottom: 15px;\n        }\n\n        .contentimg .btn {\n            margin-right: 10px;\n        }\n\n        .contentimg .panel-body {\n            padding: 0;\n        }\n\n        .contentimg .panel-body textarea {\n            border: 0;\n        }</style><div class="img-or-text"></div><div class="form-group" ng-class="{\'hide\':disabled}"><a class="btn btn-success btn-rounded" ng-click="add();" ng-if="onlyContent!=1"><span class="glyphicon glyphicon-plus"></span> 新增一条</a> <a class="btn btn-primary btn-rounded" ng-click="conslog()" show-role="admin">打印日志</a></div></div>')}]),angular.module("app/scripts/views/directive/list/bindHtmlCompile.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/list/bindHtmlCompile.html","<div>{{compileNewElem}}</div>")}]),angular.module("app/scripts/views/directive/list/common_list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/list/common_list.html",'<table class="table table-hover table-bordered"><thead><th class="{{header.className}}" bindonce ng-repeat="header in res_head" bo-text="header.name"></th></thead><tbody><tr bindonce ng-repeat="result in res_data" ng-init="result.idx = $index"><td bindonce ng-repeat="item in res_head" ng-if="item.key==\'idx\'"><span class="msg_title" bo-text="result.idx+1"></span></td><td bindonce ng-repeat="item in res_head" ng-if="item.key!==\'idx\'"><span class="msg_title {{item.className}}" ng-if="(!item.template && item.key)" bo-text="result.{{item.key}}{{item.filter?(\' | \'+item.filter):\'\'}}"></span> <a class="{{obj.className}}" ng-click="obj_on(obj.event,result);" ng-if="(!item.template && item.on)" ng-repeat="obj in item.on">{{obj.name}}</a><br><div ng-if="item.template" bind-html-compile="item.template" result="result" res_extra="res_extra"></div></td></tr></tbody></table>')}]),angular.module("app/scripts/views/directive/nav-top/nav-account.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/nav-top/nav-account.html",'<ul class="nav navbar-nav pull-right navbar-right"><li class="admin-dropdown"><a ng-click="logout()">退出账户</a></li><li class="admin-dropdown" ng-show="env_name"><a ng-bind="env_name"></a></li><li class="admin-dropdown" ng-if="hjm.city_name"><a ng-bind="hjm.city_name" ng-click="change_city()"></a></li>\x3c!--<li class="dropdown" uib-dropdown="" on-toggle="toggled(open)">--\x3e\x3c!--<a class="dropdown-toggle notoggle"--\x3e\x3c!--uib-dropdown-toggle="" aria-haspopup="true"--\x3e\x3c!--aria-expanded="false">--\x3e\x3c!--<span ng-bind="hjm.current_city_name"></span> </a>--\x3e\x3c!--<ul class="dropdown-menu lang pull-right animated fadeIn" uib-dropdown-menu>--\x3e\x3c!--<li><a ng-click="changeLanguage(\'en\')">English</a></li>--\x3e\x3c!--<li><a ng-click="changeLanguage(\'de\')">Dutch</a></li>--\x3e\x3c!--<li><a ng-click="changeLanguage(\'ur\')">اردو</a></li>--\x3e\x3c!--<li><a ng-click="changeLanguage(\'hn\')">हिन्दी</a></li>--\x3e\x3c!--</ul>--\x3e\x3c!--</li>--\x3e<li class="dropdown admin-dropdown profile" uib-dropdown on-toggle="toggled(open)"><a class="dropdown-toggle" uib-dropdown-toggle aria-haspopup="true" aria-expanded="false"><img src="styles/images/flat-avatar.png" class="topnav-img"></a><ul class="dropdown-menu pull-right animated fadeIn" uib-dropdown-menu><li class="title"><a><span class="hidden-sm" ng-bind="hjm.username"></span></a></li><li><a ui-sref="main.account.profile">修改个人信息</a></li><li><a ng-click="change_city()">切换城市({{hjm.city_name||\'选择城市\'}})</a></li><li><a ng-click="logout()">退出系统</a></li></ul></li></ul>')}]),angular.module("app/scripts/views/directive/nav-top/nav-message.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/nav-top/nav-message.html",'<ul class="nav navbar-nav"><li class="dropdown" uib-dropdown="" on-toggle="toggled(open)" ng-show="$root.common.expires_product&&$root.common.expires_product.total>0"><a class="dropdown-toggle" uib-dropdown-toggle="" aria-haspopup="true" aria-expanded="false"><span class="fa fa-flash"></span>&nbsp;&nbsp;过期商品提醒&nbsp;&nbsp; <span class="badge badge-red" ng-bind="$root.common.expires_product&&$root.common.expires_product.total"></span></a><ul class="dropdown-menu animated fadeIn" uib-dropdown-menu><li class="messages-top text-center">有 {{$root.common.expires_product&&$root.common.expires_product.total}} 个商品即将过期.</li><li class="dropdown-messages" ng-repeat="obj in $root.common.expires_product.data"><a ui-sref="main.act.update({product_id:{{obj.product_id}}})"><div class="message-sender">ID :{{obj.product_id}}</div><div class="message-header">{{obj.title|limitTo:15}}..</div></a></li></ul></li><li class="dropdown" uib-dropdown="" on-toggle="toggled(open)" ng-show="$root.common.inventories_product&&$root.common.inventories_product.total>0"><a class="dropdown-toggle" uib-dropdown-toggle="" aria-haspopup="true" aria-expanded="false"><span class="fa fa-flash"></span>&nbsp;&nbsp;库存不足提醒&nbsp;&nbsp; <span class="badge badge-red" ng-bind="$root.common.inventories_product&&$root.common.inventories_product.total"></span></a><ul class="dropdown-menu animated fadeIn" uib-dropdown-menu><li class="messages-top text-center">有 {{$root.common.inventories_product&&$root.common.inventories_product.total}} 个商品库存不足.</li><li class="dropdown-messages" ng-repeat="obj in $root.common.inventories_product.data"><a ui-sref="main.act.update({product_id:{{obj.product_id}}})"><div class="message-sender">ID : {{obj.product_id}}</div><div class="message-header">{{obj.title|limitTo:15}}..</div></a></li></ul></li><li class="dropdown" uib-dropdown="" on-toggle="toggled(open)" ng-show="$root.new_version"><a class="dropdown-toggle" uib-dropdown-toggle="" aria-haspopup="true" aria-expanded="false" ng-click="$root.func.get_new_version();"><span class="fa fa-flash"></span>&nbsp;&nbsp;有最新版本,点击刷新&nbsp;&nbsp; <span class="badge badge-red">1</span></a></li><li class="dropdown" uib-dropdown=""><a class="dropdown-toggle" ng-click="refresh_product();"><span class="fa fa-refresh"></span></a></li></ul>')}]),angular.module("app/scripts/views/directive/order_list.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/order_list.html",'<div><div class="modal-header"><h3 class="modal-title" ng-bind="activityTitle"></h3><button type="button" class="btn btn-success" ng-click="export_excel()">导出Excel数据</button> <button type="button" class="btn btn-info" ng-csv="export" csv-header="csvHeader" filename="orderlist.csv">导出CSV数据</button></div><div class="modal-body"><table class="table table-hover table-bordered"><thead><th>编号</th><th>订单号</th><th>所在小区</th><th>详细地址</th><th>报名品类</th><th>价格</th><th>份数</th><th>支付金额</th><th>当前状态</th><th>订单时间</th><th>操作</th></thead><tbody><tr bindonce ng-repeat="user in user_list"><td><span class="msg_title" bo-text="$index+1"></span></td><td><span class="msg_title" bo-text="user.order_id"></span></td>\x3c!--<td><span class="msg_title" bo-text="user.name"></span></td> --\x3e\x3c!--<td><span class="msg_title" bo-text="user.mobile"></span></td> --\x3e<td><span class="msg_title" bo-text="user.community_name"></span></td><td><span class="msg_title" bo-text="\'联系人：\'+user.contact_name"></span><br><span class="msg_title" bo-text="\'联系人电话：\'+user.contact_mobile"></span><br><span class="msg_title" bo-text="\'联系地址：\'+user.contact_address"></span></td><td><span class="msg_title" bo-text="user.option_info"></span></td><td><span class="msg_title" bo-text="user.option_price"></span></td><td><span class="msg_title" bo-text="user.order_count"></span></td><td><span class="msg_title" bo-text="user.order_price"></span></td><td><span class="msg_title" ng-bind="user.order_status | order_status"></span></td><td><span class="msg_title" bo-text="user.order_time | limitTo:16"></span></td><td><a class="btn btn-danger" ng-if="user.order_status == 0||user.order_status == 1||user.order_status == 3" ng-click="activity_del_user(user.user_id,user.order_id,$index)">取消报名</a></td></tr></tbody></table></div><script type="text/ng-template" id="tuan_del_user.html"><div class="modal-header">\n            <h3 class="modal-title text-center">取消报名</h3>\n        </div>\n        <div class="modal-footer">\n            <button class="btn btn-success" ng-click="ok()">确定</button>\n            <button class="btn btn-warning" ng-click="cancel()">关闭</button>\n        </div><\/script></div>')}]),angular.module("app/scripts/views/directive/pintuan_order_list.html",[]).run(["$templateCache",function($templateCache){"use strict"
;$templateCache.put("app/scripts/views/directive/pintuan_order_list.html",'<div><script type="text/ng-template" id="tuan_del_user.html"><div class="modal-header">\n            <h3 class="modal-title text-center">取消报名</h3>\n        </div>\n        <div class="modal-body">\n            <form class="form-horizontal">\n                <div class="form-group">\n                    <label class="col-sm-3 control-label">取消原因<span class="form_label_dangus">*</span></label>\n\n                    <div class="col-sm-6">\n                    <textarea class="form-control" rows="3" id="reason" ng-model="reason" placeholder="结束原因">\n                    </textarea>\n                    </div>\n                </div>\n                \x3c!--<div class="form-group">--\x3e\n                \x3c!--<label class="col-sm-3 control-label">取消类型<span class="form_label_dangus">*</span></label>--\x3e\n\n                \x3c!--<div class="col-sm-6">--\x3e\n                \x3c!--<div class="radio-inline">--\x3e\n                \x3c!--<label>--\x3e\n                \x3c!--<input type="radio" name="cancel_from"--\x3e\n                \x3c!--ng-model="cancel_from" ng-value="1">--\x3e\n                \x3c!--后台取消--\x3e\n                \x3c!--</label>--\x3e\n                \x3c!--</div>--\x3e\n                \x3c!--<div class="radio-inline">--\x3e\n                \x3c!--<label>--\x3e\n                \x3c!--<input type="radio" name="cancel_from"--\x3e\n                \x3c!--ng-model="cancel_from" ng-value="0">--\x3e\n                \x3c!--用户取消--\x3e\n                \x3c!--</label>--\x3e\n                \x3c!--</div>--\x3e\n                \x3c!--</div>--\x3e\n                \x3c!--</div>--\x3e\n            </form>\n        </div>\n        <div class="modal-footer">\n            <button class="btn btn-success" ng-click="ok()">确定</button>\n            <button class="btn btn-warning" ng-click="cancel()">关闭</button>\n        </div><\/script><script type="text/ng-template" id="user_list.html"><div>\n            <div class="modal-header">\n                <h3 class="modal-title" ng-bind="list_param.activity_title"></h3>\n            </div>\n            <div class="modal-header">\n                <button type="button" class="btn btn-success" ng-click="export_excel()">\n                    导出Excel(推荐Windows系统)\n                </button>\n                <button type="button" class="btn btn-success" ng-csv="csv_data" csv-header="csvHeader"\n                        filename="orderlist.csv">\n                    导出CSV(推荐Mac系统)\n                </button>\n                <select class="form-control" ng-model="order_status" ng-change="select_status()"\n                        style="width: 120px; display: inline-block;">\n                    <option value="100">全部状态</option>\n                    <option value="3,5">订单成功</option>\n                    <option value="0">等待支付</option>\n                    <option value="1">支付中</option>\n                    <option value="2">已取消</option>\n                    \x3c!--<option value="3">支付成功</option>--\x3e\n                    <option value="4">支付失败\n                    </option\n                            \x3c!--<option value="5">已完成</option>--\x3e\n                </select>\n                <div class="pull-right">\n                    <span ng-bind="\'此状态下有\'+(idx-1)+\'个订单\'"></span>\n                </div>\n            </div>\n            <div class="modal-body">\n                <table class="table table-hover table-bordered">\n                    <thead>\n                    <th>编号</th>\n                    <th>订单号</th>\n                    <th>所在小区</th>\n                    <th>配送备注</th>\n                    <th>详细地址</th>\n                    <th>报名品类</th>\n                    <th>价格</th>\n                    <th>份数</th>\n                    <th>支付金额</th>\n                    <th>当前状态</th>\n                    <th>\n                        <div class="btn-group"\n                             ng-class="{\'dropup\':list_param.sort_field == \'order_time\' && list_param.sort_desc ==0}">\n                            <a class="btn"\n                               ng-class="{\'btn-primary\':list_param.sort_field == \'order_time\'}"\n                               ng-click="sort_order(\'order_time\')">订单时间\n                                <span ng-class="{\'caret\':list_param.sort_field == \'order_time\'}"></span>\n                            </a>\n                    </th>\n                    <th>操作</th>\n                    </thead>\n                    <tbody>\n                    <tr bindonce ng-repeat="user in user_list" ng-show="user.show">\n                        <td><span class="msg_title" ng-bind="user.idx"></span></td>\n                        <td><span class="msg_title" bo-text="user.order_id"></span></td>\n                        \x3c!--<td><span class="msg_title" bo-text="user.name"></span></td> --\x3e\n                        \x3c!--<td><span class="msg_title" bo-text="user.mobile"></span></td> --\x3e\n                        <td><span class="msg_title" bo-text="user.community_name"></span></td>\n                        <td>\n                            <span class="msg_title" bo-text="\'配送时间：\'+user.send_day"></span><br>\n                            <span class="msg_title" bo-text="\'备注：\'+user.remark"></span><br>\n                        </td>\n                        <td>\n                            <span class="msg_title" bo-text="\'城市：\'+user.city_name"></span><br>\n                            <span class="msg_title" bo-text="\'联系人：\'+user.contact_name"></span><br>\n                            <span class="msg_title" bo-text="\'联系人电话：\'+user.contact_mobile"></span><br>\n                            <span class="msg_title" bo-text="\'联系地址：\'+user.contact_address"></span>\n                        </td>\n                        <td><span class="msg_title" bo-text="user.option.name"></span></td>\n                        <td><span class="msg_title" bo-text="user.option.origin_price"></span></td>\n                        <td><span class="msg_title" bo-text="user.order_count"></span></td>\n                        <td><span class="msg_title" bo-text="user.order_price"></span></td>\n                        <td>\n                            <span class="msg_title" ng-if="user.refund_status!=1"\n                                  ng-bind="user.order_status | order_status"></span>\n                            <span class="msg_title"\n                                  ng-if="(user.order_status == 3||user.order_status == 5)&&user.refund_status==1"\n                                  ng-bind="\'退款待审核\'"></span>\n                            <span class="msg_title"\n                                  ng-if="(user.order_status == 2)&&user.refund_status==1"\n                                  ng-bind="\'已取消\'"></span>\n                            <span class="msg_title"\n                                  ng-if="(user.order_status == 0||user.order_status == 1||user.order_status == 4)&&user.refund_status==1"\n                                  ng-bind="\'未知状态\'"></span>\n                        </td>\n                        <td><span class="msg_title" bo-text="user.order_time | limitTo:16"></span></td>\n                        <td>\n                            <a class="btn btn-danger"\n                               ng-if="(user.order_status == 0||user.order_status == 3||user.order_status == 5)&&user.refund_status==0"\n                               ng-click="activity_del_user(user.user_id,user.order_id,$index)">取消报名</a>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-warning" ng-click="cancel()">关闭</button>\n            </div>\n        </div><\/script><a class="btn btn-info" ng-if="ordercount ||option.order.count" ng-click="order_user_list(option.activity_id,option.activity_title);"><span class="msg_title" bo-text="ordercount||option.order.count"></span></a></div>')}]),angular.module("app/scripts/views/directive/product/product-option.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/product/product-option.html",'<div><p ng-repeat="item in data.options"><span ng-if="item.option_name" ng-bind="($index+1)+\') : \'+item.option_name"></span> <span ng-if="item.option_name" ng-bind="\'/￥\' +item.option_price"></span><br></p></div>')}]),angular.module("app/scripts/views/directive/product/product-pattern.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/product/product-pattern.html",'<div><span>{{\'配送次数:\'+data.frequency_num}}</span><div ng-repeat="item in data.patterns"><span ng-if="item.brief" ng-bind="item.brief |characters:6:true" tooltip-placement="bottom" uib-tooltip="{{item.brief}}"></span></div><span>配送城市:</span> <span ng-bind="cities.join(\',\') |characters:3:true" tooltip-placement="bottom" uib-tooltip="{{cities.join(\',\')}}"></span></div>')}]),angular.module("app/scripts/views/directive/select_boards.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/select_boards.html",'<div><style type="text/css">.select-boards-tabs {\n            padding: 15px 15px 0;\n            margin-right: 0;\n            margin-left: 0;\n            background-color: #fff;\n            border-color: #e5e5e5 #eee #eee;\n            border-width: 1px;\n            border-radius: 4px;\n            /*border-style: solid;*/\n            -webkit-box-shadow: none;\n            box-shadow: none;\n        }\n\n        .select-boards-tabs > .tab-content {\n            margin: 0 -15px;\n        }\n\n        .tab-content-view > ul > li {\n            margin-right: 30px;\n        }\n\n        .sb_select {\n            color: #fff !important;\n        }</style><script type="text/ng-template" id="community_boards.html"><div class="modal-header">\n            <h3 class="modal-title text-center">更新负责区域</h3>\n        </div>\n        <div class="panel-body">\n            <div class="select-boards-tabs">\n                <ul class="nav nav-pills" role="tablist">\n                    <li role="presentation" ng-repeat="sup in all_boards">\n                        <a ng-href="{{\'#a\'+sup.district}}" aria-controls="{{\'a\'+sup.district}}" role="tab"\n                           data-toggle="tab">\n                            {{sup.district}}\n                            <span class="badge" ng-bind="sup.self_count" ng-if="sup.self_count>0"></span>\n                        </a>\n                    </li>\n                    <li role="presentation" class="active">\n                        <a ng-href="#cancel" aria-controls="cancel" role="tab"\n                           data-toggle="tab">\n                            取消\n                        </a>\n                    </li>\n                </ul>\n                <div class="tab-content">\n                    <div role="tabpanel" class="tab-pane" id="{{\'a\'+sup.district}}"\n                         ng-repeat="sup in all_boards" ng-init="sup.idx = $index">\n                        <div class="panel panel-default">\n                            <div class="panel-heading">\n                                <h3 class="panel-title">\n                                    <a class="btn btn-primary sb_select" ng-click="select_all(sup);">全选</a>\n                                    <a class="btn btn-primary sb_select" ng-click="reverse_all(sup);">反选</a>\n                                    <a class="btn btn-primary sb_select" ng-click="regain(sup);">恢复上次修改前的状态</a>\n                                    {{sup.district}}\n                                    <span class="badge" ng-bind="sup.count+\'个小区\'"></span>\n                                </h3>\n                            </div>\n                            <div class="panel-body tab-content-view">\n                                <ul class="nav nav-pills" role="tablist">\n                                    <li role="presentation" ng-repeat="sub in sup.boards">\n                                        <div class="checkbox">\n                                            <label title="{{sub.count+\'个小区，负责人是： \'+sub.username}}">\n                                                <input type="checkbox" ng-checked="sub.change==1"\n                                                       ng-click="toggle(sub);" ng-disabled="sub.def == 3">\n                                                {{sub.area}}\n                                            </label>\n                                        </div>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                    <div role="tabpanel" class="tab-pane active" id="cancel"></div>\n                </div>\n            </div>\n        </div>\n        <div class="modal-footer">\n            <a class="btn btn-warning" ng-click="cancel()">关闭</a>\n            <a class="btn btn-success" ng-click="update()">更新</a>\n        </div><\/script><a class="btn btn-primary" ng-click="community_boards()">编辑</a></div>')}]),angular.module("app/scripts/views/directive/select_city.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/select_city.html",'<div><ul class="nav nav-pills" role="tablist" ng-if="!isradio"><li role="presentation" ng-repeat="item in all_citys" style="margin-right: 15px"><div class="checkbox"><label><input type="checkbox" ng-checked="item.checked" ng-click="toggle(item);"> {{item.name}}</label></div></li></ul><ul class="nav nav-pills" role="tablist" ng-if="isradio"><li role="presentation" ng-repeat="item in all_citys" style="margin-right: 15px"><div class="checkbox"><label><input type="radio" ng-checked="item.checked" name="current_city_name" ng-click="toggle(item);"> {{item.name}}</label></div></li></ul></div>')}]),angular.module("app/scripts/views/directive/show_image.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/show_image.html",'<div ng-init="type=url.slice(url.lastIndexOf(\'.\') + 1)"><style>.modal.in .modal-dialog > .modal-content {\n            background-color: rgba(255, 255, 255, 0);\n        }\n\n        .rotate {\n            margin: 20px auto;\n            text-align: center;\n        }</style><div ng-if="\'|mp3|mp4|apk|pdf|doc|docx|xls|xlsx|ppt|pptx|\'.indexOf(\'|\' + type + \'|\')== -1" class="imgObjClass" style="{{widthPx&&(\'width:\'+widthPx) }}"><img class="img-responsive pointer show_image_radius" ng-click="show();" ng-src="{{url}}" alt="" ng-style="rotateObj"><div class="rotate" ng-show="rotate"><a class="btn btn-primary btn-sm btn-rounded" ng-class="{\'btn-success\':rotateGroupBtn[0]}" ng-click="rotateImg(-90,0)">左旋</a> <a class="btn btn-primary btn-sm btn-rounded" ng-class="{\'btn-success\':rotateGroupBtn[1]}" ng-click="rotateImg(180,1)">上翻</a> <a class="btn btn-primary btn-sm btn-rounded" ng-class="{\'btn-success\':rotateGroupBtn[2]}" ng-click="rotateImg(0,2)">还原</a> <a class="btn btn-primary btn-sm btn-rounded" ng-class="{\'btn-success\':rotateGroupBtn[3]}" ng-click="rotateImg(90,3)">右旋</a></div></div><span ng-bind="type+\' 文件\'" ng-if="\'|mp3|mp4|apk|pdf|doc|docx|xls|xlsx|ppt|pptx|\'.indexOf(\'|\' + type + \'|\')!== -1"></span><script type="text/ng-template" id="show.html"><img class="img-responsive center-block show_image_radius" ng-src="{{url}}"\n             ng-if="url.substring(url.length-4,url.length)!==\'.mp3\'"><\/script></div>')}]),angular.module("app/scripts/views/directive/show_str.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/show_str.html",'<div><a class="btn btn-info" ng-click="show();" ng-if="str" ng-bind="btn_str|limitTo:\'4\'">查看内容</a><script type="text/ng-template" id="show_str_tmp.html"><div class="modal-header">\n            <h3 class="modal-title" ng-bind="title"></h3>\n        </div>\n        <div class="modal-body">\n            <ul class="list-inline">\n                <li ng-repeat="item in str" ng-bind="item+\',\'" class="wrap width_100"></li>\n            </ul>\n        </div>\n        <div class="modal-footer">\n            <button class="btn btn-warning" ng-click="cancel()">关闭</button>\n        </div><\/script></div>')}]),angular.module("app/scripts/views/directive/side-left/side-menu.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/side-left/side-menu.html",'<div class="side-menu"><div class="menu-body"><ul class="nav nav-pills nav-stacked sidenav"><li ng-repeat="menu in menus" ng-if="menu.childs.length>0" ng-class="{active: (mainmenu == cons.state.main+\'.\'+menu.route) || $state.includes(\'{{cons.state.main+\'.\'+menu.route}}\')}">\x3c!--ng-class="{active: $state.includes(\'{{cons.state.main+\'.\'+menu.route}}\') }">--\x3e<a ui-sref="{{cons.state.main+\'.\'+menu.route}}"><span class="glyphicon" ng-class="menu.icon"></span></a><ul class="nested-dropdown animated fadeIn"><li class="sidemenu-header" ng-bind="menu.name" ng-if="menu.childs.length>0"></li><li ng-repeat="item in menu.childs"><a ui-sref="{{cons.state.main+\'.\'+item.route}}" ng-bind="item.name"></a></li></ul></li></ul></div></div>')}]),angular.module("app/scripts/views/directive/side-left/side-widgets.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/side-left/side-widgets.html",'<div class="side-widgets"><div class="widgets-content"><div class="text-center"><a ui-sref="profile" href="#/dashboard/profile"><img src="styles/images/flat-avatar.png" class="user-avatar"></a><div class="text-center avatar-name">Ani Pascal</div></div><div class="news-feed"><div class="feed-header ng-binding">NEWS FEED</div><div class="feed-content"><ul class="feed"><li><a class="ng-binding">Anna liked StrapUI .</a> <span class="feed-date">25/4/2015</span></li><li><a class="ng-binding">Henna birthday.</a> <span class="feed-date">25/4/2015</span></li></ul></div></div></div></div>')}]),angular.module("app/scripts/views/directive/upload/hjmUploadSources.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/upload/hjmUploadSources.html",'<div><style type="text/css">.upload-source {\n            width: 100%;\n            height: 100%;\n            overflow: hidden;\n            background: #eee;\n            -webkit-border-radius: 0;\n            position: relative;\n            border-radius: 5px;\n        }\n\n        .upload-source:before {\n            content: "+";\n            line-height: 50%;\n            cursor: pointer;\n            color: #000;\n            font-size: 45px;\n            text-align: center;\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            background: #eee;\n            border-radius: 5px;\n        }\n\n        .upload-source-bar {\n            margin-bottom: 0px;\n        }\n\n        .img_min {\n            max-height: 100px;\n            max-width: 100px;\n        }\n\n        .img_max {\n            max-height: 400px;\n            max-width: 400px;\n        }</style><style type="text/css">.dndsimpleDemo ul[dnd-list],\n        .dndsimpleDemo ul[dnd-list] > li {\n            position: relative;\n        }\n\n        .dndsimpleDemo ul[dnd-list] {\n            min-height: 42px;\n            padding-left: 0px;\n        }\n\n        .dndsimpleDemo ul[dnd-list] .dndDraggingSource {\n            display: none;\n        }\n\n        .dndsimpleDemo ul[dnd-list] .dndPlaceholder {\n            display: block;\n            background-color: #ddd;\n            min-height: 100px;\n        }\n\n        .dndsimpleDemo ul[dnd-list] li {\n            background-color: #fff;\n            border: 1px solid #ddd;\n            border-top-right-radius: 4px;\n            border-top-left-radius: 4px;\n            display: block;\n            padding: 10px 0px;\n            margin-bottom: -1px;\n            margin-left: 0;\n        }\n\n        .dndsimpleDemo ul[dnd-list] li.selected {\n            background-color: #dff0d8;\n            color: #3c763d;\n        }</style><div class="row"><div class="panel panel-info" style="border: 0">\x3c!--<div class="panel-heading"></div>--\x3e<div class="panel-body dndsimpleDemo" ng-show="sources&&sources.length>0">\x3c!--<pre ng-bind="uploader.queue | json">  这个不能json 这个自定义的对象里面有循环嵌套 </pre>--\x3e\x3c!--<pre ng-bind="sources | json"></pre>--\x3e<ul dnd-list="sources" ng-init="img_min = true;" dnd-inserted="getPos(index)" class="list-group"><li ng-repeat="(k,v) in sources" class="list-group-item row" dnd-draggable="v" dnd-moved="sources.splice(k, 1);getEle(k);" dnd-effect-allowed="move" ng-required="required"><div dnd-nodrag><div class="col-md-4" ng-class="{\'img_min\':img_min,\'img_max\':!img_min}" ng-show="type==1"><img class="img-responsive" ng-class="{\'img_min\':img_min,\'img_max\':!img_min}" ng-src="{{v.url|| uploader.queue[k].url}}" ng-if="type==1&&(v.url)"><div ng-show="uploader.isHTML5 &&type==1&&(!v.url)" ng-thumb="{ file: uploader.queue[k]._file, height: 100 , itemobj : uploader.queue[k]}"></div></div><div class="col-md-4 text-center"><input ng-model="v.name" ng-show="type!=1" class="form-control">\x3c!--<div ng-bind="v.id"></div>--\x3e\x3c!--<div ng-show="!v.id">--\x3e\x3c!--<span ng-show="uploader.queue[k].isSuccess">--\x3e\x3c!--<i class="glyphicon glyphicon-ok"></i>--\x3e\x3c!--</span>--\x3e\x3c!--<span ng-show="uploader.queue[k].isCancel">--\x3e\x3c!--<i class="glyphicon glyphicon-ban-circle"></i>--\x3e\x3c!--</span>--\x3e\x3c!--<span ng-show="uploader.queue[k].isError">--\x3e\x3c!--<i class="glyphicon glyphicon-remove"></i>--\x3e\x3c!--</span>--\x3e\x3c!--</div>--\x3e</div><div class="col-md-2 pull-right"><div class="progress" ng-show="!v.url||(v.url&&!v.id)"><div class="progress-bar" role="progressbar" style="width:{{uploader.queue[k].progress}}%"></div></div></div><div class="handle col-md-2 pull-right"><div ng-class="{\'hide\':disabled}"><button type="button" class="btn btn-danger btn-xs btn-rounded" ng-click="delSource(k,uploader.queue[k])" show-role="\'{{disabledRole}}\'"><span class="glyphicon glyphicon-trash"></span> 移除</button> <button type="button" class="btn btn-success btn-xs btn-rounded" ng-click="uploader.queue[k].upload()" ng-if="!v.url" ng-disabled="uploader.queue[k].isReady || uploader.queue[k].isUploading || uploader.queue[k].isSuccess"><span class="glyphicon glyphicon-upload"></span> 上传</button></div></div>\x3c!--<div dnd-handle class="handle col-md-1 pull-right">:::</div>--\x3e</div></li></ul></div></div></div><div ng-class="{\'hide\':disabled}"><div class="form-group" style="margin-bottom: 5px">\x3c!--上传过程:--\x3e<div class="col-sm-12"><div class="progress"><div class="progress-bar" role="progressbar" style="width:{{uploader.progress}}%"></div></div></div></div><div class="form-group upload-source-bar" style="margin-bottom: 5px"><div class="col-sm-2"><input class="form-control upload-source" type="file" nv-file-select uploader="uploader" multiple="multiple"></div><div class="col-sm-10"><button type="button" class="btn btn-success btn-rounded" ng-click="uploader.uploadAll()" ng-hide="hideBar[0] == 1" ng-disabled="!uploader.getNotUploadedItems().length"><span class="glyphicon glyphicon-upload"></span> 全部上传</button> <button type="button" class="btn btn-danger btn-rounded" ng-click="removeAll()" ng-hide="hideBar[1] == 1" ng-disabled="!uploader.queue.length"><span class="glyphicon glyphicon-trash"></span> 全部移除</button> <button type="button" class="btn btn-primary btn-rounded" ng-click="img_min = !img_min" ng-hide="hideBar[2] == 1"><span class="glyphicon" ng-class="{\'glyphicon-zoom-in\':img_min,\'glyphicon-zoom-out\':!img_min}"></span>图片缩放</button> <button type="button" class="btn btn-primary btn-rounded" ng-click="log()" ng-hide="hideBar[3] == 1"><span class="glyphicon glyphicon-paperclip"></span> 拖动排序后点我</button></div></div></div>\x3c!--<div class="col-sm-12 form-group">--\x3e\x3c!--<input class="form-control upload-source" type="file" nv-file-select uploader="uploader" multiple/>--\x3e\x3c!--</div>--\x3e</div>')}]),angular.module("app/scripts/views/directive/upload/showAddresses.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/upload/showAddresses.html",'<div><div class="row" ng-show="addresses&&addresses.length>0"><div class="panel panel-info" style="border: 0">\x3c!--<div class="panel-heading"></div>--\x3e<div class="panel-body"><ul class="list-group"><li ng-repeat="(k,v) in addresses" class="list-group-item row"><div><div class="col-md-10">\x3c!--<div class="form-group" ng-show="false">--\x3e\x3c!--<label class="col-sm-2 control-label">城市</label>--\x3e\x3c!--<div class="col-sm-10">--\x3e\x3c!--<input class="form-control" type="text" ng-model="v.city_name">--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e\x3c!--<div form-radio type="radio" text="是否为上海市" ng-model="v.isSH" required="true" default="1"--\x3e\x3c!--source="[{text:\'是\',value:\'1\'},{text:\'否\',value:\'2\'}]" source-api=""></div>--\x3e<div class="form-group"><label class="col-sm-2 control-label">活动地点</label><div class="col-sm-10"><input class="form-control" type="text" ng-model="v.address" placeholder="例如:永达国际大厦"></div></div><div class="form-group"><label class="col-sm-2 control-label">地址详情 <span class="form_label_dangus">*</span></label><div class="col-sm-8"><input class="form-control" type="text" ng-model="v.detail_address" placeholder="地址详情"></div><div class="col-sm-2"><a class="btn btn-info btn-rounded" ng-click="getlocation(k)">定位经纬</a></div></div><div class="form-group"><label class="col-sm-2 control-label">经度</label><div class="col-sm-4"><input class="form-control" type="text" ng-model="v.longitude" placeholder="经度" ng-disabled="true"></div><label class="col-sm-2 control-label">纬度</label><div class="col-sm-4"><input class="form-control" type="text" ng-model="v.latitude" placeholder="纬度" ng-disabled="true"></div></div><div class="form-group"><label class="col-sm-2 control-label">城市</label><div class="col-sm-4"><input class="form-control" type="text" ng-model="v.city_name" placeholder="城市" ng-disabled="true"></div><label class="col-sm-2 control-label">区县</label><div class="col-sm-4">\x3c!--<select class="form-control inlineBlock" ng-model="item.district"--\x3e\x3c!--ng-options="district.value as district.text for week in $root.common.district"></select>--\x3e<input class="form-control" type="text" ng-model="v.district" placeholder="区域" ng-disabled="true"></div></div><div class="form-group" ng-show="show_tip[k]"><div class="col-sm-10 col-sm-offset-2"><h5 class="text-danger">只允许上海市,若城市、区县显示有疑问,试试把详情地址中包含城市区县</h5></div></div><div class="form-group"><div class="col-sm-12"><div class="col-sm-2"></div><div class="col-sm-3"><a class="btn btn-info btn-rounded" ng-click="getlocation(k);mapData.isshowmap=!mapData.isshowmap;" ng-bind="!mapData.isshowmap?\'展开地图\':\'收起地图\'"></a></div><div class="col-sm-3"><div ng-class="{\'hide\':disabled}"><a type="button" class="btn btn-danger btn-rounded" ng-click="delAddress(k)" show-role="\'{{disabledRole}}\'"><span class="glyphicon glyphicon-trash"></span> 移除</a></div></div><div class="col-sm-3"><a class="btn btn-warning btn-rounded" ng-click="del_info(k)">隐藏微信页面地图</a></div></div></div></div></div></li></ul></div></div></div><div ng-class="{\'hide\':disabled}"><div class="form-group upload-image-bar" style="margin-bottom: 5px"><div class="col-sm-12"><div class="form-group" ng-show="mapData.isshowmap"><div class="col-sm-8 col-sm-offset-2" style="height: 450px"><baidumap map-data="mapData" callback="callback(index)"></baidumap></div></div></div><div class="col-sm-12"><button type="button" class="btn btn-success btn-rounded" ng-click="addAddress()"><span class="glyphicon glyphicon-upload"></span> 添加地址</button> <button type="button" class="btn btn-danger btn-rounded" ng-click="delAddress()" ng-disabled="!addresses.length"><span class="glyphicon glyphicon-trash"></span> 全部移除</button>\x3c!--<button type="button" class="btn btn-primary btn-rounded" ng-click="log()">--\x3e\x3c!--<span class="glyphicon glyphicon-paperclip"></span> console--\x3e\x3c!--</button>--\x3e</div></div></div></div>')}]),angular.module("app/scripts/views/directive/upload/showApkUpload.html",[]).run(["$templateCache",function($templateCache){"use strict"
;$templateCache.put("app/scripts/views/directive/upload/showApkUpload.html",'<div><style type="text/css">.upload-image {\n            width: 100%;\n            height: 100%;\n            overflow: hidden;\n            background: #eee;\n            -webkit-border-radius: 0;\n            position: relative;\n            border-radius: 5px;\n        }\n\n        .upload-image:before {\n            content: "选择文件";\n            line-height: 130%;\n            cursor: pointer;\n            color: #000;\n            font-size: 25px;\n            text-align: center;\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            background: #eee;\n            border-radius: 5px;\n        }</style><div class="row"><div class="panel panel-info" style="border: 0"><div class="panel-body dndsimpleDemo">\x3c!--<pre ng-bind="uploader.queue | json">  这个不能json 这个自定义的对象里面有循环嵌套 </pre>--\x3e\x3c!--<pre ng-bind="images | json"></pre>--\x3e<ul class="list-group" style="margin-bottom:0"><li ng-repeat="(k,v) in apk" class="list-group-item row" ng-required="required"><div><div class="col-md-6"><span class="fa fa-android" ng-if="uploader.queue[k].updated_at" style="font-size: 25px;color:green">当前的版本</span> <span ng-bind="uploader.queue[k].file.name" class="fa fa-android" ng-if="!uploader.queue[k].updated_at" style="font-size: 25px;color:blueviolet"></span></div><div class="col-md-2 text-center"><div ng-bind="v.pic_id"></div><div ng-show="!v.updated_at"><span ng-show="uploader.queue[k].isSuccess"><i class="glyphicon glyphicon-ok"></i></span> <span ng-show="uploader.queue[k].isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span> <span ng-show="uploader.queue[k].isError"><i class="glyphicon glyphicon-remove"></i></span></div></div><div class="col-md-2 pull-right"><div class="progress" ng-show="!v.updated_at"><div class="progress-bar" role="progressbar" style="width:{{uploader.queue[k].progress}}%"></div></div></div><div class="handle col-md-2 pull-right"><div ng-class="{\'hide\':disabled}"><button type="button" class="btn btn-danger btn-xs btn-rounded" ng-click="delApk(k,uploader.queue[k])" show-role="\'{{disabledRole}}\'"><span class="glyphicon glyphicon-trash"></span> 移除</button> <button type="button" class="btn btn-success btn-xs btn-rounded" ng-click="uploader.queue[k].upload()" ng-if="!v.updated_at" ng-disabled="uploader.queue[k].isReady || uploader.queue[k].isUploading || uploader.queue[k].isSuccess"><span class="glyphicon glyphicon-upload"></span> 上传</button></div></div></div></li></ul></div></div></div><div ng-class="{\'hide\':disabled}">\x3c!--<div class="form-group">--\x3e\x3c!--&lt;!&ndash;上传过程:&ndash;&gt;--\x3e\x3c!--<div class="col-sm-12">--\x3e\x3c!--<div class="progress">--\x3e\x3c!--<div class="progress-bar" role="progressbar" style="width:{{uploader.progress}}%"></div>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e<div class="form-group"><div class="col-sm-2"><input class="form-control upload-image" type="file" nv-file-select uploader="uploader" multiple="multiple"></div>\x3c!--<div class="col-sm-10">--\x3e\x3c!--<button type="button" class="btn btn-success btn-rounded" ng-click="uploader.uploadAll()"--\x3e\x3c!--ng-disabled="!uploader.getNotUploadedItems().length">--\x3e\x3c!--<span class="glyphicon glyphicon-upload"></span> 全部上传--\x3e\x3c!--</button>--\x3e\x3c!--<button type="button" class="btn btn-danger btn-rounded" ng-click="removeAll()"--\x3e\x3c!--ng-disabled="!uploader.queue.length">--\x3e\x3c!--<span class="glyphicon glyphicon-trash"></span> 全部移除--\x3e\x3c!--</button>--\x3e\x3c!--</div>--\x3e</div></div><br></div>')}]),angular.module("app/scripts/views/directive/upload/showAudioUpload.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/upload/showAudioUpload.html",'<div><style type="text/css">.voiceItem {\n            background-color: skyblue;\n            color: white;\n            min-width: 100px;\n            width: 100px;\n            min-height: 32px;\n            border-radius: 3px;\n            cursor: pointer;\n            line-height: 32px;\n            text-indent: 10px;\n            position: relative;\n        }\n\n        .voiceText {\n            position: absolute;\n            top: 0;\n            left: 45px;\n        }</style><div class="row"><div class="panel panel-info" style="border: 0"><div class="panel-body dndsimpleDemo">\x3c!--<pre ng-bind="uploader.queue | json">  这个不能json 这个自定义的对象里面有循环嵌套 </pre>--\x3e\x3c!--<pre ng-bind="images | json"></pre>--\x3e<ul class="list-group"><li ng-repeat="(k,v) in audio" class="list-group-item row"><div class="col-md-6"><div class="voiceItem" ng-click="playRecord(v)"><div id="{{v.id}}" class="voiceObj">{{v.duration}}s</div><span class="voiceText" ng-show="v.playing">已选中/正在播放..</span></div></div><div class="col-md-6"><span ng-show="v.type!=3" class="text-danger">未上传</span> <span ng-show="v.type==3" class="text-success">上传成功</span> <a ng-click="audio.splice($index,1)" class="btn btn-danger btn-rounded btn-sm pull-right">删除</a>\x3c!--<a ng-click="upload_audio(v,$index)" class="btn btn-success btn-rounded btn-sm  pull-right"--\x3e\x3c!--ng-disabled="v.type==3">上传</a>--\x3e\x3c!--<span ng-bind="v|json"></span>--\x3e</div></li></ul></div></div></div><div ng-class="{\'hide\':disabled}"><div class="form-group"><div class="col-md-12"><audio controls autoplay id="main_audio" ng-src="{{sce(audio_url)}}" ng-show="false"></audio><a ng-click="startRecording()" class="btn btn-primary">开始录音 <span class="badge" ng-bind="(duration>0?(\' \'+duration+\' s\'):\'\')" ng-show="duration>0">4</span></a>\x3c!--<a ng-click="stopRecord()" class="btn btn-success btn-rounded btn-sm">停止录音</a>--\x3e\x3c!--<a ng-click="playRecord()" class="btn btn-success btn-rounded btn-sm">播放</a>--\x3e <a ng-click="send()" class="btn btn-warning">提交录音</a>\x3c!--<a ng-click="play_pause()" class="btn btn-success btn-rounded btn-sm">播放/暂停</a>--\x3e\x3c!--<span class="label label-default" ng-bind="(duration>0?(\'   \'+duration+\'s\'):\'\')"--\x3e\x3c!--ng-show="duration>0"></span>--\x3e\x3c!--<span ng-bind="duration"></span>--\x3e</div></div></div><br></div>')}]),angular.module("app/scripts/views/directive/upload/showMediaUpload.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/upload/showMediaUpload.html",'<div><style type="text/css">.upload-image {\n            width: 100%;\n            height: 100%;\n            overflow: hidden;\n            background: #eee;\n            -webkit-border-radius: 0;\n            position: relative;\n            border-radius: 5px;\n        }\n\n        .upload-image:before {\n            content: "+";\n            line-height: 50%;\n            cursor: pointer;\n            color: #000;\n            font-size: 45px;\n            text-align: center;\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            background: #eee;\n            border-radius: 5px;\n        }</style><div class="row"><div class="panel panel-info" style="border: 0"><div class="panel-body dndsimpleDemo">\x3c!--<pre ng-bind="uploader.queue | json">  这个不能json 这个自定义的对象里面有循环嵌套 </pre>--\x3e\x3c!--<pre ng-bind="images | json"></pre>--\x3e<ul class="list-group"><li ng-repeat="(k,v) in media" class="list-group-item row" ng-required="required"><div><div class="col-md-6"><span ng-bind="uploader.queue[k].qiniu_url"></span></div><div class="col-md-2 text-center"><div ng-bind="v.pic_id"></div><div ng-show="!v.updated_at"><span ng-show="uploader.queue[k].isSuccess"><i class="glyphicon glyphicon-ok"></i></span> <span ng-show="uploader.queue[k].isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span> <span ng-show="uploader.queue[k].isError"><i class="glyphicon glyphicon-remove"></i></span></div></div><div class="col-md-2 pull-right"><div class="progress" ng-show="!v.updated_at"><div class="progress-bar" role="progressbar" style="width:{{uploader.queue[k].progress}}%"></div></div></div><div class="handle col-md-2 pull-right"><div ng-class="{\'hide\':disabled}"><button type="button" class="btn btn-danger btn-xs btn-rounded" ng-click="delAudio(k,uploader.queue[k])" show-role="\'{{disabledRole}}\'"><span class="glyphicon glyphicon-trash"></span> 移除</button> <button type="button" class="btn btn-success btn-xs btn-rounded" ng-click="uploader.queue[k].upload()" ng-if="!v.updated_at" ng-disabled="uploader.queue[k].isReady || uploader.queue[k].isUploading || uploader.queue[k].isSuccess"><span class="glyphicon glyphicon-upload"></span> 上传</button></div></div></div></li></ul></div></div></div><div ng-class="{\'hide\':disabled}"><div class="form-group">\x3c!--上传过程:--\x3e<div class="col-sm-12"><div class="progress"><div class="progress-bar" role="progressbar" style="width:{{uploader.progress}}%"></div></div></div></div><div class="form-group"><div class="col-sm-2"><input class="form-control upload-image" type="file" nv-file-select uploader="uploader" multiple="multiple"></div><div class="col-sm-10"><button type="button" class="btn btn-success btn-rounded" ng-click="uploader.uploadAll()" ng-disabled="!uploader.getNotUploadedItems().length"><span class="glyphicon glyphicon-upload"></span> 全部上传</button> <button type="button" class="btn btn-danger btn-rounded" ng-click="removeAll()" ng-disabled="!uploader.queue.length"><span class="glyphicon glyphicon-trash"></span> 全部移除</button></div></div></div><br></div>')}]),angular.module("app/scripts/views/directive/upload/showUpload.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/upload/showUpload.html",'<div class="" style="border: 1px #ccc solid"><style type="text/css">.upload-image {\n            width: 100%;\n            height: 100%;\n            overflow: hidden;\n            background: #eee;\n            -webkit-border-radius: 0;\n            position: relative;\n            border-radius: 5px;\n        }\n\n        .upload-image:before {\n            content: "+";\n            line-height: 50%;\n            cursor: pointer;\n            color: #000;\n            font-size: 45px;\n            text-align: center;\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            background: #eee;\n            border-radius: 5px;\n        }\n\n        .upload-image-bar {\n            margin-bottom: 0px;\n        }\n\n        .img_min {\n            max-height: 100px;\n            max-width: 100px;\n        }\n\n        .img_max {\n            max-height: 400px;\n            max-width: 400px;\n        }</style><style type="text/css">.dndsimpleDemo ul[dnd-list],\n        .dndsimpleDemo ul[dnd-list] > li {\n            position: relative;\n        }\n\n        .dndsimpleDemo ul[dnd-list] {\n            min-height: 42px;\n            padding-left: 0px;\n        }\n\n        .dndsimpleDemo ul[dnd-list] .dndDraggingSource {\n            display: none;\n        }\n\n        .dndsimpleDemo ul[dnd-list] .dndPlaceholder {\n            display: block;\n            background-color: #ddd;\n            min-height: 100px;\n        }\n\n        .dndsimpleDemo ul[dnd-list] li {\n            background-color: #fff;\n            border: 1px solid #ddd;\n            border-top-right-radius: 4px;\n            border-top-left-radius: 4px;\n            display: block;\n            padding: 10px 0px;\n            margin-bottom: -1px;\n            margin-left: 0;\n        }\n\n        .dndsimpleDemo ul[dnd-list] li.selected {\n            background-color: #dff0d8;\n            color: #3c763d;\n        }</style><div class="row" style="margin: 0"><div class="panel panel-info" style="border: 0">\x3c!--<div class="panel-heading"></div>--\x3e<div class="panel-body dndsimpleDemo" ng-show="images&&images.length>0">\x3c!--<pre ng-bind="uploader.queue | json">  这个不能json 这个自定义的对象里面有循环嵌套 </pre>--\x3e\x3c!--<pre ng-bind="images | json"></pre>--\x3e<ul dnd-list="images" ng-init="img_min = true;" dnd-inserted="getPos(index)" dnd-allowed-types="allowedType" class="list-group"><li ng-repeat="(k,v) in images" class="list-group-item row" dnd-type="dndAllowType" dnd-draggable="v" dnd-moved="images.splice(k, 1);getEle(k);" dnd-effect-allowed="move" ng-required="required"><div dnd-nodrag><div class="col-md-6" ng-class="{\'img_min\':img_min,\'img_max\':!img_min}">\x3c!--<strong class="ng-binding" ng-bind="uploader.queue[k].file.name"--\x3e\x3c!--ng-if="!uploader.queue[k].qiniu_url"></strong>--\x3e<img class="img-responsive" ng-class="{\'img_min\':img_min,\'img_max\':!img_min}" ng-src="{{v.pic_url|| uploader.queue[k].qiniu_url}}" ng-if="v.pic_url || uploader.queue[k].qiniu_url"><div ng-show="uploader.isHTML5 && !v.pic_url" ng-thumb="{ file: uploader.queue[k]._file, height: 100 , itemobj : uploader.queue[k]}"></div></div><div class="col-md-2 text-center"><div ng-bind="v.pic_id"></div><div ng-show="!v.updated_at"><span ng-show="uploader.queue[k].isSuccess"><i class="glyphicon glyphicon-ok"></i></span> <span ng-show="uploader.queue[k].isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span> <span ng-show="uploader.queue[k].isError"><i class="glyphicon glyphicon-remove"></i></span></div></div><div class="col-md-2 pull-right"><div class="progress" ng-show="!v.updated_at"><div class="progress-bar" role="progressbar" style="width:{{uploader.queue[k].progress}}%"></div></div></div><div class="handle col-md-2 pull-right"><div ng-class="{\'hide\':disabled}"><button type="button" class="btn btn-danger btn-xs btn-rounded" ng-click="delImage(k,uploader.queue[k])" show-role="\'{{disabledRole}}\'"><span class="glyphicon glyphicon-trash"></span> 移除</button> <button type="button" class="btn btn-success btn-xs btn-rounded" ng-click="uploader.queue[k].upload()" ng-if="!v.updated_at" ng-disabled="uploader.queue[k].isReady || uploader.queue[k].isUploading || uploader.queue[k].isSuccess || !!v.pic_url"><span class="glyphicon glyphicon-upload"></span> 上传</button></div></div>\x3c!--<div dnd-handle class="handle col-md-1 pull-right">:::</div>--\x3e</div></li></ul></div></div></div><div ng-class="{\'hide\':disabled}" style="padding: 10px"><div class="form-group" style="margin-bottom: 5px">\x3c!--上传过程:--\x3e<div class="col-sm-12"><div class="progress"><div class="progress-bar" role="progressbar" style="width:{{uploader.progress}}%"></div></div></div></div><div class="form-group upload-image-bar" style="margin-bottom: 5px"><div class="col-sm-2"><input class="form-control upload-image" type="file" nv-file-select uploader="uploader" multiple="multiple"></div><div class="col-sm-10"><button type="button" class="btn btn-success btn-rounded" ng-click="uploader.uploadAll()" ng-hide="hideBar[0] == 1" ng-disabled="!uploader.getNotUploadedItems().length"><span class="glyphicon glyphicon-upload"></span> 全部上传</button> <button type="button" class="btn btn-danger btn-rounded" ng-click="removeAll()" ng-hide="hideBar[1] == 1" ng-disabled="!uploader.queue.length"><span class="glyphicon glyphicon-trash"></span> 全部移除</button> <button type="button" class="btn btn-primary btn-rounded" ng-click="img_min = !img_min" ng-hide="hideBar[2] == 1"><span class="glyphicon" ng-class="{\'glyphicon-zoom-in\':img_min,\'glyphicon-zoom-out\':!img_min}"></span>图片缩放</button> <button type="button" class="btn btn-primary btn-rounded" ng-click="log()" ng-hide="hideBar[3] == 1"><span class="glyphicon glyphicon-paperclip"></span> 拖动排序后点我</button></div></div></div></div>')}]),angular.module("app/scripts/views/directive/upload/showUploadSingle.html",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/scripts/views/directive/upload/showUploadSingle.html",'<div><style type="text/css">.upload-image {\n            width: 100%;\n            height: 100%;\n            overflow: hidden;\n            background: #eee;\n            -webkit-border-radius: 0;\n            position: relative;\n            border-radius: 5px;\n        }\n\n        .upload-image:before {\n            content: "+";\n            line-height: 50%;\n            cursor: pointer;\n            color: #000;\n            font-size: 45px;\n            text-align: center;\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            background: #eee;\n            border-radius: 5px;\n        }\n\n        .upload-image-bar {\n            margin-bottom: 0px;\n        }</style><div class="row"><div class="panel panel-info" style="border: 0"><div class="panel-body" ng-show="images"><ul class="list-group"><li class="list-group-item row" ng-required="required"><div><div class="col-md-6"><img class="img-responsive" ng-src="{{images|| uploader.queue[0].qiniu_url}}" ng-if="images || uploader.queue[0].qiniu_url"><div ng-show="uploader.isHTML5 && !images" ng-thumb="{ file: uploader.queue[0]._file, height: 100 , itemobj : uploader.queue[0]}"></div></div><div class="col-md-2 text-center"><div ng-bind="images"></div><div ng-show="!images"><span ng-show="uploader.queue[0].isSuccess"><i class="glyphicon glyphicon-ok"></i></span> <span ng-show="uploader.queue[0].isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span> <span ng-show="uploader.queue[0].isError"><i class="glyphicon glyphicon-remove"></i></span></div></div><div class="col-md-2 pull-right"><div class="progress" ng-show="!images"><div class="progress-bar" role="progressbar" style="width:{{uploader.queue[0].progress}}%"></div></div></div><div class="handle col-md-2 pull-right"><div ng-class="{\'hide\':disabled}"><button type="button" class="btn btn-danger btn-xs btn-rounded" ng-click="delImage(0,uploader.queue[0])" show-role="\'{{disabledRole}}\'"><span class="glyphicon glyphicon-trash"></span> 移除</button> <button type="button" class="btn btn-success btn-xs btn-rounded" ng-click="uploader.queue[0].upload()" ng-if="!images" ng-disabled="uploader.queue[0].isReady || uploader.queue[0].isUploading || uploader.queue[0].isSuccess"><span class="glyphicon glyphicon-upload"></span> 上传</button></div></div></div></li></ul></div></div></div><div ng-class="{\'hide\':disabled}"><div class="form-group upload-image-bar" style="margin-bottom: 5px"><div class="col-sm-2"><input class="form-control upload-image" type="file" nv-file-select uploader="uploader" autoupload="true" multiple="multiple"></div><div class="col-sm-2"><input class="form-control upload-image" type="file" nv-file-over uploader="uploader" multiple="multiple"></div></div></div>\x3c!--<div class="col-sm-12 form-group">--\x3e\x3c!--<input class="form-control upload-image" type="file" nv-file-select uploader="uploader" multiple/>--\x3e\x3c!--</div>--\x3e</div>')}]),define("app-tpl",function(){}),define("app",["ui.router","angular-animate","dndLists","angucomplete-alt","angular-aria","angular-truncate","bindonce","ui.bootstrap","ng.simditor","angular-file-upload","ng.ueditor","ab-base64","perfect_scrollbar","angular-loading-bar","progressButton","controllers/_base","states/_base","directives/_base","filters/_base","services/_base","app-tpl"],function(){return angular.module("huijiaApp",["ui.router","ngAnimate","dndLists","angucomplete-alt","ngAria","truncate","pasvaz.bindonce","ui.bootstrap","ng.simditor","angularFileUpload","ng.ueditor","ab-base64","perfect_scrollbar","angular-loading-bar","progressButton","huijiaControllers","huijiaStates","huijiaDirectives","huijiaFilters","huijiaServices","app-tpl"])}),define("bootstrap",["angular","app"],function(angular){"use strict";angular.element(document).ready(function(){angular.bootstrap(document,["huijiaApp"])})});