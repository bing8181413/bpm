<div>
    <style type="text/css">
        .upload-image {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #eee;
            -webkit-border-radius: 0;
            position: relative;
            border-radius: 5px;
        }

        .upload-image:before {
            content: "+";
            line-height: 50%;
            cursor: pointer;
            color: #000;
            font-size: 45px;
            text-align: center;
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: #eee;
            border-radius: 5px;
        }
    </style>
    <table class="table table-hover table-bordered table-condensed">
        <thead>
        <tr>
            <th width="50%">图片</th>
            <th width="10%" ng-show="uploader.isHTML5">大小</th>
            <th width="20%" ng-show="uploader.isHTML5">上传进度</th>
            <th width="10%">状态</th>
            <th width="10%">操作</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="(k,v) in uploader.queue track by $index" ng-required="required">
            <td width="50%">
                <strong class="ng-binding" ng-bind="v.file.name" ng-if="!v.qiniu_url"></strong>
                <img class="img-responsive" ng-src="{{v.qiniu_url}}" ng-if="v.qiniu_url">
                <div ng-show="uploader.isHTML5" ng-thumb="{ file: v._file, height: 100 , itemobj : v}"></div>
                <a class="img_a" ng-if="v.old">
                    <img class="img-responsive" ng-src="{{v.url}}"/>
                </a>
            </td>
            <td ng-show="uploader.isHTML5">
                <span ng-if="!v.old" ng-bind="(v.file.size/1024/1024|number:2)+'MB'"></span>
            </td>
            <td ng-show="uploader.isHTML5">
                <div class="progress" style="margin-bottom: 0;">
                    <div class="progress-bar" role="progressbar" style="width:{{v.progress}}%;"
                         style="width: 0%;"></div>
                </div>
            </td>
            <td class="text-center">
                <div ng-if="!v.old">
                    <span ng-show="v.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
                    <span ng-show="v.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
                    <span ng-show="v.isError"><i class="glyphicon glyphicon-remove"></i></span>
                </div>
            </td>
            <td>
                <div ng-class="{'hide':disabled}">
                    <!--<button type="button" class="btn btn-primary btn-xs btn-rounded" ng-click="addImage($index)">-->
                    <!--<span class="glyphicon glyphicon-plus"></span> 插入-->
                    <!--</button>-->
                    <button type="button" class="btn btn-success btn-xs btn-rounded" ng-click="v.upload()"
                            ng-if="!v.old"
                            ng-disabled="v.isReady || v.isUploading || v.isSuccess">
                        <span class="glyphicon glyphicon-upload"></span> 上传
                    </button>
                    <button type="button" class="btn btn-danger btn-xs btn-rounded" ng-click="delImage(k,v)"
                            show-role="'{{disabledRole}}'">
                        <span class="glyphicon glyphicon-trash"></span> 移除
                    </button>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
    <div ng-class="{'hide':disabled}">
        <div class="form-group">
            <!--上传过程:-->
            <div class="col-sm-12">
                <div class="progress">
                    <div class="progress-bar" role="progressbar" style="width:{{uploader.progress}}%"></div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-2">
                <input class="form-control upload-image" type="file" nv-file-select uploader="uploader" multiple/>
            </div>
            <div class="col-sm-10">
                <button type="button" class="btn btn-success btn-rounded" ng-click="uploader.uploadAll()"
                        ng-disabled="!uploader.getNotUploadedItems().length">
                    <span class="glyphicon glyphicon-upload"></span> 全部上传
                </button>
                <button type="button" class="btn btn-danger btn-rounded" ng-click="removeAll()"
                        ng-disabled="!uploader.queue.length">
                    <span class="glyphicon glyphicon-trash"></span> 全部移除
                </button>
                <button type="button" class="btn btn-warning btn-rounded" ng-click="log()">
                    <span class="glyphicon glyphicon-add"></span> log
                </button>
            </div>
        </div>
    </div>
    <br/>
    <!--<div class="col-sm-12 form-group">-->
    <!--<input class="form-control upload-image" type="file" nv-file-select uploader="uploader" multiple/>-->
    <!--</div>-->
</div>