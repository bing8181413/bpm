<script type="text/ng-template" id="comment_list.html">
    <div class="modal-header">
        <h3 class="modal-title">评论列表</h3>
    </div>
    <div class="modal-body">
        <table class="table table-bordered">
            <thead>
            <tr>
                <th class="info">ID</th>
                <th class="info">评论人</th>
                <th class="info">内容</th>
                <th class="info">时间</th>
                <th class="info">头像</th>
            </tr>
            </thead>
            <tbody>
            <tr bindonce ng-repeat="comment in comment_list track by $index">
                <td><span bo-text="$index + 1"></span></td>
                <td><span bo-text="comment.alias_name"></span></td>
                <td><span bo-text="comment.comment"></span></td>
                <td><span bo-text="comment.created_at"></span></td>
                <td><span bo-text="comment.avatar_url"></span></td>
            </tr>
        </table>
    </div>
    <div class="modal-footer">
        <!--<button class="btn btn-primary" ng-click="ok()">OK</button>-->
        <button class="btn btn-warning" ng-click="cancel()">关闭</button>
    </div>
</script>
<div class="container-fluid">
    <div class="panel panel-default">
        <!-- Default panel contents -->
        <div class="panel-heading">
            <ul class="nav nav-pills">
                <li role="presentation" ng-class="{active:tab ==1}"><a class="btn"
                                                                       ng-click="tab=1;getapi(1,1);">发布的动态</a></li>
                <li role="presentation" ng-class="{active:tab ==2}"><a class="btn"
                                                                       ng-click="tab=2;getapi(1,2);">已删除的动态</a></li>
                <li role="presentation" ng-class="{active:tab ==3}"><a class="btn"
                                                                       ng-click="tab=3;getapi(1,3);">已屏蔽的动态</a></li>
            </ul>
        </div>
        <table class="table table-hover table-bordered">
            <thead>
            <tr>
                <th style="width: 10%;">动态ID</th>
                <th style="width: 10%;">发布者</th>
                <th style="width: 10%;">来自小区</th>
                <th style="width: 10%;">类型</th>
                <th style="width: 20%;">内容</th>
                <th style="width: 20%;">图片</th>
                <th style="width: 10%;">时间</th>
                <th style="width: 10%;" ng-if="tab==1 || tab==2|| tab==3">操作</th>
            </tr>
            </thead>
            <tbody>
            <tr bindonce ng-repeat="feed in Feeds track by feed.feed_id" ng-if="feed" ng-init="feed.index = $index">
                <td><span bo-text="feed.feed_id"></span></td>
                <td><span bo-text="feed.user_name"></span></td>
                <td><span bo-text="feed.community_name"></span></td>
                <td><span bo-text="feed.category_names"></span></td>
                <td><span bo-text="feed.content"></span></td>
                <td>
                    <!--<div class="img_a" ng-class="{big_pic:feed.toggleclass}" ng-repeat="pic in feed.feed_pics"-->
                         <!--ng-if="feed.feed_pics[0]">-->
                    <!--</div>-->
                    <show_image url="feed.feed_pics[0]" ng-if="feed.feed_pics[0]"></show_image>
                </td>
                <td><span bo-text="feed.created_at"></span></td>
                <td ng-if="tab==1 ||tab==2">
                    <div ng-if="tab==1">
                        <a class="btn btn-danger" ng-click="feedstatus(feed.feed_id, 3, feed.index);">屏蔽</a>
                    </div>
                    <div ng-if="tab==2 || tab==3">
                        <a class="btn btn-success" ng-click="feedstatus(feed.feed_id, 1, feed.index);">恢复发布</a>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="text-center" id="pagination">
        <pagination total-items="totalItems" ng-model="currentPage" max-size="maxSize" class="pagination"
                    boundary-links="true" ng-change="getapi(currentPage)"
                    rotate="false" num-pages="numPages" previous-text="&lsaquo;" next-text="&rsaquo;"
                    first-text="&laquo;" last-text="&raquo;"></pagination>
    </div>
</div>