<style>
    .form_label_dangus {
        color: #E21100;
        vertical-align: middle;
        font-size: 24px;
    }

    #list > thead > tr > th {
        border-bottom: 0;
        text-align: center;
    }

    .img_a {
        display: inline-block;
        width: 50px;
        max-height: 50px;
        max-width: 30%;
        cursor: pointer;
        margin-right: 3px;
    }

    .img_a > img {
        width: 50px;
        height: 50px;
    }

    .img_avart {
        float: left;
        width: 50px;
        height: 50px;
        max-height: 50px;
        max-width: 30%;
        cursor: pointer;
        margin-right: 3px;
    }

    .img_avart > img {
        border-radius: 10px;
        width: 50px;
        height: 50px;
    }

    .user_name {
        display: inline-block;
        float: left;
        text-indent: 10px;
    }

    .user_name > span {
        line-height: 50px;
        color: #6e6e6e;
    }

    .big_pic {
        width: 500px;
        max-width: 100%;
        max-height: 100%;
    }

    .img_a.big_pic > img {
        width: auto;
        height: auto;
    }

    .panel {
        margin-bottom: 100px;
    }

    .modal_pagination {
        float: left;
    }

    .modal_pagination > .text-center {
        padding: 0 25px;
        opacity: 0.8;
        border-radius: 5px;
    }
</style>
<script type="text/ng-template" id="feedback_send.html">
    <div class="modal-header">
        <h3 class="modal-title">回复消息</h3>
    </div>
    <div class="modal-body">
        <form class="form-horizontal">
            <div class="form-group">
                <label class="col-sm-3 control-label">手机号码<span class="form_label_dangus">*</span></label>
                <div class="col-sm-9">
                    <input class="form-control" ng-model="mobile" type="mobile" placeholder="手机号码">
                    </input>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">回复内容<span class="form_label_dangus">*</span></label>
                <div class="col-sm-9">
                    <div class="list-group">
                        <textarea class="form-control" rows="3" ng-model="content"></textarea>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-success" ng-click="ok()">回复</button>
        <button class="btn btn-warning" ng-click="cancel()">关闭</button>
    </div>
</script>
<div class="container-fluid">
    <div class="panel panel-primary">
        <div class="panel-heading" ng-bind="feedback_type_name">消息管理</div>
        <div class="panel-body" ng-show="feedback_type==0">
            <ul class="nav nav-pills">
                <li role="presentation" ng-class="{active:list_param.feedback_type ==0}">
                    <a class="btn" ng-click="list_param.feedback_type=0;getapi(1);">全部</a>
                </li>
                <li role="presentation" ng-class="{active:list_param.feedback_type ==1}">
                    <a class="btn" ng-click="list_param.feedback_type=1;getapi(1);">反馈</a>
                </li>
                <li role="presentation" ng-class="{active:list_param.feedback_type ==2}">
                    <a class="btn" ng-click="list_param.feedback_type=2;getapi(1);">小区</a>
                </li>
            </ul>
        </div>
        <div class="panel-body">
            <table id="list" class="table table-hover table-bordered">
                <thead>
                <tr>
                    <th style="width: 10%;">消息ID</th>
                    <th style="width: 20%;">发布者</th>
                    <th style="width: 10%;">手机号码</th>
                    <th style="width: 10%;">时间</th>
                    <th style="width: 20%;">内容</th>
                    <th style="width: 10%;">状态</th>
                    <th style="width: 10%;">操作</th>
                </tr>
                </thead>
                <tbody>
                <tr bindonce ng-repeat="feedback in feedback_list track by feedback.feedback_id" ng-if="feedback"
                    ng-init="feedback.index = $index">
                    <td><span bo-text="feedback.feedback_id"></span></td>
                    <td>
                        <div class="img_avart" ng-if="feedback.user.avatar">
                            <img class="img-responsive" bo-src="feedback.user.avatar">
                        </div>
                        <div class="user_name">
                            <span bo-text="feedback.user.name"></span>
                        </div>

                    </td>
                    <td><span bo-text="feedback.mobile"></span></td>
                    <td><span bo-text="feedback.created_at|limitTo:10"></span></td>
                    <td><span bo-text="feedback.content"></span></td>
                    <td><span bo-text="feedback.status | feedback_status"></span></td>
                    <td>
                        <div>
                            <a class="btn btn-success"
                               ng-click="feedback_send(feedback, feedback.index);">回复消息</a>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="text-center" id="pagination">
            <pagination total-items="totalItems" ng-model="currentPage" items-per-page="itemsPerPage"
                        max-size="maxSize" class="pagination"
                        boundary-links="true" ng-change="getapi(currentPage)"
                        rotate="false" num-pages="numPages" previous-text="&lsaquo;" next-text="&rsaquo;"
                        first-text="&laquo;" last-text="&raquo;">
            </pagination>
        </div>
    </div>
